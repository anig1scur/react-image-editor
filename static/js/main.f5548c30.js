/*! For license information please see main.f5548c30.js.LICENSE.txt */
(()=>{var e={9932:(e,t,n)=>{"use strict";var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(7313),i=(a=o)&&a.__esModule?a:{default:a};t.Z=function(e){var t=e.fill,n=void 0===t?"currentColor":t,a=e.width,o=void 0===a?24:a,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["fill","width","height","style"]);return i.default.createElement("svg",r({viewBox:"0 0 24 24",style:r({fill:n,width:o,height:l},u)},d),i.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},3050:(e,t,n)=>{"use strict";var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(7313),i=(a=o)&&a.__esModule?a:{default:a};t.Z=function(e){var t=e.fill,n=void 0===t?"currentColor":t,a=e.width,o=void 0===a?24:a,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["fill","width","height","style"]);return i.default.createElement("svg",r({viewBox:"0 0 24 24",style:r({fill:n,width:o,height:l},u)},d),i.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},6123:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=r.apply(null,n);i&&e.push(i)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},7861:(e,t,n)=>{"use strict";var a=n(6214),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return a.isMemo(e)?i:s[e.$$typeof]||r}s[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[a.Memo]=i;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,a){if("string"!==typeof n){if(f){var r=h(n);r&&r!==f&&e(t,r,a)}var i=u(n);d&&(i=i.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<i.length;++g){var y=i[g];if(!o[y]&&(!a||!a[y])&&(!m||!m[y])&&(!s||!s[y])){var v=p(n,y);try{c(t,y,v)}catch(b){}}}}return t}},6993:e=>{"use strict";e.exports=function(e,t,n,a,r,o,i,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,r,o,i,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},1725:(e,t,n)=>{var a=n(781)(n(7289),"DataView");e.exports=a},9748:(e,t,n)=>{var a=n(6545),r=n(9843),o=n(6266),i=n(7364),s=n(4156);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},5745:(e,t,n)=>{var a=n(329),r=n(9666),o=n(2523),i=n(4397),s=n(3316);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},8579:(e,t,n)=>{var a=n(781)(n(7289),"Map");e.exports=a},3109:(e,t,n)=>{var a=n(9e3),r=n(7240),o=n(3414),i=n(7140),s=n(5429);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},9946:(e,t,n)=>{var a=n(781)(n(7289),"Promise");e.exports=a},4199:(e,t,n)=>{var a=n(781)(n(7289),"Set");e.exports=a},4526:(e,t,n)=>{var a=n(3109),r=n(5845),o=n(5544);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new a;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=r,i.prototype.has=o,e.exports=i},7016:(e,t,n)=>{var a=n(5745),r=n(3653),o=n(3359),i=n(2571),s=n(1698),l=n(5883);function c(e){var t=this.__data__=new a(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=l,e.exports=c},8624:(e,t,n)=>{var a=n(7289).Symbol;e.exports=a},6759:(e,t,n)=>{var a=n(7289).Uint8Array;e.exports=a},3289:(e,t,n)=>{var a=n(781)(n(7289),"WeakMap");e.exports=a},4235:e=>{e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););return e}},4951:e=>{e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,r=0,o=[];++n<a;){var i=e[n];t(i,n,e)&&(o[r++]=i)}return o}},3200:(e,t,n)=>{var a=n(4499),r=n(2794),o=n(5585),i=n(667),s=n(674),l=n(3153),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),d=!n&&!u&&i(e),p=!n&&!u&&!d&&l(e),h=n||u||d||p,f=h?a(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},5434:e=>{e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}},5349:e=>{e.exports=function(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}},9330:e=>{e.exports=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}},7347:(e,t,n)=>{var a=n(6351),r=n(3666),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&r(i,n)&&(void 0!==n||t in e)||a(e,t,n)}},9194:(e,t,n)=>{var a=n(3666);e.exports=function(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1}},3035:(e,t,n)=>{var a=n(7538),r=n(6385);e.exports=function(e,t){return e&&a(t,r(t),e)}},6045:(e,t,n)=>{var a=n(7538),r=n(7086);e.exports=function(e,t){return e&&a(t,r(t),e)}},6351:(e,t,n)=>{var a=n(1438);e.exports=function(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},6476:(e,t,n)=>{var a=n(7016),r=n(4235),o=n(7347),i=n(3035),s=n(6045),l=n(8087),c=n(2594),u=n(2497),d=n(4742),p=n(7253),h=n(5508),f=n(8466),m=n(7633),g=n(7355),y=n(6484),v=n(5585),b=n(667),x=n(5874),w=n(1845),k=n(1859),S=n(6385),C=n(7086),E="[object Arguments]",_="[object Function]",I="[object Object]",N={};N[E]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[I]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[_]=N["[object WeakMap]"]=!1,e.exports=function e(t,n,T,O,R,A){var P,F=1&n,D=2&n,M=4&n;if(T&&(P=R?T(t,O,R,A):T(t)),void 0!==P)return P;if(!w(t))return t;var L=v(t);if(L){if(P=m(t),!F)return c(t,P)}else{var z=f(t),j=z==_||"[object GeneratorFunction]"==z;if(b(t))return l(t,F);if(z==I||z==E||j&&!R){if(P=D||j?{}:y(t),!F)return D?d(t,s(P,t)):u(t,i(P,t))}else{if(!N[z])return R?t:{};P=g(t,z,F)}}A||(A=new a);var B=A.get(t);if(B)return B;A.set(t,P),k(t)?t.forEach((function(a){P.add(e(a,n,T,a,t,A))})):x(t)&&t.forEach((function(a,r){P.set(r,e(a,n,T,r,t,A))}));var W=L?void 0:(M?D?h:p:D?C:S)(t);return r(W||t,(function(a,r){W&&(a=t[r=a]),o(P,r,e(a,n,T,r,t,A))})),P}},8303:(e,t,n)=>{var a=n(1845),r=Object.create,o=function(){function e(){}return function(t){if(!a(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},2785:(e,t,n)=>{var a=n(5705),r=n(6428)(a);e.exports=r},5461:(e,t,n)=>{var a=n(2550)();e.exports=a},5705:(e,t,n)=>{var a=n(5461),r=n(6385);e.exports=function(e,t){return e&&a(e,t,r)}},207:(e,t,n)=>{var a=n(4534),r=n(925);e.exports=function(e,t){for(var n=0,o=(t=a(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},2606:(e,t,n)=>{var a=n(5349),r=n(5585);e.exports=function(e,t,n){var o=t(e);return r(e)?o:a(o,n(e))}},8665:(e,t,n)=>{var a=n(8624),r=n(3596),o=n(8186),i=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?r(e):o(e)}},1966:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},1276:(e,t,n)=>{var a=n(8665),r=n(9752);e.exports=function(e){return r(e)&&"[object Arguments]"==a(e)}},7081:(e,t,n)=>{var a=n(9110),r=n(9752);e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!==t&&n!==n:a(t,n,o,i,e,s))}},9110:(e,t,n)=>{var a=n(7016),r=n(4132),o=n(9820),i=n(6353),s=n(8466),l=n(5585),c=n(667),u=n(3153),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?p:s(e),w=b?p:s(t),k=(x=x==d?h:x)==h,S=(w=w==d?h:w)==h,C=x==w;if(C&&c(e)){if(!c(t))return!1;v=!0,k=!1}if(C&&!k)return y||(y=new a),v||u(e)?r(e,t,n,m,g,y):o(e,t,x,n,m,g,y);if(!(1&n)){var E=k&&f.call(e,"__wrapped__"),_=S&&f.call(t,"__wrapped__");if(E||_){var I=E?e.value():e,N=_?t.value():t;return y||(y=new a),g(I,N,n,m,y)}}return!!C&&(y||(y=new a),i(e,t,n,m,g,y))}},7094:(e,t,n)=>{var a=n(8466),r=n(9752);e.exports=function(e){return r(e)&&"[object Map]"==a(e)}},9280:(e,t,n)=>{var a=n(7016),r=n(7081);e.exports=function(e,t,n,o){var i=n.length,s=i,l=!o;if(null==e)return!s;for(e=Object(e);i--;){var c=n[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var u=(c=n[i])[0],d=e[u],p=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var h=new a;if(o)var f=o(d,p,u,e,t,h);if(!(void 0===f?r(p,d,3,o,h):f))return!1}}return!0}},3186:(e,t,n)=>{var a=n(375),r=n(5401),o=n(1845),i=n(2043),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(a(e)?p:s).test(i(e))}},8711:(e,t,n)=>{var a=n(8466),r=n(9752);e.exports=function(e){return r(e)&&"[object Set]"==a(e)}},7499:(e,t,n)=>{var a=n(8665),r=n(4276),o=n(9752),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!i[a(e)]}},1186:(e,t,n)=>{var a=n(5662),r=n(8768),o=n(9908),i=n(5585),s=n(4445);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?r(e[0],e[1]):a(e):s(e)}},3409:(e,t,n)=>{var a=n(6132),r=n(8723),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},9130:(e,t,n)=>{var a=n(1845),r=n(6132),o=n(3481),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return o(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},1839:(e,t,n)=>{var a=n(2785),r=n(2114);e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return a(e,(function(e,a,r){o[++n]=t(e,a,r)})),o}},5662:(e,t,n)=>{var a=n(9280),r=n(5113),o=n(2093);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||a(n,e,t)}}},8768:(e,t,n)=>{var a=n(7081),r=n(9706),o=n(9775),i=n(8939),s=n(9253),l=n(2093),c=n(925);e.exports=function(e,t){return i(e)&&s(t)?l(c(e),t):function(n){var i=r(n,e);return void 0===i&&i===t?o(n,e):a(t,i,3)}}},1125:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},171:(e,t,n)=>{var a=n(207);e.exports=function(e){return function(t){return a(t,e)}}},4499:e=>{e.exports=function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}},1612:(e,t,n)=>{var a=n(8624),r=n(5434),o=n(5585),i=n(2060),s=a?a.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6902:e=>{e.exports=function(e){return function(t){return e(t)}}},8905:e=>{e.exports=function(e,t){return e.has(t)}},7169:(e,t,n)=>{var a=n(9908);e.exports=function(e){return"function"==typeof e?e:a}},4534:(e,t,n)=>{var a=n(5585),r=n(8939),o=n(3002),i=n(1822);e.exports=function(e,t){return a(e)?e:r(e,t)?[e]:o(i(e))}},2604:(e,t,n)=>{var a=n(6759);e.exports=function(e){var t=new e.constructor(e.byteLength);return new a(t).set(new a(e)),t}},8087:(e,t,n)=>{e=n.nmd(e);var a=n(7289),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r?a.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,a=s?s(n):new e.constructor(n);return e.copy(a),a}},1893:(e,t,n)=>{var a=n(2604);e.exports=function(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3360:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},7981:(e,t,n)=>{var a=n(8624),r=a?a.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},5888:(e,t,n)=>{var a=n(2604);e.exports=function(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},2594:e=>{e.exports=function(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}},7538:(e,t,n)=>{var a=n(7347),r=n(6351);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),i?r(n,c,u):a(n,c,u)}return n}},2497:(e,t,n)=>{var a=n(7538),r=n(6504);e.exports=function(e,t){return a(e,r(e),t)}},4742:(e,t,n)=>{var a=n(7538),r=n(2757);e.exports=function(e,t){return a(e,r(e),t)}},7683:(e,t,n)=>{var a=n(7289)["__core-js_shared__"];e.exports=a},6428:(e,t,n)=>{var a=n(2114);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!a(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}},2550:e=>{e.exports=function(e){return function(t,n,a){for(var r=-1,o=Object(t),i=a(t),s=i.length;s--;){var l=i[e?s:++r];if(!1===n(o[l],l,o))break}return t}}},1438:(e,t,n)=>{var a=n(781),r=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},4132:(e,t,n)=>{var a=n(4526),r=n(9330),o=n(8905);e.exports=function(e,t,n,i,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&n?new a:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var y=e[f],v=t[f];if(i)var b=c?i(v,y,f,t,e,l):i(y,v,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!r(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,i,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,i,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},9820:(e,t,n)=>{var a=n(8624),r=n(6759),o=n(3666),i=n(4132),s=n(258),l=n(3671),c=a?a.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,a,c,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&a;if(h||(h=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;a|=2,p.set(e,t);var g=i(h(e),h(t),a,c,d,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6353:(e,t,n)=>{var a=n(7253),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,s){var l=1&n,c=a(e),u=c.length;if(u!=a(t).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in t:r.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[p=c[d]],v=t[p];if(o)var b=l?o(v,y,p,t,e,s):o(y,v,p,e,t,s);if(!(void 0===b?y===v||i(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},2692:(e,t,n)=>{var a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=a},7253:(e,t,n)=>{var a=n(2606),r=n(6504),o=n(6385);e.exports=function(e){return a(e,o,r)}},5508:(e,t,n)=>{var a=n(2606),r=n(2757),o=n(7086);e.exports=function(e){return a(e,o,r)}},6911:(e,t,n)=>{var a=n(1591);e.exports=function(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}},5113:(e,t,n)=>{var a=n(9253),r=n(6385);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,a(i)]}return t}},781:(e,t,n)=>{var a=n(3186),r=n(760);e.exports=function(e,t){var n=r(e,t);return a(n)?n:void 0}},6116:(e,t,n)=>{var a=n(9698)(Object.getPrototypeOf,Object);e.exports=a},3596:(e,t,n)=>{var a=n(8624),r=Object.prototype,o=r.hasOwnProperty,i=r.toString,s=a?a.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var a=!0}catch(l){}var r=i.call(e);return a&&(t?e[s]=n:delete e[s]),r}},6504:(e,t,n)=>{var a=n(4951),r=n(2554),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),a(i(e),(function(t){return o.call(e,t)})))}:r;e.exports=s},2757:(e,t,n)=>{var a=n(5349),r=n(6116),o=n(6504),i=n(2554),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)a(t,o(e)),e=r(e);return t}:i;e.exports=s},8466:(e,t,n)=>{var a=n(1725),r=n(8579),o=n(9946),i=n(4199),s=n(3289),l=n(8665),c=n(2043),u="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=c(a),g=c(r),y=c(o),v=c(i),b=c(s),x=l;(a&&x(new a(new ArrayBuffer(1)))!=f||r&&x(new r)!=u||o&&x(o.resolve())!=d||i&&x(new i)!=p||s&&x(new s)!=h)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,a=n?c(n):"";if(a)switch(a){case m:return f;case g:return u;case y:return d;case v:return p;case b:return h}return t}),e.exports=x},760:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1898:(e,t,n)=>{var a=n(4534),r=n(2794),o=n(5585),i=n(674),s=n(4276),l=n(925);e.exports=function(e,t,n){for(var c=-1,u=(t=a(t,e)).length,d=!1;++c<u;){var p=l(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&i(p,u)&&(o(e)||r(e))}},6545:(e,t,n)=>{var a=n(1353);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},9843:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6266:(e,t,n)=>{var a=n(1353),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},7364:(e,t,n)=>{var a=n(1353),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:r.call(t,e)}},4156:(e,t,n)=>{var a=n(1353);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},7633:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,a=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(a.index=e.index,a.input=e.input),a}},7355:(e,t,n)=>{var a=n(2604),r=n(1893),o=n(3360),i=n(7981),s=n(5888);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return a(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return i(e)}}},6484:(e,t,n)=>{var a=n(8303),r=n(6116),o=n(6132);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:a(r(e))}},674:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var a=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==a||"symbol"!=a&&t.test(e))&&e>-1&&e%1==0&&e<n}},8939:(e,t,n)=>{var a=n(5585),r=n(2060),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(i.test(e)||!o.test(e)||null!=t&&e in Object(t))}},1591:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5401:(e,t,n)=>{var a=n(7683),r=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!r&&r in e}},6132:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9253:(e,t,n)=>{var a=n(1845);e.exports=function(e){return e===e&&!a(e)}},329:e=>{e.exports=function(){this.__data__=[],this.size=0}},9666:(e,t,n)=>{var a=n(9194),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=a(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},2523:(e,t,n)=>{var a=n(9194);e.exports=function(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}},4397:(e,t,n)=>{var a=n(9194);e.exports=function(e){return a(this.__data__,e)>-1}},3316:(e,t,n)=>{var a=n(9194);e.exports=function(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},9e3:(e,t,n)=>{var a=n(9748),r=n(5745),o=n(8579);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(o||r),string:new a}}},7240:(e,t,n)=>{var a=n(6911);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},3414:(e,t,n)=>{var a=n(6911);e.exports=function(e){return a(this,e).get(e)}},7140:(e,t,n)=>{var a=n(6911);e.exports=function(e){return a(this,e).has(e)}},5429:(e,t,n)=>{var a=n(6911);e.exports=function(e,t){var n=a(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},258:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n}},2093:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},3679:(e,t,n)=>{var a=n(2736);e.exports=function(e){var t=a(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},1353:(e,t,n)=>{var a=n(781)(Object,"create");e.exports=a},8723:(e,t,n)=>{var a=n(9698)(Object.keys,Object);e.exports=a},3481:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},7785:(e,t,n)=>{e=n.nmd(e);var a=n(2692),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r&&a.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s},8186:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9698:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},7289:(e,t,n)=>{var a=n(2692),r="object"==typeof self&&self&&self.Object===Object&&self,o=a||r||Function("return this")();e.exports=o},5845:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},5544:e=>{e.exports=function(e){return this.__data__.has(e)}},3671:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},3653:(e,t,n)=>{var a=n(5745);e.exports=function(){this.__data__=new a,this.size=0}},3359:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},2571:e=>{e.exports=function(e){return this.__data__.get(e)}},1698:e=>{e.exports=function(e){return this.__data__.has(e)}},5883:(e,t,n)=>{var a=n(5745),r=n(8579),o=n(3109);e.exports=function(e,t){var n=this.__data__;if(n instanceof a){var i=n.__data__;if(!r||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},3002:(e,t,n)=>{var a=n(3679),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=a((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,a,r){t.push(a?r.replace(o,"$1"):n||e)})),t}));e.exports=i},925:(e,t,n)=>{var a=n(2060);e.exports=function(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},2043:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},8504:(e,t,n)=>{var a=n(6476);e.exports=function(e){return a(e,5)}},3666:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},7827:(e,t,n)=>{var a=n(5705),r=n(7169);e.exports=function(e,t){return e&&a(e,r(t))}},9706:(e,t,n)=>{var a=n(207);e.exports=function(e,t,n){var r=null==e?void 0:a(e,t);return void 0===r?n:r}},9775:(e,t,n)=>{var a=n(1966),r=n(1898);e.exports=function(e,t){return null!=e&&r(e,t,a)}},9908:e=>{e.exports=function(e){return e}},2794:(e,t,n)=>{var a=n(1276),r=n(9752),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return r(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},5585:e=>{var t=Array.isArray;e.exports=t},2114:(e,t,n)=>{var a=n(375),r=n(4276);e.exports=function(e){return null!=e&&r(e.length)&&!a(e)}},667:(e,t,n)=>{e=n.nmd(e);var a=n(7289),r=n(5535),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?a.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l},375:(e,t,n)=>{var a=n(8665),r=n(1845);e.exports=function(e){if(!r(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4276:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5874:(e,t,n)=>{var a=n(7094),r=n(6902),o=n(7785),i=o&&o.isMap,s=i?r(i):a;e.exports=s},1845:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},9752:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},634:(e,t,n)=>{var a=n(8665),r=n(6116),o=n(9752),i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=a(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},1859:(e,t,n)=>{var a=n(8711),r=n(6902),o=n(7785),i=o&&o.isSet,s=i?r(i):a;e.exports=s},5406:(e,t,n)=>{var a=n(8665),r=n(5585),o=n(9752);e.exports=function(e){return"string"==typeof e||!r(e)&&o(e)&&"[object String]"==a(e)}},2060:(e,t,n)=>{var a=n(8665),r=n(9752);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==a(e)}},3153:(e,t,n)=>{var a=n(7499),r=n(6902),o=n(7785),i=o&&o.isTypedArray,s=i?r(i):a;e.exports=s},6385:(e,t,n)=>{var a=n(3200),r=n(3409),o=n(2114);e.exports=function(e){return o(e)?a(e):r(e)}},7086:(e,t,n)=>{var a=n(3200),r=n(9130),o=n(2114);e.exports=function(e){return o(e)?a(e,!0):r(e)}},3428:(e,t,n)=>{var a=n(5434),r=n(1186),o=n(1839),i=n(5585);e.exports=function(e,t){return(i(e)?a:o)(e,r(t,3))}},2736:(e,t,n)=>{var a=n(3109);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],o=n.cache;if(o.has(r))return o.get(r);var i=e.apply(this,a);return n.cache=o.set(r,i)||o,i};return n.cache=new(r.Cache||a),n}r.Cache=a,e.exports=r},4445:(e,t,n)=>{var a=n(1125),r=n(171),o=n(8939),i=n(925);e.exports=function(e){return o(e)?a(i(e)):r(e)}},2554:e=>{e.exports=function(){return[]}},5535:e=>{e.exports=function(){return!1}},1822:(e,t,n)=>{var a=n(1612);e.exports=function(e){return null==e?"":a(e)}},9849:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(E){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=a;var r={},o={};function i(e,t){var n,a,i;return t?(i=0<=(e>>>=0)&&e<256)&&(a=o[e])?a:(n=l(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(a=r[e])?a:(n=l(e,e<0?-1:0,!1),i&&(r[e]=n),n)}function s(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=h)return k}else{if(e<=-f)return S;if(e+1>=f)return w}return e<0?s(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,a){return new n(e,t,a)}n.fromInt=i,n.fromNumber=s,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var a;if((a=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===a)return u(e.substring(1),t,n).neg();for(var r=s(c(n,8)),o=g,i=0;i<e.length;i+=8){var l=Math.min(8,e.length-i),d=parseInt(e.substring(i,i+l),n);if(l<8){var p=s(c(n,l));o=o.mul(p).add(s(d))}else o=(o=o.mul(r)).add(s(d))}return o.unsigned=t,o}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?u(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=i(1<<24),g=i(0);n.ZERO=g;var y=i(0,!0);n.UZERO=y;var v=i(1);n.ONE=v;var b=i(1,!0);n.UONE=b;var x=i(-1);n.NEG_ONE=x;var w=l(-1,2147483647,!1);n.MAX_VALUE=w;var k=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var S=l(0,-2147483648,!1);n.MIN_VALUE=S;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),a=n.mul(t).sub(this);return n.toString(e)+a.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=s(c(e,6),this.unsigned),o=this,i="";;){var l=o.div(r),u=(o.sub(l.mul(r)).toInt()>>>0).toString(e);if((o=l).isZero())return u+i;for(;u.length<6;)u="0"+u;i=""+u+i}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1===(1&this.low)},C.isEven=function(){return 0===(1&this.low)},C.equals=function(e){return a(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(a(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(v)},C.neg=C.negate,C.add=function(e){a(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,p=0,h=0,f=0;return h+=(f+=o+(65535&e.low))>>>16,p+=(h+=r+c)>>>16,u+=(p+=n+s)>>>16,u+=t+i,l((h&=65535)<<16|(f&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},C.subtract=function(e){return a(e)||(e=d(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return g;if(a(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,c=e.high>>>16,u=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,y=0,v=0,b=0;return v+=(b+=i*h)>>>16,y+=(v+=o*h)>>>16,v&=65535,y+=(v+=i*p)>>>16,f+=(y+=r*h)>>>16,y&=65535,f+=(y+=o*p)>>>16,y&=65535,f+=(y+=i*u)>>>16,f+=n*h+r*p+o*u+i*c,l((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(a(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,r,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;o=y}else{if(this.eq(S))return e.eq(v)||e.eq(x)?S:e.eq(S)?v:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?v:x:(r=this.sub(e.mul(n)),o=n.add(r.div(e)));if(e.eq(S))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),u=i<=48?1:c(2,i-48),p=s(n),h=p.mul(e);h.isNegative()||h.gt(r);)h=(p=s(n-=u,this.unsigned)).mul(e);p.isZero()&&(p=v),o=o.add(p),r=r.sub(h)}return o},C.div=C.divide,C.modulo=function(e){return a(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return l(~this.low,~this.high,this.unsigned)},C.and=function(e){return a(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return a(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return a(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(a(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,a){return a?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,n);null!=t&&(r=t)}})),r}))};var a,r=n(2865),o=(a=r)&&a.__esModule?a:{default:a};e.exports=t.default},2865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,a,r,o,i){var s=r||"<<anonymous>>",l=i||a;if(null==n[a])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,a,s,o,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},1729:(e,t,n)=>{"use strict";var a=n(9165);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,i){if(i!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},5192:(e,t,n)=>{e.exports=n(1729)()},9165:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3895:(e,t,n)=>{"use strict";var a=n(7313),r=n(5192),o=n(6123);function i(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=i(a),l=i(r),c=i(o),u=function(){return u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)};function d(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}var p=s.default.forwardRef((function(e,t){var n=e.classes,a=e.value,r=e.min,o=e.max,i=e.onChange,l=e.onMouseUpOrTouchEnd,c=e.onMouseUp,p=e.onTouchEnd,h=d(e,["classes","value","min","max","onChange","onMouseUpOrTouchEnd","onMouseUp","onTouchEnd"]);return s.default.createElement("input",u({ref:t,type:"range",value:a,min:r,max:o,onChange:function(e){return i(e,e.target.valueAsNumber)},onMouseUp:function(e){l(e),c&&c(e)},onTouchEnd:function(e){l(e),p&&p(e)},className:n,"aria-valuenow":Number(a),"aria-valuemin":Number(r),"aria-valuemax":Number(o)},h))})),h=s.default.memo(p),f=s.default.forwardRef((function(e,t){var n=e.value,r=e.onChange,o=void 0===r?function(){}:r,i=e.onAfterChange,l=void 0===i?function(){}:i,p=e.disabled,f=void 0!==p&&p,m=e.size,g=e.min,y=void 0===g?0:g,v=e.max,b=void 0===v?100:v,x=e.step,w=e.variant,k=void 0===w?"primary":w,S=e.inputProps,C=void 0===S?{}:S,E=e.tooltip,_=void 0===E?"auto":E,I=e.tooltipPlacement,N=void 0===I?"bottom":I,T=e.tooltipLabel,O=e.tooltipStyle,R=void 0===O?{}:O,A=e.tooltipProps,P=void 0===A?{}:A,F=e.bsPrefix,D=e.className,M=d(e,["value","onChange","onAfterChange","disabled","size","min","max","step","variant","inputProps","tooltip","tooltipPlacement","tooltipLabel","tooltipStyle","tooltipProps","bsPrefix","className"]),L=a.useState(),z=L[0],j=L[1],B=F||"range-slider",W="auto"===_||"on"===_,V=c.default(D,B,m&&B+"--"+m,f&&"disabled",k&&B+"--"+k),U=u(u({},C),M),G=U.onMouseUp,H=U.onTouchEnd,q=d(U,["onMouseUp","onTouchEnd"]),X=a.useCallback((function(e){z!==e.target.value&&l(e,e.target.valueAsNumber),j(e.target.value)}),[z,l]),K=s.default.createElement(h,u({},u({disabled:f,value:n,min:y,max:b,ref:t,step:x,classes:V,onMouseUpOrTouchEnd:X,onTouchEnd:H,onMouseUp:G,onChange:o},q))),Y=c.default(B+"__wrap",m&&B+"__wrap--"+m),Q=c.default(B+"__tooltip",W&&B+"__tooltip--"+_,N&&B+"__tooltip--"+N,f&&B+"__tooltip--disabled"),$="sm"===m?8:"lg"===m?12:10,Z=(Number(n)-y)/(b-y),J=100*Z,ee=2*(Z-.5)*-$;return s.default.createElement("span",{className:Y},K,W&&s.default.createElement("div",u({className:Q,style:u(u({},R||{}),{left:"calc("+J+"% + "+ee+"px)"})},P),s.default.createElement("div",{className:B+"__tooltip__label"},T?T(Number(n)):n),s.default.createElement("div",{className:B+"__tooltip__caret"})))}));f.propTypes={value:l.default.oneOfType([l.default.number,l.default.string]).isRequired,onChange:l.default.func,onAfterChange:l.default.func,min:l.default.number,max:l.default.number,step:l.default.number,disabled:l.default.bool,size:l.default.oneOf(["sm","lg"]),variant:l.default.oneOf(["primary","secondary","success","danger","warning","info","dark","light"]),inputProps:l.default.object,tooltip:l.default.oneOf(["auto","on","off"]),tooltipPlacement:l.default.oneOf(["top","bottom"]),tooltipLabel:l.default.func,tooltipStyle:l.default.object,tooltipProps:l.default.object,className:l.default.string,bsPrefix:l.default.string};var m=s.default.memo(f);e.exports=m},534:(e,t,n)=>{"use strict";var a=n(7313),r=n(2224);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(e,t,n,a,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,a){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!d.call(f,e)||!d.call(h,e)&&(p.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var M,L=Object.assign;function z(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=a.stack.split("\n"),i=r.length-1,s=o.length-1;1<=i&&0<=s&&r[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(r[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||r[i]!==o[s]){var l="\n"+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=H(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){$(e,t);var n=G(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),a=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=me(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ce=null;function Ee(e){if(e=br(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wr(t),ke(e.stateNode,e.type,t))}}function _e(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Ie(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Te(){}var Oe=!1;function Re(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ne(e,t,n)}finally{Oe=!1,(null!==Se||null!==Ce)&&(Te(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var a=wr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(u)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ue){Pe=!1}function De(e,t,n,a,r,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,ze=!1,je=null,Be={onError:function(e){Me=!0,Le=e}};function We(e,t,n,a,r,o,i,s,l){Me=!1,Le=null,De.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(a=r.return)){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Ge(r),e;if(i===a)return Ge(r),t;i=i.sibling}throw Error(o(188))}if(n.return!==a.return)n=r,a=i;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,a=i;break}if(l===a){s=!0,a=r,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,a=r;break}if(l===a){s=!0,a=i,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Qe=r.unstable_requestPaint,$e=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~r;0!==s?a=dt(s):0!==(o&=i)&&(a=dt(o))}else 0!==(i=n&~r)?a=dt(i):0!==o&&(a=dt(o));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-it(t)),a|=e[n],t&=~r;return a}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-it(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,Ct,Et,_t=!1,It=[],Nt=null,Tt=null,Ot=null,Rt=new Map,At=new Map,Pt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,a,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&kt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Lt(e){var t=vr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&kt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);xe=a,n.target.dispatchEvent(a),xe=null,t.shift()}return!0}function jt(e,t,n){zt(e)&&n.delete(t)}function Bt(){_t=!1,null!==Nt&&zt(Nt)&&(Nt=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Ot&&zt(Ot)&&(Ot=null),Rt.forEach(jt),At.forEach(jt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Wt(t,e)}if(0<It.length){Wt(It[0],e);for(var n=1;n<It.length;n++){var a=It[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Nt&&Wt(Nt,e),null!==Tt&&Wt(Tt,e),null!==Ot&&Wt(Ot,e),Rt.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(a=Pt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var Ut=x.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,a){var r=bt,o=Ut.transition;Ut.transition=null;try{bt=1,Xt(e,t,n,a)}finally{bt=r,Ut.transition=o}}function qt(e,t,n,a){var r=bt,o=Ut.transition;Ut.transition=null;try{bt=4,Xt(e,t,n,a)}finally{bt=r,Ut.transition=o}}function Xt(e,t,n,a){if(Gt){var r=Yt(e,t,n,a);if(null===r)Ga(e,t,a,Kt,n),Dt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,a,r),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,a,r),!0;case"mouseover":return Ot=Mt(Ot,e,t,n,a,r),!0;case"pointerover":var o=r.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,a,r)),!0;case"gotpointercapture":return o=r.pointerId,At.set(o,Mt(At.get(o)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Dt(e,a),4&t&&-1<Ft.indexOf(e)){for(;null!==r;){var o=br(r);if(null!==o&&wt(o),null===(o=Yt(e,t,n,a))&&Ga(e,t,a,Kt,n),o===r)break;r=o}null!==r&&a.stopPropagation()}else Ga(e,t,a,null,n)}}var Kt=null;function Yt(e,t,n,a){if(Kt=null,null!==(e=vr(e=we(a))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,a=n.length,r="value"in $t?$t.value:$t.textContent,o=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[o-t];t++);return Jt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,o){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),dn=L({},cn,{view:0,detail:0}),pn=rn(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=rn(hn),mn=rn(L({},hn,{dataTransfer:0})),gn=rn(L({},dn,{relatedTarget:0})),yn=rn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(vn),xn=rn(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Cn}var _n=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=rn(_n),Nn=rn(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),On=rn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=rn(Rn),Pn=[9,13,27,32],Fn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Dn,Ln=u&&(!Fn||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Hn(e,t,n,a){_e(a),0<(t=qa(t,"onChange")).length&&(n=new un("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Kn(e){za(e,0)}function Yn(e){if(X(xr(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Jn="function"===typeof ea.oninput}Zn=Jn}else Zn=!1;$n=Zn&&(!document.documentMode||9<document.documentMode)}function ta(){qn&&(qn.detachEvent("onpropertychange",na),Xn=qn=null)}function na(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];Hn(t,Xn,e,we(e)),Re(Kn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Xn=n,(qn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function oa(e,t){if("click"===e)return Yn(t)}function ia(e,t){if("input"===e||"change"===e)return Yn(t)}var sa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(sa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!d.call(t,r)||!sa(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pa(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fa(e){var t=pa(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&da(n.ownerDocument.documentElement,n)){if(null!==a&&ha(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(a.start,r);a=void 0===a.end?o:Math.min(a.end,r),!e.extend&&o>a&&(r=a,a=o,o=r),r=ua(n,o);var i=ua(n,a);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ma=u&&"documentMode"in document&&11>=document.documentMode,ga=null,ya=null,va=null,ba=!1;function xa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ba||null==ga||ga!==K(a)||("selectionStart"in(a=ga)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},va&&la(va,a)||(va=a,0<(a=qa(ya,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ka={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},Sa={},Ca={};function Ea(e){if(Sa[e])return Sa[e];if(!ka[e])return e;var t,n=ka[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ca)return Sa[e]=n[t];return e}u&&(Ca=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);var _a=Ea("animationend"),Ia=Ea("animationiteration"),Na=Ea("animationstart"),Ta=Ea("transitionend"),Oa=new Map,Ra="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){Oa.set(e,t),l(t,[e])}for(var Pa=0;Pa<Ra.length;Pa++){var Fa=Ra[Pa];Aa(Fa.toLowerCase(),"on"+(Fa[0].toUpperCase()+Fa.slice(1)))}Aa(_a,"onAnimationEnd"),Aa(Ia,"onAnimationIteration"),Aa(Na,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(Ta,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ma=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function La(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,i,s,l,c){if(We.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Le;Me=!1,Le=null,ze||(ze=!0,je=u)}}(a,t,void 0,e),e.currentTarget=null}function za(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var i=a.length-1;0<=i;i--){var s=a[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;La(r,s,c),o=l}else for(i=0;i<a.length;i++){if(l=(s=a[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;La(r,s,c),o=l}}}if(ze)throw e=je,ze=!1,je=null,e}function ja(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var a=e+"__bubble";n.has(a)||(Ua(t,e,2,!1),n.add(a))}function Ba(e,t,n){var a=0;t&&(a|=4),Ua(n,e,a,t)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function Va(e){if(!e[Wa]){e[Wa]=!0,i.forEach((function(t){"selectionchange"!==t&&(Ma.has(t)||Ba(t,!1,e),Ba(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wa]||(t[Wa]=!0,Ba("selectionchange",!1,t))}}function Ua(e,t,n,a){switch(Qt(t)){case 1:var r=Ht;break;case 4:r=qt;break;default:r=Xt}n=r.bind(null,t,n,e),r=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ga(e,t,n,a,r){var o=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var s=a.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;i=i.return}for(;null!==s;){if(null===(i=vr(s)))return;if(5===(l=i.tag)||6===l){a=o=i;continue e}s=s.parentNode}}a=a.return}Re((function(){var a=o,r=we(n),i=[];e:{var s=Oa.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case _a:case Ia:case Na:l=yn;break;case Ta:l=On;break;case"scroll":l=pn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var h,f=a;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=Ae(f,p))&&u.push(Ha(f,m,h)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,r),i.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[fr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(u=fn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?s:xr(l),h=null==c?s:xr(c),(s=new u(m,f+"leave",l,n,r)).target=d,s.relatedTarget=h,m=null,vr(r)===a&&((u=new u(p,f+"enter",c,n,r)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,f=0,h=u=l;h;h=Xa(h))f++;for(h=0,m=p;m;m=Xa(m))h++;for(;0<f-h;)u=Xa(u),f--;for(;0<h-f;)p=Xa(p),h--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Xa(u),p=Xa(p)}u=null}else u=null;null!==l&&Ka(i,s,l,u,!1),null!==c&&null!==d&&Ka(i,d,c,u,!0)}if("select"===(l=(s=a?xr(a):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(Gn(s))if($n)g=ia;else{g=ra;var y=aa}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=oa);switch(g&&(g=g(e,a))?Hn(i,g,n,r):(y&&y(e,s,a),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=a?xr(a):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(ga=y,ya=a,va=null);break;case"focusout":va=ya=ga=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,xa(i,n,r);break;case"selectionchange":if(ma)break;case"keydown":case"keyup":xa(i,n,r)}var v;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Zt="value"in($t=r)?$t.value:$t.textContent,Vn=!0)),0<(y=qa(a,b)).length&&(b=new xn(b,e,null,n,r),i.push({event:b,listeners:y}),v?b.data=v:null!==(v=Wn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(jn=!0,zn);case"textInput":return(e=t.data)===zn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Fn&&Bn(e,t)?(e=en(),Jt=Zt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=qa(a,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:a}),r.data=v))}za(i,t)}))}function Ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qa(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Ae(e,n))&&a.unshift(Ha(e,o,r)),null!=(o=Ae(e,t))&&a.push(Ha(e,o,r))),e=e.return}return a}function Xa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,n,a,r){for(var o=t._reactName,i=[];null!==n&&n!==a;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===a)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Ae(n,o))&&i.unshift(Ha(n,l,s)):r||null!=(l=Ae(n,o))&&i.push(Ha(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Ya=/\r\n?/g,Qa=/\u0000|\uFFFD/g;function $a(e){return("string"===typeof e?e:""+e).replace(Ya,"\n").replace(Qa,"")}function Za(e,t,n){if(t=$a(t),$a(e)!==t&&n)throw Error(o(425))}function Ja(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(sr)}:ar;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Vt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Vt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),pr="__reactFiber$"+dr,hr="__reactProps$"+dr,fr="__reactContainer$"+dr,mr="__reactEvents$"+dr,gr="__reactListeners$"+dr,yr="__reactHandles$"+dr;function vr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[pr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[pr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wr(e){return e[hr]||null}var kr=[],Sr=-1;function Cr(e){return{current:e}}function Er(e){0>Sr||(e.current=kr[Sr],kr[Sr]=null,Sr--)}function _r(e,t){Sr++,kr[Sr]=e.current,e.current=t}var Ir={},Nr=Cr(Ir),Tr=Cr(!1),Or=Ir;function Rr(e,t){var n=e.type.contextTypes;if(!n)return Ir;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ar(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pr(){Er(Tr),Er(Nr)}function Fr(e,t,n){if(Nr.current!==Ir)throw Error(o(168));_r(Nr,t),_r(Tr,n)}function Dr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(o(108,U(e)||"Unknown",r));return L({},n,a)}function Mr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,Or=Nr.current,_r(Nr,e),_r(Tr,Tr.current),!0}function Lr(e,t,n){var a=e.stateNode;if(!a)throw Error(o(169));n?(e=Dr(e,t,Or),a.__reactInternalMemoizedMergedChildContext=e,Er(Tr),Er(Nr),_r(Nr,e)):Er(Tr),_r(Tr,n)}var zr=null,jr=!1,Br=!1;function Wr(e){null===zr?zr=[e]:zr.push(e)}function Vr(){if(!Br&&null!==zr){Br=!0;var e=0,t=bt;try{var n=zr;for(bt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}zr=null,jr=!1}catch(r){throw null!==zr&&(zr=zr.slice(e+1)),Xe(Je,Vr),r}finally{bt=t,Br=!1}}return null}var Ur=[],Gr=0,Hr=null,qr=0,Xr=[],Kr=0,Yr=null,Qr=1,$r="";function Zr(e,t){Ur[Gr++]=qr,Ur[Gr++]=Hr,Hr=e,qr=t}function Jr(e,t,n){Xr[Kr++]=Qr,Xr[Kr++]=$r,Xr[Kr++]=Yr,Yr=e;var a=Qr;e=$r;var r=32-it(a)-1;a&=~(1<<r),n+=1;var o=32-it(t)+r;if(30<o){var i=r-r%5;o=(a&(1<<i)-1).toString(32),a>>=i,r-=i,Qr=1<<32-it(t)+r|n<<r|a,$r=o+e}else Qr=1<<o|n<<r|a,$r=e}function eo(e){null!==e.return&&(Zr(e,1),Jr(e,1,0))}function to(e){for(;e===Hr;)Hr=Ur[--Gr],Ur[Gr]=null,qr=Ur[--Gr],Ur[Gr]=null;for(;e===Yr;)Yr=Xr[--Kr],Xr[Kr]=null,$r=Xr[--Kr],Xr[Kr]=null,Qr=Xr[--Kr],Xr[Kr]=null}var no=null,ao=null,ro=!1,oo=null;function io(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ao=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ao=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Qr,overflow:$r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ao=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ro){var t=ao;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=cr(n.nextSibling);var a=no;t&&so(e,t)?io(a,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ao)){if(lo(e))throw ho(),Error(o(418));for(;t;)io(e,t),t=cr(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ao=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ao=null}}else ao=no?cr(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ao;e;)e=cr(e.nextSibling)}function fo(){ao=no=null,ro=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=x.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=Cr(null),bo=null,xo=null,wo=null;function ko(){wo=xo=bo=null}function So(e){var t=vo.current;Er(vo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,wo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function _o(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===bo)throw Error(o(308));xo=e,bo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Io=null;function No(e){null===Io?Io=[e]:Io.push(e)}function To(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,No(t)):(n.next=r.next,r.next=n),t.interleaved=n,Oo(e,a)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Tl)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Oo(e,n)}return null===(r=a.interleaved)?(t.next=t,No(a)):(t.next=r.next,r.next=t),a.interleaved=t,Oo(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Lo(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,a){var r=e.updateQueue;Ro=!1;var o=r.firstBaseUpdate,i=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(i=0,u=c=l=null,s=o;;){var p=s.lane,h=s.eventTime;if((a&p)===p){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(p=t,h=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(h,d,p):f)||void 0===p)break e;d=L({},d,p);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,i|=p;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(p=s).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=d}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(o(191,r));r.call(a)}}}var Bo=(new a.Component).refs;function Wo(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),o=Fo(a,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,r))&&(ac(t,e,r,a),Mo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),o=Fo(a,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,r))&&(ac(t,e,r,a),Mo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),a=nc(e),r=Fo(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Do(e,r,a))&&(ac(t,e,a,n),Mo(t,e,a))}};function Uo(e,t,n,a,r,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(r,o))}function Go(e,t,n){var a=!1,r=Ir,o=t.contextType;return"object"===typeof o&&null!==o?o=_o(o):(r=Ar(t)?Or:Nr.current,o=(a=null!==(a=t.contextTypes)&&void 0!==a)?Rr(e,r):Ir),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Bo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=_o(o):(o=Ar(t)?Or:Nr.current,r.context=Rr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Wo(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Vo.enqueueReplaceState(r,r.state,null),zo(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var a=n.stateNode}if(!a)throw Error(o(147,e));var r=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===Bo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Fc(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=zc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var o=n.type;return o===S?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Yo(o)===t.type)?((a=r(t,n.props)).ref=Xo(e,t,n),a.return=e,a):((a=Dc(n.type,n.key,n.props,null,e.mode,a)).ref=Xo(e,t,n),a.return=e,a)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,a,o)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Xo(e,null,t),n.return=e,n;case k:return(t=jc(t,e.mode,n)).return=e,t;case A:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function h(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,a):null;case k:return n.key===r?u(e,t,n,a):null;case A:return h(e,t,(r=n._init)(n._payload),a)}if(te(n)||D(n))return null!==r?null:d(e,t,n,a,null);Ko(e,n)}return null}function f(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case w:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case k:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case A:return f(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||D(a))return d(t,e=e.get(n)||null,a,r,null);Ko(t,a)}return null}function m(r,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(r,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(r,d),o=i(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(r,d),ro&&Zr(r,m),c;if(null===d){for(;m<s.length;m++)null!==(d=p(r,s[m],l))&&(o=i(d,o,m),null===u?c=d:u.sibling=d,u=d);return ro&&Zr(r,m),c}for(d=a(r,d);m<s.length;m++)null!==(g=f(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),ro&&Zr(r,m),c}function g(r,s,l,c){var u=D(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=h(r,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(r,m),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(r,m),ro&&Zr(r,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(r,v.value,c))&&(s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return ro&&Zr(r,g),u}for(m=a(r,m);!v.done;g++,v=l.next())null!==(v=f(m,r,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=i(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(r,e)})),ro&&Zr(r,g),u}return function e(a,o,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=o;null!==u;){if(u.key===c){if((c=i.type)===S){if(7===u.tag){n(a,u.sibling),(o=r(u,i.props.children)).return=a,a=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Yo(c)===u.type){n(a,u.sibling),(o=r(u,i.props)).ref=Xo(a,u,i),o.return=a,a=o;break e}n(a,u);break}t(a,u),u=u.sibling}i.type===S?((o=Mc(i.props.children,a.mode,l,i.key)).return=a,a=o):((l=Dc(i.type,i.key,i.props,null,a.mode,l)).ref=Xo(a,o,i),l.return=a,a=l)}return s(a);case k:e:{for(u=i.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(a,o.sibling),(o=r(o,i.children||[])).return=a,a=o;break e}n(a,o);break}t(a,o),o=o.sibling}(o=jc(i,a.mode,l)).return=a,a=o}return s(a);case A:return e(a,o,(u=i._init)(i._payload),l)}if(te(i))return m(a,o,i,l);if(D(i))return g(a,o,i,l);Ko(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(a,o.sibling),(o=r(o,i)).return=a,a=o):(n(a,o),(o=zc(i,a.mode,l)).return=a,a=o),s(a)):n(a,o)}}var $o=Qo(!0),Zo=Qo(!1),Jo={},ei=Cr(Jo),ti=Cr(Jo),ni=Cr(Jo);function ai(e){if(e===Jo)throw Error(o(174));return e}function ri(e,t){switch(_r(ni,t),_r(ti,e),_r(ei,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Er(ei),_r(ei,t)}function oi(){Er(ei),Er(ti),Er(ni)}function ii(e){ai(ni.current);var t=ai(ei.current),n=le(t,e.type);t!==n&&(_r(ti,e),_r(ei,n))}function si(e){ti.current===e&&(Er(ei),Er(ti))}var li=Cr(0);function ci(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ui=[];function di(){for(var e=0;e<ui.length;e++)ui[e]._workInProgressVersionPrimary=null;ui.length=0}var pi=x.ReactCurrentDispatcher,hi=x.ReactCurrentBatchConfig,fi=0,mi=null,gi=null,yi=null,vi=!1,bi=!1,xi=0,wi=0;function ki(){throw Error(o(321))}function Si(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sa(e[n],t[n]))return!1;return!0}function Ci(e,t,n,a,r,i){if(fi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=null===e||null===e.memoizedState?ss:ls,e=n(a,r),bi){i=0;do{if(bi=!1,xi=0,25<=i)throw Error(o(301));i+=1,yi=gi=null,t.updateQueue=null,pi.current=cs,e=n(a,r)}while(bi)}if(pi.current=is,t=null!==gi&&null!==gi.next,fi=0,yi=gi=mi=null,vi=!1,t)throw Error(o(300));return e}function Ei(){var e=0!==xi;return xi=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yi?mi.memoizedState=yi=e:yi=yi.next=e,yi}function Ii(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===yi?mi.memoizedState:yi.next;if(null!==t)yi=t,gi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===yi?mi.memoizedState=yi=e:yi=yi.next=e}return yi}function Ni(e,t){return"function"===typeof t?t(e):t}function Ti(e){var t=Ii(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var a=gi,r=a.baseQueue,i=n.pending;if(null!==i){if(null!==r){var s=r.next;r.next=i.next,i.next=s}a.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,a=a.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((fi&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,s=a):c=c.next=p,mi.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==i);null===c?s=a:c.next=l,sa(a,t.memoizedState)||(xs=!0),t.memoizedState=a,t.baseState=s,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,mi.lanes|=i,Ll|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oi(e){var t=Ii(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{i=e(i,s.action),s=s.next}while(s!==r);sa(i,t.memoizedState)||(xs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Ri(){}function Ai(e,t){var n=mi,a=Ii(),r=t(),i=!sa(a.memoizedState,r);if(i&&(a.memoizedState=r,xs=!0),a=a.queue,Gi(Di.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||null!==yi&&1&yi.memoizedState.tag){if(n.flags|=2048,ji(9,Fi.bind(null,n,a,r,t),void 0,null),null===Ol)throw Error(o(349));0!==(30&fi)||Pi(n,t,r)}return r}function Pi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fi(e,t,n,a){t.value=n,t.getSnapshot=a,Mi(t)&&Li(e)}function Di(e,t,n){return n((function(){Mi(t)&&Li(e)}))}function Mi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sa(e,n)}catch(a){return!0}}function Li(e){var t=Oo(e,1);null!==t&&ac(t,e,1,-1)}function zi(e){var t=_i();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mi,e),[t.memoizedState,e]}function ji(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Bi(){return Ii().memoizedState}function Wi(e,t,n,a){var r=_i();mi.flags|=e,r.memoizedState=ji(1|t,n,void 0,void 0===a?null:a)}function Vi(e,t,n,a){var r=Ii();a=void 0===a?null:a;var o=void 0;if(null!==gi){var i=gi.memoizedState;if(o=i.destroy,null!==a&&Si(a,i.deps))return void(r.memoizedState=ji(t,n,o,a))}mi.flags|=e,r.memoizedState=ji(1|t,n,o,a)}function Ui(e,t){return Wi(8390656,8,e,t)}function Gi(e,t){return Vi(2048,8,e,t)}function Hi(e,t){return Vi(4,2,e,t)}function qi(e,t){return Vi(4,4,e,t)}function Xi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ki(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vi(4,4,Xi.bind(null,t,e),n)}function Yi(){}function Qi(e,t){var n=Ii();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Si(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function $i(e,t){var n=Ii();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Si(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Zi(e,t,n){return 0===(21&fi)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sa(n,t)||(n=mt(),mi.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ji(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var a=hi.transition;hi.transition={};try{e(!1),t()}finally{bt=n,hi.transition=a}}function es(){return Ii().memoizedState}function ts(e,t,n){var a=nc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},as(e))rs(t,n);else if(null!==(n=To(e,t,n,a))){ac(n,e,a,tc()),os(n,t,a)}}function ns(e,t,n){var a=nc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(as(e))rs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(r.hasEagerState=!0,r.eagerState=s,sa(s,i)){var l=t.interleaved;return null===l?(r.next=r,No(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=To(e,t,r,a))&&(ac(n,e,a,r=tc()),os(n,t,a))}}function as(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function rs(e,t){bi=vi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,vt(e,n)}}var is={readContext:_o,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},ss={readContext:_o,useCallback:function(e,t){return _i().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:Ui,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wi(4194308,4,Xi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wi(4,2,e,t)},useMemo:function(e,t){var n=_i();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=_i();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=ts.bind(null,mi,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},_i().memoizedState=e},useState:zi,useDebugValue:Yi,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=zi(!1),t=e[0];return e=Ji.bind(null,e[1]),_i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=mi,r=_i();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ol)throw Error(o(349));0!==(30&fi)||Pi(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Ui(Di.bind(null,a,i,e),[e]),a.flags|=2048,ji(9,Fi.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=_i(),t=Ol.identifierPrefix;if(ro){var n=$r;t=":"+t+"R"+(n=(Qr&~(1<<32-it(Qr)-1)).toString(32)+n),0<(n=xi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:_o,useCallback:Qi,useContext:_o,useEffect:Gi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:qi,useMemo:$i,useReducer:Ti,useRef:Bi,useState:function(){return Ti(Ni)},useDebugValue:Yi,useDeferredValue:function(e){return Zi(Ii(),gi.memoizedState,e)},useTransition:function(){return[Ti(Ni)[0],Ii().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Ai,useId:es,unstable_isNewReconciler:!1},cs={readContext:_o,useCallback:Qi,useContext:_o,useEffect:Gi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:qi,useMemo:$i,useReducer:Oi,useRef:Bi,useState:function(){return Oi(Ni)},useDebugValue:Yi,useDeferredValue:function(e){var t=Ii();return null===gi?t.memoizedState=e:Zi(t,gi.memoizedState,e)},useTransition:function(){return[Oi(Ni)[0],Ii().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Ai,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",a=t;do{n+=W(a),a=a.return}while(a);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Hl||(Hl=!0,ql=a),ps(0,t)},n}function ms(e,t,n){(n=Fo(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){ps(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!==typeof a&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new hs;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,a){t.child=null===e?Zo(t,null,n,a):$o(t,e.child,n,a)}function ks(e,t,n,a,r){n=n.render;var o=t.ref;return Eo(t,r),a=Ci(e,t,n,a,o,r),n=Ei(),null===e||xs?(ro&&n&&eo(t),t.flags|=1,ws(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hs(e,t,r))}function Ss(e,t,n,a,r){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,a,r))}if(o=e.child,0===(e.lanes&r)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:la)(i,a)&&e.ref===t.ref)return Hs(e,t,r)}return t.flags|=1,(e=Fc(o,a)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,a,r){if(null!==e){var o=e.memoizedProps;if(la(o,a)&&e.ref===t.ref){if(xs=!1,t.pendingProps=a=o,0===(e.lanes&r))return t.lanes=e.lanes,Hs(e,t,r);0!==(131072&e.flags)&&(xs=!0)}}return Is(e,t,n,a,r)}function Es(e,t,n){var a=t.pendingProps,r=a.children,o=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Fl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_r(Fl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==o?o.baseLanes:n,_r(Fl,Pl),Pl|=a}else null!==o?(a=o.baseLanes|n,t.memoizedState=null):a=n,_r(Fl,Pl),Pl|=a;return ws(e,t,r,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,a,r){var o=Ar(n)?Or:Nr.current;return o=Rr(t,o),Eo(t,r),n=Ci(e,t,n,a,o,r),a=Ei(),null===e||xs?(ro&&a&&eo(t),t.flags|=1,ws(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hs(e,t,r))}function Ns(e,t,n,a,r){if(Ar(n)){var o=!0;Mr(t)}else o=!1;if(Eo(t,r),null===t.stateNode)Gs(e,t),Go(t,n,a),qo(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=_o(c):c=Rr(t,c=Ar(n)?Or:Nr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==a||l!==c)&&Ho(t,i,a,c),Ro=!1;var p=t.memoizedState;i.state=p,zo(t,a,i,r),l=t.memoizedState,s!==a||p!==l||Tr.current||Ro?("function"===typeof u&&(Wo(t,n,u,a),l=t.memoizedState),(s=Ro||Uo(t,n,s,a,p,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Po(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yo(t.type,s),i.props=c,d=t.pendingProps,p=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=_o(l):l=Rr(t,l=Ar(n)?Or:Nr.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||p!==l)&&Ho(t,i,a,l),Ro=!1,p=t.memoizedState,i.state=p,zo(t,a,i,r);var f=t.memoizedState;s!==d||p!==f||Tr.current||Ro?("function"===typeof h&&(Wo(t,n,h,a),f=t.memoizedState),(c=Ro||Uo(t,n,c,a,p,f,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),i.props=a,i.state=f,i.context=l,a=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return Ts(e,t,n,a,o,r)}function Ts(e,t,n,a,r,o){_s(e,t);var i=0!==(128&t.flags);if(!a&&!i)return r&&Lr(t,n,!1),Hs(e,t,o);a=t.stateNode,bs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):ws(e,t,s,o),t.memoizedState=a.state,r&&Lr(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Fr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fr(0,t.context,!1),ri(e,t.containerInfo)}function Rs(e,t,n,a,r){return fo(),mo(r),t.flags|=256,ws(e,t,n,a),t.child}var As,Ps,Fs,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var a,r=t.pendingProps,i=li.current,s=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),_r(li,1&i),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,r,0,null),e=Mc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):js(t,l));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,n,a,r,i,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,a=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,r=t.mode,a=Lc({mode:"visible",children:a.children},r,0,null),(i=Mc(i,r,s,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ms,i);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,Bs(e,t,s,a=ds(i=Error(o(419)),a,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(a=Ol)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|s))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Oo(e,r),ac(a,e,r,-1))}return gc(),Bs(e,t,s,a=ds(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ao=cr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Xr[Kr++]=Qr,Xr[Kr++]=$r,Xr[Kr++]=Yr,Qr=e.id,$r=e.overflow,Yr=t),t=js(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,i,n);if(s){s=r.fallback,l=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Fc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?s=Fc(a,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,r}return e=(s=e.child).sibling,r=Fc(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function js(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,a){return null!==a&&mo(a),$o(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Co(e.return,t,n)}function Vs(e,t,n,a,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=r)}function Us(e,t,n){var a=t.pendingProps,r=a.revealOrder,o=a.tail;if(ws(e,t,a.children,n),0!==(2&(a=li.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(_r(li,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ci(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vs(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ci(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ks(e,t,n){var a=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Ar(t.type)&&Pr(),Xs(t),null;case 3:return a=t.stateNode,oi(),Er(Tr),Er(Nr),di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ps(e,t),Xs(t),null;case 5:si(t);var r=ai(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Fs(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(o(166));return Xs(t),null}if(e=ai(ei.current),po(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[pr]=t,a[hr]=i,e=0!==(1&t.mode),n){case"dialog":ja("cancel",a),ja("close",a);break;case"iframe":case"object":case"embed":ja("load",a);break;case"video":case"audio":for(r=0;r<Da.length;r++)ja(Da[r],a);break;case"source":ja("error",a);break;case"img":case"image":case"link":ja("error",a),ja("load",a);break;case"details":ja("toggle",a);break;case"input":Q(a,i),ja("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},ja("invalid",a);break;case"textarea":re(a,i),ja("invalid",a)}for(var l in ve(n,i),r=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Za(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Za(a.textContent,c,e),r=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&ja("scroll",a)}switch(n){case"input":q(a),J(a,i,!0);break;case"textarea":q(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=Ja)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[pr]=t,e[hr]=a,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,a),n){case"dialog":ja("cancel",e),ja("close",e),r=a;break;case"iframe":case"object":case"embed":ja("load",e),r=a;break;case"video":case"audio":for(r=0;r<Da.length;r++)ja(Da[r],e);r=a;break;case"source":ja("error",e),r=a;break;case"img":case"image":case"link":ja("error",e),ja("load",e),r=a;break;case"details":ja("toggle",e),r=a;break;case"input":Q(e,a),r=Y(e,a),ja("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=L({},a,{value:void 0}),ja("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),ja("invalid",e)}for(i in ve(n,r),c=r)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&ja("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":q(e),J(e,a,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+G(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?ne(e,!!a.multiple,i,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Ja)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(o(166));if(n=ai(ni.current),ai(ei.current),po(t)){if(a=t.stateNode,n=t.memoizedProps,a[pr]=t,(i=a.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Za(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Za(a.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[pr]=t,t.stateNode=a}return Xs(t),null;case 13:if(Er(li),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==ao&&0!==(1&t.mode)&&0===(128&t.flags))ho(),fo(),t.flags|=98560,i=!1;else if(i=po(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[pr]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),i=!1}else null!==oo&&(sc(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&li.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return oi(),Ps(e,t),null===e&&Va(t.stateNode.containerInfo),Xs(t),null;case 10:return So(t.type._context),Xs(t),null;case 19:if(Er(li),null===(i=t.memoizedState))return Xs(t),null;if(a=0!==(128&t.flags),null===(l=i.rendering))if(a)qs(i,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ci(e))){for(t.flags|=128,qs(i,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _r(li,1&li.current|2),t.child}e=e.sibling}null!==i.tail&&$e()>Ul&&(t.flags|=128,a=!0,qs(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ci(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ro)return Xs(t),null}else 2*$e()-i.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,a=!0,qs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,n=li.current,_r(li,a?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return pc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ar(t.type)&&Pr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),Er(Tr),Er(Nr),di(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(Er(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Er(li),null;case 4:return oi(),null;case 10:return So(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Fs=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,ai(ei.current);var o,i=null;switch(n){case"input":r=Y(e,r),a=Y(e,a),i=[];break;case"select":r=L({},r,{value:void 0}),a=L({},a,{value:void 0}),i=[];break;case"textarea":r=ae(e,r),a=ae(e,a),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Ja)}for(u in ve(n,a),n=null,r)if(!a.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in a){var c=a[u];if(l=null!=r?r[u]:void 0,a.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&ja("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,a){n!==a&&(t.flags|=4)};var Qs=!1,$s=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Js=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Ec(e,t,a)}else n.current=null}function tl(e,t,n){try{n()}catch(a){Ec(e,t,a)}}var nl=!1;function al(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&tl(t,n,o)}r=r.next}while(r!==a)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[hr],delete t[mr],delete t[gr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ja));else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,pl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:$s||el(n,t);case 6:var a=dl,r=pl;dl=null,hl(e,t,n),pl=r,null!==(dl=a)&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(dl,n.stateNode));break;case 4:a=dl,r=pl,dl=n.stateNode.containerInfo,pl=!0,hl(e,t,n),dl=a,pl=r;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var o=r,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&tl(n,t,i),r=r.next}while(r!==a)}hl(e,t,n);break;case 1:if(!$s&&(el(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(s){Ec(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?($s=(a=$s)||null!==n.memoizedState,hl(e,t,n),$s=a):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var a=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));fl(i,s,r),dl=null,pl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Ec(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&a){try{al(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{al(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&a&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&a&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(g){Ec(e,e.return,g)}}if(4&a&&null!=(r=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&$(r,i),be(l,s);var u=be(l,i);for(s=0;s<c.length;s+=2){var d=c[s],p=c[s+1];"style"===d?ge(r,p):"dangerouslySetInnerHTML"===d?de(r,p):"children"===d?pe(r,p):b(r,d,p,u)}switch(l){case"input":Z(r,i);break;case"textarea":oe(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?ne(r,!!i.multiple,f,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[hr]=i}catch(g){Ec(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&a){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(g){Ec(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=$e())),4&a&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($s=(u=$s)||d,gl(t,e),$s=u):gl(t,e),vl(e),8192&a){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(p=Js=d;null!==Js;){switch(f=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:al(4,h,h.return);break;case 1:el(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){a=h,n=h.return;try{t=a,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(a,n,g)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){kl(p);continue}}null!==f?(f.return=h,Js=f):kl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{r=p.stateNode,u?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),vl(e),4&a&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var a=n;break e}n=n.return}throw Error(o(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(pe(r,""),a.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var i=a.stateNode.containerInfo;cl(e,ll(e),i);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var a=0!==(1&e.mode);null!==Js;){var r=Js,o=r.child;if(22===r.tag&&a){var i=null!==r.memoizedState||Qs;if(!i){var s=r.alternate,l=null!==s&&null!==s.memoizedState||$s;s=Qs;var c=$s;if(Qs=i,($s=l)&&!c)for(Js=r;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?Sl(r):null!==l?(l.return=i,Js=l):Sl(r);for(;null!==o;)Js=o,xl(o,t,n),o=o.sibling;Js=r,Qs=s,$s=c}wl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||rl(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!$s)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&jo(t,i,a);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(o(163))}$s||512&t.flags&&ol(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function kl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){Ec(t,r,l)}}var o=t.return;try{ol(t)}catch(l){Ec(t,o,l)}break;case 5:var i=t.return;try{ol(t)}catch(l){Ec(t,i,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Cl,El=Math.ceil,_l=x.ReactCurrentDispatcher,Il=x.ReactCurrentOwner,Nl=x.ReactCurrentBatchConfig,Tl=0,Ol=null,Rl=null,Al=0,Pl=0,Fl=Cr(0),Dl=0,Ml=null,Ll=0,zl=0,jl=0,Bl=null,Wl=null,Vl=0,Ul=1/0,Gl=null,Hl=!1,ql=null,Xl=null,Kl=!1,Yl=null,Ql=0,$l=0,Zl=null,Jl=-1,ec=0;function tc(){return 0!==(6&Tl)?$e():-1!==Jl?Jl:Jl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Al?Al&-Al:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ac(e,t,n,a){if(50<$l)throw $l=0,Zl=null,Error(o(185));yt(e,n,a),0!==(2&Tl)&&e===Ol||(e===Ol&&(0===(2&Tl)&&(zl|=n),4===Dl&&lc(e,Al)),rc(e,a),1===n&&0===Tl&&0===(1&t.mode)&&(Ul=$e()+500,jr&&Vr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=r[i];-1===l?0!==(s&n)&&0===(s&a)||(r[i]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var a=pt(e,e===Ol?Al:0);if(0===a)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){jr=!0,Wr(e)}(cc.bind(null,e)):Wr(cc.bind(null,e)),ir((function(){0===(6&Tl)&&Vr()})),n=null;else{switch(xt(a)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Oc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,ec=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var a=pt(e,e===Ol?Al:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=yc(e,a);else{t=a;var r=Tl;Tl|=2;var i=mc();for(Ol===e&&Al===t||(Gl=null,Ul=$e()+500,hc(e,t));;)try{bc();break}catch(l){fc(e,l)}ko(),_l.current=i,Tl=r,null!==Rl?t=0:(Ol=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(a=r,t=ic(e,r))),1===t)throw n=Ml,hc(e,0),lc(e,a),rc(e,$e()),n;if(6===t)lc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],o=r.getSnapshot;r=r.value;try{if(!sa(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=yc(e,a))&&(0!==(i=ft(e))&&(a=i,t=ic(e,i))),1===t))throw n=Ml,hc(e,0),lc(e,a),rc(e,$e()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Wl,Gl);break;case 3:if(lc(e,a),(130023424&a)===a&&10<(t=Vl+500-$e())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(kc.bind(null,e,Wl,Gl),t);break}kc(e,Wl,Gl);break;case 4:if(lc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var s=31-it(a);i=1<<s,(s=t[s])>r&&(r=s),a&=~i}if(a=r,10<(a=(120>(a=$e()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*El(a/1960))-a)){e.timeoutHandle=ar(kc.bind(null,e,Wl,Gl),a);break}kc(e,Wl,Gl);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Wl,Wl=n,null!==t&&sc(t)),e}function sc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function lc(e,t){for(t&=~jl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),a=1<<n;e[n]=-1,t&=~a}}function cc(e){if(0!==(6&Tl))throw Error(o(327));Sc();var t=pt(e,0);if(0===(1&t))return rc(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var a=ft(e);0!==a&&(t=a,n=ic(e,a))}if(1===n)throw n=Ml,hc(e,0),lc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Wl,Gl),rc(e,$e()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Ul=$e()+500,jr&&Vr())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=Nl.transition,a=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=a,Nl.transition=n,0===(6&(Tl=t))&&Vr()}}function pc(){Pl=Fl.current,Er(Fl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Rl)for(n=Rl.return;null!==n;){var a=n;switch(to(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Pr();break;case 3:oi(),Er(Tr),Er(Nr),di();break;case 5:si(a);break;case 4:oi();break;case 13:case 19:Er(li);break;case 10:So(a.type._context);break;case 22:case 23:pc()}n=n.return}if(Ol=e,Rl=e=Fc(e.current,null),Al=Pl=t,Dl=0,Ml=null,jl=zl=Ll=0,Wl=Bl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(a=(n=Io[t]).interleaved)){n.interleaved=null;var r=a.next,o=n.pending;if(null!==o){var i=o.next;o.next=r,a.next=i}n.pending=a}Io=null}return e}function fc(e,t){for(;;){var n=Rl;try{if(ko(),pi.current=is,vi){for(var a=mi.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}vi=!1}if(fi=0,yi=gi=mi=null,bi=!1,xi=0,Il.current=null,null===n||null===n.return){Dl=1,Ml=t,Rl=null;break}e:{var i=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ys(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,t),1&f.mode&&gs(i,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(i,u,t),gc();break e}c=Error(o(426))}else if(ro&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vs(y,s,l,0,t),mo(us(c,l));break e}}i=c=us(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[i]:Bl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Lo(i,fs(0,c,t));break e;case 1:l=c;var v=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Lo(i,ms(i,l,t));break e}}i=i.return}while(null!==i)}wc(n)}catch(x){t=x,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=_l.current;return _l.current=is,null===e?is:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ol||0===(268435455&Ll)&&0===(268435455&zl)||lc(Ol,Al)}function yc(e,t){var n=Tl;Tl|=2;var a=mc();for(Ol===e&&Al===t||(Gl=null,hc(e,t));;)try{vc();break}catch(r){fc(e,r)}if(ko(),Tl=n,_l.current=a,null!==Rl)throw Error(o(261));return Ol=null,Al=0,Dl}function vc(){for(;null!==Rl;)xc(Rl)}function bc(){for(;null!==Rl&&!Ye();)xc(Rl)}function xc(e){var t=Cl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,Il.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Dl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Dl&&(Dl=5)}function kc(e,t,n){var a=bt,r=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,a){do{Sc()}while(null!==Yl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),o=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~o}}(e,i),e===Ol&&(Rl=Ol=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Oc(tt,(function(){return Sc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Nl.transition,Nl.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,Il.current=null,function(e,t){if(er=Gt,ha(e=pa())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==r&&3!==p.nodeType||(l=s+r),p!==i||0!==a&&3!==p.nodeType||(c=s+a),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++u===r&&(l=s),h===i&&++d===a&&(c=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=nl,nl=!1}(e,n),yl(n,e),fa(tr),Gt=!!er,tr=er=null,e.current=n,bl(n,e,r),Qe(),Tl=l,bt=s,Nl.transition=i}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Ql=r),i=e.pendingLanes,0===i&&(Xl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&Sc(),i=e.pendingLanes,0!==(1&i)?e===Zl?$l++:($l=0,Zl=e):$l=0,Vr()}(e,t,n,a)}finally{Nl.transition=r,bt=a}return null}function Sc(){if(null!==Yl){var e=xt(Ql),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Yl)var a=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Tl))throw Error(o(331));var r=Tl;for(Tl|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(0!==(16&Js.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:al(8,d,i)}var p=d.child;if(null!==p)p.return=d,Js=p;else for(;null!==Js;){var h=(d=Js).sibling,f=d.return;if(il(d),d===u){Js=null;break}if(null!==h){h.return=f,Js=h;break}Js=f}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(0!==(2048&(i=Js).flags))switch(i.tag){case 0:case 11:case 15:al(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Js=v;break e}Js=i.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Ec(l,l.return,k)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Tl=r,Vr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(k){}a=!0}return a}finally{bt=n,Nl.transition=t}}return!1}function Cc(e,t,n){e=Do(e,t=fs(0,t=us(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Xl||!Xl.has(a))){t=Do(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>$e()-Vl?hc(e,0):jl|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Oo(e,t))&&(yt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}null!==a&&a.delete(t),Ic(e,n)}function Oc(e,t){return Xe(e,t)}function Rc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,a){return new Rc(e,t,n,a)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,a,r,i){var s=2;if(a=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Mc(n.children,r,i,t);case C:s=8,r|=8;break;case E:return(e=Ac(12,n,t,2|r)).elementType=E,e.lanes=i,e;case T:return(e=Ac(13,n,t,r)).elementType=T,e.lanes=i,e;case O:return(e=Ac(19,n,t,r)).elementType=O,e.lanes=i,e;case P:return Lc(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case I:s=9;break e;case N:s=11;break e;case R:s=14;break e;case A:s=16,a=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function Mc(e,t,n,a){return(e=Ac(7,e,a,t)).lanes=n,e}function Lc(e,t,n,a){return(e=Ac(22,e,a,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,a,r,o,i,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Vc(e){if(!e)return Ir;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ar(n))return Dr(e,n,t)}return t}function Uc(e,t,n,a,r,o,i,s,l){return(e=Wc(n,a,!0,e,0,o,0,s,l)).context=Vc(null),n=e.current,(o=Fo(a=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,r),e.current.lanes=r,yt(e,r,a),rc(e,a),e}function Gc(e,t,n,a){var r=t.current,o=tc(),i=nc(r);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Do(r,t,i))&&(ac(e,r,i,o),Mo(e,r,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tr.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Os(t),fo();break;case 5:ii(t);break;case 1:Ar(t.type)&&Mr(t);break;case 4:ri(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;_r(vo,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(_r(li,1&li.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(_r(li,1&li.current),null!==(e=Hs(e,t,n))?e.sibling:null);_r(li,1&li.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Us(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),_r(li,li.current),a)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ro&&0!==(1048576&t.flags)&&Jr(t,qr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Gs(e,t),e=t.pendingProps;var r=Rr(t,Nr.current);Eo(t,n),r=Ci(null,t,a,e,r,n);var i=Ei();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ar(a)?(i=!0,Mr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ao(t),r.updater=Vo,t.stateNode=r,r._reactInternals=t,qo(t,a,e,n),t=Ts(null,t,a,!0,i,n)):(t.tag=0,ro&&i&&eo(t),ws(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(a),e=yo(a,e),r){case 0:t=Is(null,t,a,e,n);break e;case 1:t=Ns(null,t,a,e,n);break e;case 11:t=ks(null,t,a,e,n);break e;case 14:t=Ss(null,t,a,yo(a.type,e),n);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Is(e,t,a,r=t.elementType===a?r:yo(a,r),n);case 1:return a=t.type,r=t.pendingProps,Ns(e,t,a,r=t.elementType===a?r:yo(a,r),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));a=t.pendingProps,r=(i=t.memoizedState).element,Po(e,t),zo(t,a,null,n);var s=t.memoizedState;if(a=s.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Rs(e,t,a,n,r=us(Error(o(423)),t));break e}if(a!==r){t=Rs(e,t,a,n,r=us(Error(o(424)),t));break e}for(ao=cr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=Zo(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),a===r){t=Hs(e,t,n);break e}ws(e,t,a,n)}t=t.child}return t;case 5:return ii(t),null===e&&co(t),a=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,s=r.children,nr(a,r)?s=null:null!==i&&nr(a,i)&&(t.flags|=32),_s(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return zs(e,t,n);case 4:return ri(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=$o(t,null,a,n):ws(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,ks(e,t,a,r=t.elementType===a?r:yo(a,r),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,i=t.memoizedProps,s=r.value,_r(vo,a._currentValue),a._currentValue=s,null!==i)if(sa(i.value,s)){if(i.children===r.children&&!Tr.current){t=Hs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Fo(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Co(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Co(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Eo(t,n),a=a(r=_o(r)),t.flags|=1,ws(e,t,a,n),t.child;case 14:return r=yo(a=t.type,t.pendingProps),Ss(e,t,a,r=yo(a.type,r),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:yo(a,r),Gs(e,t),t.tag=1,Ar(a)?(e=!0,Mr(t)):e=!1,Eo(t,n),Go(t,a,r),qo(t,a,r,n),Ts(null,t,a,!0,e,n);case 19:return Us(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,a,r){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof r){var s=r;r=function(){var e=Hc(i);s.call(e)}}Gc(t,i,e,r)}else i=function(e,t,n,a,r){if(r){if("function"===typeof a){var o=a;a=function(){var e=Hc(i);o.call(e)}}var i=Uc(t,a,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[fr]=i.current,Va(8===e.nodeType?e.parentNode:e),dc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var s=a;a=function(){var e=Hc(l);s.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fr]=l.current,Va(8===e.nodeType?e.parentNode:e),dc((function(){Gc(t,l,n,a)})),l}(n,t,e,r,a);return Hc(i)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Gc(null,e,null,null)})),t[fr]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Tl)&&(Ul=$e()+500,Vr()))}break;case 13:dc((function(){var t=Oo(e,1);if(null!==t){var n=tc();ac(t,e,1,n)}})),Xc(e,1)}},kt=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)ac(t,e,134217728,tc());Xc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Oo(e,t);if(null!==n)ac(n,e,t,tc());Xc(e,t)}},Ct=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=wr(a);if(!r)throw Error(o(90));X(a),Z(a,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[br,xr,wr,_e,Ie,uc]},nu={findFiberByHostInstance:vr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},au={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(au),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,a="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,a,r),e[fr]=t.current,Va(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var a=null!=n&&n.hydratedSources||null,r=!1,i="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,r,0,i,s),e[fr]=t.current,Va(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Qc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,a)},t.version="18.2.0-next-9e3b772b8-20220608"},1739:(e,t,n)=>{"use strict";var a=n(1168);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},1168:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},1624:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case u:case d:case o:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case r:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=a,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=r,t.Profiler=s,t.StrictMode=i,t.Suspense=h,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===i||e===h||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},6214:(e,t,n)=>{"use strict";e.exports=n(1624)},2354:(e,t)=>{"use strict";t.DefaultEventPriority=16,t.LegacyRoot=0},8106:(e,t,n)=>{e.exports=function(e){var t={},a=n(7313),r=n(2224),o=Object.assign;function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var x=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=w&&e[w]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}function C(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function _(e){if(E(e)!==e)throw Error(i(188))}function I(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(a=r.return)){n=a;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return _(r),e;if(o===a)return _(r),t;o=o.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,a=o;break}if(l===a){s=!0,a=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,a=r;break}if(l===a){s=!0,a=o,n=r;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}function N(e){return null!==(e=I(e))?T(e):null}function T(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=T(e);if(null!==t)return t;e=e.sibling}return null}function O(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=O(e);if(null!==t)return t}e=e.sibling}return null}var R,A=Array.isArray,P=e.getPublicInstance,F=e.getRootHostContext,D=e.getChildHostContext,M=e.prepareForCommit,L=e.resetAfterCommit,z=e.createInstance,j=e.appendInitialChild,B=e.finalizeInitialChildren,W=e.prepareUpdate,V=e.shouldSetTextContent,U=e.createTextInstance,G=e.scheduleTimeout,H=e.cancelTimeout,q=e.noTimeout,X=e.isPrimaryRenderer,K=e.supportsMutation,Y=e.supportsPersistence,Q=e.supportsHydration,$=e.getInstanceFromNode,Z=e.preparePortalMount,J=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,ae=e.supportsTestSelectors,re=e.findFiberRoot,oe=e.getBoundingRect,ie=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,de=e.appendChild,pe=e.appendChildToContainer,he=e.commitTextUpdate,fe=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ye=e.insertInContainerBefore,ve=e.removeChild,be=e.removeChildFromContainer,xe=e.resetTextContent,we=e.hideInstance,ke=e.hideTextInstance,Se=e.unhideInstance,Ce=e.unhideTextInstance,Ee=e.clearContainer,_e=e.cloneInstance,Ie=e.createContainerChildSet,Ne=e.appendChildToContainerChildSet,Te=e.finalizeContainerChildren,Oe=e.replaceContainerChildren,Re=e.cloneHiddenInstance,Ae=e.cloneHiddenTextInstance,Pe=e.canHydrateInstance,Fe=e.canHydrateTextInstance,De=e.canHydrateSuspenseInstance,Me=e.isSuspenseInstancePending,Le=e.isSuspenseInstanceFallback,ze=e.getSuspenseInstanceFallbackErrorDetails,je=e.registerSuspenseInstanceRetry,Be=e.getNextHydratableSibling,We=e.getFirstHydratableChild,Ve=e.getFirstHydratableChildWithinContainer,Ue=e.getFirstHydratableChildWithinSuspenseInstance,Ge=e.hydrateInstance,He=e.hydrateTextInstance,qe=e.hydrateSuspenseInstance,Xe=e.getNextHydratableInstanceAfterSuspenseInstance,Ke=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,Qe=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance;function tt(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var nt=!1;function at(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=a.stack.split("\n"),i=r.length-1,s=o.length-1;1<=i&&0<=s&&r[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(r[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||r[i]!==o[s]){var l="\n"+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tt(e):""}var rt=Object.prototype.hasOwnProperty,ot=[],it=-1;function st(e){return{current:e}}function lt(e){0>it||(e.current=ot[it],ot[it]=null,it--)}function ct(e,t){it++,ot[it]=e.current,e.current=t}var ut={},dt=st(ut),pt=st(!1),ht=ut;function ft(e,t){var n=e.type.contextTypes;if(!n)return ut;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gt(){lt(pt),lt(dt)}function yt(e,t,n){if(dt.current!==ut)throw Error(i(168));ct(dt,t),ct(pt,n)}function vt(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(i(108,C(e)||"Unknown",r));return o({},n,a)}function bt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,ht=dt.current,ct(dt,e),ct(pt,pt.current),!0}function xt(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=vt(e,t,ht),a.__reactInternalMemoizedMergedChildContext=e,lt(pt),lt(dt),ct(dt,e)):lt(pt),ct(pt,n)}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(kt(e)/St|0)|0},kt=Math.log,St=Math.LN2;var Ct=64,Et=4194304;function _t(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function It(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~r;0!==s?a=_t(s):0!==(o&=i)&&(a=_t(o))}else 0!==(i=n&~r)?a=_t(i):0!==o&&(a=_t(o));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-wt(t)),a|=e[n],t&=~r;return a}function Nt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ot(){var e=Ct;return 0===(4194240&(Ct<<=1))&&(Ct=64),e}function Rt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=n}function Pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-wt(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var Ft=0;function Dt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Mt=r.unstable_scheduleCallback,Lt=r.unstable_cancelCallback,zt=r.unstable_shouldYield,jt=r.unstable_requestPaint,Bt=r.unstable_now,Wt=r.unstable_ImmediatePriority,Vt=r.unstable_UserBlockingPriority,Ut=r.unstable_NormalPriority,Gt=r.unstable_IdlePriority,Ht=null,qt=null;var Xt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Kt=null,Yt=!1,Qt=!1;function $t(e){null===Kt?Kt=[e]:Kt.push(e)}function Zt(){if(!Qt&&null!==Kt){Qt=!0;var e=0,t=Ft;try{var n=Kt;for(Ft=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Kt=null,Yt=!1}catch(r){throw null!==Kt&&(Kt=Kt.slice(e+1)),Mt(Wt,Zt),r}finally{Ft=t,Qt=!1}}return null}var Jt=[],en=0,tn=null,nn=0,an=[],rn=0,on=null,sn=1,ln="";function cn(e,t){Jt[en++]=nn,Jt[en++]=tn,tn=e,nn=t}function un(e,t,n){an[rn++]=sn,an[rn++]=ln,an[rn++]=on,on=e;var a=sn;e=ln;var r=32-wt(a)-1;a&=~(1<<r),n+=1;var o=32-wt(t)+r;if(30<o){var i=r-r%5;o=(a&(1<<i)-1).toString(32),a>>=i,r-=i,sn=1<<32-wt(t)+r|n<<r|a,ln=o+e}else sn=1<<o|n<<r|a,ln=e}function dn(e){null!==e.return&&(cn(e,1),un(e,1,0))}function pn(e){for(;e===tn;)tn=Jt[--en],Jt[en]=null,nn=Jt[--en],Jt[en]=null;for(;e===on;)on=an[--rn],an[rn]=null,ln=an[--rn],an[rn]=null,sn=an[--rn],an[rn]=null}var hn=null,fn=null,mn=!1,gn=!1,yn=null;function vn(e,t){var n=ss(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function bn(e,t){switch(e.tag){case 5:return null!==(t=Pe(t,e.type,e.pendingProps))&&(e.stateNode=t,hn=e,fn=We(t),!0);case 6:return null!==(t=Fe(t,e.pendingProps))&&(e.stateNode=t,hn=e,fn=null,!0);case 13:if(null!==(t=De(t))){var n=null!==on?{id:sn,overflow:ln}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ss(18,null,null,0)).stateNode=t,n.return=e,e.child=n,hn=e,fn=null,!0}return!1;default:return!1}}function xn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function wn(e){if(mn){var t=fn;if(t){var n=t;if(!bn(e,t)){if(xn(e))throw Error(i(418));t=Be(n);var a=hn;t&&bn(e,t)?vn(a,n):(e.flags=-4097&e.flags|2,mn=!1,hn=e)}}else{if(xn(e))throw Error(i(418));e.flags=-4097&e.flags|2,mn=!1,hn=e}}}function kn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;hn=e}function Sn(e){if(!Q||e!==hn)return!1;if(!mn)return kn(e),mn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ze(e.type)&&!V(e.type,e.memoizedProps))){var t=fn;if(t){if(xn(e))throw Cn(),Error(i(418));for(;t;)vn(e,t),t=Be(t)}}if(kn(e),13===e.tag){if(!Q)throw Error(i(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));fn=Xe(e)}else fn=hn?Be(e.stateNode):null;return!0}function Cn(){for(var e=fn;e;)e=Be(e)}function En(){Q&&(fn=hn=null,gn=mn=!1)}function _n(e){null===yn?yn=[e]:yn.push(e)}var In=s.ReactCurrentBatchConfig;function Nn(e,t){if(Xt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!rt.call(t,r)||!Xt(e[r],t[r]))return!1}return!0}function Tn(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return e=at(e.type,!1);case 11:return e=at(e.type.render,!1);case 1:return e=at(e.type,!0);default:return""}}function On(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Rn=st(null),An=null,Pn=null,Fn=null;function Dn(){Fn=Pn=An=null}function Mn(e,t,n){X?(ct(Rn,t._currentValue),t._currentValue=n):(ct(Rn,t._currentValue2),t._currentValue2=n)}function Ln(e){var t=Rn.current;lt(Rn),X?e._currentValue=t:e._currentValue2=t}function zn(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function jn(e,t){An=e,Fn=Pn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fr=!0),e.firstContext=null)}function Bn(e){var t=X?e._currentValue:e._currentValue2;if(Fn!==e)if(e={context:e,memoizedValue:t,next:null},null===Pn){if(null===An)throw Error(i(308));Pn=e,An.dependencies={lanes:0,firstContext:e}}else Pn=Pn.next=e;return t}var Wn=null;function Vn(e){null===Wn?Wn=[e]:Wn.push(e)}function Un(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Vn(t)):(n.next=r.next,r.next=n),t.interleaved=n,Gn(e,a)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Hn=!1;function qn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&ai)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Gn(e,n)}return null===(r=a.interleaved)?(t.next=t,Vn(a)):(t.next=r.next,r.next=t),a.interleaved=t,Gn(e,n)}function Qn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Pt(e,n)}}function $n(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zn(e,t,n,a){var r=e.updateQueue;Hn=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?i=u:s.next=u,s=c;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(null!==i){var p=r.baseState;for(s=0,d=u=c=null,l=i;;){var h=l.lane,f=l.eventTime;if((a&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(m=g.payload)){p=m.call(f,p,h);break e}p=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(f,p,h):m)||void 0===h)break e;p=o({},p,h);break e;case 2:Hn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(u=d=f,c=p):d=d.next=f,s|=h;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(h=l).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===d&&(c=p),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);di|=s,e.lanes=s,e.memoizedState=p}}function Jn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(i(191,r));r.call(a)}}}var ea=(new a.Component).refs;function ta(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var na={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ri(),r=Ai(e),o=Kn(a,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Yn(e,o,r))&&(Pi(t,e,r,a),Qn(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ri(),r=Ai(e),o=Kn(a,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Yn(e,o,r))&&(Pi(t,e,r,a),Qn(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ri(),a=Ai(e),r=Kn(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Yn(e,r,a))&&(Pi(t,e,a,n),Qn(t,e,a))}};function aa(e,t,n,a,r,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!Nn(n,a)||!Nn(r,o))}function ra(e,t,n){var a=!1,r=ut,o=t.contextType;return"object"===typeof o&&null!==o?o=Bn(o):(r=mt(t)?ht:dt.current,o=(a=null!==(a=t.contextTypes)&&void 0!==a)?ft(e,r):ut),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=na,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function oa(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&na.enqueueReplaceState(t,t.state,null)}function ia(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ea,qn(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Bn(o):(o=mt(t)?ht:dt.current,r.context=ft(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ta(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&na.enqueueReplaceState(r,r.state,null),Zn(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function sa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=a,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===ea&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function la(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ca(e){return(0,e._init)(e._payload)}function ua(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=cs(e,t)).index=0,e.sibling=null,e}function o(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,a){return null===t||6!==t.tag?((t=hs(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n,a){var o=n.type;return o===u?f(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===b&&ca(o)===t.type)?((a=r(t,n.props)).ref=sa(e,t,n),a.return=e,a):((a=us(n.type,n.key,n.props,null,e.mode,a)).ref=sa(e,t,n),a.return=e,a)}function h(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=fs(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,a,o){return null===t||7!==t.tag?((t=ds(n,e.mode,a,o)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=hs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=us(t.type,t.key,t.props,null,e.mode,n)).ref=sa(e,null,t),n.return=e,n;case c:return(t=fs(t,e.mode,n)).return=e,t;case b:return m(e,(0,t._init)(t._payload),n)}if(A(t)||k(t))return(t=ds(t,e.mode,n,null)).return=e,t;la(e,t)}return null}function g(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:d(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===r?p(e,t,n,a):null;case c:return n.key===r?h(e,t,n,a):null;case b:return g(e,t,(r=n._init)(n._payload),a)}if(A(n)||k(n))return null!==r?null:f(e,t,n,a,null);la(e,n)}return null}function y(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return d(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case l:return p(t,e=e.get(null===a.key?n:a.key)||null,a,r);case c:return h(t,e=e.get(null===a.key?n:a.key)||null,a,r);case b:return y(e,t,n,(0,a._init)(a._payload),r)}if(A(a)||k(a))return f(t,e=e.get(n)||null,a,r,null);la(t,a)}return null}function v(r,i,s,l){for(var c=null,u=null,d=i,p=i=0,h=null;null!==d&&p<s.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var f=g(r,d,s[p],l);if(null===f){null===d&&(d=h);break}e&&d&&null===f.alternate&&t(r,d),i=o(f,i,p),null===u?c=f:u.sibling=f,u=f,d=h}if(p===s.length)return n(r,d),mn&&cn(r,p),c;if(null===d){for(;p<s.length;p++)null!==(d=m(r,s[p],l))&&(i=o(d,i,p),null===u?c=d:u.sibling=d,u=d);return mn&&cn(r,p),c}for(d=a(r,d);p<s.length;p++)null!==(h=y(d,r,p,s[p],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?p:h.key),i=o(h,i,p),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach((function(e){return t(r,e)})),mn&&cn(r,p),c}function x(r,s,l,c){var u=k(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,p=s,h=s=0,f=null,v=l.next();null!==p&&!v.done;h++,v=l.next()){p.index>h?(f=p,p=null):f=p.sibling;var b=g(r,p,v.value,c);if(null===b){null===p&&(p=f);break}e&&p&&null===b.alternate&&t(r,p),s=o(b,s,h),null===d?u=b:d.sibling=b,d=b,p=f}if(v.done)return n(r,p),mn&&cn(r,h),u;if(null===p){for(;!v.done;h++,v=l.next())null!==(v=m(r,v.value,c))&&(s=o(v,s,h),null===d?u=v:d.sibling=v,d=v);return mn&&cn(r,h),u}for(p=a(r,p);!v.done;h++,v=l.next())null!==(v=y(p,r,h,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?h:v.key),s=o(v,s,h),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(r,e)})),mn&&cn(r,h),u}return function e(a,o,i,d){if("object"===typeof i&&null!==i&&i.type===u&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case l:e:{for(var p=i.key,h=o;null!==h;){if(h.key===p){if((p=i.type)===u){if(7===h.tag){n(a,h.sibling),(o=r(h,i.props.children)).return=a,a=o;break e}}else if(h.elementType===p||"object"===typeof p&&null!==p&&p.$$typeof===b&&ca(p)===h.type){n(a,h.sibling),(o=r(h,i.props)).ref=sa(a,h,i),o.return=a,a=o;break e}n(a,h);break}t(a,h),h=h.sibling}i.type===u?((o=ds(i.props.children,a.mode,d,i.key)).return=a,a=o):((d=us(i.type,i.key,i.props,null,a.mode,d)).ref=sa(a,o,i),d.return=a,a=d)}return s(a);case c:e:{for(h=i.key;null!==o;){if(o.key===h){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(a,o.sibling),(o=r(o,i.children||[])).return=a,a=o;break e}n(a,o);break}t(a,o),o=o.sibling}(o=fs(i,a.mode,d)).return=a,a=o}return s(a);case b:return e(a,o,(h=i._init)(i._payload),d)}if(A(i))return v(a,o,i,d);if(k(i))return x(a,o,i,d);la(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(a,o.sibling),(o=r(o,i)).return=a,a=o):(n(a,o),(o=hs(i,a.mode,d)).return=a,a=o),s(a)):n(a,o)}}var da=ua(!0),pa=ua(!1),ha={},fa=st(ha),ma=st(ha),ga=st(ha);function ya(e){if(e===ha)throw Error(i(174));return e}function va(e,t){ct(ga,t),ct(ma,e),ct(fa,ha),e=F(t),lt(fa),ct(fa,e)}function ba(){lt(fa),lt(ma),lt(ga)}function xa(e){var t=ya(ga.current),n=ya(fa.current);n!==(t=D(n,e.type,t))&&(ct(ma,e),ct(fa,t))}function wa(e){ma.current===e&&(lt(fa),lt(ma))}var ka=st(0);function Sa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Me(n)||Le(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ca=[];function Ea(){for(var e=0;e<Ca.length;e++){var t=Ca[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Ca.length=0}var _a=s.ReactCurrentDispatcher,Ia=s.ReactCurrentBatchConfig,Na=0,Ta=null,Oa=null,Ra=null,Aa=!1,Pa=!1,Fa=0,Da=0;function Ma(){throw Error(i(321))}function La(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function za(e,t,n,a,r,o){if(Na=o,Ta=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_a.current=null===e||null===e.memoizedState?wr:kr,e=n(a,r),Pa){o=0;do{if(Pa=!1,Fa=0,25<=o)throw Error(i(301));o+=1,Ra=Oa=null,t.updateQueue=null,_a.current=Sr,e=n(a,r)}while(Pa)}if(_a.current=xr,t=null!==Oa&&null!==Oa.next,Na=0,Ra=Oa=Ta=null,Aa=!1,t)throw Error(i(300));return e}function ja(){var e=0!==Fa;return Fa=0,e}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ra?Ta.memoizedState=Ra=e:Ra=Ra.next=e,Ra}function Wa(){if(null===Oa){var e=Ta.alternate;e=null!==e?e.memoizedState:null}else e=Oa.next;var t=null===Ra?Ta.memoizedState:Ra.next;if(null!==t)Ra=t,Oa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Oa=e).memoizedState,baseState:Oa.baseState,baseQueue:Oa.baseQueue,queue:Oa.queue,next:null},null===Ra?Ta.memoizedState=Ra=e:Ra=Ra.next=e}return Ra}function Va(e,t){return"function"===typeof t?t(e):t}function Ua(e){var t=Wa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=Oa,r=a.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}a.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,a=a.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((Na&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,s=a):c=c.next=p,Ta.lanes|=d,di|=d}u=u.next}while(null!==u&&u!==o);null===c?s=a:c.next=l,Xt(a,t.memoizedState)||(Fr=!0),t.memoizedState=a,t.baseState=s,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,Ta.lanes|=o,di|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ga(e){var t=Wa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);Xt(o,t.memoizedState)||(Fr=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,a]}function Ha(){}function qa(e,t){var n=Ta,a=Wa(),r=t(),o=!Xt(a.memoizedState,r);if(o&&(a.memoizedState=r,Fr=!0),a=a.queue,rr(Ya.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==Ra&&1&Ra.memoizedState.tag){if(n.flags|=2048,Ja(9,Ka.bind(null,n,a,r,t),void 0,null),null===ri)throw Error(i(349));0!==(30&Na)||Xa(n,t,r)}return r}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ta.updateQueue)?(t={lastEffect:null,stores:null},Ta.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ka(e,t,n,a){t.value=n,t.getSnapshot=a,Qa(t)&&$a(e)}function Ya(e,t,n){return n((function(){Qa(t)&&$a(e)}))}function Qa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch(a){return!0}}function $a(e){var t=Gn(e,1);null!==t&&Pi(t,e,1,-1)}function Za(e){var t=Ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t.queue=e,e=e.dispatch=gr.bind(null,Ta,e),[t.memoizedState,e]}function Ja(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=Ta.updateQueue)?(t={lastEffect:null,stores:null},Ta.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function er(){return Wa().memoizedState}function tr(e,t,n,a){var r=Ba();Ta.flags|=e,r.memoizedState=Ja(1|t,n,void 0,void 0===a?null:a)}function nr(e,t,n,a){var r=Wa();a=void 0===a?null:a;var o=void 0;if(null!==Oa){var i=Oa.memoizedState;if(o=i.destroy,null!==a&&La(a,i.deps))return void(r.memoizedState=Ja(t,n,o,a))}Ta.flags|=e,r.memoizedState=Ja(1|t,n,o,a)}function ar(e,t){return tr(8390656,8,e,t)}function rr(e,t){return nr(2048,8,e,t)}function or(e,t){return nr(4,2,e,t)}function ir(e,t){return nr(4,4,e,t)}function sr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function lr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,nr(4,4,sr.bind(null,t,e),n)}function cr(){}function ur(e,t){var n=Wa();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&La(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function dr(e,t){var n=Wa();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&La(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function pr(e,t,n){return 0===(21&Na)?(e.baseState&&(e.baseState=!1,Fr=!0),e.memoizedState=n):(Xt(n,t)||(n=Ot(),Ta.lanes|=n,di|=n,e.baseState=!0),t)}function hr(e,t){var n=Ft;Ft=0!==n&&4>n?n:4,e(!0);var a=Ia.transition;Ia.transition={};try{e(!1),t()}finally{Ft=n,Ia.transition=a}}function fr(){return Wa().memoizedState}function mr(e,t,n){var a=Ai(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},yr(e))vr(t,n);else if(null!==(n=Un(e,t,n,a))){Pi(n,e,a,Ri()),br(n,t,a)}}function gr(e,t,n){var a=Ai(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(yr(e))vr(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(r.hasEagerState=!0,r.eagerState=s,Xt(s,i)){var l=t.interleaved;return null===l?(r.next=r,Vn(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Un(e,t,r,a))&&(Pi(n,e,a,r=Ri()),br(n,t,a))}}function yr(e){var t=e.alternate;return e===Ta||null!==t&&t===Ta}function vr(e,t){Pa=Aa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function br(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Pt(e,n)}}var xr={readContext:Bn,useCallback:Ma,useContext:Ma,useEffect:Ma,useImperativeHandle:Ma,useInsertionEffect:Ma,useLayoutEffect:Ma,useMemo:Ma,useReducer:Ma,useRef:Ma,useState:Ma,useDebugValue:Ma,useDeferredValue:Ma,useTransition:Ma,useMutableSource:Ma,useSyncExternalStore:Ma,useId:Ma,unstable_isNewReconciler:!1},wr={readContext:Bn,useCallback:function(e,t){return Ba().memoizedState=[e,void 0===t?null:t],e},useContext:Bn,useEffect:ar,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,tr(4194308,4,sr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tr(4194308,4,e,t)},useInsertionEffect:function(e,t){return tr(4,2,e,t)},useMemo:function(e,t){var n=Ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Ba();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=mr.bind(null,Ta,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Ba().memoizedState=e},useState:Za,useDebugValue:cr,useDeferredValue:function(e){return Ba().memoizedState=e},useTransition:function(){var e=Za(!1),t=e[0];return e=hr.bind(null,e[1]),Ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Ta,r=Ba();if(mn){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===ri)throw Error(i(349));0!==(30&Na)||Xa(a,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,ar(Ya.bind(null,a,o,e),[e]),a.flags|=2048,Ja(9,Ka.bind(null,a,o,n,t),void 0,null),n},useId:function(){var e=Ba(),t=ri.identifierPrefix;if(mn){var n=ln;t=":"+t+"R"+(n=(sn&~(1<<32-wt(sn)-1)).toString(32)+n),0<(n=Fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kr={readContext:Bn,useCallback:ur,useContext:Bn,useEffect:rr,useImperativeHandle:lr,useInsertionEffect:or,useLayoutEffect:ir,useMemo:dr,useReducer:Ua,useRef:er,useState:function(){return Ua(Va)},useDebugValue:cr,useDeferredValue:function(e){return pr(Wa(),Oa.memoizedState,e)},useTransition:function(){return[Ua(Va)[0],Wa().memoizedState]},useMutableSource:Ha,useSyncExternalStore:qa,useId:fr,unstable_isNewReconciler:!1},Sr={readContext:Bn,useCallback:ur,useContext:Bn,useEffect:rr,useImperativeHandle:lr,useInsertionEffect:or,useLayoutEffect:ir,useMemo:dr,useReducer:Ga,useRef:er,useState:function(){return Ga(Va)},useDebugValue:cr,useDeferredValue:function(e){var t=Wa();return null===Oa?t.memoizedState=e:pr(t,Oa.memoizedState,e)},useTransition:function(){return[Ga(Va)[0],Wa().memoizedState]},useMutableSource:Ha,useSyncExternalStore:qa,useId:fr,unstable_isNewReconciler:!1};function Cr(e,t){try{var n="",a=t;do{n+=Tn(a),a=a.return}while(a);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function Er(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function _r(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Ir="function"===typeof WeakMap?WeakMap:Map;function Nr(e,t,n){(n=Kn(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){wi||(wi=!0,ki=a),_r(0,t)},n}function Tr(e,t,n){(n=Kn(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){_r(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){_r(0,t),"function"!==typeof a&&(null===Si?Si=new Set([this]):Si.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Or(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new Ir;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=ts.bind(null,e,t,n),t.then(e,e))}function Rr(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ar(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Kn(-1,1)).tag=2,Yn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var Pr=s.ReactCurrentOwner,Fr=!1;function Dr(e,t,n,a){t.child=null===e?pa(t,null,n,a):da(t,e.child,n,a)}function Mr(e,t,n,a,r){n=n.render;var o=t.ref;return jn(t,r),a=za(e,t,n,a,o,r),n=ja(),null===e||Fr?(mn&&n&&dn(t),t.flags|=1,Dr(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,oo(e,t,r))}function Lr(e,t,n,a,r){if(null===e){var o=n.type;return"function"!==typeof o||ls(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=us(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zr(e,t,o,a,r))}if(o=e.child,0===(e.lanes&r)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:Nn)(i,a)&&e.ref===t.ref)return oo(e,t,r)}return t.flags|=1,(e=cs(o,a)).ref=t.ref,e.return=t,t.child=e}function zr(e,t,n,a,r){if(null!==e){var o=e.memoizedProps;if(Nn(o,a)&&e.ref===t.ref){if(Fr=!1,t.pendingProps=a=o,0===(e.lanes&r))return t.lanes=e.lanes,oo(e,t,r);0!==(131072&e.flags)&&(Fr=!0)}}return Wr(e,t,n,a,r)}function jr(e,t,n){var a=t.pendingProps,r=a.children,o=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(li,si),si|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(li,si),si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==o?o.baseLanes:n,ct(li,si),si|=a}else null!==o?(a=o.baseLanes|n,t.memoizedState=null):a=n,ct(li,si),si|=a;return Dr(e,t,r,n),t.child}function Br(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wr(e,t,n,a,r){var o=mt(n)?ht:dt.current;return o=ft(t,o),jn(t,r),n=za(e,t,n,a,o,r),a=ja(),null===e||Fr?(mn&&a&&dn(t),t.flags|=1,Dr(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,oo(e,t,r))}function Vr(e,t,n,a,r){if(mt(n)){var o=!0;bt(t)}else o=!1;if(jn(t,r),null===t.stateNode)ro(e,t),ra(t,n,a),ia(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Bn(c):c=ft(t,c=mt(n)?ht:dt.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==a||l!==c)&&oa(t,i,a,c),Hn=!1;var p=t.memoizedState;i.state=p,Zn(t,a,i,r),l=t.memoizedState,s!==a||p!==l||pt.current||Hn?("function"===typeof u&&(ta(t,n,u,a),l=t.memoizedState),(s=Hn||aa(t,n,s,a,p,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Xn(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:On(t.type,s),i.props=c,d=t.pendingProps,p=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Bn(l):l=ft(t,l=mt(n)?ht:dt.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||p!==l)&&oa(t,i,a,l),Hn=!1,p=t.memoizedState,i.state=p,Zn(t,a,i,r);var f=t.memoizedState;s!==d||p!==f||pt.current||Hn?("function"===typeof h&&(ta(t,n,h,a),f=t.memoizedState),(c=Hn||aa(t,n,c,a,p,f,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),i.props=a,i.state=f,i.context=l,a=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return Ur(e,t,n,a,o,r)}function Ur(e,t,n,a,r,o){Br(e,t);var i=0!==(128&t.flags);if(!a&&!i)return r&&xt(t,n,!1),oo(e,t,o);a=t.stateNode,Pr.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=da(t,e.child,null,o),t.child=da(t,null,s,o)):Dr(e,t,s,o),t.memoizedState=a.state,r&&xt(t,n,!0),t.child}function Gr(e){var t=e.stateNode;t.pendingContext?yt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yt(0,t.context,!1),va(e,t.containerInfo)}function Hr(e,t,n,a,r){return En(),_n(r),t.flags|=256,Dr(e,t,n,a),t.child}var qr,Xr,Kr,Yr,Qr={dehydrated:null,treeContext:null,retryLane:0};function $r(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zr(e,t,n){var a,r=t.pendingProps,o=ka.current,s=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&o)),a?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ct(ka,1&o),null===e)return wn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Le(e)?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ps(l,r,0,null),e=ds(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$r(n),t.memoizedState=Qr,e):Jr(t,l));if(null!==(o=e.memoizedState)&&null!==(a=o.dehydrated))return function(e,t,n,a,r,o,s){if(n)return 256&t.flags?(t.flags&=-257,eo(e,t,s,a=Er(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=a.fallback,r=t.mode,a=ps({mode:"visible",children:a.children},r,0,null),(o=ds(o,r,s,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,0!==(1&t.mode)&&da(t,e.child,null,s),t.child.memoizedState=$r(s),t.memoizedState=Qr,o);if(0===(1&t.mode))return eo(e,t,s,null);if(Le(r))return a=ze(r).digest,o=Error(i(419)),a=Er(o,a,void 0),eo(e,t,s,a);if(n=0!==(s&e.childLanes),Fr||n){if(null!==(a=ri)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Gn(e,r),Pi(a,e,r,-1))}return Hi(),eo(e,t,s,a=Er(Error(i(421))))}return Me(r)?(t.flags|=128,t.child=e.child,t=as.bind(null,e),je(r,t),null):(e=o.treeContext,Q&&(fn=Ue(r),hn=t,mn=!0,yn=null,gn=!1,null!==e&&(an[rn++]=sn,an[rn++]=ln,an[rn++]=on,sn=e.id,ln=e.overflow,on=t)),t=Jr(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,o,n);if(s){s=r.fallback,l=t.mode,a=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=cs(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==a?s=cs(a,s):(s=ds(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?$r(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Qr,r}return e=(s=e.child).sibling,r=cs(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jr(e,t){return(t=ps({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function eo(e,t,n,a){return null!==a&&_n(a),da(t,e.child,null,n),(e=Jr(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function to(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),zn(e.return,t,n)}function no(e,t,n,a,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=r)}function ao(e,t,n){var a=t.pendingProps,r=a.revealOrder,o=a.tail;if(Dr(e,t,a.children,n),0!==(2&(a=ka.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&to(e,n,t);else if(19===e.tag)to(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ct(ka,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Sa(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),no(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Sa(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}no(t,!0,n,null,o);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ro(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),di|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=cs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=cs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function io(e){e.flags|=4}function so(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(K)qr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)j(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xr=function(){},Kr=function(e,t,n,a,r){if((e=e.memoizedProps)!==a){var o=t.stateNode,i=ya(fa.current);n=W(o,n,e,a,r,i),(t.updateQueue=n)&&io(t)}},Yr=function(e,t,n,a){n!==a&&io(t)};else if(Y){qr=function(e,t,n,a){for(var r=t.child;null!==r;){if(5===r.tag){var o=r.stateNode;n&&a&&(o=Re(o,r.type,r.memoizedProps,r)),j(e,o)}else if(6===r.tag)o=r.stateNode,n&&a&&(o=Ae(o,r.memoizedProps,r)),j(e,o);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(o=r.child)&&(o.return=r),qr(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};var lo=function(e,t,n,a){for(var r=t.child;null!==r;){if(5===r.tag){var o=r.stateNode;n&&a&&(o=Re(o,r.type,r.memoizedProps,r)),Ne(e,o)}else if(6===r.tag)o=r.stateNode,n&&a&&(o=Ae(o,r.memoizedProps,r)),Ne(e,o);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(o=r.child)&&(o.return=r),lo(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xr=function(e,t){var n=t.stateNode;if(!so(e,t)){e=n.containerInfo;var a=Ie(e);lo(a,t,!1,!1),n.pendingChildren=a,io(t),Te(e,a)}},Kr=function(e,t,n,a,r){var o=e.stateNode,i=e.memoizedProps;if((e=so(e,t))&&i===a)t.stateNode=o;else{var s=t.stateNode,l=ya(fa.current),c=null;i!==a&&(c=W(s,n,i,a,r,l)),e&&null===c?t.stateNode=o:(o=_e(o,c,n,i,a,t,e,s),B(o,n,a,r,l)&&io(t),t.stateNode=o,e?io(t):qr(o,t,!1,!1))}},Yr=function(e,t,n,a){n!==a?(e=ya(ga.current),n=ya(fa.current),t.stateNode=U(a,e,n,t),io(t)):t.stateNode=e.stateNode}}else Xr=function(){},Kr=function(){},Yr=function(){};function co(e,t){if(!mn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function uo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function po(e,t,n){var a=t.pendingProps;switch(pn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(t),null;case 1:case 17:return mt(t.type)&&gt(),uo(t),null;case 3:return n=t.stateNode,ba(),lt(pt),lt(dt),Ea(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Sn(t)?io(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==yn&&(Li(yn),yn=null))),Xr(e,t),uo(t),null;case 5:wa(t),n=ya(ga.current);var r=t.type;if(null!==e&&null!=t.stateNode)Kr(e,t,r,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(i(166));return uo(t),null}if(e=ya(fa.current),Sn(t)){if(!Q)throw Error(i(175));e=Ge(t.stateNode,t.type,t.memoizedProps,n,e,t,!gn),t.updateQueue=e,null!==e&&io(t)}else{var o=z(r,a,n,e,t);qr(o,t,!1,!1),t.stateNode=o,B(o,r,a,n,e)&&io(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return uo(t),null;case 6:if(e&&null!=t.stateNode)Yr(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(e=ya(ga.current),n=ya(fa.current),Sn(t)){if(!Q)throw Error(i(176));if(e=t.stateNode,n=t.memoizedProps,(a=He(e,n,t,!gn))&&null!==(r=hn))switch(r.tag){case 3:Je(r.stateNode.containerInfo,e,n,0!==(1&r.mode));break;case 5:et(r.type,r.memoizedProps,r.stateNode,e,n,0!==(1&r.mode))}a&&io(t)}else t.stateNode=U(a,e,n,t)}return uo(t),null;case 13:if(lt(ka),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(mn&&null!==fn&&0!==(1&t.mode)&&0===(128&t.flags))Cn(),En(),t.flags|=98560,r=!1;else if(r=Sn(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!Q)throw Error(i(344));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));qe(r,t)}else En(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;uo(t),r=!1}else null!==yn&&(Li(yn),yn=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((n=null!==a)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ka.current)?0===ci&&(ci=3):Hi())),null!==t.updateQueue&&(t.flags|=4),uo(t),null);case 4:return ba(),Xr(e,t),null===e&&Z(t.stateNode.containerInfo),uo(t),null;case 10:return Ln(t.type._context),uo(t),null;case 19:if(lt(ka),null===(r=t.memoizedState))return uo(t),null;if(a=0!==(128&t.flags),null===(o=r.rendering))if(a)co(r,!1);else{if(0!==ci||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Sa(e))){for(t.flags|=128,co(r,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,n=t.child;null!==n;)r=e,(a=n).flags&=14680066,null===(o=a.alternate)?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,r=o.dependencies,a.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext}),n=n.sibling;return ct(ka,1&ka.current|2),t.child}e=e.sibling}null!==r.tail&&Bt()>yi&&(t.flags|=128,a=!0,co(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Sa(o))){if(t.flags|=128,a=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),co(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!mn)return uo(t),null}else 2*Bt()-r.renderingStartTime>yi&&1073741824!==n&&(t.flags|=128,a=!0,co(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Bt(),t.sibling=null,e=ka.current,ct(ka,a?1&e|2:1&e),t):(uo(t),null);case 22:case 23:return Wi(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&si)&&(uo(t),K&&6&t.subtreeFlags&&(t.flags|=8192)):uo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function ho(e,t){switch(pn(t),t.tag){case 1:return mt(t.type)&&gt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ba(),lt(pt),lt(dt),Ea(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return wa(t),null;case 13:if(lt(ka),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));En()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return lt(ka),null;case 4:return ba(),null;case 10:return Ln(t.type._context),null;case 22:case 23:return Wi(),null;default:return null}}var fo=!1,mo=!1,go="function"===typeof WeakSet?WeakSet:Set,yo=null;function vo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){es(e,t,a)}else n.current=null}function bo(e,t,n){try{n()}catch(a){es(e,t,a)}}var xo=!1;function wo(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&bo(t,n,o)}r=r.next}while(r!==a)}}function ko(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function So(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=P(n);else e=n;"function"===typeof t?t(e):t.current=e}}function Co(e){var t=e.alternate;null!==t&&(e.alternate=null,Co(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Eo(e){return 5===e.tag||3===e.tag||4===e.tag}function _o(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Eo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Io(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?ye(n,e,t):pe(n,e);else if(4!==a&&null!==(e=e.child))for(Io(e,t,n),e=e.sibling;null!==e;)Io(e,t,n),e=e.sibling}function No(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==a&&null!==(e=e.child))for(No(e,t,n),e=e.sibling;null!==e;)No(e,t,n),e=e.sibling}var To=null,Oo=!1;function Ro(e,t,n){for(n=n.child;null!==n;)Ao(e,t,n),n=n.sibling}function Ao(e,t,n){if(qt&&"function"===typeof qt.onCommitFiberUnmount)try{qt.onCommitFiberUnmount(Ht,n)}catch(s){}switch(n.tag){case 5:mo||vo(n,t);case 6:if(K){var a=To,r=Oo;To=null,Ro(e,t,n),Oo=r,null!==(To=a)&&(Oo?be(To,n.stateNode):ve(To,n.stateNode))}else Ro(e,t,n);break;case 18:K&&null!==To&&(Oo?$e(To,n.stateNode):Qe(To,n.stateNode));break;case 4:K?(a=To,r=Oo,To=n.stateNode.containerInfo,Oo=!0,Ro(e,t,n),To=a,Oo=r):(Y&&(a=n.stateNode.containerInfo,r=Ie(a),Oe(a,r)),Ro(e,t,n));break;case 0:case 11:case 14:case 15:if(!mo&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var o=r,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&bo(n,t,i),r=r.next}while(r!==a)}Ro(e,t,n);break;case 1:if(!mo&&(vo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(s){es(n,t,s)}Ro(e,t,n);break;case 21:Ro(e,t,n);break;case 22:1&n.mode?(mo=(a=mo)||null!==n.memoizedState,Ro(e,t,n),mo=a):Ro(e,t,n);break;default:Ro(e,t,n)}}function Po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new go),t.forEach((function(t){var a=rs.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function Fo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var o=e,s=t;if(K){var l=s;e:for(;null!==l;){switch(l.tag){case 5:To=l.stateNode,Oo=!1;break e;case 3:case 4:To=l.stateNode.containerInfo,Oo=!0;break e}l=l.return}if(null===To)throw Error(i(160));Ao(o,s,r),To=null,Oo=!1}else Ao(o,s,r);var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){es(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Do(t,e),t=t.sibling}function Do(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fo(t,e),Mo(e),4&a){try{wo(3,e,e.return),ko(3,e)}catch(h){es(e,e.return,h)}try{wo(5,e,e.return)}catch(h){es(e,e.return,h)}}break;case 1:Fo(t,e),Mo(e),512&a&&null!==n&&vo(n,n.return);break;case 5:if(Fo(t,e),Mo(e),512&a&&null!==n&&vo(n,n.return),K){if(32&e.flags){var r=e.stateNode;try{xe(r)}catch(h){es(e,e.return,h)}}if(4&a&&null!=(r=e.stateNode)){var o=e.memoizedProps;if(n=null!==n?n.memoizedProps:o,a=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{me(r,t,a,n,o,e)}catch(h){es(e,e.return,h)}}}break;case 6:if(Fo(t,e),Mo(e),4&a&&K){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,o=e.memoizedProps,n=null!==n?n.memoizedProps:o;try{he(r,n,o)}catch(h){es(e,e.return,h)}}break;case 3:if(Fo(t,e),Mo(e),4&a){if(K&&Q&&null!==n&&n.memoizedState.isDehydrated)try{Ke(t.containerInfo)}catch(h){es(e,e.return,h)}if(Y){r=t.containerInfo,o=t.pendingChildren;try{Oe(r,o)}catch(h){es(e,e.return,h)}}}break;case 4:if(Fo(t,e),Mo(e),4&a&&Y){r=(o=e.stateNode).containerInfo,o=o.pendingChildren;try{Oe(r,o)}catch(h){es(e,e.return,h)}}break;case 13:Fo(t,e),Mo(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(gi=Bt())),4&a&&Po(e);break;case 22:var s=null!==n&&null!==n.memoizedState;if(1&e.mode?(mo=(n=mo)||s,Fo(t,e),mo=n):Fo(t,e),Mo(e),8192&a){if(n=null!==e.memoizedState,(e.stateNode.isHidden=n)&&!s&&0!==(1&e.mode))for(yo=e,a=e.child;null!==a;){for(t=yo=a;null!==yo;){var l=(s=yo).child;switch(s.tag){case 0:case 11:case 14:case 15:wo(4,s,s.return);break;case 1:vo(s,s.return);var c=s.stateNode;if("function"===typeof c.componentWillUnmount){var u=s,d=s.return;try{var p=u;c.props=p.memoizedProps,c.state=p.memoizedState,c.componentWillUnmount()}catch(h){es(u,d,h)}}break;case 5:vo(s,s.return);break;case 22:if(null!==s.memoizedState){Bo(t);continue}}null!==l?(l.return=s,yo=l):Bo(t)}a=a.sibling}if(K)e:if(a=null,K)for(t=e;;){if(5===t.tag){if(null===a){a=t;try{r=t.stateNode,n?we(r):Se(t.stateNode,t.memoizedProps)}catch(h){es(e,e.return,h)}}}else if(6===t.tag){if(null===a)try{o=t.stateNode,n?ke(o):Ce(o,t.memoizedProps)}catch(h){es(e,e.return,h)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}}break;case 19:Fo(t,e),Mo(e),4&a&&Po(e);break;case 21:break;default:Fo(t,e),Mo(e)}}function Mo(e){var t=e.flags;if(2&t){try{if(K){e:{for(var n=e.return;null!==n;){if(Eo(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(xe(r),a.flags&=-33),No(e,_o(e),r);break;case 3:case 4:var o=a.stateNode.containerInfo;Io(e,_o(e),o);break;default:throw Error(i(161))}}}catch(s){es(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Lo(e,t,n){yo=e,zo(e,t,n)}function zo(e,t,n){for(var a=0!==(1&e.mode);null!==yo;){var r=yo,o=r.child;if(22===r.tag&&a){var i=null!==r.memoizedState||fo;if(!i){var s=r.alternate,l=null!==s&&null!==s.memoizedState||mo;s=fo;var c=mo;if(fo=i,(mo=l)&&!c)for(yo=r;null!==yo;)l=(i=yo).child,22===i.tag&&null!==i.memoizedState?Wo(r):null!==l?(l.return=i,yo=l):Wo(r);for(;null!==o;)yo=o,zo(o,t,n),o=o.sibling;yo=r,fo=s,mo=c}jo(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,yo=o):jo(e)}}function jo(e){for(;null!==yo;){var t=yo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:mo||ko(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!mo)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:On(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Jn(t,o,a);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=P(t.child.stateNode);break;case 1:n=t.child.stateNode}Jn(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&fe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Q&&null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ye(d)}}}break;default:throw Error(i(163))}mo||512&t.flags&&So(t)}catch(p){es(t,t.return,p)}}if(t===e){yo=null;break}if(null!==(n=t.sibling)){n.return=t.return,yo=n;break}yo=t.return}}function Bo(e){for(;null!==yo;){var t=yo;if(t===e){yo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,yo=n;break}yo=t.return}}function Wo(e){for(;null!==yo;){var t=yo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ko(4,t)}catch(l){es(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){es(t,r,l)}}var o=t.return;try{So(t)}catch(l){es(t,o,l)}break;case 5:var i=t.return;try{So(t)}catch(l){es(t,i,l)}}}catch(l){es(t,t.return,l)}if(t===e){yo=null;break}var s=t.sibling;if(null!==s){s.return=t.return,yo=s;break}yo=t.return}}var Vo=0,Uo=1,Go=2,Ho=3,qo=4;if("function"===typeof Symbol&&Symbol.for){var Xo=Symbol.for;Vo=Xo("selector.component"),Uo=Xo("selector.has_pseudo_class"),Go=Xo("selector.role"),Ho=Xo("selector.test_id"),qo=Xo("selector.text")}function Ko(e){var t=$(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(i(364));return t}if(null===(e=re(e)))throw Error(i(362));return e.stateNode.current}function Yo(e,t){switch(t.$$typeof){case Vo:if(e.type===t.value)return!0;break;case Uo:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var a=e[n++],r=e[n++],o=t[r];if(5!==a.tag||!se(a)){for(;null!=o&&Yo(a,o);)o=t[++r];if(r===t.length){t=!0;break e}for(a=a.child;null!==a;)e.push(a,r),a=a.sibling}}t=!1}return t;case Go:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case qo:if((5===e.tag||6===e.tag)&&(null!==(e=ie(e))&&0<=e.indexOf(t.value)))return!0;break;case Ho:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Qo(e){switch(e.$$typeof){case Vo:return"<"+(S(e.value)||"Unknown")+">";case Uo:return":has("+(Qo(e)||"")+")";case Go:return'[role="'+e.value+'"]';case qo:return'"'+e.value+'"';case Ho:return'[data-testname="'+e.value+'"]';default:throw Error(i(365))}}function $o(e,t){var n=[];e=[e,0];for(var a=0;a<e.length;){var r=e[a++],o=e[a++],i=t[o];if(5!==r.tag||!se(r)){for(;null!=i&&Yo(r,i);)i=t[++o];if(o===t.length)n.push(r);else for(r=r.child;null!==r;)e.push(r,o),r=r.sibling}}return n}function Zo(e,t){if(!ae)throw Error(i(363));e=$o(e=Ko(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var a=e[n++];if(5===a.tag)se(a)||t.push(a.stateNode);else for(a=a.child;null!==a;)e.push(a),a=a.sibling}return t}var Jo=Math.ceil,ei=s.ReactCurrentDispatcher,ti=s.ReactCurrentOwner,ni=s.ReactCurrentBatchConfig,ai=0,ri=null,oi=null,ii=0,si=0,li=st(0),ci=0,ui=null,di=0,pi=0,hi=0,fi=null,mi=null,gi=0,yi=1/0,vi=null;function bi(){yi=Bt()+500}var xi,wi=!1,ki=null,Si=null,Ci=!1,Ei=null,_i=0,Ii=0,Ni=null,Ti=-1,Oi=0;function Ri(){return 0!==(6&ai)?Bt():-1!==Ti?Ti:Ti=Bt()}function Ai(e){return 0===(1&e.mode)?1:0!==(2&ai)&&0!==ii?ii&-ii:null!==In.transition?(0===Oi&&(Oi=Ot()),Oi):0!==(e=Ft)?e:J()}function Pi(e,t,n,a){if(50<Ii)throw Ii=0,Ni=null,Error(i(185));At(e,n,a),0!==(2&ai)&&e===ri||(e===ri&&(0===(2&ai)&&(pi|=n),4===ci&&zi(e,ii)),Fi(e,a),1===n&&0===ai&&0===(1&t.mode)&&(bi(),Yt&&Zt()))}function Fi(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-wt(o),s=1<<i,l=r[i];-1===l?0!==(s&n)&&0===(s&a)||(r[i]=Nt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var a=It(e,e===ri?ii:0);if(0===a)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){Yt=!0,$t(e)}(ji.bind(null,e)):$t(ji.bind(null,e)),te?ne((function(){0===(6&ai)&&Zt()})):Mt(Wt,Zt),n=null;else{switch(Dt(a)){case 1:n=Wt;break;case 4:n=Vt;break;case 16:default:n=Ut;break;case 536870912:n=Gt}n=os(n,Di.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Di(e,t){if(Ti=-1,Oi=0,0!==(6&ai))throw Error(i(327));var n=e.callbackNode;if(Zi()&&e.callbackNode!==n)return null;var a=It(e,e===ri?ii:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=qi(e,a);else{t=a;var r=ai;ai|=2;var o=Gi();for(ri===e&&ii===t||(vi=null,bi(),Vi(e,t));;)try{Ki();break}catch(l){Ui(e,l)}Dn(),ei.current=o,ai=r,null!==oi?t=0:(ri=null,ii=0,t=ci)}if(0!==t){if(2===t&&(0!==(r=Tt(e))&&(a=r,t=Mi(e,r))),1===t)throw n=ui,Vi(e,0),zi(e,a),Fi(e,Bt()),n;if(6===t)zi(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],o=r.getSnapshot;r=r.value;try{if(!Xt(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=qi(e,a))&&(0!==(o=Tt(e))&&(a=o,t=Mi(e,o))),1===t))throw n=ui,Vi(e,0),zi(e,a),Fi(e,Bt()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:case 5:$i(e,mi,vi);break;case 3:if(zi(e,a),(130023424&a)===a&&10<(t=gi+500-Bt())){if(0!==It(e,0))break;if(((r=e.suspendedLanes)&a)!==a){Ri(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=G($i.bind(null,e,mi,vi),t);break}$i(e,mi,vi);break;case 4:if(zi(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var s=31-wt(a);o=1<<s,(s=t[s])>r&&(r=s),a&=~o}if(a=r,10<(a=(120>(a=Bt()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Jo(a/1960))-a)){e.timeoutHandle=G($i.bind(null,e,mi,vi),a);break}$i(e,mi,vi);break;default:throw Error(i(329))}}}return Fi(e,Bt()),e.callbackNode===n?Di.bind(null,e):null}function Mi(e,t){var n=fi;return e.current.memoizedState.isDehydrated&&(Vi(e,t).flags|=256),2!==(e=qi(e,t))&&(t=mi,mi=n,null!==t&&Li(t)),e}function Li(e){null===mi?mi=e:mi.push.apply(mi,e)}function zi(e,t){for(t&=~hi,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),a=1<<n;e[n]=-1,t&=~a}}function ji(e){if(0!==(6&ai))throw Error(i(327));Zi();var t=It(e,0);if(0===(1&t))return Fi(e,Bt()),null;var n=qi(e,t);if(0!==e.tag&&2===n){var a=Tt(e);0!==a&&(t=a,n=Mi(e,a))}if(1===n)throw n=ui,Vi(e,0),zi(e,t),Fi(e,Bt()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$i(e,mi,vi),Fi(e,Bt()),null}function Bi(e){null!==Ei&&0===Ei.tag&&0===(6&ai)&&Zi();var t=ai;ai|=1;var n=ni.transition,a=Ft;try{if(ni.transition=null,Ft=1,e)return e()}finally{Ft=a,ni.transition=n,0===(6&(ai=t))&&Zt()}}function Wi(){si=li.current,lt(li)}function Vi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,H(n)),null!==oi)for(n=oi.return;null!==n;){var a=n;switch(pn(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&gt();break;case 3:ba(),lt(pt),lt(dt),Ea();break;case 5:wa(a);break;case 4:ba();break;case 13:case 19:lt(ka);break;case 10:Ln(a.type._context);break;case 22:case 23:Wi()}n=n.return}if(ri=e,oi=e=cs(e.current,null),ii=si=t,ci=0,ui=null,hi=pi=di=0,mi=fi=null,null!==Wn){for(t=0;t<Wn.length;t++)if(null!==(a=(n=Wn[t]).interleaved)){n.interleaved=null;var r=a.next,o=n.pending;if(null!==o){var i=o.next;o.next=r,a.next=i}n.pending=a}Wn=null}return e}function Ui(e,t){for(;;){var n=oi;try{if(Dn(),_a.current=xr,Aa){for(var a=Ta.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}Aa=!1}if(Na=0,Ra=Oa=Ta=null,Pa=!1,Fa=0,ti.current=null,null===n||null===n.return){ci=1,ui=t,oi=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=ii,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Rr(s);if(null!==f){f.flags&=-257,Ar(f,s,l,0,t),1&f.mode&&Or(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){Or(o,u,t),Hi();break e}c=Error(i(426))}else if(mn&&1&l.mode){var y=Rr(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Ar(y,s,l,0,t),_n(Cr(c,l));break e}}o=c=Cr(c,l),4!==ci&&(ci=2),null===fi?fi=[o]:fi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,$n(o,Nr(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Si||!Si.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,$n(o,Tr(o,l,t));break e}}o=o.return}while(null!==o)}Qi(n)}catch(x){t=x,oi===n&&null!==n&&(oi=n=n.return);continue}break}}function Gi(){var e=ei.current;return ei.current=xr,null===e?xr:e}function Hi(){0!==ci&&3!==ci&&2!==ci||(ci=4),null===ri||0===(268435455&di)&&0===(268435455&pi)||zi(ri,ii)}function qi(e,t){var n=ai;ai|=2;var a=Gi();for(ri===e&&ii===t||(vi=null,Vi(e,t));;)try{Xi();break}catch(r){Ui(e,r)}if(Dn(),ai=n,ei.current=a,null!==oi)throw Error(i(261));return ri=null,ii=0,ci}function Xi(){for(;null!==oi;)Yi(oi)}function Ki(){for(;null!==oi&&!zt();)Yi(oi)}function Yi(e){var t=xi(e.alternate,e,si);e.memoizedProps=e.pendingProps,null===t?Qi(e):oi=t,ti.current=null}function Qi(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=po(n,t,si)))return void(oi=n)}else{if(null!==(n=ho(n,t)))return n.flags&=32767,void(oi=n);if(null===e)return ci=6,void(oi=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(oi=t);oi=t=e}while(null!==t);0===ci&&(ci=5)}function $i(e,t,n){var a=Ft,r=ni.transition;try{ni.transition=null,Ft=1,function(e,t,n,a){do{Zi()}while(null!==Ei);if(0!==(6&ai))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-wt(n),o=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~o}}(e,o),e===ri&&(oi=ri=null,ii=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ci||(Ci=!0,os(Ut,(function(){return Zi(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=ni.transition,ni.transition=null;var s=Ft;Ft=1;var l=ai;ai|=4,ti.current=null,function(e,t){for(M(e.containerInfo),yo=t;null!==yo;)if(t=(e=yo).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,yo=t;else for(;null!==yo;){e=yo;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var a=n.memoizedProps,r=n.memoizedState,o=e.stateNode,s=o.getSnapshotBeforeUpdate(e.elementType===e.type?a:On(e.type,a),r);o.__reactInternalSnapshotBeforeUpdate=s}break;case 3:K&&Ee(e.stateNode.containerInfo);break;default:throw Error(i(163))}}catch(l){es(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,yo=t;break}yo=e.return}n=xo,xo=!1}(e,n),Do(n,e),L(e.containerInfo),e.current=n,Lo(n,e,r),jt(),ai=l,Ft=s,ni.transition=o}else e.current=n;if(Ci&&(Ci=!1,Ei=e,_i=r),o=e.pendingLanes,0===o&&(Si=null),function(e){if(qt&&"function"===typeof qt.onCommitFiberRoot)try{qt.onCommitFiberRoot(Ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Fi(e,Bt()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(wi)throw wi=!1,e=ki,ki=null,e;0!==(1&_i)&&0!==e.tag&&Zi(),o=e.pendingLanes,0!==(1&o)?e===Ni?Ii++:(Ii=0,Ni=e):Ii=0,Zt()}(e,t,n,a)}finally{ni.transition=r,Ft=a}return null}function Zi(){if(null!==Ei){var e=Dt(_i),t=ni.transition,n=Ft;try{if(ni.transition=null,Ft=16>e?16:e,null===Ei)var a=!1;else{if(e=Ei,Ei=null,_i=0,0!==(6&ai))throw Error(i(331));var r=ai;for(ai|=4,yo=e.current;null!==yo;){var o=yo,s=o.child;if(0!==(16&yo.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(yo=u;null!==yo;){var d=yo;switch(d.tag){case 0:case 11:case 15:wo(8,d,o)}var p=d.child;if(null!==p)p.return=d,yo=p;else for(;null!==yo;){var h=(d=yo).sibling,f=d.return;if(Co(d),d===u){yo=null;break}if(null!==h){h.return=f,yo=h;break}yo=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}yo=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,yo=s;else e:for(;null!==yo;){if(0!==(2048&(o=yo).flags))switch(o.tag){case 0:case 11:case 15:wo(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,yo=v;break e}yo=o.return}}var b=e.current;for(yo=b;null!==yo;){var x=(s=yo).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,yo=x;else e:for(s=b;null!==yo;){if(0!==(2048&(l=yo).flags))try{switch(l.tag){case 0:case 11:case 15:ko(9,l)}}catch(k){es(l,l.return,k)}if(l===s){yo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,yo=w;break e}yo=l.return}}if(ai=r,Zt(),qt&&"function"===typeof qt.onPostCommitFiberRoot)try{qt.onPostCommitFiberRoot(Ht,e)}catch(k){}a=!0}return a}finally{Ft=n,ni.transition=t}}return!1}function Ji(e,t,n){e=Yn(e,t=Nr(0,t=Cr(n,t),1),1),t=Ri(),null!==e&&(At(e,1,t),Fi(e,t))}function es(e,t,n){if(3===e.tag)Ji(e,e,n);else for(;null!==t;){if(3===t.tag){Ji(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Si||!Si.has(a))){t=Yn(t,e=Tr(t,e=Cr(n,e),1),1),e=Ri(),null!==t&&(At(t,1,e),Fi(t,e));break}}t=t.return}}function ts(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=Ri(),e.pingedLanes|=e.suspendedLanes&n,ri===e&&(ii&n)===n&&(4===ci||3===ci&&(130023424&ii)===ii&&500>Bt()-gi?Vi(e,0):hi|=n),Fi(e,t)}function ns(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Et,0===(130023424&(Et<<=1))&&(Et=4194304)));var n=Ri();null!==(e=Gn(e,t))&&(At(e,t,n),Fi(e,n))}function as(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ns(e,n)}function rs(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}null!==a&&a.delete(t),ns(e,n)}function os(e,t){return Mt(e,t)}function is(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(e,t,n,a){return new is(e,t,n,a)}function ls(e){return!(!(e=e.prototype)||!e.isReactComponent)}function cs(e,t){var n=e.alternate;return null===n?((n=ss(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function us(e,t,n,a,r,o){var s=2;if(a=e,"function"===typeof e)ls(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case u:return ds(n.children,r,o,t);case d:s=8,r|=8;break;case p:return(e=ss(12,n,t,2|r)).elementType=p,e.lanes=o,e;case g:return(e=ss(13,n,t,r)).elementType=g,e.lanes=o,e;case y:return(e=ss(19,n,t,r)).elementType=y,e.lanes=o,e;case x:return ps(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case f:s=9;break e;case m:s=11;break e;case v:s=14;break e;case b:s=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=ss(s,n,t,r)).elementType=e,t.type=a,t.lanes=o,t}function ds(e,t,n,a){return(e=ss(7,e,a,t)).lanes=n,e}function ps(e,t,n,a){return(e=ss(22,e,a,t)).elementType=x,e.lanes=n,e.stateNode={isHidden:!1},e}function hs(e,t,n){return(e=ss(6,e,null,t)).lanes=n,e}function fs(e,t,n){return(t=ss(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ms(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rt(0),this.expirationTimes=Rt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.identifierPrefix=a,this.onRecoverableError=r,Q&&(this.mutableSourceEagerHydrationData=null)}function gs(e,t,n,a,r,o,i,s,l){return e=new ms(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=ss(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qn(o),e}function ys(e){if(!e)return ut;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(mt(n))return vt(e,n,t)}return t}function vs(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=N(t))?null:e.stateNode}function bs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function xs(e,t){bs(e,t),(e=e.alternate)&&bs(e,t)}function ws(e){return null===(e=N(e))?null:e.stateNode}function ks(){return null}return xi=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||pt.current)Fr=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Fr=!1,function(e,t,n){switch(t.tag){case 3:Gr(t),En();break;case 5:xa(t);break;case 1:mt(t.type)&&bt(t);break;case 4:va(t,t.stateNode.containerInfo);break;case 10:Mn(0,t.type._context,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(ct(ka,1&ka.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Zr(e,t,n):(ct(ka,1&ka.current),null!==(e=oo(e,t,n))?e.sibling:null);ct(ka,1&ka.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return ao(e,t,n);t.flags|=128}var r=t.memoizedState;if(null!==r&&(r.rendering=null,r.tail=null,r.lastEffect=null),ct(ka,ka.current),a)break;return null;case 22:case 23:return t.lanes=0,jr(e,t,n)}return oo(e,t,n)}(e,t,n);Fr=0!==(131072&e.flags)}else Fr=!1,mn&&0!==(1048576&t.flags)&&un(t,nn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ro(e,t),e=t.pendingProps;var r=ft(t,dt.current);jn(t,n),r=za(null,t,a,e,r,n);var o=ja();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(a)?(o=!0,bt(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,qn(t),r.updater=na,t.stateNode=r,r._reactInternals=t,ia(t,a,e,n),t=Ur(null,t,a,!0,o,n)):(t.tag=0,mn&&o&&dn(t),Dr(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(ro(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return ls(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===m)return 11;if(e===v)return 14}return 2}(a),e=On(a,e),r){case 0:t=Wr(null,t,a,e,n);break e;case 1:t=Vr(null,t,a,e,n);break e;case 11:t=Mr(null,t,a,e,n);break e;case 14:t=Lr(null,t,a,On(a.type,e),n);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Wr(e,t,a,r=t.elementType===a?r:On(a,r),n);case 1:return a=t.type,r=t.pendingProps,Vr(e,t,a,r=t.elementType===a?r:On(a,r),n);case 3:e:{if(Gr(t),null===e)throw Error(i(387));a=t.pendingProps,r=(o=t.memoizedState).element,Xn(e,t),Zn(t,a,null,n);var s=t.memoizedState;if(a=s.element,Q&&o.isDehydrated){if(o={element:a,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Hr(e,t,a,n,r=Cr(Error(i(423)),t));break e}if(a!==r){t=Hr(e,t,a,n,r=Cr(Error(i(424)),t));break e}for(Q&&(fn=Ve(t.stateNode.containerInfo),hn=t,mn=!0,yn=null,gn=!1),n=pa(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(En(),a===r){t=oo(e,t,n);break e}Dr(e,t,a,n)}t=t.child}return t;case 5:return xa(t),null===e&&wn(t),a=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,V(a,r)?s=null:null!==o&&V(a,o)&&(t.flags|=32),Br(e,t),Dr(e,t,s,n),t.child;case 6:return null===e&&wn(t),null;case 13:return Zr(e,t,n);case 4:return va(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=da(t,null,a,n):Dr(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,Mr(e,t,a,r=t.elementType===a?r:On(a,r),n);case 7:return Dr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Dr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,o=t.memoizedProps,Mn(0,a,s=r.value),null!==o)if(Xt(o.value,s)){if(o.children===r.children&&!pt.current){t=oo(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===o.tag){(c=Kn(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),zn(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),zn(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Dr(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,jn(t,n),a=a(r=Bn(r)),t.flags|=1,Dr(e,t,a,n),t.child;case 14:return r=On(a=t.type,t.pendingProps),Lr(e,t,a,r=On(a.type,r),n);case 15:return zr(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:On(a,r),ro(e,t),t.tag=1,mt(a)?(e=!0,bt(t)):e=!1,jn(t,n),ra(t,a,r),ia(t,a,r,n),Ur(null,t,a,!0,e,n);case 19:return ao(e,t,n);case 22:return jr(e,t,n)}throw Error(i(156,t.tag))},t.attemptContinuousHydration=function(e){if(13===e.tag){var t=Gn(e,134217728);if(null!==t)Pi(t,e,134217728,Ri());xs(e,134217728)}},t.attemptDiscreteHydration=function(e){if(13===e.tag){var t=Gn(e,1);if(null!==t)Pi(t,e,1,Ri());xs(e,1)}},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Ai(e),n=Gn(e,t);if(null!==n)Pi(n,e,t,Ri());xs(e,t)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_t(t.pendingLanes);0!==n&&(Pt(t,1|n),Fi(t,Bt()),0===(6&ai)&&(bi(),Zt()))}break;case 13:Bi((function(){var t=Gn(e,1);if(null!==t){var n=Ri();Pi(t,e,1,n)}})),xs(e,1)}},t.batchedUpdates=function(e,t){var n=ai;ai|=1;try{return e(t)}finally{0===(ai=n)&&(bi(),Yt&&Zt())}},t.createComponentSelector=function(e){return{$$typeof:Vo,value:e}},t.createContainer=function(e,t,n,a,r,o,i){return gs(e,t,!1,null,0,a,0,o,i)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Uo,value:e}},t.createHydrationContainer=function(e,t,n,a,r,o,i,s,l){return(e=gs(n,a,!0,e,0,o,0,s,l)).context=ys(null),n=e.current,(o=Kn(a=Ri(),r=Ai(n))).callback=void 0!==t&&null!==t?t:null,Yn(n,o,r),e.current.lanes=r,At(e,r,a),Fi(e,a),e},t.createPortal=function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Go,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Ho,value:e}},t.createTextSelector=function(e){return{$$typeof:qo,value:e}},t.deferredUpdates=function(e){var t=Ft,n=ni.transition;try{return ni.transition=null,Ft=16,e()}finally{Ft=t,ni.transition=n}},t.discreteUpdates=function(e,t,n,a,r){var o=Ft,i=ni.transition;try{return ni.transition=null,Ft=1,e(t,n,a,r)}finally{Ft=o,ni.transition=i,0===ai&&bi()}},t.findAllNodes=Zo,t.findBoundingRects=function(e,t){if(!ae)throw Error(i(363));t=Zo(e,t),e=[];for(var n=0;n<t.length;n++)e.push(oe(t[n]));for(t=e.length-1;0<t;t--)for(var a=(n=e[t]).x,r=a+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,p=c.y,h=p+c.height;if(a>=u&&o>=p&&r<=d&&s<=h){e.splice(t,1);break}if(!(a!==u||n.width!==c.width||h<o||p>s)){p>o&&(c.height+=p-o,c.y=o),h<s&&(c.height=s-p),e.splice(t,1);break}if(!(o!==p||n.height!==c.height||d<a||u>r)){u>a&&(c.width+=u-a,c.x=a),d<r&&(c.width=r-u),e.splice(t,1);break}}return e},t.findHostInstance=vs,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=I(e))?O(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return vs(e)},t.flushControlled=function(e){var t=ai;ai|=1;var n=ni.transition,a=Ft;try{ni.transition=null,Ft=1,e()}finally{Ft=a,ni.transition=n,0===(ai=t)&&(bi(),Zt())}},t.flushPassiveEffects=Zi,t.flushSync=Bi,t.focusWithin=function(e,t){if(!ae)throw Error(i(363));for(t=$o(e=Ko(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ft},t.getFindAllNodesFailureDescription=function(e,t){if(!ae)throw Error(i(363));var n=0,a=[];e=[Ko(e),0];for(var r=0;r<e.length;){var o=e[r++],s=e[r++],l=t[s];if((5!==o.tag||!se(o))&&(Yo(o,l)&&(a.push(Qo(l)),++s>n&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Qo(t[n]));return"findAllNodes was able to match part of the selector:\n  "+a.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?P(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ws,findFiberByHostInstance:e.findFiberByHostInstance||ks,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),qt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,a){if(!ae)throw Error(i(363));e=Zo(e,t);var r=ue(e,n,a).disconnect;return{disconnect:function(){r()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Ft;try{return Ft=e,t()}finally{Ft=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,a){var r=t.current,o=Ri(),i=Ai(r);return n=ys(n),null===t.context?t.context=n:t.pendingContext=n,(t=Kn(o,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Yn(r,t,i))&&(Pi(e,r,i,o),Qn(e,r,i)),i},t}},223:(e,t,n)=>{"use strict";e.exports=n(2354)},5914:(e,t,n)=>{"use strict";e.exports=n(8106)},5230:(e,t)=>{"use strict";var n,a=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case o:case s:case i:case p:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference")},6440:(e,t,n)=>{"use strict";n(5230)},5918:(e,t,n)=>{"use strict";var a=n(7313),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,o={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,a)&&!l.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===o[a]&&(o[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},306:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,a){var r,o={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,r)&&!C.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=a;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,r,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return i=i(l=e),e=""===o?"."+N(l,0):o,w(i)?(r="",null!=e&&(r=e.replace(I,"$&/")+"/"),T(i,t,r,"",(function(e){return e}))):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(I,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+N(s=e[c],c);l+=T(s,t,r,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,r,u=o+N(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var a=[],r=0;return T(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},P={transition:null},F={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},7313:(e,t,n)=>{"use strict";e.exports=n(306)},6417:(e,t,n)=>{"use strict";e.exports=n(5918)},1299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var a,r=n(7827),o=(a=r)&&a.__esModule?a:{default:a},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var a={};(0,o.default)(e,(function(e,t){var n=s[t];n?a=i({},a,n(e)):a[t]=e})),t[n]=a})),t};t.default=l},83:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(7313),i=(a=o)&&a.__esModule?a:{default:a};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var n,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return o=l=s(this,(n=a.__proto__||Object.getPrototypeOf(a)).call.apply(n,[this].concat(u))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return i.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},i.default.createElement(e,r({},l.props,l.state)))},s(l,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),a}(i.default.Component)};t.default=l},2610:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(7313),i=(a=o)&&a.__esModule?a:{default:a};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var n,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return o=l=s(this,(n=a.__proto__||Object.getPrototypeOf(a)).call.apply(n,[this].concat(u))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return i.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},i.default.createElement(e,r({},l.props,l.state)))},s(l,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),a}(i.default.Component)};t.default=l},8197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var a=s(n(5406)),r=s(n(7827)),o=s(n(634)),i=s(n(3428));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,i.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,r.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,a.default)(t)&&n.push(t)})),n};t.default=l},9584:(e,t,n)=>{"use strict";t.tz=void 0;var a=c(n(8197)),r=c(n(3417)),o=c(n(1299)),i=c(n(2610)),s=c(n(83)),l=c(n(6751));function c(e){return e&&e.__esModule?e:{default:e}}i.default,t.tz=i.default,s.default,l.default;var u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=(0,a.default)(n),l=(0,r.default)(e,s);return(0,o.default)(l)};t.ZP=u},6751:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&a("first-child"),e===t-1&&a("last-child"),(0===e||e%2===0)&&a("even"),1===Math.abs(e%2)&&a("odd"),a("nth-child",e),n}},3417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var a=i(n(7827)),r=i(n(8504)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function i(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,r.default)(e.default)||{};return t.map((function(t){var r=e[t];return r&&(0,a.default)(r,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],r[t])})),t})),n};t.default=s},3095:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<o(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,i=r>>>1;a<i;){var s=2*(a+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[a]=u,e[c]=n,a=c):(e[a]=l,e[s]=n,a=s);else{if(!(c<r&&0>o(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=a(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function w(e){if(g=!1,x(e),!m)if(null!==a(c))m=!0,P(k);else{var t=a(u);null!==t&&F(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(_),_=-1),f=!0;var o=h;try{for(x(n),p=a(c);null!==p&&(!(p.expirationTime>n)||e&&!T());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===a(c)&&r(c),x(n)}else r(c);p=a(c)}if(null!==p)var l=!0;else{var d=a(u);null!==d&&F(w,d.startTime-n),l=!1}return l}finally{p=null,h=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,E=null,_=-1,I=5,N=-1;function T(){return!(t.unstable_now()-N<I)}function O(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?S():(C=!1,E=null)}}else C=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=O,S=function(){A.postMessage(null)}}else S=function(){y(O,0)};function P(e){E=e,C||(C=!0,S())}function F(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(u,e),null===a(c)&&e===a(u)&&(g?(v(_),_=-1):g=!0,F(w,o-i))):(e.sortIndex=s,n(c,e),m||f||(m=!0,P(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},2224:(e,t,n)=>{"use strict";e.exports=n(3095)},4213:(e,t,n)=>{var a=n(8039),r=n(3602),o=n(518),i=n(7578),s=n(2707),l=n(2152),c=n(6359);c.alea=a,c.xor128=r,c.xorwow=o,c.xorshift7=i,c.xor4096=s,c.tychei=l,e.exports=c},8039:function(e,t,n){var a;!function(e,r,o){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var a=.02519603282416938*(e+=t.charCodeAt(n));a-=e=a>>>0,e=(a*=e)>>>0,e+=4294967296*(a-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new i(e),a=t&&t.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+11102230246251565e-32*(2097152*r()|0)},r.quick=r,a&&("object"==typeof a&&s(a,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.alea=l}(0,e=n.nmd(e),n.amdD)},2152:function(e,t,n){var a;!function(e,r,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,a=t.d,r=t.a;return e=e<<25^e>>>7^n,n=n-a|0,a=a<<24^a>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-a|0,t.d=a<<16^n>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var a=0;a<n.length+20;a++)t.b^=0|n.charCodeAt(a),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new i(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&s(a,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.tychei=l}(0,e=n.nmd(e),n.amdD)},3602:function(e,t,n){var a;!function(e,r,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new i(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&s(a,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xor128=l}(0,e=n.nmd(e),n.amdD)},2707:function(e,t,n){var a;!function(e,r,o){function i(e){var t=this;t.next=function(){var e,n,a=t.w,r=t.X,o=t.i;return t.w=a=a+1640531527|0,n=r[o+34&127],e=r[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=r[o]=n^e,t.i=o,n+(a^a>>>16)|0},function(e,t){var n,a,r,o,i,s=[],l=128;for(t===(0|t)?(a=t,t=null):(t+="\0",a=0,l=Math.max(l,t.length)),r=0,o=-32;o<l;++o)t&&(a^=t.charCodeAt((o+32)%t.length)),0===o&&(i=a),a^=a<<10,a^=a>>>15,a^=a<<4,a^=a>>>13,o>=0&&(i=i+1640531527|0,r=0==(n=s[127&o]^=a+i)?r+1:0);for(r>=128&&(s[127&(t&&t.length||0)]=-1),r=127,o=512;o>0;--o)a=s[r+34&127],n=s[r=r+1&127],a^=a<<13,n^=n<<17,a^=a>>>15,n^=n>>>12,s[r]=a^n;e.w=i,e.X=s,e.i=r}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.X&&s(a,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},7578:function(e,t,n){var a;!function(e,r,o){function i(e){var t=this;t.next=function(){var e,n,a=t.x,r=t.i;return e=a[r],n=(e^=e>>>7)^e<<24,n^=(e=a[r+1&7])^e>>>10,n^=(e=a[r+3&7])^e>>>3,n^=(e=a[r+4&7])^e<<7,e=a[r+7&7],n^=(e^=e<<13)^e<<9,a[r]=n,t.i=r+1&7,n},function(e,t){var n,a=[];if(t===(0|t))a[0]=t;else for(t=""+t,n=0;n<t.length;++n)a[7&n]=a[7&n]<<15^t.charCodeAt(n)+a[n+1&7]<<13;for(;a.length<8;)a.push(0);for(n=0;n<8&&0===a[n];++n);for(8==n?a[7]=-1:a[n],e.x=a,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.x&&s(a,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},518:function(e,t,n){var a;!function(e,r,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),a==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new i(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&s(a,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},6359:function(e,t,n){var a;!function(r,o,i){var s,l=256,c=i.pow(l,6),u=i.pow(2,52),d=2*u,p=l-1;function h(e,t,n){var a=[],p=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(o)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(r.crypto||r.msCrypto).getRandomValues(e)),v(e)}catch(a){var t=r.navigator,n=t&&t.plugins;return[+new Date,r,n,r.screen,v(o)]}}():e,3),a),h=new f(a),b=function(){for(var e=h.g(6),t=c,n=0;e<u;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|h.g(4)},b.quick=function(){return h.g(4)/4294967296},b.double=b,y(v(h.S),o),(t.pass||n||function(e,t,n,a){return a&&(a.S&&m(a,h),e.state=function(){return m(h,{})}),n?(i.random=e,t):e})(b,p,"global"in t?t.global:this==i,t.state)}function f(e){var t,n=e.length,a=this,r=0,o=a.i=a.j=0,i=a.S=[];for(n||(e=[n++]);r<l;)i[r]=r++;for(r=0;r<l;r++)i[r]=i[o=p&o+e[r%n]+(t=i[r])],i[o]=t;(a.g=function(e){for(var t,n=0,r=a.i,o=a.j,i=a.S;e--;)t=i[r=p&r+1],n=n*l+i[p&(i[r]=i[o=p&o+t])+(i[o]=t)];return a.i=r,a.j=o,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,a=[],r=typeof e;if(t&&"object"==r)for(n in e)try{a.push(g(e[n],t-1))}catch(o){}return a.length?a:"string"==r?e:e+"\0"}function y(e,t){for(var n,a=e+"",r=0;r<a.length;)t[p&r]=p&(n^=19*t[p&r])+a.charCodeAt(r++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(i.random(),o),e.exports){e.exports=h;try{s=n(5042)}catch(b){}}else void 0===(a=function(){return h}.call(t,n,t,e))||(e.exports=a)}("undefined"!==typeof self?self:this,[],Math)},1531:(e,t,n)=>{"use strict";var a=n(7313);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useState,i=a.useEffect,s=a.useLayoutEffect,l=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(a){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=o({inst:{value:n,getSnapshot:t}}),r=a[0].inst,u=a[1];return s((function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})}),[e,n,t]),i((function(){return c(r)&&u({inst:r}),e((function(){c(r)&&u({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},5531:(e,t,n)=>{"use strict";var a=n(7313),r=n(1239);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,s=a.useRef,l=a.useEffect,c=a.useMemo,u=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,a,r){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c((function(){function e(e){if(!l){if(l=!0,i=e,e=a(e),void 0!==r&&p.hasValue){var t=p.value;if(r(t,e))return s=t}return s=e}if(t=s,o(i,e))return t;var n=a(e);return void 0!==r&&r(t,n)?t:(i=e,s=n)}var i,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,a,r]);var h=i(e,d[0],d[1]);return l((function(){p.hasValue=!0,p.value=h}),[h]),u(h),h}},1239:(e,t,n)=>{"use strict";e.exports=n(1531)},7058:(e,t,n)=>{"use strict";e.exports=n(5531)},1024:e=>{"use strict";var t=function(){};e.exports=t},5410:()=>{},8628:()=>{},5042:()=>{}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{appendChild:()=>nr,appendChildToContainer:()=>ar,appendInitialChild:()=>Ma,cancelTimeout:()=>Qa,clearContainer:()=>mr,commitMount:()=>cr,commitTextUpdate:()=>lr,commitUpdate:()=>ur,createInstance:()=>La,createTextInstance:()=>za,detachDeletedInstance:()=>gr,finalizeInitialChildren:()=>ja,getChildHostContext:()=>Ka,getCurrentEventPriority:()=>yr,getPublicInstance:()=>Ba,getRootHostContext:()=>Xa,hideInstance:()=>dr,hideTextInstance:()=>pr,idlePriority:()=>Pa.unstable_IdlePriority,insertBefore:()=>rr,insertInContainerBefore:()=>or,isPrimaryRenderer:()=>Ja,noTimeout:()=>$a,now:()=>Pa.unstable_now,prepareForCommit:()=>Wa,preparePortalMount:()=>Va,prepareUpdate:()=>Ua,removeChild:()=>ir,removeChildFromContainer:()=>sr,resetAfterCommit:()=>Ga,resetTextContent:()=>Ha,run:()=>Pa.unstable_runWithPriority,scheduleTimeout:()=>Ya,shouldDeprioritizeSubtree:()=>qa,shouldSetTextContent:()=>Za,supportsMutation:()=>tr,unhideInstance:()=>hr,unhideTextInstance:()=>fr,warnsIfNotActing:()=>er});var t={};n.r(t),n.d(t,{arraysEqual:()=>_C,assert:()=>xC,assertNonNegativeIntegerDimensions:()=>nE,assertNonNull:()=>kC,assertShapesMatch:()=>wC,bytesFromStringArray:()=>UC,bytesPerElement:()=>VC,checkConversionForErrors:()=>zC,clamp:()=>fC,computeStrides:()=>QC,createScalarValue:()=>JN,createShuffledIndices:()=>OC,decodeString:()=>rT,distSquared:()=>bC,encodeString:()=>aT,fetch:()=>nT,fingerPrint64:()=>ZN,flatten:()=>SC,getArrayFromDType:()=>LC,getTypedArrayFromDType:()=>MC,hasEncodingLoss:()=>BC,hexToLong:()=>WN,indexToLoc:()=>rE,inferDtype:()=>XC,inferFromImplicitShape:()=>PC,isBoolean:()=>HC,isFunction:()=>KC,isInt:()=>IC,isNumber:()=>qC,isPromise:()=>oE,isScalarShape:()=>EC,isString:()=>GC,isTypedArray:()=>WC,isValidDtype:()=>jC,locToIndex:()=>aE,makeOnesTypedArray:()=>JC,makeZerosNestedTypedArray:()=>tE,makeZerosTypedArray:()=>eE,nearestDivisor:()=>YC,nearestLargerEven:()=>mC,now:()=>tT,parseAxisParam:()=>FC,randUniform:()=>vC,repeatedTry:()=>AC,rightPad:()=>RC,shuffle:()=>pC,shuffleCombo:()=>hC,sizeFromShape:()=>CC,sizeToSquarishShape:()=>TC,squeezeShape:()=>DC,sum:()=>yC,swap:()=>gC,tanh:()=>NC,toNestedArray:()=>ZC,toTypedArray:()=>eT});var a={};n.r(a),n.d(a,{assertTypesMatch:()=>RT,getTensorsInContainer:()=>PT,isTensorInList:()=>AT,makeTypesMatch:()=>OT});var r={};n.r(r),n.d(r,{isBrowser:()=>GT,isMobile:()=>UT,mockIsMobile:()=>VT});var o={};n.r(o),n.d(o,{browserFiles:()=>lR,browserHTTPRequest:()=>yR,concatenateArrayBuffers:()=>cO,copyModel:()=>YO,decodeWeights:()=>oO,encodeWeights:()=>rO,fromMemory:()=>wR,fromMemorySync:()=>kR,getLoadHandlers:()=>wO,getModelArtifactsForJSON:()=>hO,getModelArtifactsForJSONSync:()=>pO,getModelArtifactsInfoForJSON:()=>fO,getSaveHandlers:()=>xO,getWeightSpecs:()=>mO,http:()=>gR,isHTTPScheme:()=>fR,listModels:()=>XO,loadWeights:()=>dR,moveModel:()=>QO,registerLoadRouter:()=>bO,registerSaveRouter:()=>vO,removeModel:()=>KO,weightsLoaderFactory:()=>pR,withSaveHandler:()=>SR,withSaveHandlerSync:()=>CR});var i={};n.r(i),n.d(i,{confusionMatrix:()=>ZR});var s={};n.r(s),n.d(s,{assertAndGetBroadcastShape:()=>tA,getBroadcastDims:()=>JR,getReductionAxes:()=>eA});var l={};n.r(l),n.d(l,{fromPixels:()=>lA,fromPixelsAsync:()=>iA,toPixels:()=>sA});var c={};n.r(c),n.d(c,{prepareAndValidate:()=>cA});var u={};n.r(u),n.d(u,{calculateShapes:()=>pA,validateInput:()=>dA,validateUpdateShape:()=>uA});var d={};n.r(d),n.d(d,{assertParamsValid:()=>mA,computeFlatOffset:()=>NA,computeOutShape:()=>yA,getNormalizedAxes:()=>wA,isSliceContinous:()=>IA,maskToAxes:()=>gA,parseSliceParams:()=>TA,sliceInfo:()=>OA,startForAxis:()=>EA,startIndicesWithElidedDims:()=>kA,stopForAxis:()=>_A,stopIndicesWithElidedDims:()=>SA,stridesForAxis:()=>CA,stridesWithElidedDims:()=>vA});var p={};n.r(p),n.d(p,{Serializable:()=>AA,SerializationMap:()=>PA,registerClass:()=>FA});var h={};n.r(h),n.d(h,{TEST_EPSILON_FLOAT16:()=>MA,createVideoElement:()=>XA,encodeStrings:()=>qA,expectArrayBuffersEqual:()=>HA,expectArraysClose:()=>LA,expectArraysEqual:()=>WA,expectNumbersClose:()=>VA,expectPromiseToFail:()=>BA,expectValuesInRange:()=>GA,play:()=>KA,testEpsilon:()=>zA});var f={};n.r(f),n.d(f,{conv2d:()=>wL,depthwiseConv2d:()=>CL,matMul:()=>EL});var m={};n.r(m),n.d(m,{collectGatherOpShapeInfo:()=>Pj,computeOutShape:()=>Aj,segOpComputeOptimalWindowSize:()=>Rj});var g={};n.r(g),n.d(g,{ERF_A1:()=>Yz,ERF_A2:()=>Qz,ERF_A3:()=>$z,ERF_A4:()=>Zz,ERF_A5:()=>Jz,ERF_P:()=>Kz,PARALLELIZE_THRESHOLD:()=>zz,RowPartitionType:()=>Pz,SELU_SCALE:()=>Xz,SELU_SCALEALPHA:()=>qz,applyActivation:()=>bL,assertAndGetBroadcastShape:()=>tA,assertAxesAreInnerMostDims:()=>qF,assertParamsConsistent:()=>Rz,assignToTypedArray:()=>oj,axesAreInnerMostDims:()=>VF,calculateShapes:()=>pA,checkEinsumDimSizes:()=>fj,checkPadOnDimRoundingMode:()=>QP,combineLocations:()=>UF,combineRaggedTensorToTensorShapes:()=>Fz,complexWithEvenIndex:()=>nj,complexWithOddIndex:()=>aj,computeConv2DInfo:()=>BP,computeConv3DInfo:()=>WP,computeDefaultPad:()=>VP,computeDilation2DInfo:()=>LP,computeOptimalWindowSize:()=>jz,computeOutAndReduceShapes:()=>GF,computeOutShape:()=>Az,computePool2DInfo:()=>zP,computePool3DInfo:()=>jP,convertConv2DDataFormat:()=>YP,decodeEinsumEquation:()=>pj,eitherStridesOrDilationsAreOne:()=>KP,expandShapeToKeepDim:()=>HF,exponent:()=>sj,exponents:()=>ij,fromStringArrayToUint8:()=>Dj,fromUint8ToStringArray:()=>Fj,getAxesPermutation:()=>XF,getBroadcastDims:()=>JR,getComplexWithIndex:()=>rj,getEinsumComputePath:()=>mj,getEinsumPermutation:()=>hj,getFusedBiasGradient:()=>vL,getFusedDyActivation:()=>yL,getImageCenter:()=>Bz,getInnerMostAxes:()=>YF,getPermuted:()=>Vz,getRaggedRank:()=>Mz,getReductionAxes:()=>eA,getReshaped:()=>Wz,getReshapedPermuted:()=>Uz,getRowPartitionTypesHelper:()=>Dz,getSliceBeginCoords:()=>Gz,getSliceSize:()=>Hz,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>bj,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>xj,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>wj,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>Cj,getSparseReshapeInputOutputMismatchErrorMessage:()=>_j,getSparseReshapeInputOutputMultipleErrorMessage:()=>Ej,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>kj,getSparseReshapeNegativeOutputDimErrorMessage:()=>Sj,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>Oj,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>Ij,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>Nj,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>Tj,getUndoAxesPermutation:()=>KF,isIdentityPermutation:()=>gj,log:()=>IN,mergeRealAndImagArrays:()=>ej,prepareAndValidate:()=>cA,prepareSplitSize:()=>vj,segment_util:()=>m,shouldFuse:()=>xL,slice_util:()=>d,splitRealAndImagArrays:()=>tj,tupleValuesAreOne:()=>XP,upcastType:()=>NT,validateDefaultValueShape:()=>Lz,validateInput:()=>dA,validateUpdateShape:()=>uA,warn:()=>_N});var y={};n.r(y),n.d(y,{nonMaxSuppressionV3Impl:()=>zL,nonMaxSuppressionV4Impl:()=>jL,nonMaxSuppressionV5Impl:()=>BL,whereImpl:()=>oL});var v={};n.r(v),n.d(v,{Abs:()=>fE,Acos:()=>mE,Acosh:()=>gE,AdadeltaOptimizer:()=>pP,AdagradOptimizer:()=>fP,AdamOptimizer:()=>yP,AdamaxOptimizer:()=>xP,Add:()=>yE,AddN:()=>vE,All:()=>bE,Any:()=>xE,ArgMax:()=>wE,ArgMin:()=>kE,Asin:()=>SE,Asinh:()=>CE,Atan:()=>EE,Atan2:()=>IE,Atanh:()=>_E,AvgPool:()=>NE,AvgPool3D:()=>OE,AvgPool3DGrad:()=>RE,AvgPoolGrad:()=>TE,BatchMatMul:()=>AE,BatchToSpaceND:()=>PE,Bincount:()=>FE,BroadcastArgs:()=>ME,BroadcastTo:()=>DE,Cast:()=>LE,Ceil:()=>zE,ClipByValue:()=>jE,Complex:()=>BE,ComplexAbs:()=>WE,Concat:()=>VE,Conv2D:()=>UE,Conv2DBackpropFilter:()=>GE,Conv2DBackpropInput:()=>HE,Conv3D:()=>qE,Conv3DBackpropFilterV2:()=>XE,Conv3DBackpropInputV2:()=>KE,Cos:()=>YE,Cosh:()=>QE,CropAndResize:()=>JE,Cumprod:()=>$E,Cumsum:()=>ZE,DataStorage:()=>cC,DenseBincount:()=>e_,DepthToSpace:()=>t_,DepthwiseConv2dNative:()=>n_,DepthwiseConv2dNativeBackpropFilter:()=>a_,DepthwiseConv2dNativeBackpropInput:()=>r_,Diag:()=>o_,Dilation2D:()=>i_,Dilation2DBackpropFilter:()=>l_,Dilation2DBackpropInput:()=>s_,ENV:()=>dE,Einsum:()=>u_,Elu:()=>d_,EluGrad:()=>p_,Environment:()=>sE,Equal:()=>f_,Erf:()=>h_,Exp:()=>m_,ExpandDims:()=>g_,Expm1:()=>y_,FFT:()=>v_,Fill:()=>b_,FlipLeftRight:()=>x_,Floor:()=>w_,FloorDiv:()=>k_,FromPixels:()=>wN,FusedBatchNorm:()=>S_,FusedConv2D:()=>CN,FusedDepthwiseConv2D:()=>EN,GatherNd:()=>E_,GatherV2:()=>C_,Greater:()=>__,GreaterEqual:()=>I_,IFFT:()=>T_,Identity:()=>N_,Imag:()=>O_,IsFinite:()=>R_,IsInf:()=>A_,IsNan:()=>P_,KernelBackend:()=>uC,LRN:()=>q_,LRNGrad:()=>X_,LeakyRelu:()=>F_,Less:()=>D_,LessEqual:()=>M_,LinSpace:()=>L_,Log:()=>z_,Log1p:()=>j_,LogSoftmax:()=>G_,LogicalAnd:()=>B_,LogicalNot:()=>W_,LogicalOr:()=>V_,LogicalXor:()=>U_,LowerBound:()=>H_,Max:()=>K_,MaxPool:()=>Q_,MaxPool3D:()=>Z_,MaxPool3DGrad:()=>J_,MaxPoolGrad:()=>$_,MaxPoolWithArgmax:()=>eI,Maximum:()=>Y_,Mean:()=>tI,Min:()=>nI,Minimum:()=>aI,MirrorPad:()=>rI,Mod:()=>oI,MomentumOptimizer:()=>kP,Multinomial:()=>iI,Multiply:()=>sI,Neg:()=>lI,NonMaxSuppressionV3:()=>uI,NonMaxSuppressionV4:()=>dI,NonMaxSuppressionV5:()=>pI,NotEqual:()=>cI,OP_SCOPE_SUFFIX:()=>$T,OneHot:()=>fI,OnesLike:()=>hI,Optimizer:()=>dP,OptimizerConstructors:()=>CP,Pack:()=>mI,PadV2:()=>gI,Pool:()=>yI,Pow:()=>vI,Prelu:()=>bI,Prod:()=>xI,RMSPropOptimizer:()=>SP,RaggedGather:()=>wI,RaggedTensorToTensor:()=>kI,Range:()=>SI,Rank:()=>kT,Real:()=>CI,RealDiv:()=>c_,Reciprocal:()=>EI,Reduction:()=>rz,Relu:()=>_I,Relu6:()=>AI,Reshape:()=>II,ResizeBilinear:()=>OI,ResizeBilinearGrad:()=>RI,ResizeNearestNeighbor:()=>NI,ResizeNearestNeighborGrad:()=>TI,Reverse:()=>PI,RotateWithOffset:()=>kN,Round:()=>FI,Rsqrt:()=>DI,SGDOptimizer:()=>wP,ScatterNd:()=>MI,SearchSorted:()=>LI,Select:()=>zI,Selu:()=>jI,Sigmoid:()=>GI,Sign:()=>UI,Sin:()=>WI,Sinh:()=>VI,Slice:()=>BI,Softmax:()=>QI,Softplus:()=>HI,SpaceToBatchND:()=>KI,SparseFillEmptyRows:()=>$I,SparseReshape:()=>ZI,SparseSegmentMean:()=>JI,SparseSegmentSum:()=>eN,SparseToDense:()=>tN,SplitV:()=>YI,Sqrt:()=>qI,Square:()=>aN,SquaredDifference:()=>nN,Step:()=>xN,StridedSlice:()=>rN,StringNGrams:()=>oN,StringSplit:()=>iN,StringToHashBucketFast:()=>sN,Sub:()=>lN,Sum:()=>XI,Tan:()=>cN,Tanh:()=>uN,Tensor:()=>xT,TensorBuffer:()=>gT,Tile:()=>dN,TopK:()=>pN,Transform:()=>hN,Transpose:()=>fN,Unique:()=>mN,Unpack:()=>gN,UnsortedSegmentSum:()=>yN,UpperBound:()=>vN,Variable:()=>wT,ZerosLike:()=>bN,_FusedMatMul:()=>SN,abs:()=>vP,acos:()=>EP,acosh:()=>_P,add:()=>QA,addN:()=>IP,all:()=>NP,any:()=>TP,argMax:()=>OP,argMin:()=>RP,asin:()=>AP,asinh:()=>PP,atan:()=>FP,atan2:()=>DP,atanh:()=>MP,avgPool:()=>ZP,avgPool3d:()=>JP,backend:()=>qR,backend_util:()=>g,basicLSTMCell:()=>rF,batchNorm:()=>iF,batchNorm2d:()=>sF,batchNorm3d:()=>lF,batchNorm4d:()=>cF,batchToSpaceND:()=>oF,bincount:()=>uF,booleanMaskAsync:()=>sL,broadcastArgs:()=>dF,broadcastTo:()=>pF,broadcast_util:()=>s,browser:()=>l,buffer:()=>tR,cast:()=>nR,ceil:()=>hF,clipByValue:()=>fF,clone:()=>aR,complex:()=>JT,concat:()=>eF,concat1d:()=>mF,concat2d:()=>gF,concat3d:()=>yF,concat4d:()=>vF,conv1d:()=>xF,conv2d:()=>bF,conv2dTranspose:()=>kF,conv3d:()=>SF,conv3dTranspose:()=>EF,copyRegisteredKernels:()=>LN,cos:()=>_F,cosh:()=>IF,cosineWindow:()=>fL,cumprod:()=>NF,cumsum:()=>TF,customGrad:()=>lP,denseBincount:()=>OF,deprecationWarn:()=>OR,depthToSpace:()=>RF,depthwiseConv2d:()=>AF,device_util:()=>r,diag:()=>PF,dilation2d:()=>FF,disableDeprecationWarnings:()=>TR,dispose:()=>MR,disposeVariables:()=>RR,div:()=>ZA,divNoNan:()=>LF,dot:()=>zF,dropout:()=>pL,einsum:()=>jF,elu:()=>BF,enableDebugMode:()=>NR,enableProdMode:()=>IR,enclosingPowerOfTwo:()=>hL,engine:()=>AR,env:()=>cE,equal:()=>DF,erf:()=>WF,euclideanNorm:()=>tD,exp:()=>nD,expandDims:()=>aD,expm1:()=>rD,eye:()=>iD,fft:()=>MM,fill:()=>hP,findBackend:()=>UR,findBackendFactory:()=>GR,floor:()=>sD,floorDiv:()=>$A,fused:()=>f,gather:()=>lD,gatherND:()=>dL,gather_util:()=>c,getBackend:()=>WR,getGradient:()=>RN,getKernel:()=>ON,getKernelsForBackend:()=>AN,grad:()=>aP,grads:()=>rP,greater:()=>cD,greaterEqual:()=>uD,ifft:()=>LM,imag:()=>KR,image:()=>Sz,inTopKAsync:()=>mL,io:()=>o,irfft:()=>zM,isFinite:()=>dD,isInf:()=>pD,isNaN:()=>hD,keep:()=>LR,kernel_impls:()=>y,leakyRelu:()=>fD,less:()=>mD,lessEqual:()=>gD,linalg:()=>Cz,linspace:()=>yD,localResponseNormalization:()=>vD,log:()=>bD,log1p:()=>xD,logSigmoid:()=>kD,logSoftmax:()=>SD,logSumExp:()=>CD,logicalAnd:()=>ED,logicalNot:()=>_D,logicalOr:()=>ID,logicalXor:()=>ND,losses:()=>Ez,lowerBound:()=>RD,matMul:()=>ER,math:()=>i,max:()=>QF,maxPool:()=>AD,maxPool3d:()=>PD,maxPoolWithArgmax:()=>FD,maximum:()=>bP,mean:()=>DD,memory:()=>PR,meshgrid:()=>zD,min:()=>$F,minimum:()=>jD,mirrorPad:()=>BD,mod:()=>WD,moments:()=>VD,movingAverage:()=>lL,mul:()=>JA,multiRNNCell:()=>UD,multinomial:()=>GD,neg:()=>YR,nextFrame:()=>Oz,norm:()=>eD,notEqual:()=>HD,oneHot:()=>_R,ones:()=>LD,onesLike:()=>qD,op:()=>ZT,outerProduct:()=>XD,pad:()=>KD,pad1d:()=>YD,pad2d:()=>QD,pad3d:()=>$D,pad4d:()=>ZD,pool:()=>eM,pow:()=>mP,prelu:()=>tM,print:()=>rR,prod:()=>nM,profile:()=>FR,raggedGather:()=>aM,raggedTensorToTensor:()=>rM,rand:()=>oM,randomGamma:()=>uM,randomNormal:()=>dM,randomStandardNormal:()=>pM,randomUniform:()=>hM,range:()=>fM,ready:()=>BR,real:()=>QR,reciprocal:()=>mM,registerBackend:()=>HR,registerGradient:()=>FN,registerKernel:()=>PN,relu:()=>gM,relu6:()=>yM,removeBackend:()=>VR,reshape:()=>$P,reverse:()=>vM,reverse1d:()=>bM,reverse2d:()=>xM,reverse3d:()=>wM,reverse4d:()=>kM,rfft:()=>BM,round:()=>SM,rsqrt:()=>CM,scalar:()=>uP,scatterND:()=>cL,scatter_util:()=>u,searchSorted:()=>OD,selu:()=>EM,separableConv2d:()=>_M,serialization:()=>p,setBackend:()=>jR,setPlatform:()=>XR,setdiff1dAsync:()=>IM,sigmoid:()=>tF,sign:()=>NM,signal:()=>kz,sin:()=>TM,sinh:()=>OM,slice:()=>nF,slice1d:()=>RM,slice2d:()=>AM,slice3d:()=>PM,slice4d:()=>FM,slice_util:()=>d,softmax:()=>DM,softplus:()=>wD,spaceToBatchND:()=>JD,sparse:()=>_z,sparseToDense:()=>uL,spectral:()=>wz,split:()=>jM,sqrt:()=>eP,square:()=>tP,squaredDifference:()=>WM,squeeze:()=>VM,stack:()=>UM,step:()=>GM,stridedSlice:()=>HM,string:()=>Iz,sub:()=>gP,sum:()=>ZF,sumOutType:()=>TT,tan:()=>qM,tanh:()=>aF,tensor:()=>tO,tensor1d:()=>XM,tensor2d:()=>KM,tensor3d:()=>nA,tensor4d:()=>YM,tensor5d:()=>QM,tensor6d:()=>$M,tensor_util:()=>a,test_util:()=>h,tidy:()=>DR,tile:()=>oD,time:()=>zR,topk:()=>ZM,train:()=>Nz,transpose:()=>$R,truncatedNormal:()=>JM,unique:()=>eL,unregisterGradient:()=>MN,unregisterKernel:()=>DN,unsortedSegmentSum:()=>tL,unstack:()=>nL,upcastType:()=>NT,upperBound:()=>aL,util:()=>t,valueAndGrad:()=>oP,valueAndGrads:()=>iP,variable:()=>rL,variableGrads:()=>sP,version_core:()=>YA,where:()=>MF,whereAsync:()=>iL,zeros:()=>MD,zerosLike:()=>nP});var b={};n.r(b),n.d(b,{json:()=>Xj});var x={};n.r(x),n.d(x,{json:()=>Kj});var w={};n.r(w),n.d(w,{json:()=>Yj});var k={};n.r(k),n.d(k,{json:()=>Qj});var S={};n.r(S),n.d(S,{json:()=>$j});var C={};n.r(C),n.d(C,{json:()=>Zj});var E={};n.r(E),n.d(E,{json:()=>Jj});var _={};n.r(_),n.d(_,{json:()=>eB});var I={};n.r(I),n.d(I,{json:()=>tB});var N={};n.r(N),n.d(N,{json:()=>nB});var T={};n.r(T),n.d(T,{json:()=>aB});var O={};n.r(O),n.d(O,{json:()=>rB});var R={};n.r(R),n.d(R,{json:()=>oB});var A={};n.r(A),n.d(A,{json:()=>iB});var P={};n.r(P),n.d(P,{json:()=>sB});var F={};n.r(F),n.d(F,{json:()=>lB});var D={};n.r(D),n.d(D,{json:()=>cB});var M={};n.r(M),n.d(M,{json:()=>uB});var L={};n.r(L),n.d(L,{json:()=>dB});var z={};n.r(z),n.d(z,{OP_SCOPE_SUFFIX:()=>$T,abs:()=>vP,acos:()=>EP,acosh:()=>_P,add:()=>QA,addN:()=>IP,all:()=>NP,any:()=>TP,argMax:()=>OP,argMin:()=>RP,asin:()=>AP,asinh:()=>PP,atan:()=>FP,atan2:()=>DP,atanh:()=>MP,avgPool:()=>ZP,avgPool3d:()=>JP,basicLSTMCell:()=>rF,batchNorm:()=>iF,batchNorm2d:()=>sF,batchNorm3d:()=>lF,batchNorm4d:()=>cF,batchToSpaceND:()=>oF,bincount:()=>uF,booleanMaskAsync:()=>sL,broadcastArgs:()=>dF,broadcastTo:()=>pF,buffer:()=>tR,cast:()=>nR,ceil:()=>hF,clipByValue:()=>fF,clone:()=>aR,complex:()=>JT,concat:()=>eF,concat1d:()=>mF,concat2d:()=>gF,concat3d:()=>yF,concat4d:()=>vF,conv1d:()=>xF,conv2d:()=>bF,conv2dTranspose:()=>kF,conv3d:()=>SF,conv3dTranspose:()=>EF,cos:()=>_F,cosh:()=>IF,cosineWindow:()=>fL,cumprod:()=>NF,cumsum:()=>TF,denseBincount:()=>OF,depthToSpace:()=>RF,depthwiseConv2d:()=>AF,diag:()=>PF,dilation2d:()=>FF,div:()=>ZA,divNoNan:()=>LF,dot:()=>zF,dropout:()=>pL,einsum:()=>jF,elu:()=>BF,enclosingPowerOfTwo:()=>hL,equal:()=>DF,erf:()=>WF,euclideanNorm:()=>tD,exp:()=>nD,expandDims:()=>aD,expm1:()=>rD,eye:()=>iD,fft:()=>MM,fill:()=>hP,floor:()=>sD,floorDiv:()=>$A,fused:()=>f,gather:()=>lD,gatherND:()=>dL,greater:()=>cD,greaterEqual:()=>uD,ifft:()=>LM,imag:()=>KR,image:()=>Sz,inTopKAsync:()=>mL,irfft:()=>zM,isFinite:()=>dD,isInf:()=>pD,isNaN:()=>hD,leakyRelu:()=>fD,less:()=>mD,lessEqual:()=>gD,linalg:()=>Cz,linspace:()=>yD,localResponseNormalization:()=>vD,log:()=>bD,log1p:()=>xD,logSigmoid:()=>kD,logSoftmax:()=>SD,logSumExp:()=>CD,logicalAnd:()=>ED,logicalNot:()=>_D,logicalOr:()=>ID,logicalXor:()=>ND,losses:()=>Ez,lowerBound:()=>RD,matMul:()=>ER,max:()=>QF,maxPool:()=>AD,maxPool3d:()=>PD,maxPoolWithArgmax:()=>FD,maximum:()=>bP,mean:()=>DD,meshgrid:()=>zD,min:()=>$F,minimum:()=>jD,mirrorPad:()=>BD,mod:()=>WD,moments:()=>VD,movingAverage:()=>lL,mul:()=>JA,multiRNNCell:()=>UD,multinomial:()=>GD,neg:()=>YR,norm:()=>eD,notEqual:()=>HD,oneHot:()=>_R,ones:()=>LD,onesLike:()=>qD,op:()=>ZT,outerProduct:()=>XD,pad:()=>KD,pad1d:()=>YD,pad2d:()=>QD,pad3d:()=>$D,pad4d:()=>ZD,pool:()=>eM,pow:()=>mP,prelu:()=>tM,print:()=>rR,prod:()=>nM,raggedGather:()=>aM,raggedTensorToTensor:()=>rM,rand:()=>oM,randomGamma:()=>uM,randomNormal:()=>dM,randomStandardNormal:()=>pM,randomUniform:()=>hM,range:()=>fM,real:()=>QR,reciprocal:()=>mM,relu:()=>gM,relu6:()=>yM,reshape:()=>$P,reverse:()=>vM,reverse1d:()=>bM,reverse2d:()=>xM,reverse3d:()=>wM,reverse4d:()=>kM,rfft:()=>BM,round:()=>SM,rsqrt:()=>CM,scalar:()=>uP,scatterND:()=>cL,searchSorted:()=>OD,selu:()=>EM,separableConv2d:()=>_M,setdiff1dAsync:()=>IM,sigmoid:()=>tF,sign:()=>NM,signal:()=>kz,sin:()=>TM,sinh:()=>OM,slice:()=>nF,slice1d:()=>RM,slice2d:()=>AM,slice3d:()=>PM,slice4d:()=>FM,softmax:()=>DM,softplus:()=>wD,spaceToBatchND:()=>JD,sparse:()=>_z,sparseToDense:()=>uL,spectral:()=>wz,split:()=>jM,sqrt:()=>eP,square:()=>tP,squaredDifference:()=>WM,squeeze:()=>VM,stack:()=>UM,step:()=>GM,stridedSlice:()=>HM,string:()=>Iz,sub:()=>gP,sum:()=>ZF,tan:()=>qM,tanh:()=>aF,tensor:()=>tO,tensor1d:()=>XM,tensor2d:()=>KM,tensor3d:()=>nA,tensor4d:()=>YM,tensor5d:()=>QM,tensor6d:()=>$M,tile:()=>oD,topk:()=>ZM,transpose:()=>$R,truncatedNormal:()=>JM,unique:()=>eL,unsortedSegmentSum:()=>tL,unstack:()=>nL,upperBound:()=>aL,variable:()=>rL,where:()=>MF,whereAsync:()=>iL,zeros:()=>MD,zerosLike:()=>nP});var j={};n.r(j),n.d(j,{addImpl:()=>QV,bincountImpl:()=>eU,bincountReduceImpl:()=>tU,castImpl:()=>HV,ceilImpl:()=>oU,concatImpl:()=>lU,equalImpl:()=>cU,expImpl:()=>pU,expm1Impl:()=>mU,floorImpl:()=>vU,gatherNdImpl:()=>wU,gatherV2Impl:()=>kU,greaterEqualImpl:()=>_U,greaterImpl:()=>SU,lessEqualImpl:()=>AU,lessImpl:()=>TU,linSpaceImpl:()=>DU,logImpl:()=>MU,maxImpl:()=>jU,maximumImpl:()=>BU,minimumImpl:()=>UU,multiplyImpl:()=>qU,negImpl:()=>QU,notEqualImpl:()=>ZU,prodImpl:()=>rG,raggedGatherImpl:()=>cG,raggedTensorToTensorImpl:()=>fG,rangeImpl:()=>mG,rsqrtImpl:()=>gG,scatterImpl:()=>bG,sigmoidImpl:()=>xG,simpleAbsImpl:()=>DV,sliceImpl:()=>SG,sparseFillEmptyRowsImpl:()=>_G,sparseReshapeImpl:()=>IG,sparseSegmentReductionImpl:()=>NG,sqrtImpl:()=>TG,stridedSliceImpl:()=>AG,stringNGramsImpl:()=>FG,stringSplitImpl:()=>MG,stringToHashBucketFastImpl:()=>LG,subImpl:()=>zG,tileImpl:()=>VG,topKImpl:()=>HG,transposeImpl:()=>tG,uniqueImpl:()=>qG});var B=n(7313),W=n(1739),V=n(1239),U=n(7058),G=n(1168);let H=function(e){e()};const q=()=>H,X=Symbol.for("react-redux-context"),K="undefined"!==typeof globalThis?globalThis:{};function Y(){var e;if(!B.createContext)return{};const t=null!=(e=K[X])?e:K[X]=new Map;let n=t.get(B.createContext);return n||(n=B.createContext(null),t.set(B.createContext,n)),n}const Q=Y();function $(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return function(){return(0,B.useContext)(e)}}const Z=$();let J=()=>{throw new Error("uSES not initialized!")};const ee=(e,t)=>e===t;function te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;const t=e===Q?Z:$(e);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:a=ee,stabilityCheck:r,noopCheck:o}="function"===typeof n?{equalityFn:n}:n;const{store:i,subscription:s,getServerState:l,stabilityCheck:c,noopCheck:u}=t(),d=((0,B.useRef)(!0),(0,B.useCallback)({[e.name]:t=>e(t)}[e.name],[e,c,r])),p=J(s.addNestedSub,i.getState,l||i.getState,d,a);return(0,B.useDebugValue)(p),p}}const ne=te();n(7861),n(6440);const ae={notify(){},get:()=>[]};function re(e,t){let n,a=ae,r=0,o=!1;function i(){c.onStateChange&&c.onStateChange()}function s(){r++,n||(n=t?t.addNestedSub(i):e.subscribe(i),a=function(){const e=q();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let a=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){a&&null!==t&&(a=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}function l(){r--,n&&0===r&&(n(),n=void 0,a.clear(),a=ae)}const c={addNestedSub:function(e){s();const t=a.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:i,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>a};return c}const oe=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?B.useLayoutEffect:B.useEffect;let ie=null;const se=function(e){let{store:t,context:n,children:a,serverState:r,stabilityCheck:o="once",noopCheck:i="once"}=e;const s=B.useMemo((()=>{const e=re(t);return{store:t,subscription:e,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:i}}),[t,r,o,i]),l=B.useMemo((()=>t.getState()),[t]);oe((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,l]);const c=n||Q;return B.createElement(c.Provider,{value:s},a)};function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;const t=e===Q?Z:$(e);return function(){const{store:e}=t();return e}}const ce=le();function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;const t=e===Q?ce:le(e);return function(){return t().dispatch}}const de=ue();var pe;(e=>{J=e})(U.useSyncExternalStoreWithSelector),(e=>{ie=e})(V.useSyncExternalStore),pe=G.unstable_batchedUpdates,H=pe;var he=Math.PI/180;const fe="undefined"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},me={_global:fe,version:"8.4.3",isBrowser:"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:e=>me.angleDeg?e*he:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>me.DD.isDragging,isDragReady:()=>!!me.DD.node,releaseCanvasOnDestroy:!0,document:fe.document,_injectGlobal(e){fe.Konva=e}},ge=e=>{me[e.prototype.getClassName()]=e};me._injectGlobal(me);class ye{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new ye(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){var t=Math.cos(e),n=Math.sin(e),a=this.m[0]*t+this.m[2]*n,r=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,i=this.m[1]*-n+this.m[3]*t;return this.m[0]=a,this.m[1]=r,this.m[2]=o,this.m[3]=i,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){var n=this.m[0]+this.m[2]*t,a=this.m[1]+this.m[3]*t,r=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=a,this.m[2]=r,this.m[3]=o,this}multiply(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],a=this.m[0]*e.m[2]+this.m[2]*e.m[3],r=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],i=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=a,this.m[3]=r,this.m[4]=o,this.m[5]=i,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,a=-this.m[2]*e,r=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),i=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=a,this.m[3]=r,this.m[4]=o,this.m[5]=i,this}getMatrix(){return this.m}decompose(){var e=this.m[0],t=this.m[1],n=this.m[2],a=this.m[3],r=e*a-t*n;let o={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=t){var i=Math.sqrt(e*e+t*t);o.rotation=t>0?Math.acos(e/i):-Math.acos(e/i),o.scaleX=i,o.scaleY=r/i,o.skewX=(e*n+t*a)/r,o.skewY=0}else if(0!=n||0!=a){var s=Math.sqrt(n*n+a*a);o.rotation=Math.PI/2-(a>0?Math.acos(-n/s):-Math.acos(n/s)),o.scaleX=r/s,o.scaleY=s,o.skewX=0,o.skewY=(e*n+t*a)/r}return o.rotation=Ee._getRotation(o.rotation),o}}var ve=Math.PI/180,be=180/Math.PI,xe="Konva error: ",we={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},ke=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,Se=[];const Ce="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)},Ee={_isElement:e=>!(!e||1!=e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!==typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e||e>0?1:-1,requestAnimFrame(e){Se.push(e),1===Se.length&&Ce((function(){const e=Se;Se=[],e.forEach((function(e){e()}))}))},createCanvasElement(){var e=document.createElement("canvas");try{e.style=e.style||{}}catch(t){}return e},createImageElement:()=>document.createElement("img"),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){var n=Ee.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex:(e,t,n)=>((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),_hexToRgb(e){e=e.replace("#","");var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return"#"+e},getRGB(e){var t;return e in we?{r:(t=we[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=ke.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",Ee._namedColorToRBA(e)||Ee._hex3ColorToRGBA(e)||Ee._hex4ColorToRGBA(e)||Ee._hex6ColorToRGBA(e)||Ee._hex8ColorToRGBA(e)||Ee._rgbColorToRGBA(e)||Ee._rgbaColorToRGBA(e)||Ee._hslColorToRGBA(e)),_namedColorToRBA(e){var t=we[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((e,t)=>"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e)));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if("#"===e[0]&&9===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if("#"===e[0]&&5===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),a=Number(n[0])/360,r=Number(n[1])/100,o=Number(n[2])/100;let i,s,l;if(0===r)return l=255*o,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};i=o<.5?o*(1+r):o+r-o*r;const c=2*o-i,u=[0,0,0];for(let e=0;e<3;e++)s=a+1/3*-(e-1),s<0&&s++,s>1&&s--,l=6*s<1?c+6*(i-c)*s:2*s<1?i:3*s<2?c+(i-c)*(2/3-s)*6:c,u[e]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){var t={};for(var n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*ve,radToDeg:e=>e*be,_degToRad:e=>(Ee.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Ee.degToRad(e)),_radToDeg:e=>(Ee.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Ee.radToDeg(e)),_getRotation:e=>me.angleDeg?Ee.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw new Error(xe+e)},error(e){console.error(xe+e)},warn(e){me.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(var n in e)t(n,e[n])},_inRange:(e,t,n)=>t<=e&&e<n,_getProjectionToSegment(e,t,n,a,r,o){var i,s,l,c=(e-n)*(e-n)+(t-a)*(t-a);if(0==c)i=e,s=t,l=(r-n)*(r-n)+(o-a)*(o-a);else{var u=((r-e)*(n-e)+(o-t)*(a-t))/c;u<0?(i=e,s=t,l=(e-r)*(e-r)+(t-o)*(t-o)):u>1?(i=n,s=a,l=(n-r)*(n-r)+(a-o)*(a-o)):l=((i=e+u*(n-e))-r)*(i-r)+((s=t+u*(a-t))-o)*(s-o)}return[i,s,l]},_getProjectionToLine(e,t,n){var a=Ee.cloneObject(e),r=Number.MAX_VALUE;return t.forEach((function(o,i){if(n||i!==t.length-1){var s=t[(i+1)%t.length],l=Ee._getProjectionToSegment(o.x,o.y,s.x,s.y,e.x,e.y),c=l[0],u=l[1],d=l[2];d<r&&(a.x=c,a.y=u,r=d)}})),a},_prepareArrayForTween(e,t,n){var a,r=[],o=[];if(e.length>t.length){var i=t;t=e,e=i}for(a=0;a<e.length;a+=2)r.push({x:e[a],y:e[a+1]});for(a=0;a<t.length;a+=2)o.push({x:t[a],y:t[a+1]});var s=[];return o.forEach((function(e){var t=Ee._getProjectionToLine(e,r,n);s.push(t.x),s.push(t.y)})),s},_prepareToStringify(e){var t;for(var n in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n])if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||Ee._isElement(e[n])){if(!t.configurable)return null;delete e[n]}else if(null===Ee._prepareToStringify(e[n])){if(!t.configurable)return null;delete e[n]}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(var n in t)e[n]=t[n];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:e.pointerId||999,releaseCanvas(){if(me.releaseCanvasOnDestroy){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{e.width=0,e.height=0}))}},drawRoundedRectPath(e,t,n,a){let r=0,o=0,i=0,s=0;"number"===typeof a?r=o=i=s=Math.min(a,t/2,n/2):(r=Math.min(a[0]||0,t/2,n/2),o=Math.min(a[1]||0,t/2,n/2),s=Math.min(a[2]||0,t/2,n/2),i=Math.min(a[3]||0,t/2,n/2)),e.moveTo(r,0),e.lineTo(t-o,0),e.arc(t-o,o,o,3*Math.PI/2,0,!1),e.lineTo(t,n-s),e.arc(t-s,n-s,s,0,Math.PI/2,!1),e.lineTo(i,n),e.arc(i,n-i,i,Math.PI/2,Math.PI,!1),e.lineTo(0,r),e.arc(r,r,r,Math.PI,3*Math.PI/2,!1)}};function _e(e){return Ee._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||Ee._isBoolean(e)?e:Object.prototype.toString.call(e)}function Ie(e){return e>255?255:e<0?0:Math.round(e)}function Ne(){if(me.isUnminified)return function(e,t){return Ee._isNumber(e)||Ee.warn(_e(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function Te(e){if(me.isUnminified)return function(t,n){let a=Ee._isNumber(t),r=Ee._isArray(t)&&t.length==e;return a||r||Ee.warn(_e(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function Oe(){if(me.isUnminified)return function(e,t){return Ee._isNumber(e)||"auto"===e||Ee.warn(_e(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function Re(){if(me.isUnminified)return function(e,t){return Ee._isString(e)||Ee.warn(_e(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function Ae(){if(me.isUnminified)return function(e,t){const n=Ee._isString(e),a="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||a||Ee.warn(_e(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function Pe(){if(me.isUnminified)return function(e,t){return!0===e||!1===e||Ee.warn(_e(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}var Fe="get",De="set";const Me={addGetterSetter(e,t,n,a,r){Me.addGetter(e,t,n),Me.addSetter(e,t,a,r),Me.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){var a=Fe+Ee._capitalize(t);e.prototype[a]=e.prototype[a]||function(){var e=this.attrs[t];return void 0===e?n:e}},addSetter(e,t,n,a){var r=De+Ee._capitalize(t);e.prototype[r]||Me.overWriteSetter(e,t,n,a)},overWriteSetter(e,t,n,a){var r=De+Ee._capitalize(t);e.prototype[r]=function(e){return n&&void 0!==e&&null!==e&&(e=n.call(this,e,t)),this._setAttr(t,e),a&&a.call(this),this}},addComponentsGetterSetter(e,t,n,a,r){var o,i,s=n.length,l=Ee._capitalize,c=Fe+l(t),u=De+l(t);e.prototype[c]=function(){var e={};for(o=0;o<s;o++)e[i=n[o]]=this.getAttr(t+l(i));return e};var d=function(e){if(me.isUnminified)return function(t,n){return void 0===t||null===t||Ee.isObject(t)||Ee.warn(_e(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(n);e.prototype[u]=function(e){var o,i=this.attrs[t];for(o in a&&(e=a.call(this,e)),d&&d.call(this,e,t),e)e.hasOwnProperty(o)&&this._setAttr(t+l(o),e[o]);return e||n.forEach((e=>{this._setAttr(t+l(e),void 0)})),this._fireChangeEvent(t,i,e),r&&r.call(this),this},Me.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){var n=Ee._capitalize(t),a=De+n,r=Fe+n;e.prototype[t]=function(){return arguments.length?(this[a](arguments[0]),this):this[r]()}},addDeprecatedGetterSetter(e,t,n,a){Ee.error("Adding deprecated "+t);var r=Fe+Ee._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[r]=function(){Ee.error(o);var e=this.attrs[t];return void 0===e?n:e},Me.addSetter(e,t,a,(function(){Ee.error(o)})),Me.addOverloadedGetterSetter(e,t)},backCompat(e,t){Ee.each(t,(function(t,n){var a=e.prototype[n],r=Fe+Ee._capitalize(t),o=De+Ee._capitalize(t);function i(){a.apply(this,arguments),Ee.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=i,e.prototype[r]=i,e.prototype[o]=i}))},afterSetFilter(){this._filterUpToDate=!1}};var Le=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class ze{constructor(e){this.canvas=e,me.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var n,a,r,o,i=this.traceArr,s=i.length,l="";for(n=0;n<s;n++)(r=(a=i[n]).method)?(o=a.args,l+=r,e?l+="()":Ee._isArray(o[0])?l+="(["+o.join(",")+"])":(t&&(o=o.map((e=>"number"===typeof e?Math.floor(e):e))),l+="("+o.join(",")+")")):(l+=a.property,e||(l+="="+a.val)),l+=";";return l}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,n,a,r,o){this._context.arc(e,t,n,a,r,o)}arcTo(e,t,n,a,r){this._context.arcTo(e,t,n,a,r)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,n,a,r,o){this._context.bezierCurveTo(e,t,n,a,r,o)}clearRect(e,t,n,a){this._context.clearRect(e,t,n,a)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,t){var n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,n,a){return this._context.createLinearGradient(e,t,n,a)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,n,a,r,o){return this._context.createRadialGradient(e,t,n,a,r,o)}drawImage(e,t,n,a,r,o,i,s,l){var c=arguments,u=this._context;3===c.length?u.drawImage(e,t,n):5===c.length?u.drawImage(e,t,n,a,r):9===c.length&&u.drawImage(e,t,n,a,r,o,i,s,l)}ellipse(e,t,n,a,r,o,i,s){this._context.ellipse(e,t,n,a,r,o,i,s)}isPointInPath(e,t,n,a){return n?this._context.isPointInPath(n,e,t,a):this._context.isPointInPath(e,t,a)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,t,n,a){this._context.fillRect(e,t,n,a)}strokeRect(e,t,n,a){this._context.strokeRect(e,t,n,a)}fillText(e,t,n,a){a?this._context.fillText(e,t,n,a):this._context.fillText(e,t,n)}measureText(e){return this._context.measureText(e)}getImageData(e,t,n,a){return this._context.getImageData(e,t,n,a)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,n,a){this._context.rect(e,t,n,a)}putImageData(e,t,n){this._context.putImageData(e,t,n)}quadraticCurveTo(e,t,n,a){this._context.quadraticCurveTo(e,t,n,a)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,n,a,r,o){this._context.setTransform(e,t,n,a,r,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,n,a){this._context.strokeText(e,t,n,a)}transform(e,t,n,a,r,o){this._context.transform(e,t,n,a,r,o)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e,t,n=this,a=Le.length,r=this.setAttr,o=function(e){var a,r=n[e];n[e]=function(){return t=function(e){var t,n,a=[],r=e.length,o=Ee;for(t=0;t<r;t++)n=e[t],o._isNumber(n)?n=Math.round(1e3*n)/1e3:o._isString(n)||(n+=""),a.push(n);return a}(Array.prototype.slice.call(arguments,0)),a=r.apply(n,arguments),n._trace({method:e,args:t}),a}};for(e=0;e<a;e++)o(Le[e]);n.setAttr=function(){r.apply(n,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(e){Object.defineProperty(ze.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})}));class je extends ze{constructor(e){super(e),this._context=e._canvas.getContext("2d")}_fillColor(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)return void this._fillColor(e);const a=e.getFillPatternImage();if(a&&"pattern"===n)return void this._fillPattern(e);const r=e.getFillLinearGradientColorStops();if(r&&"linear-gradient"===n)return void this._fillLinearGradient(e);const o=e.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):a?this._fillPattern(e):r?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),a=e.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(t.x,t.y,n.x,n.y);if(a){for(var o=0;o<a.length;o+=2)r.addColorStop(a[o],a[o+1]);this.setAttr("strokeStyle",r)}}_stroke(e){var t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var t,n,a,r=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",o=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,i=null!==(a=e.getShadowOffset())&&void 0!==a?a:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=s.x*l,u=s.y*l;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",o*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",i.x*c),this.setAttr("shadowOffsetY",i.y*u)}}class Be extends ze{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const r=e.getStrokeScaleEnabled();if(!r){this.save();var t=this.getCanvas().getPixelRatio();this.setTransform(t,0,0,t,0,0)}this._applyLineCap(e);var n=e.hitStrokeWidth(),a="auto"===n?e.strokeWidth():n;this.setAttr("lineWidth",a),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),r||this.restore()}}}var We;class Ve{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=(e||{}).pixelRatio||me.pixelRatio||function(){if(We)return We;var e=Ee.createCanvasElement(),t=e.getContext("2d");return We=(me._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),Ee.releaseCanvas(e),We}();this.pixelRatio=t,this._canvas=Ee.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(n){try{return this._canvas.toDataURL()}catch(a){return Ee.error("Unable to get data URL. "+a.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Me.addGetterSetter(Ve,"pixelRatio",void 0,Ne());class Ue extends Ve{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};super(e),this.context=new je(this),this.setSize(e.width,e.height)}}class Ge extends Ve{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};super(e),this.hitCanvas=!0,this.context=new Be(this),this.setSize(e.width,e.height)}}const He={get isDragging(){var e=!1;return He._dragElements.forEach((t=>{"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){var e;return He._dragElements.forEach((t=>{e=t.node})),e},_dragElements:new Map,_drag(e){const t=[];He._dragElements.forEach(((n,a)=>{const{node:r}=n,o=r.getStage();o.setPointersPositions(e),void 0===n.pointerId&&(n.pointerId=Ee._getFirstPointerId(e));const i=o._changedPointerPositions.find((e=>e.id===n.pointerId));if(i){if("dragging"!==n.dragStatus){var s=r.dragDistance();if(Math.max(Math.abs(i.x-n.startPointerPos.x),Math.abs(i.y-n.startPointerPos.y))<s)return;if(r.startDrag({evt:e}),!r.isDragging())return}r._setDragPosition(e,n),t.push(r)}})),t.forEach((t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore(e){const t=[];He._dragElements.forEach((n=>{const{node:a}=n,r=a.getStage();e&&r.setPointersPositions(e);if(!r._changedPointerPositions.find((e=>e.id===n.pointerId)))return;"dragging"!==n.dragStatus&&"stopped"!==n.dragStatus||(He.justDragged=!0,me._mouseListenClick=!1,me._touchListenClick=!1,me._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof me.Stage&&n.node;o&&-1===t.indexOf(o)&&t.push(o)})),t.forEach((e=>{e.draw()}))},_endDragAfter(e){He._dragElements.forEach(((t,n)=>{"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),"dragging"!==t.dragStatus&&He._dragElements.delete(n)}))}};me.isBrowser&&(window.addEventListener("mouseup",He._endDragBefore,!0),window.addEventListener("touchend",He._endDragBefore,!0),window.addEventListener("mousemove",He._drag),window.addEventListener("touchmove",He._drag),window.addEventListener("mouseup",He._endDragAfter,!1),window.addEventListener("touchend",He._endDragAfter,!1));var qe="absoluteOpacity",Xe="allEventListeners",Ke="absoluteTransform",Ye="absoluteScale",Qe="canvas",$e="listening",Ze="mouseenter",Je="mouseleave",et="Shape",tt=" ",nt="stage",at="transform",rt="visible",ot=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(tt);let it=1;class st{constructor(e){this._id=it++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==at&&e!==Ke||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){var n=this._cache.get(e);return(void 0===n||(e===at||e===Ke)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}_calculate(e,t,n){if(!this._attachedDepsListeners.get(e)){const n=t.map((e=>e+"Change.konva")).join(tt);this.on(n,(()=>{this._clearCache(e)})),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(Qe)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Ke&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Qe)){const{scene:e,filter:t,hit:n}=this._cache.get(Qe);Ee.releaseCanvas(e,t,n),this._cache.delete(Qe)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var a=Math.ceil(t.width||n.width),r=Math.ceil(t.height||n.height),o=t.pixelRatio,i=void 0===t.x?Math.floor(n.x):t.x,s=void 0===t.y?Math.floor(n.y):t.y,l=t.offset||0,c=t.drawBorder||!1,u=t.hitCanvasPixelRatio||1;if(a&&r){i-=l,s-=l;var d=new Ue({pixelRatio:o,width:a+=2*l+1,height:r+=2*l+1}),p=new Ue({pixelRatio:o,width:0,height:0}),h=new Ge({pixelRatio:u,width:a,height:r}),f=d.getContext(),m=h.getContext();return h.isCache=!0,d.isCache=!0,this._cache.delete(Qe),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,p.getContext()._context.imageSmoothingEnabled=!1),f.save(),m.save(),f.translate(-i,-s),m.translate(-i,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(qe),this._clearSelfAndDescendantCache(Ye),this.drawScene(d,this),this.drawHit(h,this),this._isUnderCache=!1,f.restore(),m.restore(),c&&(f.save(),f.beginPath(),f.rect(0,0,a,r),f.closePath(),f.setAttr("strokeStyle","red"),f.setAttr("lineWidth",5),f.stroke(),f.restore()),this._cache.set(Qe,{scene:d,filter:p,hit:h,x:i,y:s}),this._requestDraw(),this}Ee.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(Qe)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){var n,a,r,o,i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=this.getAbsoluteTransform(t);return i.forEach((function(e){var t=s.point(e);void 0===n&&(n=r=t.x,a=o=t.y),n=Math.min(n,t.x),a=Math.min(a,t.y),r=Math.max(r,t.x),o=Math.max(o,t.y)})),{x:n,y:a,width:r-n,height:o-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);var n=this._getCachedSceneCanvas(),a=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/a,n.height/a),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e,t,n,a,r=this.filters(),o=this._getCanvasCache(),i=o.scene,s=o.filter,l=s.getContext();if(r){if(!this._filterUpToDate){var c=i.pixelRatio;s.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(e=r.length,l.clear(),l.drawImage(i._canvas,0,0,i.getWidth()/c,i.getHeight()/c),t=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<e;n++)"function"===typeof(a=r[n])?(a.call(this,t),l.putImageData(t,0,0)):Ee.error("Filter should be type of function, but got "+typeof a+" instead. Please check correct filters")}catch(u){Ee.error("Unable to apply filter. "+u.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return i}on(e,t){if(this._cache&&this._cache.delete(Xe),3===arguments.length)return this._delegate.apply(this,arguments);var n,a,r,o,i=e.split(tt),s=i.length;for(n=0;n<s;n++)r=(a=i[n].split("."))[0],o=a[1]||"",this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:o,handler:t});return this}off(e,t){var n,a,r,o,i,s=(e||"").split(tt),l=s.length;if(this._cache&&this._cache.delete(Xe),!e)for(a in this.eventListeners)this._off(a);for(n=0;n<l;n++)if(o=(r=s[n].split("."))[0],i=r[1],o)this.eventListeners[o]&&this._off(o,i,t);else for(a in this.eventListeners)this._off(a,i,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,n){var a=this;this.on(e,(function(e){for(var r=e.target.findAncestors(t,!0,a),o=0;o<r.length;o++)(e=Ee.cloneObject(e)).currentTarget=r[o],n.call(r[o],e)}))}remove(){return this.isDragging()&&this.stopDrag(),He._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ke),this._clearSelfAndDescendantCache(qe),this._clearSelfAndDescendantCache(Ye),this._clearSelfAndDescendantCache(nt),this._clearSelfAndDescendantCache(rt),this._clearSelfAndDescendantCache($e)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var t="get"+Ee._capitalize(e);return Ee._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges((()=>{var t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+Ee._capitalize(t),Ee._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]))})),this}isListening(){return this._getCache($e,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache(rt,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),a=!1;He._dragElements.forEach((e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(a=!0)}));var r=!t&&!me.hitOnDragEnabled&&a;return this.isListening()&&this.isVisible()&&!r}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e,t,n,a,r=this.getDepth(),o=this,i=0;return"Stage"!==o.nodeType&&function s(l){for(e=[],t=l.length,n=0;n<t;n++)a=l[n],i++,a.nodeType!==et&&(e=e.concat(a.getChildren().slice())),a._id===o._id&&(n=t);e.length>0&&e[0].getDepth()<=r&&s(e)}(o.getStage().getChildren()),i}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(at),this._clearSelfAndDescendantCache(Ke)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges((()=>{this.x(e.x),this.y(e.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var t=this.getAbsoluteTransform().copy();return t.invert(),t.point(e)}getAbsolutePosition(e){let t=!1,n=this.parent;for(;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);var a=this.getAbsoluteTransform(e).getMatrix(),r=new ye,o=this.offset();return r.m=a.slice(),r.translate(o.x,o.y),r.getTranslation()}setAbsolutePosition(e){var t=this._clearTransform();this.attrs.x=t.x,this.attrs.y=t.y,delete t.x,delete t.y,this._clearCache(at);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(e.x,e.y),e={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(t),this.setPosition({x:e.x,y:e.y}),this._clearCache(at),this._clearSelfAndDescendantCache(Ke),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,n=e.y,a=this.x(),r=this.y();return void 0!==t&&(a+=t),void 0!==n&&(r+=n),this.setPosition({x:a,y:r}),this}_eachAncestorReverse(e,t){var n,a,r=[],o=this.getParent();if(!t||t._id!==this._id){for(r.unshift(this);o&&(!t||o._id!==t._id);)r.unshift(o),o=o.parent;for(n=r.length,a=0;a<n;a++)e(r[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Ee.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return Ee.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return Ee.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return Ee.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return Ee.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Ee.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(qe,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e,t,n,a,r={},o=this.getAttrs();for(e in r.attrs={},o)t=o[e],Ee.isObject(t)&&!Ee._isPlainObject(t)&&!Ee._isArray(t)||(n="function"===typeof this[e]&&this[e],delete o[e],a=n?n.call(this):null,o[e]=t,a!==t&&(r.attrs[e]=t));return r.className=this.getClassName(),Ee._prepareToStringify(r)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,n){var a=[];t&&this._isMatch(e)&&a.push(this);for(var r=this.parent;r;){if(r===n)return a;r._isMatch(e)&&a.push(r),r=r.parent}return a}isAncestorOf(e){return!1}findAncestor(e,t,n){return this.findAncestors(e,t,n)[0]}_isMatch(e){if(!e)return!1;if("function"===typeof e)return e(this);var t,n,a=e.replace(/ /g,"").split(","),r=a.length;for(t=0;t<r;t++)if(n=a[t],Ee.isValidSelector(n)||(Ee.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Ee.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Ee.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(nt,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():void 0}fire(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Ke,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var t;if(e)return t=new ye,this._eachAncestorReverse((function(e){var n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())}),e),t;t=this._cache.get(Ke)||new ye,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var n=this.transformsEnabled();if("all"===n)t.multiply(this.getTransform());else if("position"===n){const e=this.attrs.x||0,n=this.attrs.y||0,a=this.attrs.offsetX||0,r=this.attrs.offsetY||0;t.translate(e-a,n-r)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(at,this._getTransform)}_getTransform(){var e,t,n=this._cache.get(at)||new ye;n.reset();var a=this.x(),r=this.y(),o=me.getAngle(this.rotation()),i=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,s=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,l=this.attrs.skewX||0,c=this.attrs.skewY||0,u=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return 0===a&&0===r||n.translate(a,r),0!==o&&n.rotate(o),0===l&&0===c||n.skew(l,c),1===i&&1===s||n.scale(i,s),0===u&&0===d||n.translate(-1*u,-1*d),n.dirty=!1,n}clone(e){var t,n,a,r,o,i=Ee.cloneObject(this.attrs);for(t in e)i[t]=e[t];var s=new this.constructor(i);for(t in this.eventListeners)for(a=(n=this.eventListeners[t]).length,r=0;r<a;r++)(o=n[r]).name.indexOf("konva")<0&&(s.eventListeners[t]||(s.eventListeners[t]=[]),s.eventListeners[t].push(o));return s}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),n=this.getStage(),a=void 0!==e.x?e.x:Math.floor(t.x),r=void 0!==e.y?e.y:Math.floor(t.y),o=e.pixelRatio||1,i=new Ue({width:e.width||Math.ceil(t.width)||(n?n.width():0),height:e.height||Math.ceil(t.height)||(n?n.height():0),pixelRatio:o}),s=i.getContext();return!1===e.imageSmoothingEnabled&&(s._context.imageSmoothingEnabled=!1),s.save(),(a||r)&&s.translate(-1*a,-1*r),this.drawScene(i),s.restore(),i}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){var t=(e=e||{}).mimeType||null,n=e.quality||null,a=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(a),a}toImage(e){return new Promise(((t,n)=>{try{const n=null===e||void 0===e?void 0:e.callback;n&&delete e.callback,Ee._urlToImage(this.toDataURL(e),(function(e){t(e),null===n||void 0===n||n(e)}))}catch(a){n(a)}}))}toBlob(e){return new Promise(((t,n)=>{try{const n=null===e||void 0===e?void 0:e.callback;n&&delete e.callback,this.toCanvas(e).toBlob((e=>{t(e),null===n||void 0===n||n(e)}))}catch(a){n(a)}}))}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():me.dragDistance}_off(e,t,n){var a,r,o,i=this.eventListeners[e];for(a=0;a<i.length;a++)if(r=i[a].name,o=i[a].handler,("konva"!==r||"konva"===t)&&(!t||r===t)&&(!n||n===o)){if(i.splice(a,1),0===i.length){delete this.eventListeners[e];break}a--}}_fireChangeEvent(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}addName(e){if(!this.hasName(e)){var t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const t=this.name();return!!t&&-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){var t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}setAttr(e,t){var n=this["set"+Ee._capitalize(e)];return Ee._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(me.autoDrawEnabled){const e=this.getLayer()||this.getStage();null===e||void 0===e||e.batchDraw()}}_setAttr(e,t){var n=this.attrs[e];(n!==t||Ee.isObject(t))&&(void 0===t||null===t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}_setComponentAttr(e,t,n){var a;void 0!==n&&((a=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,a,n))}_fireAndBubble(e,t,n){if(t&&this.nodeType===et&&(t.target=this),!((e===Ze||e===Je)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(e,t);var a=(e===Ze||e===Je)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!a&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){let t=this._cache.get(Xe);if(!t){t={};let e=Object.getPrototypeOf(this);for(;e;)if(e.eventListeners){for(var n in e.eventListeners){const a=e.eventListeners[n],r=t[n]||[];t[n]=a.concat(r)}e=Object.getPrototypeOf(e)}else e=Object.getPrototypeOf(e);this._cache.set(Xe,t)}return t[e]}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const n=this._getProtoListeners(e);if(n)for(var a=0;a<n.length;a++)n[a].handler.call(this,t);const r=this.eventListeners[e];if(r)for(a=0;a<r.length;a++)r[a].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,n=this.getStage(),a=this.getAbsolutePosition(),r=n._getPointerById(t)||n._changedPointerPositions[0]||a;He._dragElements.set(this._id,{node:this,startPointerPos:r,offset:{x:r.x-a.x,y:r.y-a.y},dragStatus:"ready",pointerId:t})}startDrag(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];He._dragElements.has(this._id)||this._createDragElement(e);He._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const n=this.getStage()._getPointerById(t.pointerId);if(n){var a={x:n.x-t.offset.x,y:n.y-t.offset.y},r=this.dragBoundFunc();if(void 0!==r){const t=r.call(this,a,e);t?a=t:Ee.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===a.x&&this._lastPos.y===a.y||(this.setAbsolutePosition(a),this._requestDraw()),this._lastPos=a}}stopDrag(e){const t=He._dragElements.get(this._id);t&&(t.dragStatus="stopped"),He._endDragBefore(e),He._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=He._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(e){if((!(void 0!==e.evt.button)||me.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var t=!1;He._dragElements.forEach((e=>{this.isAncestorOf(e.node)&&(t=!0)})),t||this._createDragElement(e)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const e=He._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&He._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};const t=this.getStage();if(!t)return!1;const n={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return Ee.haveIntersection(n,this.getClientRect())}static create(e,t){return Ee._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var n,a,r,o=st.prototype.getClassName.call(e),i=e.children;t&&(e.attrs.container=t),me[o]||(Ee.warn('Can not find a node with class name "'+o+'". Fallback to "Shape".'),o="Shape");if(n=new(0,me[o])(e.attrs),i)for(a=i.length,r=0;r<a;r++)n.add(st._createNode(i[r]));return n}}st.prototype.nodeType="Node",st.prototype._attrsAffectingSize=[],st.prototype.eventListeners={},st.prototype.on.call(st.prototype,ot,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(at),this._clearSelfAndDescendantCache(Ke))})),st.prototype.on.call(st.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(rt)})),st.prototype.on.call(st.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache($e)})),st.prototype.on.call(st.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(qe)}));const lt=Me.addGetterSetter;lt(st,"zIndex"),lt(st,"absolutePosition"),lt(st,"position"),lt(st,"x",0,Ne()),lt(st,"y",0,Ne()),lt(st,"globalCompositeOperation","source-over",Re()),lt(st,"opacity",1,Ne()),lt(st,"name","",Re()),lt(st,"id","",Re()),lt(st,"rotation",0,Ne()),Me.addComponentsGetterSetter(st,"scale",["x","y"]),lt(st,"scaleX",1,Ne()),lt(st,"scaleY",1,Ne()),Me.addComponentsGetterSetter(st,"skew",["x","y"]),lt(st,"skewX",0,Ne()),lt(st,"skewY",0,Ne()),Me.addComponentsGetterSetter(st,"offset",["x","y"]),lt(st,"offsetX",0,Ne()),lt(st,"offsetY",0,Ne()),lt(st,"dragDistance",null,Ne()),lt(st,"width",0,Ne()),lt(st,"height",0,Ne()),lt(st,"listening",!0,Pe()),lt(st,"preventDefault",!0,Pe()),lt(st,"filters",null,(function(e){return this._filterUpToDate=!1,e})),lt(st,"visible",!0,Pe()),lt(st,"transformsEnabled","all",Re()),lt(st,"size"),lt(st,"dragBoundFunc"),lt(st,"draggable",!1,Pe()),Me.backCompat(st,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ct extends st{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[];var n=[];return t.forEach((function(t){e(t)&&n.push(t)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.destroy()})),this.children=[],this._requestDraw(),this}add(){if(0===arguments.length)return this;if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(e<0||arguments.length<=e?void 0:arguments[e]);return this}const t=arguments.length<=0?void 0:arguments[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var n=[];return this._descendants((a=>{const r=a._isMatch(e);return r&&n.push(a),!(!r||!t)})),n}_descendants(e){let t=!1;const n=this.getChildren();for(const a of n){if(t=e(a),t)return!0;if(a.hasChildren()&&(t=a._descendants(e),t))return!0}return!1}toObject(){var e=st.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach((t=>{e.children.push(t.toObject())})),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=st.prototype.clone.call(this,e);return this.getChildren().forEach((function(e){t.add(e.clone())})),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(e)&&t.push(n)})),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach((function(t){t._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach((function(e,t){e.index=t})),this._requestDraw()}drawScene(e,t){var n=this.getLayer(),a=e||n&&n.getCanvas(),r=a&&a.getContext(),o=this._getCanvasCache(),i=o&&o.scene,s=a&&a.isCache;if(!this.isVisible()&&!s)return this;if(i){r.save();var l=this.getAbsoluteTransform(t).getMatrix();r.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(r),r.restore()}else this._drawChildren("drawScene",a,t);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var n=this.getLayer(),a=e||n&&n.hitCanvas,r=a&&a.getContext(),o=this._getCanvasCache();if(o&&o.hit){r.save();var i=this.getAbsoluteTransform(t).getMatrix();r.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._drawCachedHitCanvas(r),r.restore()}else this._drawChildren("drawHit",a,t);return this}_drawChildren(e,t,n){var a,r=t&&t.getContext(),o=this.clipWidth(),i=this.clipHeight(),s=this.clipFunc(),l=o&&i||s;const c=n===this;if(l){r.save();var u=this.getAbsoluteTransform(n),d=u.getMatrix();if(r.transform(d[0],d[1],d[2],d[3],d[4],d[5]),r.beginPath(),s)s.call(this,r,this);else{var p=this.clipX(),h=this.clipY();r.rect(p,h,o,i)}r.clip(),d=u.copy().invert().getMatrix(),r.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var f=!c&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;f&&(r.save(),r._applyGlobalCompositeOperation(this)),null===(a=this.children)||void 0===a||a.forEach((function(a){a[e](t,n)})),f&&r.restore(),l&&r.restore()}getClientRect(e){var t,n,a,r,o,i=(e=e||{}).skipTransform,s=e.relativeTo,l={x:1/0,y:1/0,width:0,height:0},c=this;null===(t=this.children)||void 0===t||t.forEach((function(t){if(t.visible()){var i=t.getClientRect({relativeTo:c,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===i.width&&0===i.height||(void 0===n?(n=i.x,a=i.y,r=i.x+i.width,o=i.y+i.height):(n=Math.min(n,i.x),a=Math.min(a,i.y),r=Math.max(r,i.x+i.width),o=Math.max(o,i.y+i.height)))}}));for(var u=this.find("Shape"),d=!1,p=0;p<u.length;p++){if(u[p]._isVisible(this)){d=!0;break}}return l=d&&void 0!==n?{x:n,y:a,width:r-n,height:o-a}:{x:0,y:0,width:0,height:0},i?l:this._transformedRect(l,s)}}Me.addComponentsGetterSetter(ct,"clip",["x","y","width","height"]),Me.addGetterSetter(ct,"clipX",void 0,Ne()),Me.addGetterSetter(ct,"clipY",void 0,Ne()),Me.addGetterSetter(ct,"clipWidth",void 0,Ne()),Me.addGetterSetter(ct,"clipHeight",void 0,Ne()),Me.addGetterSetter(ct,"clipFunc");const ut=new Map,dt=void 0!==me._global.PointerEvent;function pt(e){return ut.get(e)}function ht(e){return{evt:e,pointerId:e.pointerId}}function ft(e,t){return ut.get(e)===t}function mt(e,t){gt(e);t.getStage()&&(ut.set(e,t),dt&&t._fire("gotpointercapture",ht(new PointerEvent("gotpointercapture"))))}function gt(e,t){const n=ut.get(e);if(!n)return;const a=n.getStage();a&&a.content,ut.delete(e),dt&&n._fire("lostpointercapture",ht(new PointerEvent("lostpointercapture")))}var yt="mouseleave",vt="mouseover",bt="mouseenter",xt="mousemove",wt="mousedown",kt="mouseup",St="pointermove",Ct="pointerdown",Et="pointerup",_t="pointercancel",It="pointerout",Nt="pointerleave",Tt="pointerover",Ot="pointerenter",Rt="contextmenu",At="touchstart",Pt="touchend",Ft="touchmove",Dt="touchcancel",Mt="wheel",Lt=[[bt,"_pointerenter"],[wt,"_pointerdown"],[xt,"_pointermove"],[kt,"_pointerup"],[yt,"_pointerleave"],[At,"_pointerdown"],[Ft,"_pointermove"],[Pt,"_pointerup"],[Dt,"_pointercancel"],[vt,"_pointerover"],[Mt,"_wheel"],[Rt,"_contextmenu"],[Ct,"_pointerdown"],[St,"_pointermove"],[Et,"_pointerup"],[_t,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const zt={mouse:{[It]:"mouseout",[Nt]:yt,[Tt]:vt,[Ot]:bt,[St]:xt,[Ct]:wt,[Et]:kt,[_t]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[It]:"touchout",[Nt]:"touchleave",[Tt]:"touchover",[Ot]:"touchenter",[St]:Ft,[Ct]:At,[Et]:Pt,[_t]:Dt,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[It]:It,[Nt]:Nt,[Tt]:Tt,[Ot]:Ot,[St]:St,[Ct]:Ct,[Et]:Et,[_t]:_t,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},jt=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",Bt=e=>{const t=jt(e);return"pointer"===t?me.pointerEventsEnabled&&zt.pointer:"touch"===t?zt.touch:"mouse"===t?zt.mouse:void 0};function Wt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.clipFunc||e.clipWidth||e.clipHeight)&&Ee.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}const Vt=[];class Ut extends ct{constructor(e){super(Wt(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Vt.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{Wt(this.attrs)})),this._checkVisibility()}_validateAdd(e){const t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||Ee.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"===typeof e){if("."===e.charAt(0)){var t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var n;n="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e,t=this.children,n=t.length;for(e=0;e<n;e++)t[e].clear();return this}clone(e){return e||(e={}),e.container="undefined"!==typeof document&&document.createElement("div"),ct.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&Ee._isInDocument(e)&&this.container().removeChild(e);var t=Vt.indexOf(this);return t>-1&&Vt.splice(t,1),Ee.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Ee.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find((t=>t.id===e))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var t=new Ue({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,a=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),a.forEach((function(t){if(t.isVisible()){var a=t._toKonvaCanvas(e);n.drawImage(a._canvas,e.x,e.y,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}})),t}getIntersection(e){if(!e)return null;var t,n=this.children;for(t=n.length-1;t>=0;t--){const a=n[t].getIntersection(e);if(a)return a}return null}_resizeDOM(){var e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach((n=>{n.setSize({width:e,height:t}),n.draw()}))}add(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);var o=this.children.length;return o>5&&Ee.warn("The stage has "+o+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),me.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return ft(e,this)}setPointerCapture(e){mt(e,this)}releaseCapture(e){gt(e)}getLayers(){return this.children}_bindContentEvents(){me.isBrowser&&Lt.forEach((e=>{let[t,n]=e;this.content.addEventListener(t,(e=>{this[n](e)}),{passive:!1})}))}_pointerenter(e){this.setPointersPositions(e);const t=Bt(e.type);this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=Bt(e.type);this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=Bt(e.type),n=jt(e.type);if(t){this.setPointersPositions(e);var a=this._getTargetShape(n),r=!He.isDragging||me.hitOnDragEnabled;a&&r?(a._fireAndBubble(t.pointerout,{evt:e}),a._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):r&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const t=Bt(e.type),n=jt(e.type);if(t){this.setPointersPositions(e);var a=!1;this._changedPointerPositions.forEach((r=>{var o=this.getIntersection(r);He.justDragged=!1,me["_"+n+"ListenClick"]=!0;if(!(o&&o.isListening()))return;me.capturePointerEventsEnabled&&o.setPointerCapture(r.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(t.pointerdown,{evt:e,pointerId:r.id}),a=!0;const i=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&i&&e.preventDefault()})),a||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const t=Bt(e.type),n=jt(e.type);if(!t)return;if(He.isDragging&&He.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!(!He.isDragging||me.hitOnDragEnabled))return;var a={};let r=!1;var o=this._getTargetShape(n);this._changedPointerPositions.forEach((i=>{const s=pt(i.id)||this.getIntersection(i),l=i.id,c={evt:e,pointerId:l};var u=o!==s;if(u&&o&&(o._fireAndBubble(t.pointerout,Object.assign({},c),s),o._fireAndBubble(t.pointerleave,Object.assign({},c),s)),s){if(a[s._id])return;a[s._id]=!0}s&&s.isListening()?(r=!0,u&&(s._fireAndBubble(t.pointerover,Object.assign({},c),o),s._fireAndBubble(t.pointerenter,Object.assign({},c),o),this[n+"targetShape"]=s),s._fireAndBubble(t.pointermove,Object.assign({},c))):o&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),r||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=Bt(e.type),n=jt(e.type);if(!t)return;this.setPointersPositions(e);const a=this[n+"ClickStartShape"],r=this[n+"ClickEndShape"];var o={};let i=!1;this._changedPointerPositions.forEach((s=>{const l=pt(s.id)||this.getIntersection(s);if(l){if(l.releaseCapture(s.id),o[l._id])return;o[l._id]=!0}const c=s.id,u={evt:e,pointerId:c};let d=!1;me["_"+n+"InDblClickWindow"]?(d=!0,clearTimeout(this[n+"DblTimeout"])):He.justDragged||(me["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){me["_"+n+"InDblClickWindow"]=!1}),me.dblClickWindow),l&&l.isListening()?(i=!0,this[n+"ClickEndShape"]=l,l._fireAndBubble(t.pointerup,Object.assign({},u)),me["_"+n+"ListenClick"]&&a&&a===l&&(l._fireAndBubble(t.pointerclick,Object.assign({},u)),d&&r&&r===l&&l._fireAndBubble(t.pointerdblclick,Object.assign({},u)))):(this[n+"ClickEndShape"]=null,me["_"+n+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:c}),d&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:c}))})),i||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),me["_"+n+"ListenClick"]=!1,e.cancelable&&"touch"!==n&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Rt,{evt:e}):this._fire(Rt,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Mt,{evt:e}):this._fire(Mt,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=pt(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(Et,ht(e)),gt(e.pointerId)}_lostpointercapture(e){gt(e.pointerId)}setPointersPositions(e){var t=this._getContentPosition(),n=null,a=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,(e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})),Array.prototype.forEach.call(e.changedTouches||e.touches,(e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}))):(n=(e.clientX-t.left)/t.scaleX,a=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:n,y:a},this._pointerPositions=[{x:n,y:a,id:Ee._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:a,id:Ee._getFirstPointerId(e)}])}_setPointerPosition(e){Ee.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Ue({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Ge({pixelRatio:1,width:this.width(),height:this.height()}),me.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return Ee.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(e){e.batchDraw()})),this}}Ut.prototype.nodeType="Stage",ge(Ut),Me.addGetterSetter(Ut,"container");var Gt="hasShadow",Ht="shadowRGBA",qt="patternImage",Xt="linearGradient",Kt="radialGradient";let Yt;function Qt(){return Yt||(Yt=Ee.createCanvasElement().getContext("2d"),Yt)}const $t={};class Zt extends st{constructor(e){let t;for(super(e);t=Ee.getRandomColor(),!t||t in $t;);this.colorKey=t,$t[t]=this}getContext(){return Ee.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Ee.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Gt,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(qt,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=Qt().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const t=new ye;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(me.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=t.getMatrix(),a="undefined"===typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);e.setTransform(a)}return e}}_getLinearGradient(){return this._getCache(Xt,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var t=Qt(),n=this.fillLinearGradientStartPoint(),a=this.fillLinearGradientEndPoint(),r=t.createLinearGradient(n.x,n.y,a.x,a.y),o=0;o<e.length;o+=2)r.addColorStop(e[o],e[o+1]);return r}}_getRadialGradient(){return this._getCache(Kt,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var t=Qt(),n=this.fillRadialGradientStartPoint(),a=this.fillRadialGradientEndPoint(),r=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),a.x,a.y,this.fillRadialGradientEndRadius()),o=0;o<e.length;o+=2)r.addColorStop(e[o],e[o+1]);return r}}getShadowRGBA(){return this._getCache(Ht,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=Ee.colorToRGBA(this.shadowColor());return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")":void 0}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t,null,!0),t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return st.prototype.destroy.call(this),delete $t[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!this.getStage())return!1;if(!(null===(t=this.attrs.perfectDrawEnabled)||void 0===t||t))return!1;const n=e||this.hasFill(),a=this.hasStroke(),r=1!==this.getAbsoluteOpacity();if(n&&a&&r)return!0;const o=this.hasShadow(),i=this.shadowForStrokeEnabled();return!!(n&&a&&o&&i)}setStrokeHitEnabled(e){Ee.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.skipTransform,n=e.relativeTo,a=this.getSelfRect(),r=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=a.width+r,i=a.height+r,s=!e.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,c=s?this.shadowOffsetY():0,u=o+Math.abs(l),d=i+Math.abs(c),p=s&&this.shadowBlur()||0,h={width:u+2*p,height:d+2*p,x:-(r/2+p)+Math.min(l,0)+a.x,y:-(r/2+p)+Math.min(c,0)+a.y};return t?h:this._transformedRect(h,n)}drawScene(e,t){var n,a,r=this.getLayer(),o=e||r.getCanvas(),i=o.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),u=o.isCache,d=t===this;if(!this.isVisible()&&!d)return this;if(s){i.save();var p=this.getAbsoluteTransform(t).getMatrix();return i.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(i),i.restore(),this}if(!l)return this;if(i.save(),this._useBufferCanvas()&&!u){(a=(n=this.getStage().bufferCanvas).getContext()).clear(),a.save(),a._applyLineJoin(this);var h=this.getAbsoluteTransform(t).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),l.call(this,a,this),a.restore();var f=n.pixelRatio;c&&i._applyShadow(this),i._applyOpacity(this),i._applyGlobalCompositeOperation(this),i.drawImage(n._canvas,0,0,n.width/f,n.height/f)}else{if(i._applyLineJoin(this),!d){h=this.getAbsoluteTransform(t).getMatrix();i.transform(h[0],h[1],h[2],h[3],h[4],h[5]),i._applyOpacity(this),i._applyGlobalCompositeOperation(this)}c&&i._applyShadow(this),l.call(this,i,this)}return i.restore(),this}drawHit(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.shouldDrawHit(t,n))return this;var a=this.getLayer(),r=e||a.hitCanvas,o=r&&r.getContext(),i=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||Ee.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){o.save();var c=this.getAbsoluteTransform(t).getMatrix();return o.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!i)return this;o.save(),o._applyLineJoin(this);if(!(this===t)){var u=this.getAbsoluteTransform(t).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5])}return i.call(this,o,this),o.restore(),this}drawHitFromCache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t,n,a,r,o,i=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=i.hit,c=l.getContext(),u=l.getWidth(),d=l.getHeight();c.clear(),c.drawImage(s._canvas,0,0,u,d);try{for(a=(n=(t=c.getImageData(0,0,u,d)).data).length,r=Ee._hexToRgb(this.colorKey),o=0;o<a;o+=4)n[o+3]>e?(n[o]=r.r,n[o+1]=r.g,n[o+2]=r.b,n[o+3]=255):n[o+3]=0;c.putImageData(t,0,0)}catch(p){Ee.error("Unable to draw hit graph from cached scene canvas. "+p.message)}return this}hasPointerCapture(e){return ft(e,this)}setPointerCapture(e){mt(e,this)}releaseCapture(e){gt(e)}}Zt.prototype._fillFunc=function(e){e.fill()},Zt.prototype._strokeFunc=function(e){e.stroke()},Zt.prototype._fillFuncHit=function(e){e.fill()},Zt.prototype._strokeFuncHit=function(e){e.stroke()},Zt.prototype._centroid=!1,Zt.prototype.nodeType="Shape",ge(Zt),Zt.prototype.eventListeners={},Zt.prototype.on.call(Zt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Gt)})),Zt.prototype.on.call(Zt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Ht)})),Zt.prototype.on.call(Zt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(qt)})),Zt.prototype.on.call(Zt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(Xt)})),Zt.prototype.on.call(Zt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(Kt)})),Me.addGetterSetter(Zt,"stroke",void 0,Ae()),Me.addGetterSetter(Zt,"strokeWidth",2,Ne()),Me.addGetterSetter(Zt,"fillAfterStrokeEnabled",!1),Me.addGetterSetter(Zt,"hitStrokeWidth","auto",Oe()),Me.addGetterSetter(Zt,"strokeHitEnabled",!0,Pe()),Me.addGetterSetter(Zt,"perfectDrawEnabled",!0,Pe()),Me.addGetterSetter(Zt,"shadowForStrokeEnabled",!0,Pe()),Me.addGetterSetter(Zt,"lineJoin"),Me.addGetterSetter(Zt,"lineCap"),Me.addGetterSetter(Zt,"sceneFunc"),Me.addGetterSetter(Zt,"hitFunc"),Me.addGetterSetter(Zt,"dash"),Me.addGetterSetter(Zt,"dashOffset",0,Ne()),Me.addGetterSetter(Zt,"shadowColor",void 0,Re()),Me.addGetterSetter(Zt,"shadowBlur",0,Ne()),Me.addGetterSetter(Zt,"shadowOpacity",1,Ne()),Me.addComponentsGetterSetter(Zt,"shadowOffset",["x","y"]),Me.addGetterSetter(Zt,"shadowOffsetX",0,Ne()),Me.addGetterSetter(Zt,"shadowOffsetY",0,Ne()),Me.addGetterSetter(Zt,"fillPatternImage"),Me.addGetterSetter(Zt,"fill",void 0,Ae()),Me.addGetterSetter(Zt,"fillPatternX",0,Ne()),Me.addGetterSetter(Zt,"fillPatternY",0,Ne()),Me.addGetterSetter(Zt,"fillLinearGradientColorStops"),Me.addGetterSetter(Zt,"strokeLinearGradientColorStops"),Me.addGetterSetter(Zt,"fillRadialGradientStartRadius",0),Me.addGetterSetter(Zt,"fillRadialGradientEndRadius",0),Me.addGetterSetter(Zt,"fillRadialGradientColorStops"),Me.addGetterSetter(Zt,"fillPatternRepeat","repeat"),Me.addGetterSetter(Zt,"fillEnabled",!0),Me.addGetterSetter(Zt,"strokeEnabled",!0),Me.addGetterSetter(Zt,"shadowEnabled",!0),Me.addGetterSetter(Zt,"dashEnabled",!0),Me.addGetterSetter(Zt,"strokeScaleEnabled",!0),Me.addGetterSetter(Zt,"fillPriority","color"),Me.addComponentsGetterSetter(Zt,"fillPatternOffset",["x","y"]),Me.addGetterSetter(Zt,"fillPatternOffsetX",0,Ne()),Me.addGetterSetter(Zt,"fillPatternOffsetY",0,Ne()),Me.addComponentsGetterSetter(Zt,"fillPatternScale",["x","y"]),Me.addGetterSetter(Zt,"fillPatternScaleX",1,Ne()),Me.addGetterSetter(Zt,"fillPatternScaleY",1,Ne()),Me.addComponentsGetterSetter(Zt,"fillLinearGradientStartPoint",["x","y"]),Me.addComponentsGetterSetter(Zt,"strokeLinearGradientStartPoint",["x","y"]),Me.addGetterSetter(Zt,"fillLinearGradientStartPointX",0),Me.addGetterSetter(Zt,"strokeLinearGradientStartPointX",0),Me.addGetterSetter(Zt,"fillLinearGradientStartPointY",0),Me.addGetterSetter(Zt,"strokeLinearGradientStartPointY",0),Me.addComponentsGetterSetter(Zt,"fillLinearGradientEndPoint",["x","y"]),Me.addComponentsGetterSetter(Zt,"strokeLinearGradientEndPoint",["x","y"]),Me.addGetterSetter(Zt,"fillLinearGradientEndPointX",0),Me.addGetterSetter(Zt,"strokeLinearGradientEndPointX",0),Me.addGetterSetter(Zt,"fillLinearGradientEndPointY",0),Me.addGetterSetter(Zt,"strokeLinearGradientEndPointY",0),Me.addComponentsGetterSetter(Zt,"fillRadialGradientStartPoint",["x","y"]),Me.addGetterSetter(Zt,"fillRadialGradientStartPointX",0),Me.addGetterSetter(Zt,"fillRadialGradientStartPointY",0),Me.addComponentsGetterSetter(Zt,"fillRadialGradientEndPoint",["x","y"]),Me.addGetterSetter(Zt,"fillRadialGradientEndPointX",0),Me.addGetterSetter(Zt,"fillRadialGradientEndPointY",0),Me.addGetterSetter(Zt,"fillPatternRotation",0),Me.backCompat(Zt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var Jt=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],en=Jt.length;class tn extends ct{constructor(e){super(e),this.canvas=new Ue,this.hitCanvas=new Ge({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){st.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!st.prototype.moveUp.call(this))return!1;var e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(st.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(st.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return st.prototype.remove.call(this),e&&e.parentNode&&Ee._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize(e){let{width:t,height:n}=e;return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&Ee.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),st.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Ee.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Ee.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Ee.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,n=!1;;){for(let a=0;a<en;a++){const r=Jt[a],o=this._getIntersection({x:e.x+r.x*t,y:e.y+r.y*t}),i=o.shape;if(i)return i;if(n=!!o.antialiased,!o.antialiased)break}if(!n)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,a=n[3];if(255===a){const e=Ee._rgbToHex(n[0],n[1],n[2]),t=$t["#"+e];return t?{shape:t}:{antialiased:!0}}return a>0?{antialiased:!0}:{}}drawScene(e,t){var n=this.getLayer(),a=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&a.getContext().clear(),ct.prototype.drawScene.call(this,a,t),this._fire("draw",{node:this}),this}drawHit(e,t){var n=this.getLayer(),a=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),ct.prototype.drawHit.call(this,a,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Ee.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Ee.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Ee.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}tn.prototype.nodeType="Layer",ge(tn),Me.addGetterSetter(tn,"imageSmoothingEnabled",!0),Me.addGetterSetter(tn,"clearBeforeDraw",!0),Me.addGetterSetter(tn,"hitGraphEnabled",!0,Pe());class nn extends tn{constructor(e){super(e),this.listening(!1),Ee.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}nn.prototype.nodeType="FastLayer",ge(nn);class an extends ct{_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&Ee.throw("You may only add groups and shapes to groups.")}}an.prototype.nodeType="Group",ge(an);var rn=fe.performance&&fe.performance.now?function(){return fe.performance.now()}:function(){return(new Date).getTime()};class on{constructor(e,t){this.id=on.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:rn(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){var t=[];return t=e?e.length>0?e:[e]:[],this.layers=t,this}getLayers(){return this.layers}addLayer(e){var t,n=this.layers,a=n.length;for(t=0;t<a;t++)if(n[t]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e,t=on.animations,n=t.length;for(e=0;e<n;e++)if(t[e].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=rn(),on._addAnimation(this),this}stop(){return on._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var t,n=e.id,a=this.animations,r=a.length;for(t=0;t<r;t++)if(a[t].id===n){this.animations.splice(t,1);break}}static _runFrames(){var e,t,n,a,r,o,i,s,l={},c=this.animations;for(a=0;a<c.length;a++)if(t=(e=c[a]).layers,n=e.func,e._updateFrameObject(rn()),o=t.length,!n||!1!==n.call(e,e.frame))for(r=0;r<o;r++)void 0!==(i=t[r])._id&&(l[i._id]=i);for(s in l)l.hasOwnProperty(s)&&l[s].batchDraw()}static _animationLoop(){var e=on;e.animations.length?(e._runFrames(),Ee.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Ee.requestAnimFrame(this._animationLoop))}}on.animations=[],on.animIdCounter=0,on.animRunning=!1;var sn={node:1,duration:1,easing:1,onFinish:1,yoyo:1},ln=0,cn=["fill","stroke","shadowColor"];class un{constructor(e,t,n,a,r,o,i){this.prop=e,this.propFunc=t,this.begin=a,this._pos=a,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=i,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()}fire(e){var t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class dn{constructor(e){var t,n,a=this,r=e.node,o=r._id,i=e.easing||pn.Linear,s=!!e.yoyo;t="undefined"===typeof e.duration?.3:0===e.duration?.001:e.duration,this.node=r,this._id=ln++;var l=r.getLayer()||(r instanceof me.Stage?r.getLayers():null);for(n in l||Ee.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new on((function(){a.tween.onEnterFrame()}),l),this.tween=new un(n,(function(e){a._tweenFunc(e)}),i,0,1,1e3*t,s),this._addListeners(),dn.attrs[o]||(dn.attrs[o]={}),dn.attrs[o][this._id]||(dn.attrs[o][this._id]={}),dn.tweens[o]||(dn.tweens[o]={}),e)void 0===sn[n]&&this._addAttr(n,e[n]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){var n,a,r,o,i,s,l,c,u=this.node,d=u._id;if((r=dn.tweens[d][e])&&delete dn.attrs[d][r][e],n=u.getAttr(e),Ee._isArray(t))if(a=[],i=Math.max(t.length,n.length),"points"===e&&t.length!==n.length&&(t.length>n.length?(l=n,n=Ee._prepareArrayForTween(n,t,u.closed())):(s=t,t=Ee._prepareArrayForTween(t,n,u.closed()))),0===e.indexOf("fill"))for(o=0;o<i;o++)if(o%2===0)a.push(t[o]-n[o]);else{var p=Ee.colorToRGBA(n[o]);c=Ee.colorToRGBA(t[o]),n[o]=p,a.push({r:c.r-p.r,g:c.g-p.g,b:c.b-p.b,a:c.a-p.a})}else for(o=0;o<i;o++)a.push(t[o]-n[o]);else-1!==cn.indexOf(e)?(n=Ee.colorToRGBA(n),a={r:(c=Ee.colorToRGBA(t)).r-n.r,g:c.g-n.g,b:c.b-n.b,a:c.a-n.a}):a=t-n;dn.attrs[d][this._id][e]={start:n,diff:a,end:t,trueEnd:s,trueStart:l},dn.tweens[d][e]=this._id}_tweenFunc(e){var t,n,a,r,o,i,s,l,c=this.node,u=dn.attrs[c._id][this._id];for(t in u){if(a=(n=u[t]).start,r=n.diff,l=n.end,Ee._isArray(a))if(o=[],s=Math.max(a.length,l.length),0===t.indexOf("fill"))for(i=0;i<s;i++)i%2===0?o.push((a[i]||0)+r[i]*e):o.push("rgba("+Math.round(a[i].r+r[i].r*e)+","+Math.round(a[i].g+r[i].g*e)+","+Math.round(a[i].b+r[i].b*e)+","+(a[i].a+r[i].a*e)+")");else for(i=0;i<s;i++)o.push((a[i]||0)+r[i]*e);else o=-1!==cn.indexOf(t)?"rgba("+Math.round(a.r+r.r*e)+","+Math.round(a.g+r.g*e)+","+Math.round(a.b+r.b*e)+","+(a.a+r.a*e)+")":a+r*e;c.setAttr(t,o)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,t=dn.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,t=dn.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e,t=this.node._id,n=this._id,a=dn.tweens[t];for(e in this.pause(),a)delete dn.tweens[t][e];delete dn.attrs[t][n]}}dn.attrs={},dn.tweens={},st.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new dn(e).play()};const pn={BackEaseIn(e,t,n,a){var r=1.70158;return n*(e/=a)*e*((r+1)*e-r)+t},BackEaseOut(e,t,n,a){var r=1.70158;return n*((e=e/a-1)*e*((r+1)*e+r)+1)+t},BackEaseInOut(e,t,n,a){var r=1.70158;return(e/=a/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},ElasticEaseIn(e,t,n,a,r,o){var i=0;return 0===e?t:1===(e/=a)?t+n:(o||(o=.3*a),!r||r<Math.abs(n)?(r=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e*a-i)*(2*Math.PI)/o)+t)},ElasticEaseOut(e,t,n,a,r,o){var i=0;return 0===e?t:1===(e/=a)?t+n:(o||(o=.3*a),!r||r<Math.abs(n)?(r=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*e)*Math.sin((e*a-i)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut(e,t,n,a,r,o){var i=0;return 0===e?t:2===(e/=a/2)?t+n:(o||(o=a*(.3*1.5)),!r||r<Math.abs(n)?(r=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*a-i)*(2*Math.PI)/o)*-.5+t:r*Math.pow(2,-10*(e-=1))*Math.sin((e*a-i)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut:(e,t,n,a)=>(e/=a)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,t,n,a)=>n-pn.BounceEaseOut(a-e,0,n,a)+t,BounceEaseInOut:(e,t,n,a)=>e<a/2?.5*pn.BounceEaseIn(2*e,0,n,a)+t:.5*pn.BounceEaseOut(2*e-a,0,n,a)+.5*n+t,EaseIn:(e,t,n,a)=>n*(e/=a)*e+t,EaseOut:(e,t,n,a)=>-n*(e/=a)*(e-2)+t,EaseInOut:(e,t,n,a)=>(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,n,a)=>n*(e/=a)*e*e*e*e+t,StrongEaseOut:(e,t,n,a)=>n*((e=e/a-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,n,a)=>(e/=a/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,n,a)=>n*e/a+t},hn=Ee._assign(me,{Util:Ee,Transform:ye,Node:st,Container:ct,Stage:Ut,stages:Vt,Layer:tn,FastLayer:nn,Group:an,DD:He,Shape:Zt,shapes:$t,Animation:on,Tween:dn,Easings:pn,Context:ze,Canvas:Ve});class fn extends Zt{_sceneFunc(e){var t=me.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),n=this.clockwise(),a=me.getAngle(n?360-this.angle():this.angle()),r=Math.cos(Math.min(a,Math.PI)),o=Math.sin(Math.min(Math.max(Math.PI,a),3*Math.PI/2)),i=Math.sin(Math.min(a,Math.PI/2)),s=r*(r>0?e:t),l=o*(o>0?e:t),c=i*(i>0?t:e);return{x:s,y:n?-1*c:l,width:1*t-s,height:c-l}}}function mn(e,t,n,a,r,o,i){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(a-t,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(o-a,2)),c=i*s/(s+l),u=i*l/(s+l);return[n-c*(r-e),a-c*(o-t),n+u*(r-e),a+u*(o-t)]}function gn(e,t){var n,a,r=e.length,o=[];for(n=2;n<r-2;n+=2)a=mn(e[n-2],e[n-1],e[n],e[n+1],e[n+2],e[n+3],t),isNaN(a[0])||(o.push(a[0]),o.push(a[1]),o.push(e[n]),o.push(e[n+1]),o.push(a[2]),o.push(a[3]));return o}fn.prototype._centroid=!0,fn.prototype.className="Arc",fn.prototype._attrsAffectingSize=["innerRadius","outerRadius"],ge(fn),Me.addGetterSetter(fn,"innerRadius",0,Ne()),Me.addGetterSetter(fn,"outerRadius",0,Ne()),Me.addGetterSetter(fn,"angle",0,Ne()),Me.addGetterSetter(fn,"clockwise",!1,Pe());class yn extends Zt{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(e){var t,n,a,r=this.points(),o=r.length,i=this.tension(),s=this.closed(),l=this.bezier();if(o){if(e.beginPath(),e.moveTo(r[0],r[1]),0!==i&&o>4){for(n=(t=this.getTensionPoints()).length,a=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);a<n-2;)e.bezierCurveTo(t[a++],t[a++],t[a++],t[a++],t[a++],t[a++]);s||e.quadraticCurveTo(t[n-2],t[n-1],r[o-2],r[o-1])}else if(l)for(a=2;a<o;)e.bezierCurveTo(r[a++],r[a++],r[a++],r[a++],r[a++],r[a++]);else for(a=2;a<o;a+=2)e.lineTo(r[a],r[a+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():gn(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),t=e.length,n=this.tension(),a=mn(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),r=mn(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),o=gn(e,n);return[a[2],a[3]].concat(o).concat([r[0],r[1],e[t-2],e[t-1],r[2],r[3],a[0],a[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};for(var t,n,a=(e=0!==this.tension()?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points())[0],r=e[0],o=e[1],i=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],a=Math.min(a,t),r=Math.max(r,t),o=Math.min(o,n),i=Math.max(i,n);return{x:a,y:o,width:r-a,height:i-o}}}yn.prototype.className="Line",yn.prototype._attrsAffectingSize=["points","bezier","tension"],ge(yn),Me.addGetterSetter(yn,"closed",!1),Me.addGetterSetter(yn,"bezier",!1),Me.addGetterSetter(yn,"tension",0,Ne()),Me.addGetterSetter(yn,"points",[],function(){if(me.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(Ee._isArray(e)?e.forEach((function(e){Ee._isNumber(e)||Ee.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")})):Ee.warn(_e(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}());class vn extends Zt{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=vn.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength;this.on("dataChange.konva",(function(){this.dataArray=vn.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength}))}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var n=!1,a=0;a<t.length;a++){var r=t[a].command,o=t[a].points;switch(r){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var i=o[0],s=o[1],l=o[2],c=o[3],u=o[4],d=o[5],p=o[6],h=o[7],f=l>c?l:c,m=l>c?1:l/c,g=l>c?c/l:1;e.translate(i,s),e.rotate(p),e.scale(m,g),e.arc(0,0,f,u,u+d,1-h),e.scale(1/m,1/g),e.rotate(-p),e.translate(-i,-s);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach((function(t){if("A"===t.command){var n=t.points[4],a=t.points[5],r=t.points[4]+a,o=Math.PI/180;if(Math.abs(n-r)<o&&(o=Math.abs(n-r)),a<0)for(let a=n-o;a>r;a-=o){const n=vn.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],a,0);e.push(n.x,n.y)}else for(let a=n+o;a<r;a+=o){const n=vn.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],a,0);e.push(n.x,n.y)}}else if("C"===t.command)for(let i=0;i<=1;i+=.01){const n=vn.getPointOnCubicBezier(i,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(n.x,n.y)}else e=e.concat(t.points)}));for(var t,n,a=e[0],r=e[0],o=e[1],i=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],isNaN(t)||(a=Math.min(a,t),r=Math.max(r,t)),isNaN(n)||(o=Math.min(o,n),i=Math.max(i,n));return{x:a,y:o,width:r-a,height:i-o}}getLength(){return this.pathLength}getPointAtLength(e){var t,n=0,a=this.dataArray.length;if(!a)return null;for(;n<a&&e>this.dataArray[n].pathLength;)e-=this.dataArray[n].pathLength,++n;if(n===a)return{x:(t=this.dataArray[n-1].points.slice(-2))[0],y:t[1]};if(e<.01)return{x:(t=this.dataArray[n].points.slice(0,2))[0],y:t[1]};var r=this.dataArray[n],o=r.points;switch(r.command){case"L":return vn.getPointOnLine(e,r.start.x,r.start.y,o[0],o[1]);case"C":return vn.getPointOnCubicBezier(e/r.pathLength,r.start.x,r.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return vn.getPointOnQuadraticBezier(e/r.pathLength,r.start.x,r.start.y,o[0],o[1],o[2],o[3]);case"A":var i=o[0],s=o[1],l=o[2],c=o[3],u=o[4],d=o[5],p=o[6];return u+=d*e/r.pathLength,vn.getPointOnEllipticalArc(i,s,l,c,u,p)}return null}static getLineLength(e,t,n,a){return Math.sqrt((n-e)*(n-e)+(a-t)*(a-t))}static getPointOnLine(e,t,n,a,r,o,i){void 0===o&&(o=t),void 0===i&&(i=n);var s=(r-n)/(a-t+1e-8),l=Math.sqrt(e*e/(1+s*s));a<t&&(l*=-1);var c,u=s*l;if(a===t)c={x:o,y:i+u};else if((i-n)/(o-t+1e-8)===s)c={x:o+l,y:i+u};else{var d,p,h=this.getLineLength(t,n,a,r),f=(o-t)*(a-t)+(i-n)*(r-n);d=t+(f/=h*h)*(a-t),p=n+f*(r-n);var m=this.getLineLength(o,i,d,p),g=Math.sqrt(e*e-m*m);l=Math.sqrt(g*g/(1+s*s)),a<t&&(l*=-1),c={x:d+l,y:p+(u=s*l)}}return c}static getPointOnCubicBezier(e,t,n,a,r,o,i,s,l){function c(e){return e*e*e}function u(e){return 3*e*e*(1-e)}function d(e){return 3*e*(1-e)*(1-e)}function p(e){return(1-e)*(1-e)*(1-e)}return{x:s*c(e)+o*u(e)+a*d(e)+t*p(e),y:l*c(e)+i*u(e)+r*d(e)+n*p(e)}}static getPointOnQuadraticBezier(e,t,n,a,r,o,i){function s(e){return e*e}function l(e){return 2*e*(1-e)}function c(e){return(1-e)*(1-e)}return{x:o*s(e)+a*l(e)+t*c(e),y:i*s(e)+r*l(e)+n*c(e)}}static getPointOnEllipticalArc(e,t,n,a,r,o){var i=Math.cos(o),s=Math.sin(o),l=n*Math.cos(r),c=a*Math.sin(r);return{x:e+(l*i-c*s),y:t+(l*s+c*i)}}static parsePathData(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var a=0;a<n.length;a++)t=t.replace(new RegExp(n[a],"g"),"|"+n[a]);var r,o=t.split("|"),i=[],s=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(a=1;a<o.length;a++){var d=o[a],p=d.charAt(0);for(d=d.slice(1),s.length=0;r=u.exec(d);)s.push(r[0]);for(var h=[],f=0,m=s.length;f<m;f++)if("00"!==s[f]){var g=parseFloat(s[f]);isNaN(g)?h.push(0):h.push(g)}else h.push(0,0);for(;h.length>0&&!isNaN(h[0]);){var y,v,b,x,w,k,S,C,E,_,I=null,N=[],T=l,O=c;switch(p){case"l":l+=h.shift(),c+=h.shift(),I="L",N.push(l,c);break;case"L":l=h.shift(),c=h.shift(),N.push(l,c);break;case"m":var R=h.shift(),A=h.shift();if(l+=R,c+=A,I="M",i.length>2&&"z"===i[i.length-1].command)for(var P=i.length-2;P>=0;P--)if("M"===i[P].command){l=i[P].points[0]+R,c=i[P].points[1]+A;break}N.push(l,c),p="l";break;case"M":l=h.shift(),c=h.shift(),I="M",N.push(l,c),p="L";break;case"h":l+=h.shift(),I="L",N.push(l,c);break;case"H":l=h.shift(),I="L",N.push(l,c);break;case"v":c+=h.shift(),I="L",N.push(l,c);break;case"V":c=h.shift(),I="L",N.push(l,c);break;case"C":N.push(h.shift(),h.shift(),h.shift(),h.shift()),l=h.shift(),c=h.shift(),N.push(l,c);break;case"c":N.push(l+h.shift(),c+h.shift(),l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),I="C",N.push(l,c);break;case"S":v=l,b=c,"C"===(y=i[i.length-1]).command&&(v=l+(l-y.points[2]),b=c+(c-y.points[3])),N.push(v,b,h.shift(),h.shift()),l=h.shift(),c=h.shift(),I="C",N.push(l,c);break;case"s":v=l,b=c,"C"===(y=i[i.length-1]).command&&(v=l+(l-y.points[2]),b=c+(c-y.points[3])),N.push(v,b,l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),I="C",N.push(l,c);break;case"Q":N.push(h.shift(),h.shift()),l=h.shift(),c=h.shift(),N.push(l,c);break;case"q":N.push(l+h.shift(),c+h.shift()),l+=h.shift(),c+=h.shift(),I="Q",N.push(l,c);break;case"T":v=l,b=c,"Q"===(y=i[i.length-1]).command&&(v=l+(l-y.points[0]),b=c+(c-y.points[1])),l=h.shift(),c=h.shift(),I="Q",N.push(v,b,l,c);break;case"t":v=l,b=c,"Q"===(y=i[i.length-1]).command&&(v=l+(l-y.points[0]),b=c+(c-y.points[1])),l+=h.shift(),c+=h.shift(),I="Q",N.push(v,b,l,c);break;case"A":x=h.shift(),w=h.shift(),k=h.shift(),S=h.shift(),C=h.shift(),E=l,_=c,l=h.shift(),c=h.shift(),I="A",N=this.convertEndpointToCenterParameterization(E,_,l,c,S,C,x,w,k);break;case"a":x=h.shift(),w=h.shift(),k=h.shift(),S=h.shift(),C=h.shift(),E=l,_=c,l+=h.shift(),c+=h.shift(),I="A",N=this.convertEndpointToCenterParameterization(E,_,l,c,S,C,x,w,k)}i.push({command:I||p,points:N,start:{x:T,y:O},pathLength:this.calcLength(T,O,I||p,N)})}"z"!==p&&"Z"!==p||i.push({command:"z",points:[],start:void 0,pathLength:0})}return i}static calcLength(e,t,n,a){var r,o,i,s,l=vn;switch(n){case"L":return l.getLineLength(e,t,a[0],a[1]);case"C":for(r=0,o=l.getPointOnCubicBezier(0,e,t,a[0],a[1],a[2],a[3],a[4],a[5]),s=.01;s<=1;s+=.01)i=l.getPointOnCubicBezier(s,e,t,a[0],a[1],a[2],a[3],a[4],a[5]),r+=l.getLineLength(o.x,o.y,i.x,i.y),o=i;return r;case"Q":for(r=0,o=l.getPointOnQuadraticBezier(0,e,t,a[0],a[1],a[2],a[3]),s=.01;s<=1;s+=.01)i=l.getPointOnQuadraticBezier(s,e,t,a[0],a[1],a[2],a[3]),r+=l.getLineLength(o.x,o.y,i.x,i.y),o=i;return r;case"A":r=0;var c=a[4],u=a[5],d=a[4]+u,p=Math.PI/180;if(Math.abs(c-d)<p&&(p=Math.abs(c-d)),o=l.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],c,0),u<0)for(s=c-p;s>d;s-=p)i=l.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],s,0),r+=l.getLineLength(o.x,o.y,i.x,i.y),o=i;else for(s=c+p;s<d;s+=p)i=l.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],s,0),r+=l.getLineLength(o.x,o.y,i.x,i.y),o=i;return i=l.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],d,0),r+=l.getLineLength(o.x,o.y,i.x,i.y)}return 0}static convertEndpointToCenterParameterization(e,t,n,a,r,o,i,s,l){var c=l*(Math.PI/180),u=Math.cos(c)*(e-n)/2+Math.sin(c)*(t-a)/2,d=-1*Math.sin(c)*(e-n)/2+Math.cos(c)*(t-a)/2,p=u*u/(i*i)+d*d/(s*s);p>1&&(i*=Math.sqrt(p),s*=Math.sqrt(p));var h=Math.sqrt((i*i*(s*s)-i*i*(d*d)-s*s*(u*u))/(i*i*(d*d)+s*s*(u*u)));r===o&&(h*=-1),isNaN(h)&&(h=0);var f=h*i*d/s,m=h*-s*u/i,g=(e+n)/2+Math.cos(c)*f-Math.sin(c)*m,y=(t+a)/2+Math.sin(c)*f+Math.cos(c)*m,v=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(v(e)*v(t))},x=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},w=x([1,0],[(u-f)/i,(d-m)/s]),k=[(u-f)/i,(d-m)/s],S=[(-1*u-f)/i,(-1*d-m)/s],C=x(k,S);return b(k,S)<=-1&&(C=Math.PI),b(k,S)>=1&&(C=0),0===o&&C>0&&(C-=2*Math.PI),1===o&&C<0&&(C+=2*Math.PI),[g,y,i,s,w,C,c,o]}}vn.prototype.className="Path",vn.prototype._attrsAffectingSize=["data"],ge(vn),Me.addGetterSetter(vn,"data");class bn extends yn{_sceneFunc(e){super._sceneFunc(e);var t=2*Math.PI,n=this.points(),a=n,r=0!==this.tension()&&n.length>4;r&&(a=this.getTensionPoints());var o,i,s=this.pointerLength(),l=n.length;if(r){const e=[a[a.length-4],a[a.length-3],a[a.length-2],a[a.length-1],n[l-2],n[l-1]],t=vn.calcLength(a[a.length-4],a[a.length-3],"C",e),r=vn.getPointOnQuadraticBezier(Math.min(1,1-s/t),e[0],e[1],e[2],e[3],e[4],e[5]);o=n[l-2]-r.x,i=n[l-1]-r.y}else o=n[l-2]-n[l-4],i=n[l-1]-n[l-3];var c=(Math.atan2(i,o)+t)%t,u=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[l-2],n[l-1]),e.rotate(c),e.moveTo(0,0),e.lineTo(-s,u/2),e.lineTo(-s,-u/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),r?(o=(a[0]+a[2])/2-n[0],i=(a[1]+a[3])/2-n[1]):(o=n[2]-n[0],i=n[3]-n[1]),e.rotate((Math.atan2(-i,-o)+t)%t),e.moveTo(0,0),e.lineTo(-s,u/2),e.lineTo(-s,-u/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}}bn.prototype.className="Arrow",ge(bn),Me.addGetterSetter(bn,"pointerLength",10,Ne()),Me.addGetterSetter(bn,"pointerWidth",10,Ne()),Me.addGetterSetter(bn,"pointerAtBeginning",!1),Me.addGetterSetter(bn,"pointerAtEnding",!0);class xn extends Zt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}xn.prototype._centroid=!0,xn.prototype.className="Circle",xn.prototype._attrsAffectingSize=["radius"],ge(xn),Me.addGetterSetter(xn,"radius",0,Ne());class wn extends Zt{_sceneFunc(e){var t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}wn.prototype.className="Ellipse",wn.prototype._centroid=!0,wn.prototype._attrsAffectingSize=["radiusX","radiusY"],ge(wn),Me.addComponentsGetterSetter(wn,"radius",["x","y"]),Me.addGetterSetter(wn,"radiusX",0,Ne()),Me.addGetterSetter(wn,"radiusY",0,Ne());class kn extends Zt{constructor(e){super(e),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),n=this.getHeight(),a=this.cornerRadius(),r=this.attrs.image;let o;if(r){const e=this.attrs.cropWidth,a=this.attrs.cropHeight;o=e&&a?[r,this.cropX(),this.cropY(),e,a,0,0,t,n]:[r,0,0,t,n]}(this.hasFill()||this.hasStroke()||a)&&(e.beginPath(),a?Ee.drawRoundedRectPath(e,t,n,a):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)),r&&(a&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){var t=this.width(),n=this.height(),a=this.cornerRadius();e.beginPath(),a?Ee.drawRoundedRectPath(e,t,n,a):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}getHeight(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}static fromURL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var a=Ee.createImageElement();a.onload=function(){var e=new kn({image:a});t(e)},a.onerror=n,a.crossOrigin="Anonymous",a.src=e}}kn.prototype.className="Image",ge(kn),Me.addGetterSetter(kn,"cornerRadius",0,Te(4)),Me.addGetterSetter(kn,"image"),Me.addComponentsGetterSetter(kn,"crop",["x","y","width","height"]),Me.addGetterSetter(kn,"cropX",0,Ne()),Me.addGetterSetter(kn,"cropY",0,Ne()),Me.addGetterSetter(kn,"cropWidth",0,Ne()),Me.addGetterSetter(kn,"cropHeight",0,Ne());var Sn=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Cn="up",En="right",_n="down",In="left",Nn=Sn.length;class Tn extends an{constructor(e){super(e),this.on("add.konva",(function(e){this._addListeners(e.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var t,n=this,a=function(){n._sync()};for(t=0;t<Nn;t++)e.on(Sn[t]+"Change.konva",a)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e,t,n,a,r,o,i,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),a=l.pointerWidth(),i=l.pointerHeight(),r=0,o=0,n){case Cn:r=e/2,o=-1*i;break;case En:r=e+a,o=t/2;break;case _n:r=e/2,o=t+i;break;case In:r=-1*a,o=t/2}l.setAttrs({x:-1*r,y:-1*o,width:e,height:t}),s.setAttrs({x:-1*r,y:-1*o})}}}Tn.prototype.className="Label",ge(Tn);class On extends Zt{_sceneFunc(e){var t=this.width(),n=this.height(),a=this.pointerDirection(),r=this.pointerWidth(),o=this.pointerHeight(),i=this.cornerRadius();let s=0,l=0,c=0,u=0;"number"===typeof i?s=l=c=u=Math.min(i,t/2,n/2):(s=Math.min(i[0]||0,t/2,n/2),l=Math.min(i[1]||0,t/2,n/2),u=Math.min(i[2]||0,t/2,n/2),c=Math.min(i[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(s,0),a===Cn&&(e.lineTo((t-r)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+r)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),a===En&&(e.lineTo(t,(n-o)/2),e.lineTo(t+r,n/2),e.lineTo(t,(n+o)/2)),e.lineTo(t,n-u),e.arc(t-u,n-u,u,0,Math.PI/2,!1),a===_n&&(e.lineTo((t+r)/2,n),e.lineTo(t/2,n+o),e.lineTo((t-r)/2,n)),e.lineTo(c,n),e.arc(c,n-c,c,Math.PI/2,Math.PI,!1),a===In&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*r,n/2),e.lineTo(0,(n-o)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,t=0,n=this.pointerWidth(),a=this.pointerHeight(),r=this.pointerDirection(),o=this.width(),i=this.height();return r===Cn?(t-=a,i+=a):r===_n?i+=a:r===In?(e-=1.5*n,o+=n):r===En&&(o+=1.5*n),{x:e,y:t,width:o,height:i}}}On.prototype.className="Tag",ge(On),Me.addGetterSetter(On,"pointerDirection","none"),Me.addGetterSetter(On,"pointerWidth",0,Ne()),Me.addGetterSetter(On,"pointerHeight",0,Ne()),Me.addGetterSetter(On,"cornerRadius",0,Te(4));class Rn extends Zt{_sceneFunc(e){var t=this.cornerRadius(),n=this.width(),a=this.height();e.beginPath(),t?Ee.drawRoundedRectPath(e,n,a,t):e.rect(0,0,n,a),e.closePath(),e.fillStrokeShape(this)}}Rn.prototype.className="Rect",ge(Rn),Me.addGetterSetter(Rn,"cornerRadius",0,Te(4));class An extends Zt{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,n=[];for(var a=0;a<e;a++)n.push({x:t*Math.sin(2*a*Math.PI/e),y:-1*t*Math.cos(2*a*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();var t=e[0].x,n=e[0].y,a=e[0].x,r=e[0].y;return e.forEach((e=>{t=Math.min(t,e.x),n=Math.max(n,e.x),a=Math.min(a,e.y),r=Math.max(r,e.y)})),{x:t,y:a,width:n-t,height:r-a}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}An.prototype.className="RegularPolygon",An.prototype._centroid=!0,An.prototype._attrsAffectingSize=["radius"],ge(An),Me.addGetterSetter(An,"radius",0,Ne()),Me.addGetterSetter(An,"sides",0,Ne());var Pn=2*Math.PI;class Fn extends Zt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Pn,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Pn,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Fn.prototype.className="Ring",Fn.prototype._centroid=!0,Fn.prototype._attrsAffectingSize=["innerRadius","outerRadius"],ge(Fn),Me.addGetterSetter(Fn,"innerRadius",0,Ne()),Me.addGetterSetter(Fn,"outerRadius",0,Ne());class Dn extends Zt{constructor(e){super(e),this._updated=!0,this.anim=new on((()=>{var e=this._updated;return this._updated=!1,e})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(e){var t=this.animation(),n=this.frameIndex(),a=4*n,r=this.animations()[t],o=this.frameOffsets(),i=r[a+0],s=r[a+1],l=r[a+2],c=r[a+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,c),e.closePath(),e.fillStrokeShape(this)),u)if(o){var d=o[t],p=2*n;e.drawImage(u,i,s,l,c,d[p+0],d[p+1],l,c)}else e.drawImage(u,i,s,l,c,0,0,l,c)}_hitFunc(e){var t=this.animation(),n=this.frameIndex(),a=4*n,r=this.animations()[t],o=this.frameOffsets(),i=r[a+2],s=r[a+3];if(e.beginPath(),o){var l=o[t],c=2*n;e.rect(l[c+0],l[c+1],i,s)}else e.rect(0,0,i,s);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval((function(){e._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}Dn.prototype.className="Sprite",ge(Dn),Me.addGetterSetter(Dn,"animation"),Me.addGetterSetter(Dn,"animations"),Me.addGetterSetter(Dn,"frameOffsets"),Me.addGetterSetter(Dn,"image"),Me.addGetterSetter(Dn,"frameIndex",0,Ne()),Me.addGetterSetter(Dn,"frameRate",17,Ne()),Me.backCompat(Dn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Mn extends Zt{_sceneFunc(e){var t=this.innerRadius(),n=this.outerRadius(),a=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var r=1;r<2*a;r++){var o=r%2===0?n:t,i=o*Math.sin(r*Math.PI/a),s=-1*o*Math.cos(r*Math.PI/a);e.lineTo(i,s)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}function Ln(e){return Array.from(e)}Mn.prototype.className="Star",Mn.prototype._centroid=!0,Mn.prototype._attrsAffectingSize=["innerRadius","outerRadius"],ge(Mn),Me.addGetterSetter(Mn,"numPoints",5,Ne()),Me.addGetterSetter(Mn,"innerRadius",0,Ne()),Me.addGetterSetter(Mn,"outerRadius",0,Ne());var zn,jn="auto",Bn="justify",Wn="left",Vn="middle",Un="normal",Gn=" ",Hn="none",qn=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Xn=qn.length;function Kn(){return zn||(zn=Ee.createCanvasElement().getContext("2d"))}class Yn extends Zt{constructor(e){super(function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),this._partialTextX=0,this._partialTextY=0;for(var t=0;t<Xn;t++)this.on(qn[t]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){var t=this.textArr,n=t.length;if(this.text()){var a,r=this.padding(),o=this.fontSize(),i=this.lineHeight()*o,s=this.verticalAlign(),l=0,c=this.align(),u=this.getWidth(),d=this.letterSpacing(),p=this.fill(),h=this.textDecoration(),f=-1!==h.indexOf("underline"),m=-1!==h.indexOf("line-through"),g=0,y=(g=i/2,0),v=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",Vn),e.setAttr("textAlign",Wn),s===Vn?l=(this.getHeight()-n*i-2*r)/2:"bottom"===s&&(l=this.getHeight()-n*i-2*r),e.translate(r,l+r),a=0;a<n;a++){y=0,v=0;var b,x,w,k=t[a],S=k.text,C=k.width,E=k.lastInParagraph;if(e.save(),"right"===c?y+=u-C-2*r:"center"===c&&(y+=(u-C-2*r)/2),f){e.save(),e.beginPath(),e.moveTo(y,g+v+Math.round(o/2)),x=0===(b=S.split(" ").length-1),w=c!==Bn||E?C:u-2*r,e.lineTo(y+Math.round(w),g+v+Math.round(o/2)),e.lineWidth=o/15;const t=this._getLinearGradient();e.strokeStyle=t||p,e.stroke(),e.restore()}if(m){e.save(),e.beginPath(),e.moveTo(y,g+v),x=0===(b=S.split(" ").length-1),w=c===Bn&&E&&!x?u-2*r:C,e.lineTo(y+Math.round(w),g+v),e.lineWidth=o/15;const t=this._getLinearGradient();e.strokeStyle=t||p,e.stroke(),e.restore()}if(0!==d||c===Bn){b=S.split(" ").length-1;for(var _=Ln(S),I=0;I<_.length;I++){var N=_[I];" "!==N||E||c!==Bn||(y+=(u-2*r-C)/b),this._partialTextX=y,this._partialTextY=g+v,this._partialText=N,e.fillStrokeShape(this),y+=this.measureSize(N).width+d}}else this._partialTextX=y,this._partialTextY=g+v,this._partialText=S,e.fillStrokeShape(this);e.restore(),n>1&&(g+=i)}}}_hitFunc(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}setText(e){var t=Ee._isString(e)?e:null===e||void 0===e?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===jn||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===jn||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Ee.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,n=Kn(),a=this.fontSize();return n.save(),n.font=this._getContextFont(),t=n.measureText(e),n.restore(),{width:t.width,height:a}}_getContextFont(){return this.fontStyle()+Gn+this.fontVariant()+Gn+(this.fontSize()+"px ")+this.fontFamily().split(",").map((e=>{const t=(e=e.trim()).indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e='"'.concat(e,'"')),e})).join(", ")}_addTextLine(e){this.align()===Bn&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}_getTextWidth(e){var t=this.letterSpacing(),n=e.length;return Kn().measureText(e).width+(n?t*(n-1):0)}_setTextData(){var e=this.text().split("\n"),t=+this.fontSize(),n=0,a=this.lineHeight()*t,r=this.attrs.width,o=this.attrs.height,i=r!==jn&&void 0!==r,s=o!==jn&&void 0!==o,l=this.padding(),c=r-2*l,u=o-2*l,d=0,p=this.wrap(),h="char"!==p&&p!==Hn,f=this.ellipsis();this.textArr=[],Kn().font=this._getContextFont();for(var m=f?this._getTextWidth("\u2026"):0,g=0,y=e.length;g<y;++g){var v=e[g],b=this._getTextWidth(v);if(i&&b>c)for(;v.length>0;){for(var x=0,w=v.length,k="",S=0;x<w;){var C=x+w>>>1,E=v.slice(0,C+1),_=this._getTextWidth(E)+m;_<=c?(x=C+1,k=E,S=_):w=C}if(!k)break;if(h){var I,N=v[k.length];(I=(N===Gn||"-"===N)&&S<=c?k.length:Math.max(k.lastIndexOf(Gn),k.lastIndexOf("-"))+1)>0&&(x=I,k=k.slice(0,x),S=this._getTextWidth(k))}if(k=k.trimRight(),this._addTextLine(k),n=Math.max(n,S),d+=a,this._shouldHandleEllipsis(d)){this._tryToAddEllipsisToLastLine();break}if((v=(v=v.slice(x)).trimLeft()).length>0&&(b=this._getTextWidth(v))<=c){this._addTextLine(v),d+=a,n=Math.max(n,b);break}}else this._addTextLine(v),d+=a,n=Math.max(n,b),this._shouldHandleEllipsis(d)&&g<y-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),s&&d+a>u)break}this.textHeight=t,this.textWidth=n}_shouldHandleEllipsis(e){var t=+this.fontSize(),n=this.lineHeight()*t,a=this.attrs.height,r=a!==jn&&void 0!==a,o=a-2*this.padding();return!(this.wrap()!==Hn)||r&&e+n>o}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,t=e!==jn&&void 0!==e,n=e-2*this.padding(),a=this.ellipsis(),r=this.textArr[this.textArr.length-1];if(r&&a){if(t)this._getTextWidth(r.text+"\u2026")<n||(r.text=r.text.slice(0,r.text.length-3));this.textArr.splice(this.textArr.length-1,1),this._addTextLine(r.text+"\u2026")}}getStrokeScaleEnabled(){return!0}}Yn.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},Yn.prototype._strokeFunc=function(e){e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},Yn.prototype.className="Text",Yn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],ge(Yn),Me.overWriteSetter(Yn,"width",Oe()),Me.overWriteSetter(Yn,"height",Oe()),Me.addGetterSetter(Yn,"fontFamily","Arial"),Me.addGetterSetter(Yn,"fontSize",12,Ne()),Me.addGetterSetter(Yn,"fontStyle",Un),Me.addGetterSetter(Yn,"fontVariant",Un),Me.addGetterSetter(Yn,"padding",0,Ne()),Me.addGetterSetter(Yn,"align",Wn),Me.addGetterSetter(Yn,"verticalAlign","top"),Me.addGetterSetter(Yn,"lineHeight",1,Ne()),Me.addGetterSetter(Yn,"wrap","word"),Me.addGetterSetter(Yn,"ellipsis",!1,Pe()),Me.addGetterSetter(Yn,"letterSpacing",0,Ne()),Me.addGetterSetter(Yn,"text","",Re()),Me.addGetterSetter(Yn,"textDecoration","");var Qn="normal";function $n(e){e.fillText(this.partialText,0,0)}function Zn(e){e.strokeText(this.partialText,0,0)}class Jn extends Zt{constructor(e){super(e),this.dummyCanvas=Ee.createCanvasElement(),this.dataArray=[],this.dataArray=vn.parsePathData(this.attrs.data),this.on("dataChange.konva",(function(){this.dataArray=vn.parsePathData(this.attrs.data),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),n=this.fill(),a=this.fontSize(),r=this.glyphInfo;"underline"===t&&e.beginPath();for(var o=0;o<r.length;o++){e.save();var i=r[o].p0;e.translate(i.x,i.y),e.rotate(r[o].rotation),this.partialText=r[o].text,e.fillStrokeShape(this),"underline"===t&&(0===o&&e.moveTo(0,a/2+1),e.lineTo(a,a/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=a/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var n=t[0].p0;e.moveTo(n.x,n.y)}for(var a=0;a<t.length;a++){var r=t[a].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Ee.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Yn.prototype.setText.call(this,e)}_getContextFont(){return Yn.prototype._getContextFont.call(this)}_getTextSize(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,t=this._getTextSize(this.attrs.text),n=this.letterSpacing(),a=this.align(),r=this.kerningFunc();this.textWidth=t.width,this.textHeight=t.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var i=0,s=0;s<e.dataArray.length;s++)e.dataArray[s].pathLength>0&&(i+=e.dataArray[s].pathLength);var l=0;"center"===a&&(l=Math.max(0,i/2-o/2)),"right"===a&&(l=Math.max(0,i-o));for(var c,u,d,p=Ln(this.text()),h=this.text().split(" ").length-1,f=-1,m=0,g=function(){m=0;for(var t=e.dataArray,n=f+1;n<t.length;n++){if(t[n].pathLength>0)return f=n,t[n];"M"===t[n].command&&(c={x:t[n].points[0],y:t[n].points[1]})}return{}},y=function(t){var r=e._getTextSize(t).width+n;" "===t&&"justify"===a&&(r+=(i-o)/h);var s=0,l=0;for(u=void 0;Math.abs(r-s)/r>.01&&l<20;){l++;for(var p=s;void 0===d;)(d=g())&&p+d.pathLength<r&&(p+=d.pathLength,d=void 0);if(0===Object.keys(d).length||void 0===c)return;var f=!1;switch(d.command){case"L":vn.getLineLength(c.x,c.y,d.points[0],d.points[1])>r?u=vn.getPointOnLine(r,c.x,c.y,d.points[0],d.points[1],c.x,c.y):d=void 0;break;case"A":var y=d.points[4],v=d.points[5],b=d.points[4]+v;0===m?m=y+1e-8:r>s?m+=Math.PI/180*v/Math.abs(v):m-=Math.PI/360*v/Math.abs(v),(v<0&&m<b||v>=0&&m>b)&&(m=b,f=!0),u=vn.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],m,d.points[6]);break;case"C":0===m?m=r>d.pathLength?1e-8:r/d.pathLength:r>s?m+=(r-s)/d.pathLength/2:m=Math.max(m-(s-r)/d.pathLength/2,0),m>1&&(m=1,f=!0),u=vn.getPointOnCubicBezier(m,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===m?m=r/d.pathLength:r>s?m+=(r-s)/d.pathLength:m-=(s-r)/d.pathLength,m>1&&(m=1,f=!0),u=vn.getPointOnQuadraticBezier(m,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}void 0!==u&&(s=vn.getLineLength(c.x,c.y,u.x,u.y)),f&&(f=!1,d=void 0)}},v=l/(e._getTextSize("C").width+n)-1,b=0;b<v&&(y("C"),void 0!==c&&void 0!==u);b++)c=u;for(var x=0;x<p.length&&(y(p[x]),void 0!==c&&void 0!==u);x++){var w=vn.getLineLength(c.x,c.y,u.x,u.y),k=0;if(r)try{k=r(p[x-1],p[x])*this.fontSize()}catch(E){k=0}c.x+=k,u.x+=k,this.textWidth+=k;var S=vn.getPointOnLine(k+w/2,c.x,c.y,u.x,u.y),C=Math.atan2(u.y-c.y,u.x-c.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:p[x],rotation:C,p0:c,p1:u}),c=u}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach((function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)}));for(var t,n,a=e[0]||0,r=e[0]||0,o=e[1]||0,i=e[1]||0,s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],a=Math.min(a,t),r=Math.max(r,t),o=Math.min(o,n),i=Math.max(i,n);var l=this.fontSize();return{x:a-l/2,y:o-l/2,width:r-a+l,height:i-o+l}}destroy(){return Ee.releaseCanvas(this.dummyCanvas),super.destroy()}}Jn.prototype._fillFunc=$n,Jn.prototype._strokeFunc=Zn,Jn.prototype._fillFuncHit=$n,Jn.prototype._strokeFuncHit=Zn,Jn.prototype.className="TextPath",Jn.prototype._attrsAffectingSize=["text","fontSize","data"],ge(Jn),Me.addGetterSetter(Jn,"data"),Me.addGetterSetter(Jn,"fontFamily","Arial"),Me.addGetterSetter(Jn,"fontSize",12,Ne()),Me.addGetterSetter(Jn,"fontStyle",Qn),Me.addGetterSetter(Jn,"align","left"),Me.addGetterSetter(Jn,"letterSpacing",0,Ne()),Me.addGetterSetter(Jn,"textBaseline","middle"),Me.addGetterSetter(Jn,"fontVariant",Qn),Me.addGetterSetter(Jn,"text",""),Me.addGetterSetter(Jn,"textDecoration",null),Me.addGetterSetter(Jn,"kerningFunc",null);var ea="tr-konva",ta=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((e=>e+".".concat(ea))).join(" "),na="nodesRect",aa=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ra={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const oa="ontouchstart"in me._global;var ia=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function sa(e,t,n){const a=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),r=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return Object.assign(Object.assign({},e),{rotation:e.rotation+t,x:a,y:r})}function la(e,t){const n=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return sa(e,t,n)}class ca extends an{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ta,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Ee.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return ea+this._id}setNodes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._nodes&&this._nodes.length&&this.detach();const t=e.filter((e=>!e.isAncestorOf(this)||(Ee.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));return this._nodes=e=t,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((e=>{const t=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},n=e._attrsAffectingSize.map((e=>e+"Change."+this._getEventNamespace())).join(" ");e.on(n,t),e.on(aa.map((e=>e+".".concat(this._getEventNamespace()))).join(" "),t),e.on("absoluteTransformChange.".concat(this._getEventNamespace()),t),this._proxyDrag(e)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on("dragstart.".concat(this._getEventNamespace()),(n=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(n,!1)})),e.on("dragmove.".concat(this._getEventNamespace()),(n=>{if(!t)return;const a=e.getAbsolutePosition(),r=a.x-t.x,o=a.y-t.y;this.nodes().forEach((t=>{if(t===e)return;if(t.isDragging())return;const a=t.getAbsolutePosition();t.setAbsolutePosition({x:a.x+r,y:a.y+o}),t.startDrag(n)})),t=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((e=>{e.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(na),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(na,this.__getNodeRect)}__getNodeShape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation(),n=arguments.length>2?arguments[2]:void 0;var a=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=e.getAbsoluteScale(n),o=e.getAbsolutePosition(n),i=a.x*r.x-e.offsetX()*r.x,s=a.y*r.y-e.offsetY()*r.y;const l=(me.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return sa({x:o.x+i*Math.cos(l)+s*Math.sin(-l),y:o.y+s*Math.cos(l)+i*Math.sin(l),width:a.width*r.x,height:a.height*r.y,rotation:l},-me.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map((t=>{const n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var a=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],r=t.getAbsoluteTransform();a.forEach((function(t){var n=r.point(t);e.push(n)}))}));const t=new ye;var n,a,r,o;t.rotate(-me.getAngle(this.rotation())),e.forEach((function(e){var i=t.point(e);void 0===n&&(n=r=i.x,a=o=i.y),n=Math.min(n,i.x),a=Math.min(a,i.y),r=Math.max(r,i.x),o=Math.max(o,i.y)})),t.invert();const i=t.point({x:n,y:a});return{x:i.x,y:i.y,width:r-n,height:o-a,rotation:me.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ia.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var t=new Rn({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:oa?10:"auto"}),n=this;t.on("mousedown touchstart",(function(e){n._handleMouseDown(e)})),t.on("dragstart",(e=>{t.stopDrag(),e.cancelBubble=!0})),t.on("dragend",(e=>{e.cancelBubble=!0})),t.on("mouseenter",(()=>{var n=me.getAngle(this.rotation()),a=function(e,t){if("rotater"===e)return"crosshair";t+=Ee.degToRad(ra[e]||0);var n=(Ee.radToDeg(t)%360+360)%360;return Ee._inRange(n,337.5,360)||Ee._inRange(n,0,22.5)?"ns-resize":Ee._inRange(n,22.5,67.5)?"nesw-resize":Ee._inRange(n,67.5,112.5)?"ew-resize":Ee._inRange(n,112.5,157.5)?"nwse-resize":Ee._inRange(n,157.5,202.5)?"ns-resize":Ee._inRange(n,202.5,247.5)?"nesw-resize":Ee._inRange(n,247.5,292.5)?"ew-resize":Ee._inRange(n,292.5,337.5)?"nwse-resize":(Ee.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(e,n);t.getStage().content&&(t.getStage().content.style.cursor=a),this._cursorChange=!0})),t.on("mouseout",(()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(t)}_createBack(){var e=new Zt({name:"back",width:0,height:0,draggable:!0,sceneFunc(e){var t=this.getParent(),n=t.padding();e.beginPath(),e.rect(-n,-n,this.width()+2*n,this.height()+2*n),e.moveTo(this.width()/2,-n),t.rotateEnabled()&&e.lineTo(this.width()/2,-t.rotateAnchorOffset()*Ee._sign(this.height())-n),e.fillStrokeShape(this)},hitFunc:(e,t)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();e.beginPath(),e.rect(-n,-n,t.width()+2*n,t.height()+2*n),e.fillStrokeShape(t)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",(e=>{e.cancelBubble=!0})),e.on("dragmove",(e=>{e.cancelBubble=!0})),e.on("dragend",(e=>{e.cancelBubble=!0})),this.on("dragmove",(e=>{this.update()}))}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),n=t.width,a=t.height,r=Math.sqrt(Math.pow(n,2)+Math.pow(a,2));this.sin=Math.abs(a/r),this.cos=Math.abs(n/r),"undefined"!==typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),i=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:i.x-o.x,y:i.y-o.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach((t=>{t._fire("transformstart",{evt:e.evt,target:t})}))}_handleMouseMove(e){var t,n,a,r=this.findOne("."+this._movingAnchorName),o=r.getStage();o.setPointersPositions(e);const i=o.getPointerPosition();let s={x:i.x-this._anchorDragOffset.x,y:i.y-this._anchorDragOffset.y};const l=r.getAbsolutePosition();this.anchorDragBoundFunc()&&(s=this.anchorDragBoundFunc()(l,s,e)),r.setAbsolutePosition(s);const c=r.getAbsolutePosition();if(l.x!==c.x||l.y!==c.y)if("rotater"!==this._movingAnchorName){var u=this.keepRatio()||e.shiftKey,d=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(u){var p=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};a=Math.sqrt(Math.pow(p.x-r.x(),2)+Math.pow(p.y-r.y(),2));var h=this.findOne(".top-left").x()>p.x?-1:1,f=this.findOne(".top-left").y()>p.y?-1:1;t=a*this.cos*h,n=a*this.sin*f,this.findOne(".top-left").x(p.x-t),this.findOne(".top-left").y(p.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(r.y());else if("top-right"===this._movingAnchorName){if(u){p=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};a=Math.sqrt(Math.pow(r.x()-p.x,2)+Math.pow(p.y-r.y(),2));h=this.findOne(".top-right").x()<p.x?-1:1,f=this.findOne(".top-right").y()>p.y?-1:1;t=a*this.cos*h,n=a*this.sin*f,this.findOne(".top-right").x(p.x+t),this.findOne(".top-right").y(p.y-n)}var m=r.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(r.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(r.x());else if("bottom-left"===this._movingAnchorName){if(u){p=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};a=Math.sqrt(Math.pow(p.x-r.x(),2)+Math.pow(r.y()-p.y,2));h=p.x<r.x()?-1:1,f=r.y()<p.y?-1:1;t=a*this.cos*h,n=a*this.sin*f,r.x(p.x-t),r.y(p.y+n)}m=r.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(r.y());else if("bottom-right"===this._movingAnchorName){if(u){p=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};a=Math.sqrt(Math.pow(r.x()-p.x,2)+Math.pow(r.y()-p.y,2));h=this.findOne(".bottom-right").x()<p.x?-1:1,f=this.findOne(".bottom-right").y()<p.y?-1:1;t=a*this.cos*h,n=a*this.sin*f,this.findOne(".bottom-right").x(p.x+t),this.findOne(".bottom-right").y(p.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(d=this.centeredScaling()||e.altKey){var g=this.findOne(".top-left"),y=this.findOne(".bottom-right"),v=g.x(),b=g.y(),x=this.getWidth()-y.x(),w=this.getHeight()-y.y();y.move({x:-v,y:-b}),g.move({x:x,y:w})}var k=this.findOne(".top-left").getAbsolutePosition();t=k.x,n=k.y;var S=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),C=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:S,height:C,rotation:me.getAngle(this.rotation())},e)}else{var E=this._getNodeRect();t=r.x()-E.width/2,n=-r.y()+E.height/2;let a=Math.atan2(-n,t)+Math.PI/2;E.height<0&&(a-=Math.PI);const o=me.getAngle(this.rotation())+a,i=me.getAngle(this.rotationSnapTolerance()),s=function(e,t,n){let a=t;for(let r=0;r<e.length;r++){const o=me.getAngle(e[r]),i=Math.abs(o-t)%(2*Math.PI);Math.min(i,2*Math.PI-i)<n&&(a=o)}return a}(this.rotationSnaps(),o,i),l=la(E,s-E.rotation);this._fitNodesInto(l,e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,"undefined"!==typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var t=this.getNode();this._fire("transformend",{evt:e,target:t}),t&&this._nodes.forEach((t=>{t._fire("transformend",{evt:e,target:t})})),this._movingAnchorName=null}}_fitNodesInto(e,t){var n=this._getNodeRect();if(Ee._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(Ee._inRange(e.height,2*-this.padding()-1,1))return void this.update();const a=this.flipEnabled();var r=new ye;if(r.rotate(me.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const t=r.point({x:2*-this.padding(),y:0});if(e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,!a)return void this.update()}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const t=r.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding(),!a)return void this.update()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const t=r.point({x:0,y:2*-this.padding()});if(e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding(),!a)return void this.update()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const t=r.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding(),!a)return void this.update()}if(this.boundBoxFunc()){const t=this.boundBoxFunc()(n,e);t?e=t:Ee.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,i=new ye;i.translate(n.x,n.y),i.rotate(n.rotation),i.scale(n.width/o,n.height/o);const s=new ye;s.translate(e.x,e.y),s.rotate(e.rotation),s.scale(e.width/o,e.height/o);const l=s.multiply(i.invert());this._nodes.forEach((e=>{var n;const a=e.getParent().getAbsoluteTransform(),r=e.getTransform().copy();r.translate(e.offsetX(),e.offsetY());const o=new ye;o.multiply(a.copy().invert()).multiply(l).multiply(a).multiply(r);const i=o.decompose();e.setAttrs(i),this._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e}),null===(n=e.getLayer())||void 0===n||n.batchDraw()})),this.rotation(Ee._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e,t=this._getNodeRect();this.rotation(Ee._getRotation(t.rotation));var n=t.width,a=t.height,r=this.enabledAnchors(),o=this.resizeEnabled(),i=this.padding(),s=this.anchorSize();this.find("._anchor").forEach((e=>{e.setAttrs({width:s,height:s,offsetX:s/2,offsetY:s/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:s/2+i,offsetY:s/2+i,visible:o&&r.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:s/2+i,visible:o&&r.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:s/2-i,offsetY:s/2+i,visible:o&&r.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:a/2,offsetX:s/2+i,visible:o&&r.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:a/2,offsetX:s/2-i,visible:o&&r.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:a,offsetX:s/2+i,offsetY:s/2-i,visible:o&&r.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:a,offsetY:s/2-i,visible:o&&r.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:a,offsetX:s/2-i,offsetY:s/2-i,visible:o&&r.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*Ee._sign(a)-i,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:a,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),an.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return st.prototype.toObject.call(this)}clone(e){return st.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}ca.prototype.className="Transformer",ge(ca),Me.addGetterSetter(ca,"enabledAnchors",ia,(function(e){return e instanceof Array||Ee.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach((function(e){-1===ia.indexOf(e)&&Ee.warn("Unknown anchor name: "+e+". Available names are: "+ia.join(", "))})),e||[]})),Me.addGetterSetter(ca,"flipEnabled",!0,Pe()),Me.addGetterSetter(ca,"resizeEnabled",!0),Me.addGetterSetter(ca,"anchorSize",10,Ne()),Me.addGetterSetter(ca,"rotateEnabled",!0),Me.addGetterSetter(ca,"rotationSnaps",[]),Me.addGetterSetter(ca,"rotateAnchorOffset",50,Ne()),Me.addGetterSetter(ca,"rotationSnapTolerance",5,Ne()),Me.addGetterSetter(ca,"borderEnabled",!0),Me.addGetterSetter(ca,"anchorStroke","rgb(0, 161, 255)"),Me.addGetterSetter(ca,"anchorStrokeWidth",1,Ne()),Me.addGetterSetter(ca,"anchorFill","white"),Me.addGetterSetter(ca,"anchorCornerRadius",0,Ne()),Me.addGetterSetter(ca,"borderStroke","rgb(0, 161, 255)"),Me.addGetterSetter(ca,"borderStrokeWidth",1,Ne()),Me.addGetterSetter(ca,"borderDash"),Me.addGetterSetter(ca,"keepRatio",!0),Me.addGetterSetter(ca,"centeredScaling",!1),Me.addGetterSetter(ca,"ignoreStroke",!1),Me.addGetterSetter(ca,"padding",0,Ne()),Me.addGetterSetter(ca,"node"),Me.addGetterSetter(ca,"nodes"),Me.addGetterSetter(ca,"boundBoxFunc"),Me.addGetterSetter(ca,"anchorDragBoundFunc"),Me.addGetterSetter(ca,"shouldOverdrawWholeArea",!1),Me.addGetterSetter(ca,"useSingleNodeRotation",!0),Me.backCompat(ca,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class ua extends Zt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,me.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}function da(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}ua.prototype.className="Wedge",ua.prototype._centroid=!0,ua.prototype._attrsAffectingSize=["radius"],ge(ua),Me.addGetterSetter(ua,"radius",0,Ne()),Me.addGetterSetter(ua,"angle",0,Ne()),Me.addGetterSetter(ua,"clockwise",!1),Me.backCompat(ua,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var pa=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],ha=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Me.addGetterSetter(st,"blurRadius",0,Ne(),Me.afterSetFilter);Me.addGetterSetter(st,"brightness",0,Ne(),Me.afterSetFilter);Me.addGetterSetter(st,"contrast",0,Ne(),Me.afterSetFilter);function fa(e,t,n,a,r){var o=n-t,i=r-a;return 0===o?a+i/2:0===i?a:i*((e-t)/o)+a}Me.addGetterSetter(st,"embossStrength",.5,Ne(),Me.afterSetFilter),Me.addGetterSetter(st,"embossWhiteLevel",.5,Ne(),Me.afterSetFilter),Me.addGetterSetter(st,"embossDirection","top-left",null,Me.afterSetFilter),Me.addGetterSetter(st,"embossBlend",!1,null,Me.afterSetFilter);Me.addGetterSetter(st,"enhance",0,Ne(),Me.afterSetFilter);Me.addGetterSetter(st,"hue",0,Ne(),Me.afterSetFilter),Me.addGetterSetter(st,"saturation",0,Ne(),Me.afterSetFilter),Me.addGetterSetter(st,"luminance",0,Ne(),Me.afterSetFilter);Me.addGetterSetter(st,"hue",0,Ne(),Me.afterSetFilter),Me.addGetterSetter(st,"saturation",0,Ne(),Me.afterSetFilter),Me.addGetterSetter(st,"value",0,Ne(),Me.afterSetFilter);function ma(e,t,n){var a=4*(n*e.width+t),r=[];return r.push(e.data[a++],e.data[a++],e.data[a++],e.data[a++]),r}function ga(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}Me.addGetterSetter(st,"kaleidoscopePower",2,Ne(),Me.afterSetFilter),Me.addGetterSetter(st,"kaleidoscopeAngle",0,Ne(),Me.afterSetFilter);Me.addGetterSetter(st,"threshold",0,Ne(),Me.afterSetFilter);Me.addGetterSetter(st,"noise",.2,Ne(),Me.afterSetFilter);Me.addGetterSetter(st,"pixelSize",8,Ne(),Me.afterSetFilter);Me.addGetterSetter(st,"levels",.5,Ne(),Me.afterSetFilter);Me.addGetterSetter(st,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),Me.addGetterSetter(st,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),Me.addGetterSetter(st,"blue",0,Ie,Me.afterSetFilter);Me.addGetterSetter(st,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),Me.addGetterSetter(st,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),Me.addGetterSetter(st,"blue",0,Ie,Me.afterSetFilter),Me.addGetterSetter(st,"alpha",1,(function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}));Me.addGetterSetter(st,"threshold",.5,Ne(),Me.afterSetFilter);const ya=hn.Util._assign(hn,{Arc:fn,Arrow:bn,Circle:xn,Ellipse:wn,Image:kn,Label:Tn,Tag:On,Line:yn,Path:vn,Rect:Rn,RegularPolygon:An,Ring:Fn,Sprite:Dn,Star:Mn,Text:Yn,TextPath:Jn,Transformer:ca,Wedge:ua,Filters:{Blur:function(e){var t=Math.round(this.blurRadius());t>0&&function(e,t){var n,a,r,o,i,s,l,c,u,d,p,h,f,m,g,y,v,b,x,w,k,S,C,E,_=e.data,I=e.width,N=e.height,T=t+t+1,O=I-1,R=N-1,A=t+1,P=A*(A+1)/2,F=new da,D=null,M=F,L=null,z=null,j=pa[t],B=ha[t];for(r=1;r<T;r++)M=M.next=new da,r===A&&(D=M);for(M.next=F,l=s=0,a=0;a<N;a++){for(y=v=b=x=c=u=d=p=0,h=A*(w=_[s]),f=A*(k=_[s+1]),m=A*(S=_[s+2]),g=A*(C=_[s+3]),c+=P*w,u+=P*k,d+=P*S,p+=P*C,M=F,r=0;r<A;r++)M.r=w,M.g=k,M.b=S,M.a=C,M=M.next;for(r=1;r<A;r++)o=s+((O<r?O:r)<<2),c+=(M.r=w=_[o])*(E=A-r),u+=(M.g=k=_[o+1])*E,d+=(M.b=S=_[o+2])*E,p+=(M.a=C=_[o+3])*E,y+=w,v+=k,b+=S,x+=C,M=M.next;for(L=F,z=D,n=0;n<I;n++)_[s+3]=C=p*j>>B,0!==C?(C=255/C,_[s]=(c*j>>B)*C,_[s+1]=(u*j>>B)*C,_[s+2]=(d*j>>B)*C):_[s]=_[s+1]=_[s+2]=0,c-=h,u-=f,d-=m,p-=g,h-=L.r,f-=L.g,m-=L.b,g-=L.a,o=l+((o=n+t+1)<O?o:O)<<2,c+=y+=L.r=_[o],u+=v+=L.g=_[o+1],d+=b+=L.b=_[o+2],p+=x+=L.a=_[o+3],L=L.next,h+=w=z.r,f+=k=z.g,m+=S=z.b,g+=C=z.a,y-=w,v-=k,b-=S,x-=C,z=z.next,s+=4;l+=I}for(n=0;n<I;n++){for(v=b=x=y=u=d=p=c=0,h=A*(w=_[s=n<<2]),f=A*(k=_[s+1]),m=A*(S=_[s+2]),g=A*(C=_[s+3]),c+=P*w,u+=P*k,d+=P*S,p+=P*C,M=F,r=0;r<A;r++)M.r=w,M.g=k,M.b=S,M.a=C,M=M.next;for(i=I,r=1;r<=t;r++)s=i+n<<2,c+=(M.r=w=_[s])*(E=A-r),u+=(M.g=k=_[s+1])*E,d+=(M.b=S=_[s+2])*E,p+=(M.a=C=_[s+3])*E,y+=w,v+=k,b+=S,x+=C,M=M.next,r<R&&(i+=I);for(s=n,L=F,z=D,a=0;a<N;a++)_[3+(o=s<<2)]=C=p*j>>B,C>0?(C=255/C,_[o]=(c*j>>B)*C,_[o+1]=(u*j>>B)*C,_[o+2]=(d*j>>B)*C):_[o]=_[o+1]=_[o+2]=0,c-=h,u-=f,d-=m,p-=g,h-=L.r,f-=L.g,m-=L.b,g-=L.a,o=n+((o=a+A)<R?o:R)*I<<2,c+=y+=L.r=_[o],u+=v+=L.g=_[o+1],d+=b+=L.b=_[o+2],p+=x+=L.a=_[o+3],L=L.next,h+=w=z.r,f+=k=z.g,m+=S=z.b,g+=C=z.a,y-=w,v-=k,b-=S,x-=C,z=z.next,s+=I}}(e,t)},Brighten:function(e){var t,n=255*this.brightness(),a=e.data,r=a.length;for(t=0;t<r;t+=4)a[t]+=n,a[t+1]+=n,a[t+2]+=n},Contrast:function(e){var t,n=Math.pow((this.contrast()+100)/100,2),a=e.data,r=a.length,o=150,i=150,s=150;for(t=0;t<r;t+=4)o=a[t],i=a[t+1],s=a[t+2],o/=255,o-=.5,o*=n,o+=.5,i/=255,i-=.5,i*=n,i+=.5,s/=255,s-=.5,s*=n,s+=.5,o=(o*=255)<0?0:o>255?255:o,i=(i*=255)<0?0:i>255?255:i,s=(s*=255)<0?0:s>255?255:s,a[t]=o,a[t+1]=i,a[t+2]=s},Emboss:function(e){var t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),a=this.embossDirection(),r=this.embossBlend(),o=0,i=0,s=e.data,l=e.width,c=e.height,u=4*l,d=c;switch(a){case"top-left":o=-1,i=-1;break;case"top":o=-1,i=0;break;case"top-right":o=-1,i=1;break;case"right":o=0,i=1;break;case"bottom-right":o=1,i=1;break;case"bottom":o=1,i=0;break;case"bottom-left":o=1,i=-1;break;case"left":o=0,i=-1;break;default:Ee.error("Unknown emboss direction: "+a)}do{var p=(d-1)*u,h=o;d+h<1&&(h=0),d+h>c&&(h=0);var f=(d-1+h)*l*4,m=l;do{var g=p+4*(m-1),y=i;m+y<1&&(y=0),m+y>l&&(y=0);var v=f+4*(m-1+y),b=s[g]-s[v],x=s[g+1]-s[v+1],w=s[g+2]-s[v+2],k=b,S=k>0?k:-k;if((x>0?x:-x)>S&&(k=x),(w>0?w:-w)>S&&(k=w),k*=t,r){var C=s[g]+k,E=s[g+1]+k,_=s[g+2]+k;s[g]=C>255?255:C<0?0:C,s[g+1]=E>255?255:E<0?0:E,s[g+2]=_>255?255:_<0?0:_}else{var I=n-k;I<0?I=0:I>255&&(I=255),s[g]=s[g+1]=s[g+2]=I}}while(--m)}while(--d)},Enhance:function(e){var t,n,a,r,o=e.data,i=o.length,s=o[0],l=s,c=o[1],u=c,d=o[2],p=d,h=this.enhance();if(0!==h){for(r=0;r<i;r+=4)(t=o[r+0])<s?s=t:t>l&&(l=t),(n=o[r+1])<c?c=n:n>u&&(u=n),(a=o[r+2])<d?d=a:a>p&&(p=a);var f,m,g,y,v,b,x,w,k;for(l===s&&(l=255,s=0),u===c&&(u=255,c=0),p===d&&(p=255,d=0),h>0?(m=l+h*(255-l),g=s-h*(s-0),v=u+h*(255-u),b=c-h*(c-0),w=p+h*(255-p),k=d-h*(d-0)):(m=l+h*(l-(f=.5*(l+s))),g=s+h*(s-f),v=u+h*(u-(y=.5*(u+c))),b=c+h*(c-y),w=p+h*(p-(x=.5*(p+d))),k=d+h*(d-x)),r=0;r<i;r+=4)o[r+0]=fa(o[r+0],s,l,g,m),o[r+1]=fa(o[r+1],c,u,b,v),o[r+2]=fa(o[r+2],d,p,k,w)}},Grayscale:function(e){var t,n,a=e.data,r=a.length;for(t=0;t<r;t+=4)n=.34*a[t]+.5*a[t+1]+.16*a[t+2],a[t]=n,a[t+1]=n,a[t+2]=n},HSL:function(e){var t,n,a,r,o,i=e.data,s=i.length,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=127*this.luminance(),d=1*l*Math.cos(c*Math.PI/180),p=1*l*Math.sin(c*Math.PI/180),h=.299+.701*d+.167*p,f=.587-.587*d+.33*p,m=.114-.114*d-.497*p,g=.299-.299*d-.328*p,y=.587+.413*d+.035*p,v=.114-.114*d+.293*p,b=.299-.3*d+1.25*p,x=.587-.586*d-1.05*p,w=.114+.886*d-.2*p;for(t=0;t<s;t+=4)n=i[t+0],a=i[t+1],r=i[t+2],o=i[t+3],i[t+0]=h*n+f*a+m*r+u,i[t+1]=g*n+y*a+v*r+u,i[t+2]=b*n+x*a+w*r+u,i[t+3]=o},HSV:function(e){var t,n,a,r,o,i=e.data,s=i.length,l=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,d=l*c*Math.cos(u*Math.PI/180),p=l*c*Math.sin(u*Math.PI/180),h=.299*l+.701*d+.167*p,f=.587*l-.587*d+.33*p,m=.114*l-.114*d-.497*p,g=.299*l-.299*d-.328*p,y=.587*l+.413*d+.035*p,v=.114*l-.114*d+.293*p,b=.299*l-.3*d+1.25*p,x=.587*l-.586*d-1.05*p,w=.114*l+.886*d-.2*p;for(t=0;t<s;t+=4)n=i[t+0],a=i[t+1],r=i[t+2],o=i[t+3],i[t+0]=h*n+f*a+m*r,i[t+1]=g*n+y*a+v*r,i[t+2]=b*n+x*a+w*r,i[t+3]=o},Invert:function(e){var t,n=e.data,a=n.length;for(t=0;t<a;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},Kaleidoscope:function(e){var t,n,a,r,o,i,s,l,c,u=e.width,d=e.height,p=Math.round(this.kaleidoscopePower()),h=Math.round(this.kaleidoscopeAngle()),f=Math.floor(u*(h%360)/360);if(!(p<1)){var m=Ee.createCanvasElement();m.width=u,m.height=d;var g=m.getContext("2d").getImageData(0,0,u,d);Ee.releaseCanvas(m),function(e,t,n){var a,r,o,i,s=e.data,l=t.data,c=e.width,u=e.height,d=n.polarCenterX||c/2,p=n.polarCenterY||u/2,h=0,f=0,m=0,g=0,y=Math.sqrt(d*d+p*p);r=c-d,o=u-p,y=(i=Math.sqrt(r*r+o*o))>y?i:y;var v,b,x,w,k=u,S=c,C=360/S*Math.PI/180;for(b=0;b<S;b+=1)for(x=Math.sin(b*C),w=Math.cos(b*C),v=0;v<k;v+=1)r=Math.floor(d+y*v/k*w),h=s[0+(a=4*((o=Math.floor(p+y*v/k*x))*c+r))],f=s[a+1],m=s[a+2],g=s[a+3],l[0+(a=4*(b+v*c))]=h,l[a+1]=f,l[a+2]=m,l[a+3]=g}(e,g,{polarCenterX:u/2,polarCenterY:d/2});for(var y=u/Math.pow(2,p);y<=8;)y*=2,p-=1;var v=y=Math.ceil(y),b=0,x=v,w=1;for(f+y>u&&(b=v,x=0,w=-1),n=0;n<d;n+=1)for(t=b;t!==x;t+=w)l=4*(u*n+Math.round(t+f)%u),r=g.data[l+0],o=g.data[l+1],i=g.data[l+2],s=g.data[l+3],c=4*(u*n+t),g.data[c+0]=r,g.data[c+1]=o,g.data[c+2]=i,g.data[c+3]=s;for(n=0;n<d;n+=1)for(v=Math.floor(y),a=0;a<p;a+=1){for(t=0;t<v+1;t+=1)l=4*(u*n+t),r=g.data[l+0],o=g.data[l+1],i=g.data[l+2],s=g.data[l+3],c=4*(u*n+2*v-t-1),g.data[c+0]=r,g.data[c+1]=o,g.data[c+2]=i,g.data[c+3]=s;v*=2}!function(e,t,n){var a,r,o,i,s,l,c=e.data,u=t.data,d=e.width,p=e.height,h=n.polarCenterX||d/2,f=n.polarCenterY||p/2,m=0,g=0,y=0,v=0,b=Math.sqrt(h*h+f*f);r=d-h,o=p-f,b=(l=Math.sqrt(r*r+o*o))>b?l:b;var x,w,k,S=p,C=d,E=n.polarRotation||0;for(r=0;r<d;r+=1)for(o=0;o<p;o+=1)i=r-h,s=o-f,x=Math.sqrt(i*i+s*s)*S/b,w=(w=(180*Math.atan2(s,i)/Math.PI+360+E)%360)*C/360,k=Math.floor(w),m=c[0+(a=4*(Math.floor(x)*d+k))],g=c[a+1],y=c[a+2],v=c[a+3],u[0+(a=4*(o*d+r))]=m,u[a+1]=g,u[a+2]=y,u[a+3]=v}(g,e,{polarRotation:0})}},Mask:function(e){var t=function(e,t){var n=ma(e,0,0),a=ma(e,e.width-1,0),r=ma(e,0,e.height-1),o=ma(e,e.width-1,e.height-1),i=t||10;if(ga(n,a)<i&&ga(a,o)<i&&ga(o,r)<i&&ga(r,n)<i){for(var s=function(e){for(var t=[0,0,0],n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([a,n,o,r]),l=[],c=0;c<e.width*e.height;c++){var u=ga(s,[e.data[4*c],e.data[4*c+1],e.data[4*c+2]]);l[c]=u<i?0:255}return l}}(e,this.threshold());return t&&(t=function(e,t,n){for(var a=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(a.length)),o=Math.floor(r/2),i=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var c=s*t+l,u=0,d=0;d<r;d++)for(var p=0;p<r;p++){var h=s+d-o,f=l+p-o;if(h>=0&&h<n&&f>=0&&f<t){var m=a[d*r+p];u+=e[h*t+f]*m}}i[c]=2040===u?255:0}return i}(t,e.width,e.height),t=function(e,t,n){for(var a=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(a.length)),o=Math.floor(r/2),i=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var c=s*t+l,u=0,d=0;d<r;d++)for(var p=0;p<r;p++){var h=s+d-o,f=l+p-o;if(h>=0&&h<n&&f>=0&&f<t){var m=a[d*r+p];u+=e[h*t+f]*m}}i[c]=u>=1020?255:0}return i}(t,e.width,e.height),t=function(e,t,n){for(var a=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(a.length)),o=Math.floor(r/2),i=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var c=s*t+l,u=0,d=0;d<r;d++)for(var p=0;p<r;p++){var h=s+d-o,f=l+p-o;if(h>=0&&h<n&&f>=0&&f<t){var m=a[d*r+p];u+=e[h*t+f]*m}}i[c]=u}return i}(t,e.width,e.height),function(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t)),e},Noise:function(e){var t,n=255*this.noise(),a=e.data,r=a.length,o=n/2;for(t=0;t<r;t+=4)a[t+0]+=o-2*o*Math.random(),a[t+1]+=o-2*o*Math.random(),a[t+2]+=o-2*o*Math.random()},Pixelate:function(e){var t,n,a,r,o,i,s,l,c,u,d,p,h,f,m=Math.ceil(this.pixelSize()),g=e.width,y=e.height,v=Math.ceil(g/m),b=Math.ceil(y/m),x=e.data;if(m<=0)Ee.error("pixelSize value can not be <= 0");else for(p=0;p<v;p+=1)for(h=0;h<b;h+=1){for(r=0,o=0,i=0,s=0,c=(l=p*m)+m,d=(u=h*m)+m,f=0,t=l;t<c;t+=1)if(!(t>=g))for(n=u;n<d;n+=1)n>=y||(r+=x[(a=4*(g*n+t))+0],o+=x[a+1],i+=x[a+2],s+=x[a+3],f+=1);for(r/=f,o/=f,i/=f,s/=f,t=l;t<c;t+=1)if(!(t>=g))for(n=u;n<d;n+=1)n>=y||(x[(a=4*(g*n+t))+0]=r,x[a+1]=o,x[a+2]=i,x[a+3]=s)}},Posterize:function(e){var t,n=Math.round(254*this.levels())+1,a=e.data,r=a.length,o=255/n;for(t=0;t<r;t+=1)a[t]=Math.floor(a[t]/o)*o},RGB:function(e){var t,n,a=e.data,r=a.length,o=this.red(),i=this.green(),s=this.blue();for(t=0;t<r;t+=4)n=(.34*a[t]+.5*a[t+1]+.16*a[t+2])/255,a[t]=n*o,a[t+1]=n*i,a[t+2]=n*s,a[t+3]=a[t+3]},RGBA:function(e){var t,n,a=e.data,r=a.length,o=this.red(),i=this.green(),s=this.blue(),l=this.alpha();for(t=0;t<r;t+=4)n=1-l,a[t]=o*l+a[t]*n,a[t+1]=i*l+a[t+1]*n,a[t+2]=s*l+a[t+2]*n},Sepia:function(e){var t,n,a,r,o=e.data,i=o.length;for(t=0;t<i;t+=4)n=o[t+0],a=o[t+1],r=o[t+2],o[t+0]=Math.min(255,.393*n+.769*a+.189*r),o[t+1]=Math.min(255,.349*n+.686*a+.168*r),o[t+2]=Math.min(255,.272*n+.534*a+.131*r)},Solarize:function(e){var t=e.data,n=e.width,a=4*n,r=e.height;do{var o=(r-1)*a,i=n;do{var s=o+4*(i-1),l=t[s],c=t[s+1],u=t[s+2];l>127&&(l=255-l),c>127&&(c=255-c),u>127&&(u=255-u),t[s]=l,t[s+1]=c,t[s+2]=u}while(--i)}while(--r)},Threshold:function(e){var t,n=255*this.threshold(),a=e.data,r=a.length;for(t=0;t<r;t+=1)a[t]=a[t]<n?0:255}}}),va=ya,ba=hn;var xa=n(5914),wa=n.n(xa),ka=n(223);const Sa={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Ca=!1,Ea=!1;const _a=".react-konva-event";let Ia=!1;const Na="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",Ta='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',Oa={};function Ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oa;if(!Ca&&"zIndex"in t&&(console.warn(Ta),Ca=!0),!Ea&&t.draggable){var a=void 0!==t.x||void 0!==t.y,r=t.onDragEnd||t.onDragMove;a&&!r&&(console.warn(Na),Ea=!0)}for(var o in n)if(!Sa[o]){var i="on"===o.slice(0,2),s=n[o]!==t[o];if(i&&s)"content"===(h=o.substr(2).toLowerCase()).substr(0,7)&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),e.off(h,n[o]);!t.hasOwnProperty(o)&&e.setAttr(o,void 0)}var l=Ia||t._useStrictMode,c={},u=!1;const d={};for(var o in t)if(!Sa[o]){i="on"===o.slice(0,2);var p=n[o]!==t[o];if(i&&p)"content"===(h=o.substr(2).toLowerCase()).substr(0,7)&&(h="content"+h.substr(7,1).toUpperCase()+h.substr(8)),t[o]&&(d[h]=t[o]);!i&&(t[o]!==n[o]||l&&t[o]!==e.getAttr(o))&&(u=!0,c[o]=t[o])}for(var h in u&&(e.setAttrs(c),Aa(e)),d)e.on(h+_a,d[h])}function Aa(e){if(!me.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var Pa=n(2224);const Fa={},Da={};function Ma(e,t){"string"!==typeof t?(e.add(t),Aa(e)):console.error("Do not use plain text as child of Konva.Node. You are using text: ".concat(t))}function La(e,t,n){let a=ba[e];a||(console.error("Konva has no node with the type ".concat(e,'. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/').concat(e,'"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html')),a=ba.Group);const r={},o={};for(var i in t){"on"===i.slice(0,2)?o[i]=t[i]:r[i]=t[i]}const s=new a(r);return Ra(s,o),s}function za(e,t,n){console.error('Text components are not supported for now in ReactKonva. Your text is: "'.concat(e,'"'))}function ja(e,t,n){return!1}function Ba(e){return e}function Wa(){return null}function Va(){return null}function Ua(e,t,n,a){return Da}function Ga(){}function Ha(e){}function qa(e,t){return!1}function Xa(){return Fa}function Ka(){return Fa}ba.Node.prototype._applyProps=Ra;const Ya=setTimeout,Qa=clearTimeout,$a=-1;function Za(e,t){return!1}const Ja=!1,er=!0,tr=!0;function nr(e,t){t.parent===e?t.moveToTop():e.add(t),Aa(e)}function ar(e,t){t.parent===e?t.moveToTop():e.add(t),Aa(e)}function rr(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),Aa(e)}function or(e,t,n){rr(e,t,n)}function ir(e,t){t.destroy(),t.off(_a),Aa(e)}function sr(e,t){t.destroy(),t.off(_a),Aa(e)}function lr(e,t,n){console.error('Text components are not yet supported in ReactKonva. You text is: "'.concat(n,'"'))}function cr(e,t,n){}function ur(e,t,n,a,r){Ra(e,r,a)}function dr(e){e.hide(),Aa(e)}function pr(e){}function hr(e,t){(null==t.visible||t.visible)&&e.show()}function fr(e,t){}function mr(e){}function gr(){}const yr=()=>ka.DefaultEventPriority;var vr=Object.defineProperty,br=Object.defineProperties,xr=Object.getOwnPropertyDescriptors,wr=Object.getOwnPropertySymbols,kr=Object.prototype.hasOwnProperty,Sr=Object.prototype.propertyIsEnumerable,Cr=(e,t,n)=>t in e?vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Er=(e,t)=>{for(var n in t||(t={}))kr.call(t,n)&&Cr(e,n,t[n]);if(wr)for(var n of wr(t))Sr.call(t,n)&&Cr(e,n,t[n]);return e};function _r(e,t,n){if(!e)return;if(!0===n(e))return e;let a=t?e.return:e.child;for(;a;){const e=_r(a,t,n);if(e)return e;a=t?null:a.sibling}}function Ir(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(Fc){return e}}const Nr=Ir(B.createContext(null));class Tr extends B.Component{render(){return B.createElement(Nr.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Or,ReactCurrentDispatcher:Rr}=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Ar(){const e=B.useContext(Nr);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=B.useId();return B.useMemo((()=>{for(const n of[null==Or?void 0:Or.current,e,null==e?void 0:e.alternate]){if(!n)continue;const e=_r(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}function Pr(){const e=function(){var e,t;const n=Ar(),[a]=B.useState((()=>new Map));a.clear();let r=n;for(;r;){const n=null==(e=r.type)?void 0:e._context;n&&n!==Nr&&!a.has(n)&&a.set(n,null==(t=null==Rr?void 0:Rr.current)?void 0:t.readContext(Ir(n))),r=r.return}return a}();return B.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>a=>B.createElement(t,null,B.createElement(n.Provider,((e,t)=>br(e,xr(t)))(Er({},a),{value:e.get(n)})))),(e=>B.createElement(Tr,Er({},e))))),[e])}const Fr=e=>{const t=B.useRef(),n=B.useRef(),a=B.useRef(),r=function(e){const t=B.useRef({});return B.useLayoutEffect((()=>{t.current=e})),B.useLayoutEffect((()=>()=>{t.current={}}),[]),t.current}(e),o=Pr(),i=t=>{const{forwardedRef:n}=e;n&&("function"===typeof n?n(t):n.current=t)};return B.useLayoutEffect((()=>(n.current=new ba.Stage({width:e.width,height:e.height,container:t.current}),i(n.current),a.current=jr.createContainer(n.current,ka.LegacyRoot,!1,null),jr.updateContainer(B.createElement(o,{},e.children),a.current),()=>{ba.isBrowser&&(i(null),jr.updateContainer(null,a.current,null),n.current.destroy())})),[]),B.useLayoutEffect((()=>{i(n.current),Ra(n.current,e,r),jr.updateContainer(B.createElement(o,{},e.children),a.current,null)})),B.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},Dr="Group",Mr="Rect",Lr="Image",zr="Text",jr=wa()(e);jr.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:B.version,rendererPackageName:"react-konva"});const Br=B.forwardRef(((e,t)=>B.createElement(Tr,{},B.createElement(Fr,{...e,forwardedRef:t}))));var Wr="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function Vr(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function Ur(e,t){for(var n=t.slice(0,t.length-1),a=0;a<n.length;a++)n[a]=e[n[a].toLowerCase()];return n}function Gr(e){"string"!==typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var Hr={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":Wr?173:189,"=":Wr?61:187,";":Wr?59:186,"'":222,"[":219,"]":221,"\\":220},qr={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Xr={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Kr={16:!1,18:!1,17:!1,91:!1},Yr={},Qr=1;Qr<20;Qr++)Hr["f".concat(Qr)]=111+Qr;var $r=[],Zr=!1,Jr="all",eo=[],to=function(e){return Hr[e.toLowerCase()]||qr[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function no(e){Jr=e||"all"}function ao(){return Jr||"all"}var ro=function(e){var t=e.key,n=e.scope,a=e.method,r=e.splitKey,o=void 0===r?"+":r;Gr(t).forEach((function(e){var t=e.split(o),r=t.length,i=t[r-1],s="*"===i?"*":to(i);if(Yr[s]){n||(n=ao());var l=r>1?Ur(qr,t):[];Yr[s]=Yr[s].filter((function(e){return!((!a||e.method===a)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,a=e.length>=t.length?t:e,r=!0,o=0;o<n.length;o++)-1===a.indexOf(n[o])&&(r=!1);return r}(e.mods,l))}))}}))};function oo(e,t,n,a){var r;if(t.element===a&&(t.scope===n||"all"===t.scope)){for(var o in r=t.mods.length>0,Kr)Object.prototype.hasOwnProperty.call(Kr,o)&&(!Kr[o]&&t.mods.indexOf(+o)>-1||Kr[o]&&-1===t.mods.indexOf(+o))&&(r=!1);(0!==t.mods.length||Kr[16]||Kr[18]||Kr[17]||Kr[91])&&!r&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function io(e,t){var n=Yr["*"],a=e.keyCode||e.which||e.charCode;if(so.filter.call(this,e)){if(93!==a&&224!==a||(a=91),-1===$r.indexOf(a)&&229!==a&&$r.push(a),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=Xr[t];e[t]&&-1===$r.indexOf(n)?$r.push(n):!e[t]&&$r.indexOf(n)>-1?$r.splice($r.indexOf(n),1):"metaKey"===t&&e[t]&&3===$r.length&&(e.ctrlKey||e.shiftKey||e.altKey||($r=$r.slice($r.indexOf(n))))})),a in Kr){for(var r in Kr[a]=!0,qr)qr[r]===a&&(so[r]=!0);if(!n)return}for(var o in Kr)Object.prototype.hasOwnProperty.call(Kr,o)&&(Kr[o]=e[Xr[o]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===$r.indexOf(17)&&$r.push(17),-1===$r.indexOf(18)&&$r.push(18),Kr[17]=!0,Kr[18]=!0);var i=ao();if(n)for(var s=0;s<n.length;s++)n[s].scope===i&&("keydown"===e.type&&n[s].keydown||"keyup"===e.type&&n[s].keyup)&&oo(e,n[s],i,t);if(a in Yr)for(var l=0;l<Yr[a].length;l++)if(("keydown"===e.type&&Yr[a][l].keydown||"keyup"===e.type&&Yr[a][l].keyup)&&Yr[a][l].key){for(var c=Yr[a][l],u=c.splitKey,d=c.key.split(u),p=[],h=0;h<d.length;h++)p.push(to(d[h]));p.sort().join("")===$r.sort().join("")&&oo(e,c,i,t)}}}function so(e,t,n){$r=[];var a=Gr(e),r=[],o="all",i=document,s=0,l=!1,c=!0,u="+",d=!1;for(void 0===n&&"function"===typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(i=t.element),t.keyup&&(l=t.keyup),void 0!==t.keydown&&(c=t.keydown),void 0!==t.capture&&(d=t.capture),"string"===typeof t.splitKey&&(u=t.splitKey)),"string"===typeof t&&(o=t);s<a.length;s++)r=[],(e=a[s].split(u)).length>1&&(r=Ur(qr,e)),(e="*"===(e=e[e.length-1])?"*":to(e))in Yr||(Yr[e]=[]),Yr[e].push({keyup:l,keydown:c,scope:o,mods:r,shortcut:a[s],method:n,key:a[s],splitKey:u,element:i});"undefined"!==typeof i&&!function(e){return eo.indexOf(e)>-1}(i)&&window&&(eo.push(i),Vr(i,"keydown",(function(e){io(e,i)}),d),Zr||(Zr=!0,Vr(window,"focus",(function(){$r=[]}),d)),Vr(i,"keyup",(function(e){io(e,i),function(e){var t=e.keyCode||e.which||e.charCode,n=$r.indexOf(t);if(n>=0&&$r.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&$r.splice(0,$r.length),93!==t&&224!==t||(t=91),t in Kr)for(var a in Kr[t]=!1,qr)qr[a]===t&&(so[a]=!1)}(e)}),d))}var lo={setScope:no,getScope:ao,deleteScope:function(e,t){var n,a;for(var r in e||(e=ao()),Yr)if(Object.prototype.hasOwnProperty.call(Yr,r))for(n=Yr[r],a=0;a<n.length;)n[a].scope===e?n.splice(a,1):a++;ao()===e&&no(t||"all")},getPressedKeyCodes:function(){return $r.slice(0)},isPressed:function(e){return"string"===typeof e&&(e=to(e)),-1!==$r.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,a=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(a=!1),a},trigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(Yr).forEach((function(n){var a=Yr[n].find((function(n){return n.scope===t&&n.shortcut===e}));a&&a.method&&a.method()}))},unbind:function(e){if("undefined"===typeof e)Object.keys(Yr).forEach((function(e){return delete Yr[e]}));else if(Array.isArray(e))e.forEach((function(e){e.key&&ro(e)}));else if("object"===typeof e)e.key&&ro(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=n[0],o=n[1];"function"===typeof r&&(o=r,r=""),ro({key:e,scope:r,method:o,splitKey:"+"})}},keyMap:Hr,modifier:qr,modifierMap:Xr};for(var co in lo)Object.prototype.hasOwnProperty.call(lo,co)&&(so[co]=lo[co]);if("undefined"!==typeof window){var uo=window.hotkeys;so.noConflict=function(e){return e&&window.hotkeys===so&&(window.hotkeys=uo),so},window.hotkeys=so}so.filter=function(){return!0};var po=function(e,t){var n=e.target,a=n&&n.tagName;return Boolean(a&&t&&t.includes(a))},ho=function(e){return po(e,["INPUT","TEXTAREA","SELECT"])};function fo(e,t,n,a){n instanceof Array&&(a=n,n=void 0);var r=n||{},o=r.enableOnTags,i=r.filter,s=r.keyup,l=r.keydown,c=r.filterPreventDefault,u=void 0===c||c,d=r.enabled,p=void 0===d||d,h=r.enableOnContentEditable,f=void 0!==h&&h,m=(0,B.useRef)(null),g=(0,B.useCallback)((function(e,n){var a,r;return i&&!i(e)?!u:!!(ho(e)&&!po(e,o)||null!=(a=e.target)&&a.isContentEditable&&!f)||!!(null===m.current||document.activeElement===m.current||null!=(r=m.current)&&r.contains(document.activeElement))&&(t(e,n),!0)}),a?[m,o,i].concat(a):[m,o,i]);return(0,B.useEffect)((function(){if(p)return s&&!0!==l&&(n.keydown=!1),so(e,n||{},g),function(){return so.unbind(e,g)};so.unbind(e,g)}),[g,e,p]),m}so.isPressed;let mo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")};var go=n(6123),yo=n.n(go);const vo=!("undefined"===typeof window||!window.document||!window.document.createElement);var bo=!1,xo=!1;try{var wo={get passive(){return bo=!0},get once(){return xo=bo=!0}};vo&&(window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,!0))}catch(k5){}const ko=function(e,t,n,a){if(a&&"boolean"!==typeof a&&!xo){var r=a.once,o=a.capture,i=n;!xo&&r&&(i=n.__once||function e(a){this.removeEventListener(t,e,o),n.call(this,a)},n.__once=i),e.addEventListener(t,i,bo?a:o)}e.addEventListener(t,n,a)};function So(e){return e&&e.ownerDocument||document}const Co=function(e,t,n,a){var r=a&&"boolean"!==typeof a?a.capture:a;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)};var Eo;function _o(e){if((!Eo&&0!==Eo||e)&&vo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Eo=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Eo}function Io(){return(0,B.useState)(null)}const No=function(e){const t=(0,B.useRef)(e);return(0,B.useEffect)((()=>{t.current=e}),[e]),t};function To(e){const t=No(e);return(0,B.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const Oo=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Ro=function(e,t){return(0,B.useMemo)((()=>function(e,t){const n=Oo(e),a=Oo(t);return e=>{n&&n(e),a&&a(e)}}(e,t)),[e,t])};function Ao(e){const t=function(e){const t=(0,B.useRef)(e);return t.current=e,t}(e);(0,B.useEffect)((()=>()=>t.current()),[])}function Po(e,t){return function(e){var t=So(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Fo=/([A-Z])/g;var Do=/^ms-/;function Mo(e){return function(e){return e.replace(Fo,"-$1").toLowerCase()}(e).replace(Do,"-ms-")}var Lo=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const zo=function(e,t){var n="",a="";if("string"===typeof t)return e.style.getPropertyValue(Mo(t))||Po(e).getPropertyValue(Mo(t));Object.keys(t).forEach((function(r){var o=t[r];o||0===o?!function(e){return!(!e||!Lo.test(e))}(r)?n+=Mo(r)+": "+o+";":a+=r+"("+o+") ":e.style.removeProperty(Mo(r))})),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n};const jo=function(e,t,n,a){return ko(e,t,n,a),function(){Co(e,t,n,a)}};function Bo(e,t,n){void 0===n&&(n=5);var a=!1,r=setTimeout((function(){a||function(e,t,n,a){if(void 0===n&&(n=!1),void 0===a&&(a=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,a),e.dispatchEvent(r)}}(e,"transitionend",!0)}),t+n),o=jo(e,"transitionend",(function(){a=!0}),{once:!0});return function(){clearTimeout(r),o()}}function Wo(e,t,n,a){null==n&&(n=function(e){var t=zo(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var r=Bo(e,n,a),o=jo(e,"transitionend",t);return function(){r(),o()}}function Vo(e){void 0===e&&(e=So());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(k5){return e.body}}function Uo(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Go(){const e=(0,B.useRef)(!0),t=(0,B.useRef)((()=>e.current));return(0,B.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}const Ho="data-rr-ui-";function qo(e){return"".concat(Ho).concat(e)}const Xo=qo("modal-open");const Ko=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[n]:a.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(zo(a,n)||"0",10)+e.scrollBarWidth,"px")),a.setAttribute(Xo,""),zo(a,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Xo),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Yo=(0,B.createContext)(vo?window:void 0);Yo.Provider;function Qo(){return(0,B.useContext)(Yo)}const $o=(e,t)=>vo?null==e?(t||So()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Zo(e,t){const n=Qo(),[a,r]=(0,B.useState)((()=>$o(e,null==n?void 0:n.document)));if(!a){const t=$o(e);t&&r(t)}return(0,B.useEffect)((()=>{t&&a&&t(a)}),[t,a]),(0,B.useEffect)((()=>{const t=$o(e);t!==a&&r(t)}),[e,a]),a}const Jo="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ei="undefined"!==typeof document||Jo?B.useLayoutEffect:B.useEffect;const ti=function(e){let{children:t,in:n,onExited:a,mountOnEnter:r,unmountOnExit:o}=e;const i=(0,B.useRef)(null),s=(0,B.useRef)(n),l=To(a);(0,B.useEffect)((()=>{n?s.current=!0:l(i.current)}),[n,l]);const c=Ro(i,t.ref),u=(0,B.cloneElement)(t,{ref:c});return n?u:o||!s.current&&r?null:u};var ni=n(6417);function ai(e){let{children:t,in:n,onExited:a,onEntered:r,transition:o}=e;const[i,s]=(0,B.useState)(!n);n&&i&&s(!1);const l=function(e){let{in:t,onTransition:n}=e;const a=(0,B.useRef)(null),r=(0,B.useRef)(!0),o=To(n);return ei((()=>{if(!a.current)return;let e=!1;return o({in:t,element:a.current,initial:r.current,isStale:()=>e}),()=>{e=!0}}),[t,o]),ei((()=>(r.current=!1,()=>{r.current=!0})),[]),a}({in:!!n,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==r||r(e.element,e.initial):(s(!0),null==a||a(e.element)))}),(t=>{throw e.in||s(!0),t}))}}),c=Ro(l,t.ref);return i&&!n?null:(0,B.cloneElement)(t,{ref:c})}function ri(e,t,n){return e?(0,ni.jsx)(e,Object.assign({},n)):t?(0,ni.jsx)(ai,Object.assign({},n,{transition:t})):(0,ni.jsx)(ti,Object.assign({},n))}function oi(e){return"Escape"===e.code||27===e.keyCode}const ii=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let si;function li(e){const t=Qo(),n=e||function(e){return si||(si=new Ko({ownerDocument:null==e?void 0:e.document})),si}(t),a=(0,B.useRef)({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>n.add(a.current),remove:()=>n.remove(a.current),isTopModal:()=>n.isTopModal(a.current),setDialogRef:(0,B.useCallback)((e=>{a.current.dialog=e}),[]),setBackdropRef:(0,B.useCallback)((e=>{a.current.backdrop=e}),[])})}const ci=(0,B.forwardRef)(((e,t)=>{let{show:n=!1,role:a="dialog",className:r,style:o,children:i,backdrop:s=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:d,runTransition:p,backdropTransition:h,runBackdropTransition:f,autoFocus:m=!0,enforceFocus:g=!0,restoreFocus:y=!0,restoreFocusOptions:v,renderDialog:b,renderBackdrop:x=(e=>(0,ni.jsx)("div",Object.assign({},e))),manager:w,container:k,onShow:S,onHide:C=(()=>{}),onExit:E,onExited:_,onExiting:I,onEnter:N,onEntering:T,onEntered:O}=e,R=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,ii);const A=Qo(),P=Zo(k),F=li(w),D=Go(),M=function(e){const t=(0,B.useRef)(null);return(0,B.useEffect)((()=>{t.current=e})),t.current}(n),[L,z]=(0,B.useState)(!n),j=(0,B.useRef)(null);(0,B.useImperativeHandle)(t,(()=>F),[F]),vo&&!M&&n&&(j.current=Vo(null==A?void 0:A.document)),n&&L&&z(!1);const W=To((()=>{if(F.add(),K.current=jo(document,"keydown",q),X.current=jo(document,"focus",(()=>setTimeout(U)),!0),S&&S(),m){var e,t;const n=Vo(null!=(e=null==(t=F.dialog)?void 0:t.ownerDocument)?e:null==A?void 0:A.document);F.dialog&&n&&!Uo(F.dialog,n)&&(j.current=n,F.dialog.focus())}})),V=To((()=>{var e;(F.remove(),null==K.current||K.current(),null==X.current||X.current(),y)&&(null==(e=j.current)||null==e.focus||e.focus(v),j.current=null)}));(0,B.useEffect)((()=>{n&&P&&W()}),[n,P,W]),(0,B.useEffect)((()=>{L&&V()}),[L,V]),Ao((()=>{V()}));const U=To((()=>{if(!g||!D()||!F.isTopModal())return;const e=Vo(null==A?void 0:A.document);F.dialog&&e&&!Uo(F.dialog,e)&&F.dialog.focus()})),H=To((e=>{e.target===e.currentTarget&&(null==c||c(e),!0===s&&C())})),q=To((e=>{l&&oi(e)&&F.isTopModal()&&(null==u||u(e),e.defaultPrevented||C())})),X=(0,B.useRef)(),K=(0,B.useRef)();if(!P)return null;const Y=Object.assign({role:a,ref:F.setDialogRef,"aria-modal":"dialog"===a||void 0},R,{style:o,className:r,tabIndex:-1});let Q=b?b(Y):(0,ni.jsx)("div",Object.assign({},Y,{children:B.cloneElement(i,{role:"document"})}));Q=ri(d,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:E,onExiting:I,onExited:function(){z(!0),null==_||_(...arguments)},onEnter:N,onEntering:T,onEntered:O,children:Q});let $=null;return s&&($=x({ref:F.setBackdropRef,onClick:H}),$=ri(h,f,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:$})),(0,ni.jsx)(ni.Fragment,{children:G.createPortal((0,ni.jsxs)(ni.Fragment,{children:[$,Q]}),P)})}));ci.displayName="Modal";const ui=Object.assign(ci,{Manager:Ko});function di(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}var pi=Function.prototype.bind.call(Function.prototype.call,[].slice);function hi(e,t){return pi(e.querySelectorAll(t))}function fi(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const mi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gi=".sticky-top",yi=".navbar-toggler";class vi extends Ko{adjustAndStore(e,t,n){const a=t.style[e];t.dataset[e]=a,zo(t,{[e]:"".concat(parseFloat(zo(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],zo(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,a;if(a="modal-open",(n=t).classList?n.classList.add(a):di(n,a)||("string"===typeof n.className?n.className=n.className+" "+a:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+a)),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";hi(t,mi).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth))),hi(t,gi).forEach((t=>this.adjustAndStore(o,t,-e.scrollBarWidth))),hi(t,yi).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,a;a="modal-open",(n=t).classList?n.classList.remove(a):"string"===typeof n.className?n.className=fi(n.className,a):n.setAttribute("class",fi(n.className&&n.className.baseVal||"",a));const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";hi(t,mi).forEach((e=>this.restore(r,e))),hi(t,gi).forEach((e=>this.restore(o,e))),hi(t,yi).forEach((e=>this.restore(o,e)))}}let bi;function xi(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}function wi(e,t){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wi(e,t)}const ki=!1,Si=B.createContext(null);var Ci="unmounted",Ei="exited",_i="entering",Ii="entered",Ni="exiting",Ti=function(e){var t,n;function a(t,n){var a;a=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?o?(r=Ei,a.appearStatus=_i):r=Ii:r=t.unmountOnExit||t.mountOnEnter?Ci:Ei,a.state={status:r},a.nextCallback=null,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,wi(t,n),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ci?{status:Ei}:null};var r=a.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==_i&&n!==Ii&&(t=_i):n!==_i&&n!==Ii||(t=Ni)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===_i){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:G.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ei&&this.setState({status:Ci})},r.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,r=this.props.nodeRef?[a]:[G.findDOMNode(this),a],o=r[0],i=r[1],s=this.getTimeouts(),l=a?s.appear:s.enter;!e&&!n||ki?this.safeSetState({status:Ii},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,i),this.safeSetState({status:_i},(function(){t.props.onEntering(o,i),t.onTransitionEnd(l,(function(){t.safeSetState({status:Ii},(function(){t.props.onEntered(o,i)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:G.findDOMNode(this);t&&!ki?(this.props.onExit(a),this.safeSetState({status:Ni},(function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ei},(function(){e.props.onExited(a)}))}))}))):this.safeSetState({status:Ei},(function(){e.props.onExited(a)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:G.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(n&&!a){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],i=r[1];this.props.addEndListener(o,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Ci)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,xi(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return B.createElement(Si.Provider,{value:null},"function"===typeof n?n(e,a):B.cloneElement(B.Children.only(n),a))},a}(B.Component);function Oi(){}Ti.contextType=Si,Ti.propTypes={},Ti.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Oi,onEntering:Oi,onEntered:Oi,onExit:Oi,onExiting:Oi,onExited:Oi},Ti.UNMOUNTED=Ci,Ti.EXITED=Ei,Ti.ENTERING=_i,Ti.ENTERED=Ii,Ti.EXITING=Ni;const Ri=Ti;function Ai(e,t){const n=zo(e,t)||"",a=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*a}function Pi(e,t){const n=Ai(e,"transitionDuration"),a=Ai(e,"transitionDelay"),r=Wo(e,(n=>{n.target===e&&(r(),t(n))}),n+a)}function Fi(e){e.offsetHeight}function Di(e){return e&&"setState"in e?G.findDOMNode(e):null!=e?e:null}const Mi=B.forwardRef(((e,t)=>{let{onEnter:n,onEntering:a,onEntered:r,onExit:o,onExiting:i,onExited:s,addEndListener:l,children:c,childRef:u,...d}=e;const p=(0,B.useRef)(null),h=Ro(p,u),f=e=>{h(Di(e))},m=e=>t=>{e&&p.current&&e(p.current,t)},g=(0,B.useCallback)(m(n),[n]),y=(0,B.useCallback)(m(a),[a]),v=(0,B.useCallback)(m(r),[r]),b=(0,B.useCallback)(m(o),[o]),x=(0,B.useCallback)(m(i),[i]),w=(0,B.useCallback)(m(s),[s]),k=(0,B.useCallback)(m(l),[l]);return(0,ni.jsx)(Ri,{ref:t,...d,onEnter:g,onEntered:v,onEntering:y,onExit:b,onExited:w,onExiting:x,addEndListener:k,nodeRef:p,children:"function"===typeof c?(e,t)=>c(e,{...t,ref:f}):B.cloneElement(c,{ref:f})})})),Li=Mi,zi={[_i]:"show",[Ii]:"show"},ji=B.forwardRef(((e,t)=>{let{className:n,children:a,transitionClasses:r={},onEnter:o,...i}=e;const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=(0,B.useCallback)(((e,t)=>{Fi(e),null==o||o(e,t)}),[o]);return(0,ni.jsx)(Li,{ref:t,addEndListener:Pi,...s,onEnter:l,childRef:a.ref,children:(e,t)=>B.cloneElement(a,{...t,className:yo()("fade",n,a.props.className,zi[e],r[e])})})}));ji.displayName="Fade";const Bi=ji,Wi=["xxl","xl","lg","md","sm","xs"],Vi="xs",Ui=B.createContext({prefixes:{},breakpoints:Wi,minBreakpoint:Vi}),{Consumer:Gi,Provider:Hi}=Ui;function qi(e,t){const{prefixes:n}=(0,B.useContext)(Ui);return e||n[t]||t}function Xi(){const{breakpoints:e}=(0,B.useContext)(Ui);return e}function Ki(){const{minBreakpoint:e}=(0,B.useContext)(Ui);return e}function Yi(){const{dir:e}=(0,B.useContext)(Ui);return"rtl"===e}const Qi=B.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=qi(a,"modal-body"),(0,ni.jsx)(r,{ref:t,className:yo()(n,a),...o})}));Qi.displayName="ModalBody";const $i=Qi,Zi=B.createContext({onHide(){}}),Ji=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,contentClassName:r,centered:o,size:i,fullscreen:s,children:l,scrollable:c,...u}=e;n=qi(n,"modal");const d="".concat(n,"-dialog"),p="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,ni.jsx)("div",{...u,ref:t,className:yo()(d,a,i&&"".concat(n,"-").concat(i),o&&"".concat(d,"-centered"),c&&"".concat(d,"-scrollable"),s&&p),children:(0,ni.jsx)("div",{className:yo()("".concat(n,"-content"),r),children:l})})}));Ji.displayName="ModalDialog";const es=Ji,ts=B.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=qi(a,"modal-footer"),(0,ni.jsx)(r,{ref:t,className:yo()(n,a),...o})}));ts.displayName="ModalFooter";const ns=ts;var as=n(5192),rs=n.n(as);const os={"aria-label":rs().string,onClick:rs().func,variant:rs().oneOf(["white"])},is=B.forwardRef(((e,t)=>{let{className:n,variant:a,"aria-label":r="Close",...o}=e;return(0,ni.jsx)("button",{ref:t,type:"button",className:yo()("btn-close",a&&"btn-close-".concat(a),n),"aria-label":r,...o})}));is.displayName="CloseButton",is.propTypes=os;const ss=is,ls=B.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:a,closeButton:r=!1,onHide:o,children:i,...s}=e;const l=(0,B.useContext)(Zi),c=To((()=>{null==l||l.onHide(),null==o||o()}));return(0,ni.jsxs)("div",{ref:t,...s,children:[i,r&&(0,ni.jsx)(ss,{"aria-label":n,variant:a,onClick:c})]})})),cs=ls,us=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,closeLabel:r="Close",closeButton:o=!1,...i}=e;return n=qi(n,"modal-header"),(0,ni.jsx)(cs,{ref:t,...i,className:yo()(a,n),closeLabel:r,closeButton:o})}));us.displayName="ModalHeader";const ds=us,ps=(hs="h4",B.forwardRef(((e,t)=>(0,ni.jsx)("div",{...e,ref:t,className:yo()(e.className,hs)}))));var hs;const fs=B.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r=ps,...o}=e;return a=qi(a,"modal-title"),(0,ni.jsx)(r,{ref:t,className:yo()(n,a),...o})}));fs.displayName="ModalTitle";const ms=fs;function gs(e){return(0,ni.jsx)(Bi,{...e,timeout:null})}function ys(e){return(0,ni.jsx)(Bi,{...e,timeout:null})}const vs=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,style:r,dialogClassName:o,contentClassName:i,children:s,dialogAs:l=es,"aria-labelledby":c,"aria-describedby":u,"aria-label":d,show:p=!1,animation:h=!0,backdrop:f=!0,keyboard:m=!0,onEscapeKeyDown:g,onShow:y,onHide:v,container:b,autoFocus:x=!0,enforceFocus:w=!0,restoreFocus:k=!0,restoreFocusOptions:S,onEntered:C,onExit:E,onExiting:_,onEnter:I,onEntering:N,onExited:T,backdropClassName:O,manager:R,...A}=e;const[P,F]=(0,B.useState)({}),[D,M]=(0,B.useState)(!1),L=(0,B.useRef)(!1),z=(0,B.useRef)(!1),j=(0,B.useRef)(null),[W,V]=Io(),U=Ro(t,V),G=To(v),H=Yi();n=qi(n,"modal");const q=(0,B.useMemo)((()=>({onHide:G})),[G]);function X(){return R||function(e){return bi||(bi=new vi(e)),bi}({isRTL:H})}function K(e){if(!vo)return;const t=X().getScrollbarWidth()>0,n=e.scrollHeight>So(e).documentElement.clientHeight;F({paddingRight:t&&!n?_o():void 0,paddingLeft:!t&&n?_o():void 0})}const Y=To((()=>{W&&K(W.dialog)}));Ao((()=>{Co(window,"resize",Y),null==j.current||j.current()}));const Q=()=>{L.current=!0},$=e=>{L.current&&W&&e.target===W.dialog&&(z.current=!0),L.current=!1},Z=()=>{M(!0),j.current=Wo(W.dialog,(()=>{M(!1)}))},J=e=>{"static"!==f?z.current||e.target!==e.currentTarget?z.current=!1:null==v||v():(e=>{e.target===e.currentTarget&&Z()})(e)},ee=(0,B.useCallback)((e=>(0,ni.jsx)("div",{...e,className:yo()("".concat(n,"-backdrop"),O,!h&&"show")})),[h,O,n]),te={...r,...P};te.display="block";return(0,ni.jsx)(Zi.Provider,{value:q,children:(0,ni.jsx)(ui,{show:p,ref:U,backdrop:f,container:b,keyboard:!0,autoFocus:x,enforceFocus:w,restoreFocus:k,restoreFocusOptions:S,onEscapeKeyDown:e=>{m?null==g||g(e):(e.preventDefault(),"static"===f&&Z())},onShow:y,onHide:v,onEnter:(e,t)=>{e&&K(e),null==I||I(e,t)},onEntering:(e,t)=>{null==N||N(e,t),ko(window,"resize",Y)},onEntered:C,onExit:e=>{null==j.current||j.current(),null==E||E(e)},onExiting:_,onExited:e=>{e&&(e.style.display=""),null==T||T(e),Co(window,"resize",Y)},manager:X(),transition:h?gs:void 0,backdropTransition:h?ys:void 0,renderBackdrop:ee,renderDialog:e=>(0,ni.jsx)("div",{role:"dialog",...e,style:te,className:yo()(a,n,D&&"".concat(n,"-static"),!h&&"show"),onClick:f?J:void 0,onMouseUp:$,"aria-label":d,"aria-labelledby":c,"aria-describedby":u,children:(0,ni.jsx)(l,{...A,onMouseDown:Q,className:o,contentClassName:i,children:s})})})})}));vs.displayName="Modal";const bs=Object.assign(vs,{Body:$i,Header:ds,Title:ms,Footer:ns,Dialog:es,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});const xs=B.forwardRef(((e,t)=>{const[{className:n,...a},{as:r="div",bsPrefix:o,spans:i}]=function(e){let{as:t,bsPrefix:n,className:a,...r}=e;n=qi(n,"col");const o=Xi(),i=Ki(),s=[],l=[];return o.forEach((e=>{const t=r[e];let a,o,c;delete r[e],"object"===typeof t&&null!=t?({span:a,offset:o,order:c}=t):a=t;const u=e!==i?"-".concat(e):"";a&&s.push(!0===a?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(a)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=o&&l.push("offset".concat(u,"-").concat(o))})),[{...r,className:yo()(a,...s,...l)},{as:t,bsPrefix:n,spans:s}]}(e);return(0,ni.jsx)(r,{...a,ref:t,className:yo()(n,!i.length&&o)})}));xs.displayName="Col";const ws=xs,ks=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:r="div",...o}=e;const i=qi(n,"row"),s=Xi(),l=Ki(),c="".concat(i,"-cols"),u=[];return s.forEach((e=>{const t=o[e];let n;delete o[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const a=e!==l?"-".concat(e):"";null!=n&&u.push("".concat(c).concat(a,"-").concat(n))})),(0,ni.jsx)(r,{ref:t,...o,className:yo()(a,i,...u)})}));ks.displayName="Row";const Ss=ks,Cs=["as","disabled"];function Es(e){let{tagName:t,disabled:n,href:a,target:r,rel:o,role:i,onClick:s,tabIndex:l=0,type:c}=e;t||(t=null!=a||null!=r||null!=o?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(a||(a="#"),n&&(a=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:n?void 0:l,href:a,target:"a"===t?r:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const _s=B.forwardRef(((e,t)=>{let{as:n,disabled:a}=e,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Cs);const[o,{tagName:i}]=Es(Object.assign({tagName:n,disabled:a},r));return(0,ni.jsx)(i,Object.assign({},r,o,{ref:t}))}));_s.displayName="Button";const Is=_s,Ns=B.forwardRef(((e,t)=>{let{as:n,bsPrefix:a,variant:r="primary",size:o,active:i=!1,disabled:s=!1,className:l,...c}=e;const u=qi(a,"btn"),[d,{tagName:p}]=Es({tagName:n,disabled:s,...c}),h=p;return(0,ni.jsx)(h,{...d,...c,ref:t,disabled:s,className:yo()(l,u,i&&"active",r&&"".concat(u,"-").concat(r),o&&"".concat(u,"-").concat(o),c.href&&s&&"disabled")})}));Ns.displayName="Button";const Ts=Ns,Os={darkTheme:"color_darkTheme__bjwrm",lightTheme:"color_lightTheme__hTVwY",greyTheme:"color_greyTheme__0wIc+",whiteTheme:"color_whiteTheme__mo4wS",contrastTheme:"color_contrastTheme__RpO5b",transparentTheme:"color_transparentTheme__5AQ0-",transparentDarkColorTheme:"color_transparentDarkColorTheme__-uivp"},Rs={absoluteCenter:"align_absoluteCenter__DKIfW",fromStartBottom:"align_fromStartBottom__C3F7p",fromTopCenter:"align_fromTopCenter__NpsHN",fromBottomCenter:"align_fromBottomCenter__pohZu","text-center":"align_text-center__beKPy","text-left":"align_text-left__MyF1A","text-right":"align_text-right__xY+eg",wrapTrue:"align_wrapTrue__+z4K+",wrapFalse:"align_wrapFalse__pjKjq"},As={height5:"size_height5__nXiLG",height10:"size_height10__5vTSC",height50:"size_height50__95tjG",height80:"size_height80__zHAaV",height90:"size_height90__hmEZF",height100:"size_height100__cFyhm",width2_5:"size_width2_5__xNJ4l","width-fit":"size_width-fit__yLALW",width5:"size_width5__Telu4",width10:"size_width10__PysLY",width25:"size_width25__UzFpz",width50:"size_width50__RfOrG",width80:"size_width80__wEEnt",width100:"size_width100__xp4sv",widthLogo:"size_widthLogo__l60ux","mx-h-30vh":"size_mx-h-30vh__UICYE","mx-h-40vh":"size_mx-h-40vh__rWQ+4","min-h-35vh":"size_min-h-35vh__4zxMc"},Ps=()=>(0,ni.jsx)("img",{width:25,height:25,src:"".concat("/react-image-editor","/doc-tree-icon.svg"),alt:"konva"}),Fs=e=>{let{children:t}=e;return(0,ni.jsxs)("header",{className:[Os.darkTheme,Rs.fromStartBottom,As.height100,"p-0"].join(" "),children:[(0,ni.jsx)(ws,{xs:"auto",className:[As.widthLogo,As.height100,Rs.absoluteCenter].join(" "),children:(0,ni.jsx)(Ps,{})}),(0,ni.jsx)(ws,{children:t})]})},Ds=B.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:a=!1,as:r="div",className:o,...i}=e;const s=qi(n,"container"),l="string"===typeof a?"-".concat(a):"-fluid";return(0,ni.jsx)(r,{ref:t,...i,className:yo()(o,a?"".concat(s).concat(l):s)})}));Ds.displayName="Container";const Ms=Ds,Ls={relative:"position_relative__FbUQk",absolute:"position_absolute__SP5m4",top0:"position_top0__wQz8w",left0:"position_left0__Qt6Ni",bottom0:"position_bottom0__kt0Kj",right0:"position_right0__eD6-b",verticalCenter:"position_verticalCenter__CoK5D",horizontalCenter:"position_horizontalCenter__5q0uq",zIndex0:"position_zIndex0__TRJYw",zIndex1:"position_zIndex1__qhQTj",zIndex2:"position_zIndex2__Wjy3-",zIndex3:"position_zIndex3__Gegow"},zs={p0:"space_p0__NBReP",p05em:"space_p05em__UskYU",ml1rem:"space_ml1rem__Na4o1",pl1rem:"space_pl1rem__FdJqz",pr1rem:"space_pr1rem__+K6Ab",pt1rem:"space_pt1rem__Ol3+h",mt1rem:"space_mt1rem__I4b4K"},js={auto:"overflow_auto__nIcn6","auto-y":"overflow_auto-y__+curO","auto-x":"overflow_auto-x__JAoj9",hide:"overflow_hide__ZVbar"},Bs=e=>{let{header:t,navBar:n,settingBar:a,children:r,footer:o}=e;return(0,ni.jsxs)(Ms,{fluid:!0,className:[As.height100,js.hide].join(" "),children:[(0,ni.jsx)(Ss,{xs:12,className:[As.height5,Ls.relative,Ls.zIndex1,zs.mt1rem].join(" "),children:t}),(0,ni.jsxs)(Ss,{xs:12,className:[As.height90,Ls.relative,Ls.zIndex1].join(" "),children:[(0,ni.jsx)(ws,{xs:"auto",className:[Os.darkTheme,As.widthLogo,As.height100,Rs.fromTopCenter].join(" "),children:n}),(0,ni.jsx)(ws,{className:["h-100",Ls.relative,Os.greyTheme].join(" "),children:r}),(0,ni.jsx)(ws,{xs:2,className:[Os.darkTheme,As.height100,Ls.relative,Ls.zIndex1].join(" "),children:a})]}),(0,ni.jsx)(Ss,{xs:12,className:[Os.darkTheme,As.height5,Ls.relative,Ls.zIndex1].join(" "),children:o})]})};function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ws.apply(this,arguments)}n(6993);function Vs(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Us(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Gs(e,t,n){var a=(0,B.useRef)(void 0!==e),r=(0,B.useState)(t),o=r[0],i=r[1],s=void 0!==e,l=a.current;return a.current=s,!s&&l&&o!==t&&i(t),[s?e:o,(0,B.useCallback)((function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];n&&n.apply(void 0,[e].concat(a)),i(e)}),[n])]}function Hs(e,t){return Object.keys(t).reduce((function(n,a){var r,o=n,i=o[Vs(a)],s=o[a],l=xi(o,[Vs(a),a].map(Us)),c=t[a],u=Gs(s,i,e[c]),d=u[0],p=u[1];return Ws({},l,((r={})[a]=d,r[c]=p,r))}),e)}function qs(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Xs(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Ks(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}qs.__suppressDeprecationWarning=!0,Xs.__suppressDeprecationWarning=!0,Ks.__suppressDeprecationWarning=!0;const Ys=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];e.apply(this,a),t.apply(this,a)}}),null)},Qs={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function $s(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],a=Qs[e];return n+parseInt(zo(t,a[0]),10)+parseInt(zo(t,a[1]),10)}const Zs={[Ei]:"collapse",[Ni]:"collapsing",[_i]:"collapsing",[Ii]:"collapse show"},Js=B.forwardRef(((e,t)=>{let{onEnter:n,onEntering:a,onEntered:r,onExit:o,onExiting:i,className:s,children:l,dimension:c="height",in:u=!1,timeout:d=300,mountOnEnter:p=!1,unmountOnExit:h=!1,appear:f=!1,getDimensionValue:m=$s,...g}=e;const y="function"===typeof c?c():c,v=(0,B.useMemo)((()=>Ys((e=>{e.style[y]="0"}),n)),[y,n]),b=(0,B.useMemo)((()=>Ys((e=>{const t="scroll".concat(y[0].toUpperCase()).concat(y.slice(1));e.style[y]="".concat(e[t],"px")}),a)),[y,a]),x=(0,B.useMemo)((()=>Ys((e=>{e.style[y]=null}),r)),[y,r]),w=(0,B.useMemo)((()=>Ys((e=>{e.style[y]="".concat(m(y,e),"px"),Fi(e)}),o)),[o,m,y]),k=(0,B.useMemo)((()=>Ys((e=>{e.style[y]=null}),i)),[y,i]);return(0,ni.jsx)(Li,{ref:t,addEndListener:Pi,...g,"aria-expanded":g.role?u:null,onEnter:v,onEntering:b,onEntered:x,onExit:w,onExiting:k,childRef:l.ref,in:u,timeout:d,mountOnEnter:p,unmountOnExit:h,appear:f,children:(e,t)=>B.cloneElement(l,{...t,className:yo()(s,l.props.className,Zs[e],"width"===y&&"collapse-horizontal")})})})),el=Js;function tl(e,t){return Array.isArray(e)?e.includes(t):e===t}const nl=B.createContext({});nl.displayName="AccordionContext";const al=nl,rl=B.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:a,className:r,children:o,eventKey:i,...s}=e;const{activeEventKey:l}=(0,B.useContext)(al);return a=qi(a,"accordion-collapse"),(0,ni.jsx)(el,{ref:t,in:tl(l,i),...s,className:yo()(r,a),children:(0,ni.jsx)(n,{children:B.Children.only(o)})})}));rl.displayName="AccordionCollapse";const ol=rl,il=B.createContext({eventKey:""});il.displayName="AccordionItemContext";const sl=il,ll=B.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:a,className:r,onEnter:o,onEntering:i,onEntered:s,onExit:l,onExiting:c,onExited:u,...d}=e;a=qi(a,"accordion-body");const{eventKey:p}=(0,B.useContext)(sl);return(0,ni.jsx)(ol,{eventKey:p,onEnter:o,onEntering:i,onEntered:s,onExit:l,onExiting:c,onExited:u,children:(0,ni.jsx)(n,{ref:t,...d,className:yo()(r,a)})})}));ll.displayName="AccordionBody";const cl=ll;const ul=B.forwardRef(((e,t)=>{let{as:n="button",bsPrefix:a,className:r,onClick:o,...i}=e;a=qi(a,"accordion-button");const{eventKey:s}=(0,B.useContext)(sl),l=function(e,t){const{activeEventKey:n,onSelect:a,alwaysOpen:r}=(0,B.useContext)(al);return o=>{let i=e===n?null:e;r&&(i=Array.isArray(n)?n.includes(e)?n.filter((t=>t!==e)):[...n,e]:[e]),null==a||a(i,o),null==t||t(o)}}(s,o),{activeEventKey:c}=(0,B.useContext)(al);return"button"===n&&(i.type="button"),(0,ni.jsx)(n,{ref:t,onClick:l,...i,"aria-expanded":Array.isArray(c)?c.includes(s):s===c,className:yo()(r,a,!tl(c,s)&&"collapsed")})}));ul.displayName="AccordionButton";const dl=ul,pl=B.forwardRef(((e,t)=>{let{as:n="h2",bsPrefix:a,className:r,children:o,onClick:i,...s}=e;return a=qi(a,"accordion-header"),(0,ni.jsx)(n,{ref:t,...s,className:yo()(r,a),children:(0,ni.jsx)(dl,{onClick:i,children:o})})}));pl.displayName="AccordionHeader";const hl=pl,fl=B.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:a,className:r,eventKey:o,...i}=e;a=qi(a,"accordion-item");const s=(0,B.useMemo)((()=>({eventKey:o})),[o]);return(0,ni.jsx)(sl.Provider,{value:s,children:(0,ni.jsx)(n,{ref:t,...i,className:yo()(r,a)})})}));fl.displayName="AccordionItem";const ml=fl,gl=B.forwardRef(((e,t)=>{const{as:n="div",activeKey:a,bsPrefix:r,className:o,onSelect:i,flush:s,alwaysOpen:l,...c}=Hs(e,{activeKey:"onSelect"}),u=qi(r,"accordion"),d=(0,B.useMemo)((()=>({activeEventKey:a,onSelect:i,alwaysOpen:l})),[a,i,l]);return(0,ni.jsx)(al.Provider,{value:d,children:(0,ni.jsx)(n,{ref:t,...c,className:yo()(o,u,s&&"".concat(u,"-flush"))})})}));gl.displayName="Accordion";const yl=Object.assign(gl,{Button:dl,Collapse:ol,Item:ml,Header:hl,Body:cl});function vl(e){if(Array.isArray(e))return e}function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xl(e,t){if(e){if("string"===typeof e)return bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bl(e,t):void 0}}function wl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kl(e,t){return vl(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return s}}(e,t)||xl(e,t)||wl()}function Sl(e){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(e)}function Cl(e){var t=function(e,t){if("object"!==Sl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==Sl(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sl(t)?t:String(t)}function El(e,t,n){return(t=Cl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Il(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Cl(a.key),a)}}function Nl(e,t,n){return t&&Il(e.prototype,t),n&&Il(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Tl=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ol={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Rl=function(e){return Ol[e]};function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fl,Dl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(Tl,Rl)}},Ml=(0,B.createContext)();var Ll=function(){function e(){_l(this,e),this.usedNamespaces={}}return Nl(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function zl(){return Fl}var jl={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Dl=Pl(Pl({},Dl),e)}(e.options.react),function(e){Fl=e}(e)}};function Bl(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var Wl={};function Vl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&Wl[t[0]]||("string"===typeof t[0]&&(Wl[t[0]]=new Date),Bl.apply(void 0,t))}function Ul(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ql(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,a=(0,B.useContext)(Ml)||{},r=a.i18n,o=a.defaultNS,i=n||r||zl();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Ll),!i){Vl("You will need to pass in an i18next instance by using initReactI18next");var s=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[s,{},!1];return l.t=s,l.i18n={},l.ready=!1,l}i.options.react&&void 0!==i.options.react.wait&&Vl("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=Hl(Hl(Hl({},Dl),i.options.react),t),u=c.useSuspense,d=c.keyPrefix,p=e||o||i.options&&i.options.defaultNS;p="string"===typeof p?[p]:p||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(p);var h=(i.isInitialized||i.initializedStoreOnce)&&p.every((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,a){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===a.toLowerCase())return!0;var i=function(e,n){var a=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===a||2===a};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(a,e)||!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!i(a,e)||r&&!i(o,e)))}(e,t,n):(Vl("i18n.languages were undefined or empty",t.languages),!0)}(e,i,c)}));function f(){return i.getFixedT(null,"fallback"===c.nsMode?p:p[0],d)}var m=kl((0,B.useState)(f),2),g=m[0],y=m[1],v=p.join(),b=function(e,t){var n=(0,B.useRef)();return(0,B.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current}(v),x=(0,B.useRef)(!0);(0,B.useEffect)((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){x.current&&y(f)}return x.current=!0,h||u||Ul(i,p,(function(){x.current&&y(f)})),h&&b&&b!==v&&x.current&&y(f),e&&i&&i.on(e,n),t&&i&&i.store.on(t,n),function(){x.current=!1,e&&i&&e.split(" ").forEach((function(e){return i.off(e,n)})),t&&i&&t.split(" ").forEach((function(e){return i.store.off(e,n)}))}}),[i,v]);var w=(0,B.useRef)(!0);(0,B.useEffect)((function(){x.current&&!w.current&&y(f),w.current=!1}),[i,d]);var k=[g,i,h];if(k.t=g,k.i18n=i,k.ready=h,h)return k;if(!h&&!u)return k;throw new Promise((function(e){Ul(i,p,(function(){e()}))}))}const Xl=()=>{const{t:e}=ql(["widget","hotkey","workMode"]);return{getTranslation:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return e("".concat(t,":").concat(a.join(":")))}}},Kl=e=>{let{data:t,children:n}=e;const{getTranslation:a}=Xl();return(0,ni.jsxs)(yl.Item,{eventKey:t.id,children:[(0,ni.jsx)(yl.Header,{children:a("widget",t.id,"name")}),(0,ni.jsx)(yl.Body,{className:[Os.whiteTheme,js["auto-y"]].join(" "),children:n})]})},Yl=JSON.parse('[{"id":"image","name":"Image"},{"id":"colorPalette","name":"Color Palette"},{"id":"align","name":"Align"},{"id":"frame","name":"Frame"},{"id":"shape","name":"Shape"},{"id":"text","name":"Text"},{"id":"icon","name":"Icon"},{"id":"export","name":"Export"}]'),Ql={bsPrefix:rs().string,fluid:rs().bool,rounded:rs().bool,roundedCircle:rs().bool,thumbnail:rs().bool},$l=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,fluid:r=!1,rounded:o=!1,roundedCircle:i=!1,thumbnail:s=!1,...l}=e;return n=qi(n,"img"),(0,ni.jsx)("img",{ref:t,...l,className:yo()(a,r&&"".concat(n,"-fluid"),o&&"rounded",i&&"rounded-circle",s&&"".concat(n,"-thumbnail"))})}));$l.displayName="Image";const Zl=$l,Jl=B.forwardRef(((e,t)=>{let{className:n,fluid:a=!0,...r}=e;return(0,ni.jsx)(Zl,{ref:t,...r,fluid:a,className:yo()(n,"figure-img")})}));Jl.displayName="FigureImage",Jl.propTypes=Ql;const ec=Jl,tc=B.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="figcaption",...o}=e;return a=qi(a,"figure-caption"),(0,ni.jsx)(r,{ref:t,className:yo()(n,a),...o})}));tc.displayName="FigureCaption";const nc=tc,ac=B.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="figure",...o}=e;return a=qi(a,"figure"),(0,ni.jsx)(r,{ref:t,className:yo()(n,a),...o})}));ac.displayName="Figure";const rc=Object.assign(ac,{Image:ec,Caption:nc}),oc=JSON.parse('[{"type":"Youtube Video Thumbnail","id":"youtubeVideoThumbnail","width":1280,"height":760},{"type":"Youtube Channel Icon","id":"youtubeChannelIcon","width":800,"height":800},{"type":"Youtube Channel Cover","id":"youtubeChannelIcon","width":2560,"height":1440},{"type":"Instagram Square Photo","id":"instagramSquarePhoto","width":1080,"height":1080},{"type":"Instagram Profile","id":"instagramProfile","width":110,"height":110},{"type":"Instagram Story","id":"instagramStory","width":1080,"height":1920},{"type":"A4","id":"A4","width":2480,"height":3508},{"type":"sample_100X100","id":"sample_100X100","width":100,"height":100},{"type":"sample_512X512","id":"sample_512X512","width":512,"height":512},{"type":"Facebook Profile","id":"facebookProfile","width":180,"height":180},{"type":"Facebook Cover Photo","id":"facebookCoverPhoto","width":820,"height":312},{"type":"Twitter Profile","id":"twitterProfile","width":400,"height":400},{"type":"Twitter Header","id":"twitterHeader","width":1500,"height":500},{"type":"Twitter Post","id":"twitterPost","width":900,"height":450},{"type":"LinkedIn Profile","id":"linkedInProfil","width":400,"height":400},{"type":"LinkedIn Cover","id":"linkedInCover","width":1584,"height":396},{"type":"Pinterest Board Image","id":"pinterestBoardImage","width":222,"height":150},{"type":"Pinterest Pin Image","id":"pinterestPinImage","width":236,"height":280},{"type":"Pinterest Profile","id":"pinterestProfile","width":165,"height":165},{"type":"Tumblr Profile","id":"tumblrProfile","width":128,"height":128},{"type":"Tumblr Post Image","id":"tumblrPostImage","width":500,"height":750},{"type":"Android App Icon","id":"androidAppIcon","width":512,"height":512},{"type":"Android Feature Graphic","id":"androidFeatureGraphic","width":1024,"height":500},{"type":"Android Horizontal","id":"androidHorizontal","width":1920,"height":1080},{"type":"Android Vertical","id":"androidVertical","width":1080,"height":1920},{"type":"iOS iPhone Vertical (6.7 inch)","id":"iosIPhoneVertical6_7","width":1290,"height":2796},{"type":"iOS iPhone Vertical (6.5 inch)","id":"iosIPhoneVertical6_5","width":1284,"height":2778},{"type":"iOS iPhone Vertical (5.8 inch)","id":"iosIPhoneVertical5_8","width":1170,"height":2532},{"type":"iOS iPhone Vertical (5.5 inch)","id":"iosIPhoneVertical5_5","width":1242,"height":2208},{"type":"iOS iPhone Vertical (4.7 inch)","id":"iosIPhoneVertical4_7","width":750,"height":1334},{"type":"iOS iPhone Vertical (4 inch)","id":"iosIPhoneVertical4","width":640,"height":1136},{"type":"iOS iPhone Vertical (3.5 inch)","id":"iosIPhoneVertical3_5","width":640,"height":960},{"type":"iOS iPad Vertical (12.9 inch)","id":"iosIPadVertical12_9","width":2048,"height":2732},{"type":"iOS iPad Vertical (11 inch)","id":"iosIPadVertical11","width":1640,"height":2360},{"type":"iOS iPad Vertical (10.5 inch)","id":"iosIPadVertical10_5","width":1668,"height":2224},{"type":"iOS iPad Vertical (9.7 inch)","id":"iosIPadVertical9_7","width":1536,"height":2048}]'),ic={font1em:"font_font1em__j3En+",font1rem:"font_font1rem__baxWz",fontHalf1em:"font_fontHalf1em__OIqBr",font075em:"font_font075em__Fyihb"},sc=e=>{let{dragType:t,dragSrc:n,children:a}=e;const r={draggable:!0,"data-drag-src":JSON.stringify(n),onDragStart:(o=t,e=>{e.currentTarget.dataset.dragSrc&&(e.dataTransfer.effectAllowed=o,e.dataTransfer.setData("text/plain",e.currentTarget.dataset.dragSrc))})};var o;const i=B.Children.map(a,(e=>{let t=e;return B.isValidElement(e)&&(t=B.cloneElement(e,r)),t}));return(0,ni.jsx)(ni.Fragment,{children:i})},lc={FRAME:"INSERT_FRAME",IMAGE:"INSERT IMAGE",TEXT:"INSERT_TEXT",SHAPE:"INSERT SHAPE",ICON:"INSERT ICON",LINE:"INSERT LINE"},cc=()=>(0,ni.jsx)(Ss,{xs:2,className:[As["mx-h-30vh"]].join(" "),children:oc.map((e=>{let{type:t,id:n,width:a,height:r}=e;return(0,ni.jsx)(uc,{data:{id:n,width:a,height:r,"data-frame-type":t},maxPx:80},"frame-thumbnail-".concat(t))}))}),uc=e=>{let{data:{id:t,width:n,height:a,...r},maxPx:o}=e;const{getTranslation:i}=Xl(),s=dc({width:n,height:a},o);return(0,ni.jsxs)(rc,{as:ws,className:[Rs.absoluteCenter,Rs.wrapTrue].join(" "),children:[(0,ni.jsx)(sc,{dragType:"copyMove",dragSrc:{trigger:lc.FRAME,"data-frame-type":r["data-frame-type"],id:t,width:n,height:a},children:(0,ni.jsx)(rc.Image,{alt:"".concat(n," X ").concat(a),"data-src":"holder.js/".concat(s.width,"x").concat(s.height,"?bg=e3e6e8&fg=ffffff&size=7&text=").concat(n," \nX\n ").concat(a,"&amp;nowrap=true")})}),(0,ni.jsx)(rc.Caption,{className:[ic.font075em,As.width100,"text-center"].join(" "),children:i("widget","frame",t,"name")})]})},dc=(e,t)=>{let{width:n,height:a}=e;return n===a?{width:t,height:t}:n>a?{width:t,height:Math.floor(t*a/n)}:{width:Math.floor(t*n/a),height:t}},pc=JSON.parse('[{"type":"image","id":"sample-image-1","name":"sample-image-1","src":"sitting-1.svg"},{"type":"image","id":"sample-image-2","name":"sample-image-2","src":"sitting-2.svg"},{"type":"image","id":"sample-image-3","name":"sample-image-3","src":"sitting-3.svg"},{"type":"image","id":"sample-image-4","name":"sample-image-4","src":"sitting-4.svg"},{"type":"image","id":"sample-image-5","name":"sample-image-5","src":"sitting-5.svg"},{"type":"image","id":"sample-image-6","name":"sample-image-6","src":"sitting-6.svg"},{"type":"image","id":"sample-image-7","name":"sample-image-7","src":"sitting-7.svg"},{"type":"image","id":"sample-image-8","name":"sample-image-8","src":"sitting-8.svg"},{"type":"image","id":"sample-image-9","name":"sample-image-9","src":"standing-1.svg"},{"type":"image","id":"sample-image-10","name":"sample-image-10","src":"standing-10.svg"},{"type":"image","id":"sample-image-11","name":"sample-image-11","src":"standing-11.svg"},{"type":"image","id":"sample-image-12","name":"sample-image-12","src":"standing-12.svg"},{"type":"image","id":"sample-image-13","name":"sample-image-13","src":"standing-13.svg"},{"type":"image","id":"sample-image-14","name":"sample-image-14","src":"standing-14.svg"},{"type":"image","id":"sample-image-15","name":"sample-image-15","src":"standing-15.svg"},{"type":"image","id":"sample-image-16","name":"sample-image-16","src":"standing-16.svg"},{"type":"image","id":"sample-image-17","name":"sample-image-17","src":"standing-17.svg"},{"type":"image","id":"sample-image-18","name":"sample-image-18","src":"standing-18.svg"},{"type":"image","id":"sample-image-19","name":"sample-image-19","src":"standing-19.svg"},{"type":"image","id":"sample-image-20","name":"sample-image-20","src":"standing-2.svg"},{"type":"image","id":"sample-image-21","name":"sample-image-21","src":"standing-20.svg"},{"type":"image","id":"sample-image-22","name":"sample-image-22","src":"standing-21.svg"},{"type":"image","id":"sample-image-23","name":"sample-image-23","src":"standing-22.svg"},{"type":"image","id":"sample-image-24","name":"sample-image-24","src":"standing-23.svg"},{"type":"image","id":"sample-image-25","name":"sample-image-25","src":"standing-24.svg"},{"type":"image","id":"sample-image-26","name":"sample-image-26","src":"standing-3.svg"},{"type":"image","id":"sample-image-27","name":"sample-image-27","src":"standing-4.svg"},{"type":"image","id":"sample-image-28","name":"sample-image-28","src":"standing-5.svg"},{"type":"image","id":"sample-image-29","name":"sample-image-29","src":"standing-6.svg"},{"type":"image","id":"sample-image-30","name":"sample-image-30","src":"standing-7.svg"},{"type":"image","id":"sample-image-31","name":"sample-image-31","src":"standing-8.svg"},{"type":"image","id":"sample-image-32","name":"sample-image-32","src":"standing-9.svg"}]'),hc={roundSM:"border_roundSM__oasfe",roundMD:"border_roundMD__WdeLr",roundLG:"border_roundLG__ixvTD",roundTopSM:"border_roundTopSM__hjvvJ",roundLeftSM:"border_roundLeftSM__GYmCZ",roundRightSM:"border_roundRightSM__v7MOm",roundBottomSM:"border_roundBottomSM__Muok8",outroundTopSM:"border_outroundTopSM__RZJdt",outroundLeftSM:"border_outroundLeftSM__3+JE9",outroundRightSM:"border_outroundRightSM__zf8mv",outroundBottomSM:"border_outroundBottomSM__QLoy+",top:"border_top__PjR2S",left:"border_left__SFFkq",right:"border_right__gZGWD",bottom:"border_bottom__W2E8X",all:"border_all__ybKAu",none:"border_none__CSVq+",hilightOnFocus:"border_hilightOnFocus__PZFQ3",colorDark:"border_colorDark__v-Hag",colorWhite:"border_colorWhite__61t4J",colorGrey:"border_colorGrey__1rJ+5",colorContrast:"border_colorContrast__fNpvM"},fc={inline:"display_inline__AZZuy","inline-block":"display_inline-block__sY62n"},mc=e=>Number(e.toFixed(7));function gc(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yc(e){return!!e&&!!e[iu]}function vc(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===su}(e)||Array.isArray(e)||!!e[ou]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ou])||Ec(e)||_c(e))}function bc(e,t,n){void 0===n&&(n=!1),0===xc(e)?(n?Object.keys:lu)(e).forEach((function(a){n&&"symbol"==typeof a||t(a,e[a],e)})):e.forEach((function(n,a){return t(a,n,e)}))}function xc(e){var t=e[iu];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ec(e)?2:_c(e)?3:0}function wc(e,t){return 2===xc(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kc(e,t){return 2===xc(e)?e.get(t):e[t]}function Sc(e,t,n){var a=xc(e);2===a?e.set(t,n):3===a?e.add(n):e[t]=n}function Cc(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Ec(e){return tu&&e instanceof Map}function _c(e){return nu&&e instanceof Set}function Ic(e){return e.o||e.t}function Nc(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=cu(e);delete t[iu];for(var n=lu(t),a=0;a<n.length;a++){var r=n[a],o=t[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function Tc(e,t){return void 0===t&&(t=!1),Rc(e)||yc(e)||!vc(e)||(xc(e)>1&&(e.set=e.add=e.clear=e.delete=Oc),Object.freeze(e),t&&bc(e,(function(e,t){return Tc(t,!0)}),!0)),e}function Oc(){gc(2)}function Rc(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Ac(e){var t=uu[e];return t||gc(18,e),t}function Pc(e,t){uu[e]||(uu[e]=t)}function Fc(){return Jc}function Dc(e,t){t&&(Ac("Patches"),e.u=[],e.s=[],e.v=t)}function Mc(e){Lc(e),e.p.forEach(jc),e.p=null}function Lc(e){e===Jc&&(Jc=e.l)}function zc(e){return Jc={p:[],l:Jc,h:e,m:!0,_:0}}function jc(e){var t=e[iu];0===t.i||1===t.i?t.j():t.g=!0}function Bc(e,t){t._=t.p.length;var n=t.p[0],a=void 0!==e&&e!==n;return t.h.O||Ac("ES5").S(t,e,a),a?(n[iu].P&&(Mc(t),gc(4)),vc(e)&&(e=Wc(t,e),t.l||Uc(t,e)),t.u&&Ac("Patches").M(n[iu].t,e,t.u,t.s)):e=Wc(t,n,[]),Mc(t),t.u&&t.v(t.u,t.s),e!==ru?e:void 0}function Wc(e,t,n){if(Rc(t))return t;var a=t[iu];if(!a)return bc(t,(function(r,o){return Vc(e,a,t,r,o,n)}),!0),t;if(a.A!==e)return t;if(!a.P)return Uc(e,a.t,!0),a.t;if(!a.I){a.I=!0,a.A._--;var r=4===a.i||5===a.i?a.o=Nc(a.k):a.o,o=r,i=!1;3===a.i&&(o=new Set(r),r.clear(),i=!0),bc(o,(function(t,o){return Vc(e,a,r,t,o,n,i)})),Uc(e,r,!1),n&&e.u&&Ac("Patches").N(a,n,e.u,e.s)}return a.o}function Vc(e,t,n,a,r,o,i){if(yc(r)){var s=Wc(e,r,o&&t&&3!==t.i&&!wc(t.R,a)?o.concat(a):void 0);if(Sc(n,a,s),!yc(s))return;e.m=!1}else i&&n.add(r);if(vc(r)&&!Rc(r)){if(!e.h.D&&e._<1)return;Wc(e,r),t&&t.A.l||Uc(e,r)}}function Uc(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&Tc(t,n)}function Gc(e,t){var n=e[iu];return(n?Ic(n):e)[t]}function Hc(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=Object.getPrototypeOf(n)}}function qc(e){e.P||(e.P=!0,e.l&&qc(e.l))}function Xc(e){e.o||(e.o=Nc(e.t))}function Kc(e,t,n){var a=Ec(t)?Ac("MapSet").F(t,n):_c(t)?Ac("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),a={i:n?1:0,A:t?t.A:Fc(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=a,o=du;n&&(r=[a],o=pu);var i=Proxy.revocable(r,o),s=i.revoke,l=i.proxy;return a.k=l,a.j=s,l}(t,n):Ac("ES5").J(t,n);return(n?n.A:Fc()).p.push(a),a}function Yc(e){return yc(e)||gc(22,e),function e(t){if(!vc(t))return t;var n,a=t[iu],r=xc(t);if(a){if(!a.P&&(a.i<4||!Ac("ES5").K(a)))return a.t;a.I=!0,n=Qc(t,r),a.I=!1}else n=Qc(t,r);return bc(n,(function(t,r){a&&kc(a.t,t)===r||Sc(n,t,e(r))})),3===r?new Set(n):n}(e)}function Qc(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Nc(e)}function $c(){function e(e,t){var n=r[e];return n?n.enumerable=t:r[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[iu];return du.get(t,e)},set:function(t){var n=this[iu];du.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var r=e[t][iu];if(!r.P)switch(r.i){case 5:a(r)&&qc(r);break;case 4:n(r)&&qc(r)}}}function n(e){for(var t=e.t,n=e.k,a=lu(n),r=a.length-1;r>=0;r--){var o=a[r];if(o!==iu){var i=t[o];if(void 0===i&&!wc(t,o))return!0;var s=n[o],l=s&&s[iu];if(l?l.t!==i:!Cc(s,i))return!0}}var c=!!t[iu];return a.length!==lu(t).length+(c?0:1)}function a(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var a=0;a<t.length;a++)if(!t.hasOwnProperty(a))return!0;return!1}var r={};Pc("ES5",{J:function(t,n){var a=Array.isArray(t),r=function(t,n){if(t){for(var a=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(a,""+r,e(r,!0));return a}var o=cu(n);delete o[iu];for(var i=lu(o),s=0;s<i.length;s++){var l=i[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(a,t),o={i:a?5:4,A:n?n.A:Fc(),P:!1,I:!1,R:{},l:n,t:t,k:r,o:null,g:!1,C:!1};return Object.defineProperty(r,iu,{value:o,writable:!0}),r},S:function(e,n,r){r?yc(n)&&n[iu].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[iu];if(n){var r=n.t,o=n.k,i=n.R,s=n.i;if(4===s)bc(o,(function(t){t!==iu&&(void 0!==r[t]||wc(r,t)?i[t]||e(o[t]):(i[t]=!0,qc(n)))})),bc(r,(function(e){void 0!==o[e]||wc(o,e)||(i[e]=!1,qc(n))}));else if(5===s){if(a(n)&&(qc(n),i.length=!0),o.length<r.length)for(var l=o.length;l<r.length;l++)i[l]=!1;else for(var c=r.length;c<o.length;c++)i[c]=!0;for(var u=Math.min(o.length,r.length),d=0;d<u;d++)o.hasOwnProperty(d)||(i[d]=!0),void 0===i[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):a(e)}})}var Zc,Jc,eu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),tu="undefined"!=typeof Map,nu="undefined"!=typeof Set,au="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ru=eu?Symbol.for("immer-nothing"):((Zc={})["immer-nothing"]=!0,Zc),ou=eu?Symbol.for("immer-draftable"):"__$immer_draftable",iu=eu?Symbol.for("immer-state"):"__$immer_state",su=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),lu="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,cu=Object.getOwnPropertyDescriptors||function(e){var t={};return lu(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},uu={},du={get:function(e,t){if(t===iu)return e;var n=Ic(e);if(!wc(n,t))return function(e,t,n){var a,r=Hc(t,n);return r?"value"in r?r.value:null===(a=r.get)||void 0===a?void 0:a.call(e.k):void 0}(e,n,t);var a=n[t];return e.I||!vc(a)?a:a===Gc(e.t,t)?(Xc(e),e.o[t]=Kc(e.A.h,a,e)):a},has:function(e,t){return t in Ic(e)},ownKeys:function(e){return Reflect.ownKeys(Ic(e))},set:function(e,t,n){var a=Hc(Ic(e),t);if(null==a?void 0:a.set)return a.set.call(e.k,n),!0;if(!e.P){var r=Gc(Ic(e),t),o=null==r?void 0:r[iu];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Cc(n,r)&&(void 0!==n||wc(e.t,t)))return!0;Xc(e),qc(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Gc(e.t,t)||t in e.t?(e.R[t]=!1,Xc(e),qc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ic(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:a.enumerable,value:n[t]}:a},defineProperty:function(){gc(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){gc(12)}},pu={};bc(du,(function(e,t){pu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),pu.deleteProperty=function(e,t){return pu.set.call(this,e,t,void 0)},pu.set=function(e,t,n){return du.set.call(this,e[0],t,n,e[0])};var hu=function(){function e(e){var t=this;this.O=au,this.D=!0,this.produce=function(e,n,a){if("function"==typeof e&&"function"!=typeof n){var r=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=r);for(var a=arguments.length,i=Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return o.produce(e,(function(e){var a;return(a=n).call.apply(a,[t,e].concat(i))}))}}var i;if("function"!=typeof n&&gc(6),void 0!==a&&"function"!=typeof a&&gc(7),vc(e)){var s=zc(t),l=Kc(t,e,void 0),c=!0;try{i=n(l),c=!1}finally{c?Mc(s):Lc(s)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return Dc(s,a),Bc(e,s)}),(function(e){throw Mc(s),e})):(Dc(s,a),Bc(i,s))}if(!e||"object"!=typeof e){if(void 0===(i=n(e))&&(i=e),i===ru&&(i=void 0),t.D&&Tc(i,!0),a){var u=[],d=[];Ac("Patches").M(e,i,u,d),a(u,d)}return i}gc(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var a=arguments.length,r=Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))};var a,r,o=t.produce(e,n,(function(e,t){a=e,r=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,a,r]})):[o,a,r]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){vc(e)||gc(8),yc(e)&&(e=Yc(e));var t=zc(this),n=Kc(this,e,void 0);return n[iu].C=!0,Lc(t),n},t.finishDraft=function(e,t){var n=(e&&e[iu]).A;return Dc(n,t),Bc(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!au&&gc(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var a=t[n];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}n>-1&&(t=t.slice(n+1));var r=Ac("Patches").$;return yc(e)?r(e,t):this.produce(e,(function(e){return r(e,t)}))},e}(),fu=new hu,mu=fu.produce;fu.produceWithPatches.bind(fu),fu.setAutoFreeze.bind(fu),fu.setUseProxies.bind(fu),fu.applyPatches.bind(fu),fu.createDraft.bind(fu),fu.finishDraft.bind(fu);const gu=mu;var yu="NOT_FOUND";var vu=function(e,t){return e===t};function bu(e,t){var n="object"===typeof t?t:{equalityCheck:t},a=n.equalityCheck,r=void 0===a?vu:a,o=n.maxSize,i=void 0===o?1:o,s=n.resultEqualityCheck,l=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var a=t.length,r=0;r<a;r++)if(!e(t[r],n[r]))return!1;return!0}}(r),c=1===i?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:yu},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(l):function(e,t){var n=[];function a(e){var a=n.findIndex((function(n){return t(e,n.key)}));if(a>-1){var r=n[a];return a>0&&(n.splice(a,1),n.unshift(r)),r.value}return yu}return{get:a,put:function(t,r){a(t)===yu&&(n.unshift({key:t,value:r}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(i,l);function u(){var t=c.get(arguments);if(t===yu){if(t=e.apply(null,arguments),s){var n=c.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}c.put(arguments,t)}return t}return u.clearCache=function(){return c.clear()},u}function xu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var o,i=0,s={memoizeOptions:void 0},l=a.pop();if("object"===typeof l&&(s=l,l=a.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=s.memoizeOptions,u=void 0===c?n:c,d=Array.isArray(u)?u:[u],p=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(a),h=e.apply(void 0,[function(){return i++,l.apply(null,arguments)}].concat(d)),f=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return o=h.apply(null,e)}));return Object.assign(f,{resultFunc:l,memoizedResultFunc:h,dependencies:p,lastResult:function(){return o},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),f}}var wu=xu(bu);function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cu(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Eu="function"===typeof Symbol&&Symbol.observable||"@@observable",_u=function(){return Math.random().toString(36).substring(7).split("").join(".")},Iu={INIT:"@@redux/INIT"+_u(),REPLACE:"@@redux/REPLACE"+_u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_u()}};function Nu(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Tu(e,t,n){var a;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Cu(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Cu(1));return n(Tu)(e,t)}if("function"!==typeof e)throw new Error(Cu(2));var r=e,o=t,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function u(){if(l)throw new Error(Cu(3));return o}function d(e){if("function"!==typeof e)throw new Error(Cu(4));if(l)throw new Error(Cu(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(Cu(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),i=null}}}function p(e){if(!Nu(e))throw new Error(Cu(7));if("undefined"===typeof e.type)throw new Error(Cu(8));if(l)throw new Error(Cu(9));try{l=!0,o=r(o,e)}finally{l=!1}for(var t=i=s,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:Iu.INIT}),(a={dispatch:p,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Cu(10));r=e,p({type:Iu.REPLACE})}})[Eu]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Cu(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Eu]=function(){return this},e},a}function Ou(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var r=t[a];0,"function"===typeof e[r]&&(n[r]=e[r])}var o,i=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Iu.INIT}))throw new Error(Cu(12));if("undefined"===typeof n(void 0,{type:Iu.PROBE_UNKNOWN_ACTION()}))throw new Error(Cu(13))}))}(n)}catch(k5){o=k5}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var a=!1,r={},s=0;s<i.length;s++){var l=i[s],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(Cu(14))}r[l]=d,a=a||d!==u}return(a=a||i.length!==Object.keys(e).length)?r:e}}function Ru(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Au(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(Cu(15))},r={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},o=t.map((function(e){return e(r)}));return a=Ru.apply(void 0,o)(n.dispatch),Su(Su({},n),{},{dispatch:a})}}}function Pu(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(r){return"function"===typeof r?r(n,a,e):t(r)}}}}var Fu=Pu();Fu.withExtraArgument=Pu;const Du=Fu;var Mu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Lu=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(k5){o=[6,k5],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},zu=function(e,t){for(var n=0,a=t.length,r=e.length;n<a;n++,r++)e[r]=t[n];return e},ju=Object.defineProperty,Bu=Object.defineProperties,Wu=Object.getOwnPropertyDescriptors,Vu=Object.getOwnPropertySymbols,Uu=Object.prototype.hasOwnProperty,Gu=Object.prototype.propertyIsEnumerable,Hu=function(e,t,n){return t in e?ju(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},qu=function(e,t){for(var n in t||(t={}))Uu.call(t,n)&&Hu(e,n,t[n]);if(Vu)for(var a=0,r=Vu(t);a<r.length;a++){n=r[a];Gu.call(t,n)&&Hu(e,n,t[n])}return e},Xu=function(e,t){return Bu(e,Wu(t))},Ku=function(e,t,n){return new Promise((function(a,r){var o=function(e){try{s(n.next(e))}catch(k5){r(k5)}},i=function(e){try{s(n.throw(e))}catch(k5){r(k5)}},s=function(e){return e.done?a(e.value):Promise.resolve(e.value).then(o,i)};s((n=n.apply(e,t)).next())}))},Yu=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wu.apply(void 0,e);return function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.apply(void 0,zu([yc(e)?Yc(e):e],t))}},Qu="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ru:Ru.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function $u(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function Zu(e,t){function n(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(t){var r=t.apply(void 0,n);if(!r)throw new Error("prepareAction did not return an object");return qu(qu({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Ju(e){return $u(e)&&"type"in e}function ed(e){return["type","payload","error","meta"].indexOf(e)>-1}var td=function(e){function t(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Mu(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,zu([void 0],e[0].concat(this)))):new(t.bind.apply(t,zu([void 0],e.concat(this))))},t}(Array),nd=function(e){function t(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Mu(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,zu([void 0],e[0].concat(this)))):new(t.bind.apply(t,zu([void 0],e.concat(this))))},t}(Array);function ad(e){return vc(e)?gu(e,(function(){})):e}function rd(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,a=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new td);return n&&(!function(e){return"boolean"===typeof e}(n)?a.push(Du.withExtraArgument(n.extraArgument)):a.push(Du)),a}function od(e){var t,n=function(e){return rd(e)},a=e||{},r=a.reducer,o=void 0===r?void 0:r,i=a.middleware,s=void 0===i?n():i,l=a.devTools,c=void 0===l||l,u=a.preloadedState,d=void 0===u?void 0:u,p=a.enhancers,h=void 0===p?void 0:p;if("function"===typeof o)t=o;else{if(!$u(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ou(o)}var f=s;"function"===typeof f&&(f=f(n));var m=Au.apply(void 0,f),g=Ru;c&&(g=Qu(qu({trace:!1},"object"===typeof c&&c)));var y=new nd(m),v=y;return Array.isArray(h)?v=zu([m],h):"function"===typeof h&&(v=h(y)),Tu(t,d,g.apply(void 0,v))}function id(e){var t,n={},a=[],r={addCase:function(e,t){var a="string"===typeof e?e:e.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[a]=t,r},addMatcher:function(e,t){return a.push({matcher:e,reducer:t}),r},addDefaultCase:function(e){return t=e,r}};return e(r),[n,a,t]}function sd(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,a="function"==typeof e.initialState?e.initialState:ad(e.initialState),r=e.reducers||{},o=Object.keys(r),i={},s={},l={};function c(){var t="function"===typeof e.extraReducers?id(e.extraReducers):[e.extraReducers],n=t[0],r=void 0===n?{}:n,o=t[1],i=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=qu(qu({},r),s);return function(e,t,n,a){void 0===n&&(n=[]);var r,o="function"===typeof t?id(t):[t,n,a],i=o[0],s=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))r=function(){return ad(e())};else{var c=ad(e);r=function(){return c}}function u(e,t){void 0===e&&(e=r());var n=zu([i[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var a;if(yc(e))return void 0===(a=n(e,t))?e:a;if(vc(e))return gu(e,(function(e){return n(e,t)}));if(void 0===(a=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return a}return e}),e)}return u.getInitialState=r,u}(a,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,a=i;n<a.length;n++){var r=a[n];e.addMatcher(r.matcher,r.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,a,o=r[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in o?(n=o.reducer,a=o.prepare):n=o,i[e]=n,s[c]=n,l[e]=a?Zu(c,a):Zu(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:i,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}function ld(e){var t=cd((function(t,n){return e(n)}));return function(e){return t(e,void 0)}}function cd(e){return function(t,n){function a(e){return Ju(t=e)&&"string"===typeof t.type&&Object.keys(t).every(ed);var t}var r=function(t){a(n)?e(n.payload,t):e(n,t)};return yc(t)?(r(t),t):gu(t,r)}}function ud(e,t){return t(e)}function dd(e){return Array.isArray(e)||(e=Object.values(e)),e}function pd(e,t,n){for(var a=[],r=[],o=0,i=e=dd(e);o<i.length;o++){var s=i[o],l=ud(s,t);l in n.entities?r.push({id:l,changes:s}):a.push(s)}return[a,r]}function hd(e){function t(t,n){var a=ud(t,e);a in n.entities||(n.ids.push(a),n.entities[a]=t)}function n(e,n){for(var a=0,r=e=dd(e);a<r.length;a++){t(r[a],n)}}function a(t,n){var a=ud(t,e);a in n.entities||n.ids.push(a),n.entities[a]=t}function r(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function o(t,n){var a={},r={};if(t.forEach((function(e){e.id in n.entities&&(r[e.id]={id:e.id,changes:qu(qu({},r[e.id]?r[e.id].changes:null),e.changes)})})),(t=Object.values(r)).length>0){var o=t.filter((function(t){return function(t,n,a){var r=a.entities[n.id],o=Object.assign({},r,n.changes),i=ud(o,e),s=i!==n.id;return s&&(t[n.id]=i,delete a.entities[n.id]),a.entities[i]=o,s}(a,t,n)})).length>0;o&&(n.ids=Object.keys(n.entities))}}function i(t,a){var r=pd(t,e,a),i=r[0];o(r[1],a),n(i,a)}return{removeAll:ld((function(e){Object.assign(e,{ids:[],entities:{}})})),addOne:cd(t),addMany:cd(n),setOne:cd(a),setMany:cd((function(e,t){for(var n=0,r=e=dd(e);n<r.length;n++){a(r[n],t)}})),setAll:cd((function(e,t){e=dd(e),t.ids=[],t.entities={},n(e,t)})),updateOne:cd((function(e,t){return o([e],t)})),updateMany:cd(o),upsertOne:cd((function(e,t){return i([e],t)})),upsertMany:cd(i),removeOne:cd((function(e,t){return r([e],t)})),removeMany:cd(r)}}function fd(e){void 0===e&&(e={});var t=qu({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,a=t.sortComparer,r={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},o={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},a=Yu(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),r=function(e,t){return t},o=function(e,t){return e[t]},i=Yu(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:a,selectTotal:i,selectById:Yu(n,r,o)};var s=Yu(e,n);return{selectIds:Yu(e,t),selectEntities:s,selectAll:Yu(e,a),selectTotal:Yu(e,i),selectById:Yu(s,r,o)}}},i=a?function(e,t){var n=hd(e);function a(t,n){var a=(t=dd(t)).filter((function(t){return!(ud(t,e)in n.entities)}));0!==a.length&&s(a,n)}function r(e,t){0!==(e=dd(e)).length&&s(e,t)}function o(t,n){for(var a=!1,r=0,o=t;r<o.length;r++){var i=o[r],s=n.entities[i.id];if(s){a=!0,Object.assign(s,i.changes);var c=e(s);i.id!==c&&(delete n.entities[i.id],n.entities[c]=s)}}a&&l(n)}function i(t,n){var r=pd(t,e,n),i=r[0];o(r[1],n),a(i,n)}function s(t,n){t.forEach((function(t){n.entities[e(t)]=t})),l(n)}function l(n){var a=Object.values(n.entities);a.sort(t);var r=a.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(n.ids,r)||(n.ids=r)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:cd((function(e,t){return a([e],t)})),updateOne:cd((function(e,t){return o([e],t)})),upsertOne:cd((function(e,t){return i([e],t)})),setOne:cd((function(e,t){return r([e],t)})),setMany:cd(r),setAll:cd((function(e,t){e=dd(e),t.entities={},t.ids=[],a(e,t)})),addMany:cd(a),updateMany:cd(o),upsertMany:cd(i)}}(n,a):hd(n);return qu(qu(qu({selectId:n,sortComparer:a},r),o),i)}var md=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},gd=["name","message","stack","code"],yd=function(e,t){this.payload=e,this.meta=t},vd=function(e,t){this.payload=e,this.meta=t},bd=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,a=gd;n<a.length;n++){var r=a[n];"string"===typeof e[r]&&(t[r]=e[r])}return t}return{message:String(e)}};!function(){function e(e,t,n){var a=Zu(e+"/fulfilled",(function(e,t,n,a){return{payload:e,meta:Xu(qu({},a||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),r=Zu(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Xu(qu({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=Zu(e+"/rejected",(function(e,t,a,r,o){return{payload:r,error:(n&&n.serializeError||bd)(e||"Rejected"),meta:Xu(qu({},o||{}),{arg:a,requestId:t,rejectedWithValue:!!r,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),i="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):md(),p=new i;function h(e){u=e,p.abort()}var f=function(){return Ku(this,null,(function(){var i,f,m,g,y,v;return Lu(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(i=null==n?void 0:n.condition)?void 0:i.call(n,e,{getState:l,extra:c}),null===(x=g)||"object"!==typeof x||"function"!==typeof x.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return p.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),s(r(d,e,null==(f=null==n?void 0:n.getPendingMeta)?void 0:f.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:l,extra:c,requestId:d,signal:p.signal,abort:h,rejectWithValue:function(e,t){return new yd(e,t)},fulfillWithValue:function(e,t){return new vd(e,t)}})).then((function(t){if(t instanceof yd)throw t;return t instanceof vd?a(t.payload,d,e,t.meta):a(t,d,e)}))])];case 3:return m=b.sent(),[3,5];case 4:return v=b.sent(),m=v instanceof yd?o(null,d,e,v.payload,v.meta):o(v,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||s(m),[2,m]}var x}))}))}();return Object.assign(f,{abort:h,requestId:d,arg:e,unwrap:function(){return f.then(xd)}})}}),{pending:r,rejected:o,fulfilled:a,typePrefix:e})}e.withTypes=function(){return e}}();function xd(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var wd="listenerMiddleware";Zu(wd+"/add"),Zu(wd+"/removeAll"),Zu(wd+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var kd,Sd=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Sd(10);$c();const Cd=fd(),Ed=sd({name:"IMAGE_ASSET_LIST",initialState:Cd.setAll(Cd.getInitialState(),[]),reducers:{initialize(e,t){Cd.setAll(e,t.payload)},addItem(e,t){Array.isArray(t.payload)?Cd.addMany(e,t.payload):Cd.addOne(e,t.payload)},updateItem(e,t){Cd.updateOne(e,{id:t.payload.id,changes:t.payload})},removeItem(e,t){Array.isArray(t.payload)?Cd.removeMany(e,t.payload):Cd.removeOne(e,t.payload)}}}),_d=Ed.reducer,Id=Cd.getSelectors((e=>e.imageAssetList)),Nd=Ed.actions,Td=_d,Od=()=>{const e=de(),t=ne(Id.selectAll);return{setImageAsset:async t=>{t.map((t=>e(Nd.addItem({type:t["data-item-type"],id:t.id,name:t.name,src:t.src}))))},getAllImageAsset:()=>t,getImageAssetSrc:e=>{var n,a;return null!==(n=null===(a=t.find((t=>t.id===e)))||void 0===a?void 0:a.src)&&void 0!==n?n:null},reduceImageSize:(e,t,n)=>{va.Image.fromURL(e,(e=>{let a,r;e.width()>e.height()?(a=mc(512),r=mc(a*(e.height()/e.width()))):(r=mc(512),a=mc(r*(e.width()/e.height()))),e.width(a),e.height(r);e.toDataURL({x:0,y:0,width:a,height:r,pixelRatio:1.2});const o=null!==t&&void 0!==t?t:mo();n&&n("find:".concat(o))}))}}},Rd=()=>{const{setImageAsset:e,getAllImageAsset:t}=Od(),{getTranslation:n}=Xl(),[a,r]=(0,B.useState)((()=>t().length?[...t()]:(e(pc),[...pc])));return(0,ni.jsxs)(ws,{className:[As["mx-h-30vh"]].join(" "),children:[(0,ni.jsx)(Ss,{children:(0,ni.jsxs)("h6",{children:[n("widget","image","name"),(0,ni.jsx)(Ts,{className:[Os.transparentDarkColorTheme,hc.none,fc["inline-block"],As.width25,zs.p0,zs.ml1rem,Rs["text-left"]].join(" "),onClick:()=>{const t=new FileReader;t.onload=()=>{r((n=>{const a=[{type:"image",id:mo(),name:"imported image",src:t.result},...n];return e(a),a}))};const n=document.createElement("input");n.type="file",n.accept="image/png, image/jpeg",n.onchange=e=>{const n=e;n.target&&n.target.files&&Object.values(n.target.files).forEach((e=>{t.readAsDataURL(e)}))},n.click()},children:(0,ni.jsx)("i",{className:"bi-plus"})})]})}),(0,ni.jsx)(Ss,{xs:2,children:a.map((e=>{var t;return(0,ni.jsx)(Ad,{data:{id:e.id,src:null!==(t=e.src)&&void 0!==t?t:"find:".concat(e.id),name:e.name,"data-item-type":e.type},maxPx:80},"image-thumbnail-".concat(e.id))}))})]})},Ad=e=>{let{data:{id:t,...n},maxPx:a}=e;const{getImageAssetSrc:r}=Od();return(0,ni.jsxs)(rc,{as:ws,className:[Rs.absoluteCenter,Rs.wrapTrue].join(" "),children:[(0,ni.jsx)(sc,{dragType:"copyMove",dragSrc:{trigger:lc.IMAGE,"data-item-type":n["data-item-type"],src:n.src.startsWith("data:")?n.src:"".concat("/react-image-editor","/assets/image/").concat(n.src)},children:(0,ni.jsx)(rc.Image,{alt:n.name,src:n.src.startsWith("data:")?n.src:"".concat("/react-image-editor","/assets/image/").concat(n.src)})}),(0,ni.jsx)(rc.Caption,{className:[ic.font075em,As.width100,"text-center"].join(" "),children:n.name})]})},Pd=2**31-1;function Fd(e,t,n){const a=n-Date.now();e.current=a<=Pd?setTimeout(t,a):setTimeout((()=>Fd(e,t,n)),Pd)}function Dd(){const e=Go(),t=(0,B.useRef)();return Ao((()=>clearTimeout(t.current))),(0,B.useMemo)((()=>{const n=()=>clearTimeout(t.current);return{set:function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(n(),r<=Pd?t.current=setTimeout(a,r):Fd(t,a,Date.now()+r))},clear:n}}),[])}var Md=n(1024),Ld=n.n(Md),zd=Object.prototype.hasOwnProperty;function jd(e,t,n){for(n of e.keys())if(Bd(n,t))return n}function Bd(e,t){var n,a,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((a=e.length)===t.length)for(;a--&&Bd(e[a],t[a]););return-1===a}if(n===Set){if(e.size!==t.size)return!1;for(a of e){if((r=a)&&"object"===typeof r&&!(r=jd(t,r)))return!1;if(!t.has(r))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(a of e){if((r=a[0])&&"object"===typeof r&&!(r=jd(t,r)))return!1;if(!Bd(a[1],t.get(r)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((a=e.byteLength)===t.byteLength)for(;a--&&e.getInt8(a)===t.getInt8(a););return-1===a}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===t.byteLength)for(;a--&&e[a]===t[a];);return-1===a}if(!n||"object"===typeof e){for(n in a=0,e){if(zd.call(e,n)&&++a&&!zd.call(t,n))return!1;if(!(n in t)||!Bd(e[n],t[n]))return!1}return Object.keys(t).length===a}}return e!==e&&t!==t}const Wd=function(e){const t=Go();return[e[0],(0,B.useCallback)((n=>{if(t())return e[1](n)}),[t,e[1]])]};function Vd(e){return e.split("-")[0]}function Ud(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Gd(e){return e instanceof Ud(e).Element||e instanceof Element}function Hd(e){return e instanceof Ud(e).HTMLElement||e instanceof HTMLElement}function qd(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Ud(e).ShadowRoot||e instanceof ShadowRoot)}var Xd=Math.max,Kd=Math.min,Yd=Math.round;function Qd(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function $d(){return!/^((?!chrome|android).)*safari/i.test(Qd())}function Zd(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),r=1,o=1;t&&Hd(e)&&(r=e.offsetWidth>0&&Yd(a.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Yd(a.height)/e.offsetHeight||1);var i=(Gd(e)?Ud(e):window).visualViewport,s=!$d()&&n,l=(a.left+(s&&i?i.offsetLeft:0))/r,c=(a.top+(s&&i?i.offsetTop:0))/o,u=a.width/r,d=a.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function Jd(e){var t=Zd(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function ep(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&qd(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function tp(e){return e?(e.nodeName||"").toLowerCase():null}function np(e){return Ud(e).getComputedStyle(e)}function ap(e){return["table","td","th"].indexOf(tp(e))>=0}function rp(e){return((Gd(e)?e.ownerDocument:e.document)||window.document).documentElement}function op(e){return"html"===tp(e)?e:e.assignedSlot||e.parentNode||(qd(e)?e.host:null)||rp(e)}function ip(e){return Hd(e)&&"fixed"!==np(e).position?e.offsetParent:null}function sp(e){for(var t=Ud(e),n=ip(e);n&&ap(n)&&"static"===np(n).position;)n=ip(n);return n&&("html"===tp(n)||"body"===tp(n)&&"static"===np(n).position)?t:n||function(e){var t=/firefox/i.test(Qd());if(/Trident/i.test(Qd())&&Hd(e)&&"fixed"===np(e).position)return null;var n=op(e);for(qd(n)&&(n=n.host);Hd(n)&&["html","body"].indexOf(tp(n))<0;){var a=np(n);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return n;n=n.parentNode}return null}(e)||t}function lp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function cp(e,t,n){return Xd(e,Kd(t,n))}function up(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function dp(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var pp="top",hp="bottom",fp="right",mp="left",gp="auto",yp=[pp,hp,fp,mp],vp="start",bp="end",xp="clippingParents",wp="viewport",kp="popper",Sp="reference",Cp=yp.reduce((function(e,t){return e.concat([t+"-"+vp,t+"-"+bp])}),[]),Ep=[].concat(yp,[gp]).reduce((function(e,t){return e.concat([t,t+"-"+vp,t+"-"+bp])}),[]),_p=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const Ip={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,r=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,s=Vd(n.placement),l=lp(s),c=[mp,fp].indexOf(s)>=0?"height":"width";if(o&&i){var u=function(e,t){return up("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:dp(e,yp))}(r.padding,n),d=Jd(o),p="y"===l?pp:mp,h="y"===l?hp:fp,f=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],m=i[l]-n.rects.reference[l],g=sp(o),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=f/2-m/2,b=u[p],x=y-d[c]-u[h],w=y/2-d[c]/2+v,k=cp(b,w,x),S=l;n.modifiersData[a]=((t={})[S]=k,t.centerOffset=k-w,t)}},effect:function(e){var t=e.state,n=e.options.element,a=void 0===n?"[data-popper-arrow]":n;null!=a&&("string"!==typeof a||(a=t.elements.popper.querySelector(a)))&&ep(t.elements.popper,a)&&(t.elements.arrow=a)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Np(e){return e.split("-")[1]}var Tp={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Op(e){var t,n=e.popper,a=e.popperRect,r=e.placement,o=e.variation,i=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=i.x,h=void 0===p?0:p,f=i.y,m=void 0===f?0:f,g="function"===typeof u?u({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var y=i.hasOwnProperty("x"),v=i.hasOwnProperty("y"),b=mp,x=pp,w=window;if(c){var k=sp(n),S="clientHeight",C="clientWidth";if(k===Ud(n)&&"static"!==np(k=rp(n)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth"),r===pp||(r===mp||r===fp)&&o===bp)x=hp,m-=(d&&k===w&&w.visualViewport?w.visualViewport.height:k[S])-a.height,m*=l?1:-1;if(r===mp||(r===pp||r===hp)&&o===bp)b=fp,h-=(d&&k===w&&w.visualViewport?w.visualViewport.width:k[C])-a.width,h*=l?1:-1}var E,_=Object.assign({position:s},c&&Tp),I=!0===u?function(e,t){var n=e.x,a=e.y,r=t.devicePixelRatio||1;return{x:Yd(n*r)/r||0,y:Yd(a*r)/r||0}}({x:h,y:m},Ud(n)):{x:h,y:m};return h=I.x,m=I.y,l?Object.assign({},_,((E={})[x]=v?"0":"",E[b]=y?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",E)):Object.assign({},_,((t={})[x]=v?m+"px":"",t[b]=y?h+"px":"",t.transform="",t))}const Rp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,a=n.gpuAcceleration,r=void 0===a||a,o=n.adaptive,i=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:Vd(t.placement),variation:Np(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Op(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Op(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Ap={passive:!0};const Pp={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,a=e.options,r=a.scroll,o=void 0===r||r,i=a.resize,s=void 0===i||i,l=Ud(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Ap)})),s&&l.addEventListener("resize",n.update,Ap),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Ap)})),s&&l.removeEventListener("resize",n.update,Ap)}},data:{}};var Fp={left:"right",right:"left",bottom:"top",top:"bottom"};function Dp(e){return e.replace(/left|right|bottom|top/g,(function(e){return Fp[e]}))}var Mp={start:"end",end:"start"};function Lp(e){return e.replace(/start|end/g,(function(e){return Mp[e]}))}function zp(e){var t=Ud(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function jp(e){return Zd(rp(e)).left+zp(e).scrollLeft}function Bp(e){var t=np(e),n=t.overflow,a=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+a)}function Wp(e){return["html","body","#document"].indexOf(tp(e))>=0?e.ownerDocument.body:Hd(e)&&Bp(e)?e:Wp(op(e))}function Vp(e,t){var n;void 0===t&&(t=[]);var a=Wp(e),r=a===(null==(n=e.ownerDocument)?void 0:n.body),o=Ud(a),i=r?[o].concat(o.visualViewport||[],Bp(a)?a:[]):a,s=t.concat(i);return r?s:s.concat(Vp(op(i)))}function Up(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Gp(e,t,n){return t===wp?Up(function(e,t){var n=Ud(e),a=rp(e),r=n.visualViewport,o=a.clientWidth,i=a.clientHeight,s=0,l=0;if(r){o=r.width,i=r.height;var c=$d();(c||!c&&"fixed"===t)&&(s=r.offsetLeft,l=r.offsetTop)}return{width:o,height:i,x:s+jp(e),y:l}}(e,n)):Gd(t)?function(e,t){var n=Zd(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Up(function(e){var t,n=rp(e),a=zp(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=Xd(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),i=Xd(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-a.scrollLeft+jp(e),l=-a.scrollTop;return"rtl"===np(r||n).direction&&(s+=Xd(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:i,x:s,y:l}}(rp(e)))}function Hp(e,t,n,a){var r="clippingParents"===t?function(e){var t=Vp(op(e)),n=["absolute","fixed"].indexOf(np(e).position)>=0&&Hd(e)?sp(e):e;return Gd(n)?t.filter((function(e){return Gd(e)&&ep(e,n)&&"body"!==tp(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],s=o.reduce((function(t,n){var r=Gp(e,n,a);return t.top=Xd(r.top,t.top),t.right=Kd(r.right,t.right),t.bottom=Kd(r.bottom,t.bottom),t.left=Xd(r.left,t.left),t}),Gp(e,i,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function qp(e){var t,n=e.reference,a=e.element,r=e.placement,o=r?Vd(r):null,i=r?Np(r):null,s=n.x+n.width/2-a.width/2,l=n.y+n.height/2-a.height/2;switch(o){case pp:t={x:s,y:n.y-a.height};break;case hp:t={x:s,y:n.y+n.height};break;case fp:t={x:n.x+n.width,y:l};break;case mp:t={x:n.x-a.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?lp(o):null;if(null!=c){var u="y"===c?"height":"width";switch(i){case vp:t[c]=t[c]-(n[u]/2-a[u]/2);break;case bp:t[c]=t[c]+(n[u]/2-a[u]/2)}}return t}function Xp(e,t){void 0===t&&(t={});var n=t,a=n.placement,r=void 0===a?e.placement:a,o=n.strategy,i=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?xp:s,c=n.rootBoundary,u=void 0===c?wp:c,d=n.elementContext,p=void 0===d?kp:d,h=n.altBoundary,f=void 0!==h&&h,m=n.padding,g=void 0===m?0:m,y=up("number"!==typeof g?g:dp(g,yp)),v=p===kp?Sp:kp,b=e.rects.popper,x=e.elements[f?v:p],w=Hp(Gd(x)?x:x.contextElement||rp(e.elements.popper),l,u,i),k=Zd(e.elements.reference),S=qp({reference:k,element:b,strategy:"absolute",placement:r}),C=Up(Object.assign({},b,S)),E=p===kp?C:k,_={top:w.top-E.top+y.top,bottom:E.bottom-w.bottom+y.bottom,left:w.left-E.left+y.left,right:E.right-w.right+y.right},I=e.modifiersData.offset;if(p===kp&&I){var N=I[r];Object.keys(_).forEach((function(e){var t=[fp,hp].indexOf(e)>=0?1:-1,n=[pp,hp].indexOf(e)>=0?"y":"x";_[e]+=N[n]*t}))}return _}const Kp={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var r=n.mainAxis,o=void 0===r||r,i=n.altAxis,s=void 0===i||i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,y=Vd(g),v=l||(y===g||!f?[Dp(g)]:function(e){if(Vd(e)===gp)return[];var t=Dp(e);return[Lp(e),t,Lp(t)]}(g)),b=[g].concat(v).reduce((function(e,n){return e.concat(Vd(n)===gp?function(e,t){void 0===t&&(t={});var n=t,a=n.placement,r=n.boundary,o=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Ep:l,u=Np(a),d=u?s?Cp:Cp.filter((function(e){return Np(e)===u})):yp,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,n){return t[n]=Xp(e,{placement:n,boundary:r,rootBoundary:o,padding:i})[Vd(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,k=new Map,S=!0,C=b[0],E=0;E<b.length;E++){var _=b[E],I=Vd(_),N=Np(_)===vp,T=[pp,hp].indexOf(I)>=0,O=T?"width":"height",R=Xp(t,{placement:_,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),A=T?N?fp:mp:N?hp:pp;x[O]>w[O]&&(A=Dp(A));var P=Dp(A),F=[];if(o&&F.push(R[I]<=0),s&&F.push(R[A]<=0,R[P]<=0),F.every((function(e){return e}))){C=_,S=!1;break}k.set(_,F)}if(S)for(var D=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},M=f?3:1;M>0;M--){if("break"===D(M))break}t.placement!==C&&(t.modifiersData[a]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Yp(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Qp(e){return[pp,fp,hp,mp].some((function(t){return e[t]>=0}))}const $p={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,a=e.name,r=n.offset,o=void 0===r?[0,0]:r,i=Ep.reduce((function(e,n){return e[n]=function(e,t,n){var a=Vd(e),r=[mp,pp].indexOf(a)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=o[0],s=o[1];return i=i||0,s=(s||0)*r,[mp,fp].indexOf(a)>=0?{x:s,y:i}:{x:i,y:s}}(n,t.rects,o),e}),{}),s=i[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[a]=i}};const Zp={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,r=n.mainAxis,o=void 0===r||r,i=n.altAxis,s=void 0!==i&&i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,g=Xp(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Vd(t.placement),v=Np(t.placement),b=!v,x=lp(y),w="x"===x?"y":"x",k=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,E="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,_="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(k){if(o){var T,O="y"===x?pp:mp,R="y"===x?hp:fp,A="y"===x?"height":"width",P=k[x],F=P+g[O],D=P-g[R],M=h?-C[A]/2:0,L=v===vp?S[A]:C[A],z=v===vp?-C[A]:-S[A],j=t.elements.arrow,B=h&&j?Jd(j):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=W[O],U=W[R],G=cp(0,S[A],B[A]),H=b?S[A]/2-M-G-V-_.mainAxis:L-G-V-_.mainAxis,q=b?-S[A]/2+M+G+U+_.mainAxis:z+G+U+_.mainAxis,X=t.elements.arrow&&sp(t.elements.arrow),K=X?"y"===x?X.clientTop||0:X.clientLeft||0:0,Y=null!=(T=null==I?void 0:I[x])?T:0,Q=P+q-Y,$=cp(h?Kd(F,P+H-Y-K):F,P,h?Xd(D,Q):D);k[x]=$,N[x]=$-P}if(s){var Z,J="x"===x?pp:mp,ee="x"===x?hp:fp,te=k[w],ne="y"===w?"height":"width",ae=te+g[J],re=te-g[ee],oe=-1!==[pp,mp].indexOf(y),ie=null!=(Z=null==I?void 0:I[w])?Z:0,se=oe?ae:te-S[ne]-C[ne]-ie+_.altAxis,le=oe?te+S[ne]+C[ne]-ie-_.altAxis:re,ce=h&&oe?function(e,t,n){var a=cp(e,t,n);return a>n?n:a}(se,te,le):cp(h?se:ae,te,h?le:re);k[w]=ce,N[w]=ce-te}t.modifiersData[a]=N}},requiresIfExists:["offset"]};function Jp(e,t,n){void 0===n&&(n=!1);var a=Hd(t),r=Hd(t)&&function(e){var t=e.getBoundingClientRect(),n=Yd(t.width)/e.offsetWidth||1,a=Yd(t.height)/e.offsetHeight||1;return 1!==n||1!==a}(t),o=rp(t),i=Zd(e,r,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(a||!a&&!n)&&(("body"!==tp(t)||Bp(o))&&(s=function(e){return e!==Ud(e)&&Hd(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:zp(e);var t}(t)),Hd(t)?((l=Zd(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=jp(o))),{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function eh(e){var t=new Map,n=new Set,a=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var a=t.get(e);a&&r(a)}})),a.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),a}function th(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var nh={placement:"bottom",modifiers:[],strategy:"absolute"};function ah(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function rh(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,a=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?nh:r;return function(e,t,n){void 0===n&&(n=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},nh,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],s=!1,l={state:r,setOptions:function(n){var s="function"===typeof n?n(r.options):n;c(),r.options=Object.assign({},o,r.options,s),r.scrollParents={reference:Gd(e)?Vp(e):e.contextElement?Vp(e.contextElement):[],popper:Vp(t)};var u=function(e){var t=eh(e);return _p.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(a,r.options.modifiers)));return r.orderedModifiers=u.filter((function(e){return e.enabled})),r.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,a=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:r,name:t,instance:l,options:a}),c=function(){};i.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=r.elements,t=e.reference,n=e.popper;if(ah(t,n)){r.rects={reference:Jp(t,sp(n),"fixed"===r.options.strategy),popper:Jd(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var a=0;a<r.orderedModifiers.length;a++)if(!0!==r.reset){var o=r.orderedModifiers[a],i=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof i&&(r=i({state:r,options:u,name:d,instance:l})||r)}else r.reset=!1,a=-1}}},update:th((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){c(),s=!0}};if(!ah(e,t))return l;function c(){i.forEach((function(e){return e()})),i=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}const oh=rh({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,a=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,i=Xp(t,{elementContext:"reference"}),s=Xp(t,{altBoundary:!0}),l=Yp(i,a),c=Yp(s,r,o),u=Qp(l),d=Qp(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=qp({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Rp,Pp,$p,Kp,Zp,Ip]}),ih=["enabled","placement","strategy","modifiers"];const sh={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},lh={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:a,reference:r}=t.elements,o=null==(n=a.getAttribute("role"))?void 0:n.toLowerCase();if(a.id&&"tooltip"===o&&"setAttribute"in r){const e=r.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(a.id))return;r.setAttribute("aria-describedby",e?"".concat(e,",").concat(a.id):a.id)}}},ch=[];const uh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:a=!0,placement:r="bottom",strategy:o="absolute",modifiers:i=ch}=n,s=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(n,ih);const l=(0,B.useRef)(i),c=(0,B.useRef)(),u=(0,B.useCallback)((()=>{var e;null==(e=c.current)||e.update()}),[]),d=(0,B.useCallback)((()=>{var e;null==(e=c.current)||e.forceUpdate()}),[]),[p,h]=Wd((0,B.useState)({placement:r,update:u,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),f=(0,B.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},a={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],a[e]=t.attributes[e]})),h({state:t,styles:n,attributes:a,update:u,forceUpdate:d,placement:t.placement})}})),[u,d,h]),m=(0,B.useMemo)((()=>(Bd(l.current,i)||(l.current=i),l.current)),[i]);return(0,B.useEffect)((()=>{c.current&&a&&c.current.setOptions({placement:r,strategy:o,modifiers:[...m,f,sh]})}),[o,r,f,a,m]),(0,B.useEffect)((()=>{if(a&&null!=e&&null!=t)return c.current=oh(e,t,Object.assign({},s,{placement:r,strategy:o,modifiers:[...m,lh,f]})),()=>{null!=c.current&&(c.current.destroy(),c.current=void 0,h((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[a,e,t]),p},dh=()=>{};const ph=e=>e&&("current"in e?e.current:e),hh={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const fh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dh,{disabled:n,clickTrigger:a="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(0,B.useRef)(!1),o=(0,B.useRef)(!1),i=(0,B.useCallback)((t=>{const n=ph(e);var a;Ld()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!n||!!((a=t).metaKey||a.altKey||a.ctrlKey||a.shiftKey)||!function(e){return 0===e.button}(t)||!!Uo(n,t.target)||o.current,o.current=!1}),[e]),s=To((t=>{const n=ph(e);n&&Uo(n,t.target)&&(o.current=!0)})),l=To((e=>{r.current||t(e)}));(0,B.useEffect)((()=>{var t,r;if(n||null==e)return;const o=So(ph(e)),c=o.defaultView||window;let u=null!=(t=c.event)?t:null==(r=c.parent)?void 0:r.event,d=null;hh[a]&&(d=jo(o,hh[a],s,!0));const p=jo(o,a,i,!0),h=jo(o,a,(e=>{e!==u?l(e):u=void 0}));let f=[];return"ontouchstart"in o.documentElement&&(f=[].slice.call(o.body.children).map((e=>jo(e,"mousemove",dh)))),()=>{null==d||d(),p(),h(),f.forEach((e=>e()))}}),[e,n,a,i,s,l])},mh=()=>{};const gh=function(e,t){let{disabled:n,clickTrigger:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t||mh;fh(e,r,{disabled:n,clickTrigger:a});const o=To((e=>{oi(e)&&r(e)}));(0,B.useEffect)((()=>{if(n||null==e)return;const t=So(ph(e));let a=(t.defaultView||window).event;const r=jo(t,"keyup",(e=>{e!==a?o(e):a=void 0}));return()=>{r()}}),[e,n,o])};function yh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function vh(e){let{enabled:t,enableEvents:n,placement:a,flip:r,offset:o,fixed:i,containerPadding:s,arrowElement:l,popperConfig:c={}}=e;var u,d,p,h,f;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(c.modifiers);return Object.assign({},c,{placement:a,enabled:t,strategy:i?"fixed":c.strategy,modifiers:yh(Object.assign({},m,{eventListeners:{enabled:n,options:null==(u=m.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},m.preventOverflow,{options:s?Object.assign({padding:s},null==(d=m.preventOverflow)?void 0:d.options):null==(p=m.preventOverflow)?void 0:p.options}),offset:{options:Object.assign({offset:o},null==(h=m.offset)?void 0:h.options)},arrow:Object.assign({},m.arrow,{enabled:!!l,options:Object.assign({},null==(f=m.arrow)?void 0:f.options,{element:l})}),flip:Object.assign({enabled:!!r},m.flip)}))})}const bh=B.forwardRef(((e,t)=>{const{flip:n,offset:a,placement:r,containerPadding:o,popperConfig:i={},transition:s,runTransition:l}=e,[c,u]=Io(),[d,p]=Io(),h=Ro(u,t),f=Zo(e.container),m=Zo(e.target),[g,y]=(0,B.useState)(!e.show),v=uh(m,c,vh({placement:r,enableEvents:!!e.show,containerPadding:o||5,flip:n,offset:a,arrowElement:d,popperConfig:i}));e.show&&g&&y(!1);const b=e.show||!g;if(gh(c,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!b)return null;const{onExit:x,onExiting:w,onEnter:k,onEntering:S,onEntered:C}=e;let E=e.children(Object.assign({},v.attributes.popper,{style:v.styles.popper,ref:h}),{popper:v,placement:r,show:!!e.show,arrowProps:Object.assign({},v.attributes.arrow,{style:v.styles.arrow,ref:p})});return E=ri(s,l,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:E,onExit:x,onExiting:w,onExited:function(){y(!0),e.onExited&&e.onExited(...arguments)},onEnter:k,onEntering:S,onEntered:C}),f?G.createPortal(E,f):null}));bh.displayName="Overlay";const xh=bh,wh=B.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=qi(a,"popover-header"),(0,ni.jsx)(r,{ref:t,className:yo()(n,a),...o})}));wh.displayName="PopoverHeader";const kh=wh,Sh=B.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=qi(a,"popover-body"),(0,ni.jsx)(r,{ref:t,className:yo()(n,a),...o})}));Sh.displayName="PopoverBody";const Ch=Sh;B.Component;function Eh(e,t){let n=e;return"left"===e?n=t?"end":"start":"right"===e&&(n=t?"start":"end"),n}function _h(){return{position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"absolute",top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Ih=B.forwardRef(((e,t)=>{let{bsPrefix:n,placement:a="right",className:r,style:o,children:i,body:s,arrowProps:l,hasDoneInitialMeasure:c,popper:u,show:d,...p}=e;const h=qi(n,"popover"),f=Yi(),[m]=(null==a?void 0:a.split("-"))||[],g=Eh(m,f);let y=o;return d&&!c&&(y={...o,..._h(null==u?void 0:u.strategy)}),(0,ni.jsxs)("div",{ref:t,role:"tooltip",style:y,"x-placement":m,className:yo()(r,h,m&&"bs-popover-".concat(g)),...p,children:[(0,ni.jsx)("div",{className:"popover-arrow",...l}),s?(0,ni.jsx)(Ch,{children:i}):i]})})),Nh=Object.assign(Ih,{Header:kh,Body:Ch,POPPER_OFFSET:[0,8]}),Th=B.forwardRef(((e,t)=>{let{bsPrefix:n,placement:a="right",className:r,style:o,children:i,arrowProps:s,hasDoneInitialMeasure:l,popper:c,show:u,...d}=e;n=qi(n,"tooltip");const p=Yi(),[h]=(null==a?void 0:a.split("-"))||[],f=Eh(h,p);let m=o;return u&&!l&&(m={...o,..._h(null==c?void 0:c.strategy)}),(0,ni.jsxs)("div",{ref:t,style:m,role:"tooltip","x-placement":h,className:yo()(r,n,"bs-tooltip-".concat(f)),...d,children:[(0,ni.jsx)("div",{className:"tooltip-arrow",...s}),(0,ni.jsx)("div",{className:"".concat(n,"-inner"),children:i})]})}));Th.displayName="Tooltip";const Oh=Object.assign(Th,{TOOLTIP_OFFSET:[0,6]});const Rh=B.forwardRef(((e,t)=>{let{children:n,transition:a=Bi,popperConfig:r={},rootClose:o=!1,placement:i="top",show:s=!1,...l}=e;const c=(0,B.useRef)({}),[u,d]=(0,B.useState)(null),[p,h]=function(e){const t=(0,B.useRef)(null),n=qi(void 0,"popover"),a=qi(void 0,"tooltip"),r=(0,B.useMemo)((()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(di(t.current,n))return Nh.POPPER_OFFSET;if(di(t.current,a))return Oh.TOOLTIP_OFFSET}return[0,0]}}})),[e,n,a]);return[t,[r]]}(l.offset),f=Ro(t,p),m=!0===a?Bi:a||void 0,g=To((e=>{d(e),null==r||null==r.onFirstUpdate||r.onFirstUpdate(e)}));return ei((()=>{u&&l.target&&(null==c.current.scheduleUpdate||c.current.scheduleUpdate())}),[u,l.target]),(0,B.useEffect)((()=>{s||d(null)}),[s]),(0,ni.jsx)(xh,{...l,ref:f,popperConfig:{...r,modifiers:h.concat(r.modifiers||[]),onFirstUpdate:g},transition:m,rootClose:o,placement:i,show:s,children:(e,t)=>{let{arrowProps:o,popper:i,show:s}=t;var l,d;!function(e,t){const{ref:n}=e,{ref:a}=t;e.ref=n.__wrapped||(n.__wrapped=e=>n(Di(e))),t.ref=a.__wrapped||(a.__wrapped=e=>a(Di(e)))}(e,o);const p=null==i?void 0:i.placement,h=Object.assign(c.current,{state:null==i?void 0:i.state,scheduleUpdate:null==i?void 0:i.update,placement:p,outOfBoundaries:(null==i||null==(l=i.state)||null==(d=l.modifiersData.hide)?void 0:d.isReferenceHidden)||!1,strategy:r.strategy}),f=!!u;return"function"===typeof n?n({...e,placement:p,show:s,...!a&&s&&{className:"show"},popper:h,arrowProps:o,hasDoneInitialMeasure:f}):B.cloneElement(n,{...e,placement:p,arrowProps:o,popper:h,hasDoneInitialMeasure:f,className:yo()(n.props.className,!a&&s&&"show"),style:{...n.props.style,...e.style}})}})}));Rh.displayName="Overlay";const Ah=Rh;function Ph(e,t,n){const[a]=t,r=a.currentTarget,o=a.relatedTarget||a.nativeEvent[n];o&&o===r||Uo(r,o)||e(...t)}rs().oneOf(["click","hover","focus"]);const Fh=e=>{let{trigger:t=["hover","focus"],overlay:n,children:a,popperConfig:r={},show:o,defaultShow:i=!1,onToggle:s,delay:l,placement:c,flip:u=c&&-1!==c.indexOf("auto"),...d}=e;const p=(0,B.useRef)(null),h=Ro(p,a.ref),f=Dd(),m=(0,B.useRef)(""),[g,y]=Gs(o,i,s),v=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(l),{onFocus:b,onBlur:x,onClick:w}="function"!==typeof a?B.Children.only(a).props:{},k=(0,B.useCallback)((()=>{f.clear(),m.current="show",v.show?f.set((()=>{"show"===m.current&&y(!0)}),v.show):y(!0)}),[v.show,y,f]),S=(0,B.useCallback)((()=>{f.clear(),m.current="hide",v.hide?f.set((()=>{"hide"===m.current&&y(!1)}),v.hide):y(!1)}),[v.hide,y,f]),C=(0,B.useCallback)((function(){k(),null==b||b(...arguments)}),[k,b]),E=(0,B.useCallback)((function(){S(),null==x||x(...arguments)}),[S,x]),_=(0,B.useCallback)((function(){y(!g),null==w||w(...arguments)}),[w,y,g]),I=(0,B.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ph(k,t,"fromElement")}),[k]),N=(0,B.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ph(S,t,"toElement")}),[S]),T=null==t?[]:[].concat(t),O={ref:e=>{h(Di(e))}};return-1!==T.indexOf("click")&&(O.onClick=_),-1!==T.indexOf("focus")&&(O.onFocus=C,O.onBlur=E),-1!==T.indexOf("hover")&&(O.onMouseOver=I,O.onMouseOut=N),(0,ni.jsxs)(ni.Fragment,{children:["function"===typeof a?a(O):(0,B.cloneElement)(a,O),(0,ni.jsx)(Ah,{...d,show:g,onHide:S,flip:u,placement:c,popperConfig:r,target:p.current,children:n})]})},Dh={type:rs().string,tooltip:rs().bool,as:rs().elementType},Mh=B.forwardRef(((e,t)=>{let{as:n="div",className:a,type:r="valid",tooltip:o=!1,...i}=e;return(0,ni.jsx)(n,{...i,ref:t,className:yo()(a,"".concat(r,"-").concat(o?"tooltip":"feedback"))})}));Mh.displayName="Feedback",Mh.propTypes=Dh;const Lh=Mh,zh=B.createContext({}),jh=B.forwardRef(((e,t)=>{let{id:n,bsPrefix:a,className:r,type:o="checkbox",isValid:i=!1,isInvalid:s=!1,as:l="input",...c}=e;const{controlId:u}=(0,B.useContext)(zh);return a=qi(a,"form-check-input"),(0,ni.jsx)(l,{...c,ref:t,type:o,id:n||u,className:yo()(r,a,i&&"is-valid",s&&"is-invalid")})}));jh.displayName="FormCheckInput";const Bh=jh,Wh=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,htmlFor:r,...o}=e;const{controlId:i}=(0,B.useContext)(zh);return n=qi(n,"form-check-label"),(0,ni.jsx)("label",{...o,ref:t,htmlFor:r||i,className:yo()(a,n)})}));Wh.displayName="FormCheckLabel";const Vh=Wh;const Uh=B.forwardRef(((e,t)=>{let{id:n,bsPrefix:a,bsSwitchPrefix:r,inline:o=!1,reverse:i=!1,disabled:s=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:u=!1,feedback:d,feedbackType:p,className:h,style:f,title:m="",type:g="checkbox",label:y,children:v,as:b="input",...x}=e;a=qi(a,"form-check"),r=qi(r,"form-switch");const{controlId:w}=(0,B.useContext)(zh),k=(0,B.useMemo)((()=>({controlId:n||w})),[w,n]),S=!v&&null!=y&&!1!==y||function(e,t){return B.Children.toArray(e).some((e=>B.isValidElement(e)&&e.type===t))}(v,Vh),C=(0,ni.jsx)(Bh,{...x,type:"switch"===g?"checkbox":g,ref:t,isValid:l,isInvalid:c,disabled:s,as:b});return(0,ni.jsx)(zh.Provider,{value:k,children:(0,ni.jsx)("div",{style:f,className:yo()(h,S&&a,o&&"".concat(a,"-inline"),i&&"".concat(a,"-reverse"),"switch"===g&&r),children:v||(0,ni.jsxs)(ni.Fragment,{children:[C,S&&(0,ni.jsx)(Vh,{title:m,children:y}),d&&(0,ni.jsx)(Lh,{type:p,tooltip:u,children:d})]})})})}));Uh.displayName="FormCheck";const Gh=Object.assign(Uh,{Input:Bh,Label:Vh}),Hh=B.forwardRef(((e,t)=>{let{bsPrefix:n,type:a,size:r,htmlSize:o,id:i,className:s,isValid:l=!1,isInvalid:c=!1,plaintext:u,readOnly:d,as:p="input",...h}=e;const{controlId:f}=(0,B.useContext)(zh);return n=qi(n,"form-control"),(0,ni.jsx)(p,{...h,type:a,size:o,ref:t,readOnly:d,id:i||f,className:yo()(s,u?"".concat(n,"-plaintext"):n,r&&"".concat(n,"-").concat(r),"color"===a&&"".concat(n,"-color"),l&&"is-valid",c&&"is-invalid")})}));Hh.displayName="FormControl";const qh=Object.assign(Hh,{Feedback:Lh}),Xh=B.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=qi(a,"form-floating"),(0,ni.jsx)(r,{ref:t,className:yo()(n,a),...o})}));Xh.displayName="FormFloating";const Kh=Xh,Yh=B.forwardRef(((e,t)=>{let{controlId:n,as:a="div",...r}=e;const o=(0,B.useMemo)((()=>({controlId:n})),[n]);return(0,ni.jsx)(zh.Provider,{value:o,children:(0,ni.jsx)(a,{...r,ref:t})})}));Yh.displayName="FormGroup";const Qh=Yh,$h=B.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:a,column:r=!1,visuallyHidden:o=!1,className:i,htmlFor:s,...l}=e;const{controlId:c}=(0,B.useContext)(zh);a=qi(a,"form-label");let u="col-form-label";"string"===typeof r&&(u="".concat(u," ").concat(u,"-").concat(r));const d=yo()(i,a,o&&"visually-hidden",r&&u);return s=s||c,r?(0,ni.jsx)(ws,{ref:t,as:"label",className:d,htmlFor:s,...l}):(0,ni.jsx)(n,{ref:t,className:d,htmlFor:s,...l})}));$h.displayName="FormLabel";const Zh=$h,Jh=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,id:r,...o}=e;const{controlId:i}=(0,B.useContext)(zh);return n=qi(n,"form-range"),(0,ni.jsx)("input",{...o,type:"range",ref:t,className:yo()(a,n),id:r||i})}));Jh.displayName="FormRange";const ef=Jh,tf=B.forwardRef(((e,t)=>{let{bsPrefix:n,size:a,htmlSize:r,className:o,isValid:i=!1,isInvalid:s=!1,id:l,...c}=e;const{controlId:u}=(0,B.useContext)(zh);return n=qi(n,"form-select"),(0,ni.jsx)("select",{...c,size:r,ref:t,className:yo()(o,n,a&&"".concat(n,"-").concat(a),i&&"is-valid",s&&"is-invalid"),id:l||u})}));tf.displayName="FormSelect";const nf=tf,af=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:r="small",muted:o,...i}=e;return n=qi(n,"form-text"),(0,ni.jsx)(r,{...i,ref:t,className:yo()(a,n,o&&"text-muted")})}));af.displayName="FormText";const rf=af,of=B.forwardRef(((e,t)=>(0,ni.jsx)(Gh,{...e,ref:t,type:"switch"})));of.displayName="Switch";const sf=Object.assign(of,{Input:Gh.Input,Label:Gh.Label}),lf=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,children:r,controlId:o,label:i,...s}=e;return n=qi(n,"form-floating"),(0,ni.jsxs)(Qh,{ref:t,className:yo()(a,n),controlId:o,...s,children:[r,(0,ni.jsx)("label",{htmlFor:o,children:i})]})}));lf.displayName="FloatingLabel";const cf=lf,uf={_ref:rs().any,validated:rs().bool,as:rs().elementType},df=B.forwardRef(((e,t)=>{let{className:n,validated:a,as:r="form",...o}=e;return(0,ni.jsx)(r,{...o,ref:t,className:yo()(n,a&&"was-validated")})}));df.displayName="Form",df.propTypes=uf;const pf=Object.assign(df,{Group:Qh,Control:qh,Floating:Kh,Check:Gh,Switch:sf,Label:Zh,Text:rf,Range:ef,Select:nf,FloatingLabel:cf});var hf=n(3895),ff=n.n(hf),mf=n(9584),gf={},yf=function(e,t,n,a){var r=e+"-"+t+"-"+n+(a?"-server":"");if(gf[r])return gf[r];var o=function(e,t,n,a){if("undefined"===typeof document&&!a)return null;var r=a?new a:document.createElement("canvas");r.width=2*n,r.height=2*n;var o=r.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,r.width,r.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),r.toDataURL()):null}(e,t,n,a);return gf[r]=o,o},vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bf=function(e){var t=e.white,n=e.grey,a=e.size,r=e.renderers,o=e.borderRadius,i=e.boxShadow,s=e.children,l=(0,mf.ZP)({default:{grid:{borderRadius:o,boxShadow:i,absolute:"0px 0px 0px 0px",background:"url("+yf(t,n,a,r.canvas)+") center left"}}});return(0,B.isValidElement)(s)?B.cloneElement(s,vf({},s.props,{style:vf({},s.props.style,l.grid)})):B.createElement("div",{style:l.grid})};bf.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};const xf=bf;var wf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kf=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Sf(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Cf=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Sf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleChange=function(e){var t=function(e,t,n,a,r){var o=r.clientWidth,i=r.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d=void 0;if(d=u<0?0:u>i?1:Math.round(100*u/i)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var p=void 0;if(a!==(p=c<0?0:c>o?1:Math.round(100*c/o)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}(e,a.props.hsl,a.props.direction,a.props.a,a.container);t&&"function"===typeof a.props.onChange&&a.props.onChange(t,e)},a.handleMouseDown=function(e){a.handleChange(e),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleChange),window.removeEventListener("mouseup",a.handleMouseUp)},Sf(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),kf(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,mf.ZP)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:wf({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return B.createElement("div",{style:n.alpha},B.createElement("div",{style:n.checkboard},B.createElement(xf,{renderers:this.props.renderers})),B.createElement("div",{style:n.gradient}),B.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},B.createElement("div",{style:n.pointer},this.props.pointer?B.createElement(this.props.pointer,this.props):B.createElement("div",{style:n.slider}))))}}]),t}(B.PureComponent||B.Component);const Ef=Cf;var _f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var If=[38,40],Nf=1,Tf=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,a=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(a)&&(t=e.keyCode,If.indexOf(t)>-1)){var r=n.getArrowOffset(),o=38===e.keyCode?a+r:a-r;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+Nf++,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_f(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,mf.ZP)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return B.createElement("div",{style:t.wrap},B.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?B.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(B.PureComponent||B.Component);const Of=Tf;var Rf=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Af(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Pf=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Af(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleChange=function(e){var t=function(e,t,n,a){var r=a.clientWidth,o=a.clientHeight,i="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(a.getBoundingClientRect().left+window.pageXOffset),c=s-(a.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(u=c<0?359:c>o?0:360*(-100*c/o+100)/100,n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var d=void 0;if(d=l<0?0:l>r?359:100*l/r*360/100,n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}(e,a.props.direction,a.props.hsl,a.container);t&&"function"===typeof a.props.onChange&&a.props.onChange(t,e)},a.handleMouseDown=function(e){a.handleChange(e),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},Af(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Rf(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,a=(0,mf.ZP)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return B.createElement("div",{style:a.hue},B.createElement("div",{className:"hue-"+n,style:a.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},B.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),B.createElement("div",{style:a.pointer},this.props.pointer?B.createElement(this.props.pointer,this.props):B.createElement("div",{style:a.slider}))))}}]),t}(B.PureComponent||B.Component);const Ff=Pf;const Df=function(){this.__data__=[],this.size=0};const Mf=function(e,t){return e===t||e!==e&&t!==t};const Lf=function(e,t){for(var n=e.length;n--;)if(Mf(e[n][0],t))return n;return-1};var zf=Array.prototype.splice;const jf=function(e){var t=this.__data__,n=Lf(t,e);return!(n<0)&&(n==t.length-1?t.pop():zf.call(t,n,1),--this.size,!0)};const Bf=function(e){var t=this.__data__,n=Lf(t,e);return n<0?void 0:t[n][1]};const Wf=function(e){return Lf(this.__data__,e)>-1};const Vf=function(e,t){var n=this.__data__,a=Lf(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this};function Uf(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}Uf.prototype.clear=Df,Uf.prototype.delete=jf,Uf.prototype.get=Bf,Uf.prototype.has=Wf,Uf.prototype.set=Vf;const Gf=Uf;const Hf=function(){this.__data__=new Gf,this.size=0};const qf=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const Xf=function(e){return this.__data__.get(e)};const Kf=function(e){return this.__data__.has(e)};const Yf="object"==typeof global&&global&&global.Object===Object&&global;var Qf="object"==typeof self&&self&&self.Object===Object&&self;const $f=Yf||Qf||Function("return this")();const Zf=$f.Symbol;var Jf=Object.prototype,em=Jf.hasOwnProperty,tm=Jf.toString,nm=Zf?Zf.toStringTag:void 0;const am=function(e){var t=em.call(e,nm),n=e[nm];try{e[nm]=void 0;var a=!0}catch(k5){}var r=tm.call(e);return a&&(t?e[nm]=n:delete e[nm]),r};var rm=Object.prototype.toString;const om=function(e){return rm.call(e)};var im=Zf?Zf.toStringTag:void 0;const sm=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":im&&im in Object(e)?am(e):om(e)};const lm=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const cm=function(e){if(!lm(e))return!1;var t=sm(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const um=$f["__core-js_shared__"];var dm=function(){var e=/[^.]+$/.exec(um&&um.keys&&um.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const pm=function(e){return!!dm&&dm in e};var hm=Function.prototype.toString;const fm=function(e){if(null!=e){try{return hm.call(e)}catch(k5){}try{return e+""}catch(k5){}}return""};var mm=/^\[object .+?Constructor\]$/,gm=Function.prototype,ym=Object.prototype,vm=gm.toString,bm=ym.hasOwnProperty,xm=RegExp("^"+vm.call(bm).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const wm=function(e){return!(!lm(e)||pm(e))&&(cm(e)?xm:mm).test(fm(e))};const km=function(e,t){return null==e?void 0:e[t]};const Sm=function(e,t){var n=km(e,t);return wm(n)?n:void 0};const Cm=Sm($f,"Map");const Em=Sm(Object,"create");const _m=function(){this.__data__=Em?Em(null):{},this.size=0};const Im=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Nm=Object.prototype.hasOwnProperty;const Tm=function(e){var t=this.__data__;if(Em){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Nm.call(t,e)?t[e]:void 0};var Om=Object.prototype.hasOwnProperty;const Rm=function(e){var t=this.__data__;return Em?void 0!==t[e]:Om.call(t,e)};const Am=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Em&&void 0===t?"__lodash_hash_undefined__":t,this};function Pm(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}Pm.prototype.clear=_m,Pm.prototype.delete=Im,Pm.prototype.get=Tm,Pm.prototype.has=Rm,Pm.prototype.set=Am;const Fm=Pm;const Dm=function(){this.size=0,this.__data__={hash:new Fm,map:new(Cm||Gf),string:new Fm}};const Mm=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Lm=function(e,t){var n=e.__data__;return Mm(t)?n["string"==typeof t?"string":"hash"]:n.map};const zm=function(e){var t=Lm(this,e).delete(e);return this.size-=t?1:0,t};const jm=function(e){return Lm(this,e).get(e)};const Bm=function(e){return Lm(this,e).has(e)};const Wm=function(e,t){var n=Lm(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this};function Vm(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}Vm.prototype.clear=Dm,Vm.prototype.delete=zm,Vm.prototype.get=jm,Vm.prototype.has=Bm,Vm.prototype.set=Wm;const Um=Vm;const Gm=function(e,t){var n=this.__data__;if(n instanceof Gf){var a=n.__data__;if(!Cm||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new Um(a)}return n.set(e,t),this.size=n.size,this};function Hm(e){var t=this.__data__=new Gf(e);this.size=t.size}Hm.prototype.clear=Hf,Hm.prototype.delete=qf,Hm.prototype.get=Xf,Hm.prototype.has=Kf,Hm.prototype.set=Gm;const qm=Hm;const Xm=function(){try{var e=Sm(Object,"defineProperty");return e({},"",{}),e}catch(k5){}}();const Km=function(e,t,n){"__proto__"==t&&Xm?Xm(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};const Ym=function(e,t,n){(void 0!==n&&!Mf(e[t],n)||void 0===n&&!(t in e))&&Km(e,t,n)};const Qm=function(e){return function(t,n,a){for(var r=-1,o=Object(t),i=a(t),s=i.length;s--;){var l=i[e?s:++r];if(!1===n(o[l],l,o))break}return t}}();var $m="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zm=$m&&"object"==typeof module&&module&&!module.nodeType&&module,Jm=Zm&&Zm.exports===$m?$f.Buffer:void 0,eg=Jm?Jm.allocUnsafe:void 0;const tg=function(e,t){if(t)return e.slice();var n=e.length,a=eg?eg(n):new e.constructor(n);return e.copy(a),a};const ng=$f.Uint8Array;const ag=function(e){var t=new e.constructor(e.byteLength);return new ng(t).set(new ng(e)),t};const rg=function(e,t){var n=t?ag(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const og=function(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t};var ig=Object.create;const sg=function(){function e(){}return function(t){if(!lm(t))return{};if(ig)return ig(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const lg=function(e,t){return function(n){return e(t(n))}};const cg=lg(Object.getPrototypeOf,Object);var ug=Object.prototype;const dg=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ug)};const pg=function(e){return"function"!=typeof e.constructor||dg(e)?{}:sg(cg(e))};const hg=function(e){return null!=e&&"object"==typeof e};const fg=function(e){return hg(e)&&"[object Arguments]"==sm(e)};var mg=Object.prototype,gg=mg.hasOwnProperty,yg=mg.propertyIsEnumerable;const vg=fg(function(){return arguments}())?fg:function(e){return hg(e)&&gg.call(e,"callee")&&!yg.call(e,"callee")};const bg=Array.isArray;const xg=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const wg=function(e){return null!=e&&xg(e.length)&&!cm(e)};const kg=function(e){return hg(e)&&wg(e)};const Sg=function(){return!1};var Cg="object"==typeof exports&&exports&&!exports.nodeType&&exports,Eg=Cg&&"object"==typeof module&&module&&!module.nodeType&&module,_g=Eg&&Eg.exports===Cg?$f.Buffer:void 0;const Ig=(_g?_g.isBuffer:void 0)||Sg;var Ng=Function.prototype,Tg=Object.prototype,Og=Ng.toString,Rg=Tg.hasOwnProperty,Ag=Og.call(Object);const Pg=function(e){if(!hg(e)||"[object Object]"!=sm(e))return!1;var t=cg(e);if(null===t)return!0;var n=Rg.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Og.call(n)==Ag};var Fg={};Fg["[object Float32Array]"]=Fg["[object Float64Array]"]=Fg["[object Int8Array]"]=Fg["[object Int16Array]"]=Fg["[object Int32Array]"]=Fg["[object Uint8Array]"]=Fg["[object Uint8ClampedArray]"]=Fg["[object Uint16Array]"]=Fg["[object Uint32Array]"]=!0,Fg["[object Arguments]"]=Fg["[object Array]"]=Fg["[object ArrayBuffer]"]=Fg["[object Boolean]"]=Fg["[object DataView]"]=Fg["[object Date]"]=Fg["[object Error]"]=Fg["[object Function]"]=Fg["[object Map]"]=Fg["[object Number]"]=Fg["[object Object]"]=Fg["[object RegExp]"]=Fg["[object Set]"]=Fg["[object String]"]=Fg["[object WeakMap]"]=!1;const Dg=function(e){return hg(e)&&xg(e.length)&&!!Fg[sm(e)]};const Mg=function(e){return function(t){return e(t)}};var Lg="object"==typeof exports&&exports&&!exports.nodeType&&exports,zg=Lg&&"object"==typeof module&&module&&!module.nodeType&&module,jg=zg&&zg.exports===Lg&&Yf.process,Bg=function(){try{var e=zg&&zg.require&&zg.require("util").types;return e||jg&&jg.binding&&jg.binding("util")}catch(k5){}}();var Wg=Bg&&Bg.isTypedArray;const Vg=Wg?Mg(Wg):Dg;const Ug=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var Gg=Object.prototype.hasOwnProperty;const Hg=function(e,t,n){var a=e[t];Gg.call(e,t)&&Mf(a,n)&&(void 0!==n||t in e)||Km(e,t,n)};const qg=function(e,t,n,a){var r=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var s=t[o],l=a?a(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?Km(n,s,l):Hg(n,s,l)}return n};const Xg=function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a};var Kg=/^(?:0|[1-9]\d*)$/;const Yg=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Kg.test(e))&&e>-1&&e%1==0&&e<t};var Qg=Object.prototype.hasOwnProperty;const $g=function(e,t){var n=bg(e),a=!n&&vg(e),r=!n&&!a&&Ig(e),o=!n&&!a&&!r&&Vg(e),i=n||a||r||o,s=i?Xg(e.length,String):[],l=s.length;for(var c in e)!t&&!Qg.call(e,c)||i&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Yg(c,l))||s.push(c);return s};const Zg=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var Jg=Object.prototype.hasOwnProperty;const ey=function(e){if(!lm(e))return Zg(e);var t=dg(e),n=[];for(var a in e)("constructor"!=a||!t&&Jg.call(e,a))&&n.push(a);return n};const ty=function(e){return wg(e)?$g(e,!0):ey(e)};const ny=function(e){return qg(e,ty(e))};const ay=function(e,t,n,a,r,o,i){var s=Ug(e,n),l=Ug(t,n),c=i.get(l);if(c)Ym(e,n,c);else{var u=o?o(s,l,n+"",e,t,i):void 0,d=void 0===u;if(d){var p=bg(l),h=!p&&Ig(l),f=!p&&!h&&Vg(l);u=l,p||h||f?bg(s)?u=s:kg(s)?u=og(s):h?(d=!1,u=tg(l,!0)):f?(d=!1,u=rg(l,!0)):u=[]:Pg(l)||vg(l)?(u=s,vg(s)?u=ny(s):lm(s)&&!cm(s)||(u=pg(l))):d=!1}d&&(i.set(l,u),r(u,l,a,o,i),i.delete(l)),Ym(e,n,u)}};const ry=function e(t,n,a,r,o){t!==n&&Qm(n,(function(i,s){if(o||(o=new qm),lm(i))ay(t,n,s,a,e,r,o);else{var l=r?r(Ug(t,s),i,s+"",t,n,o):void 0;void 0===l&&(l=i),Ym(t,s,l)}}),ty)};const oy=function(e){return e};const iy=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var sy=Math.max;const ly=function(e,t,n){return t=sy(void 0===t?e.length-1:t,0),function(){for(var a=arguments,r=-1,o=sy(a.length-t,0),i=Array(o);++r<o;)i[r]=a[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=a[r];return s[t]=n(i),iy(e,this,s)}};const cy=function(e){return function(){return e}};var uy=Xm?function(e,t){return Xm(e,"toString",{configurable:!0,enumerable:!1,value:cy(t),writable:!0})}:oy;const dy=uy;var py=Date.now;const hy=function(e){var t=0,n=0;return function(){var a=py(),r=16-(a-n);if(n=a,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(dy);const fy=function(e,t){return hy(ly(e,t,oy),e+"")};const my=function(e,t,n){if(!lm(n))return!1;var a=typeof t;return!!("number"==a?wg(n)&&Yg(t,n.length):"string"==a&&t in n)&&Mf(n[t],e)};const gy=function(e){return fy((function(t,n){var a=-1,r=n.length,o=r>1?n[r-1]:void 0,i=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,i&&my(n[0],n[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++a<r;){var s=n[a];s&&e(t,s,a,o)}return t}))}((function(e,t,n){ry(e,t,n)}));var yy=function(e){var t=e.zDepth,n=e.radius,a=e.background,r=e.children,o=e.styles,i=void 0===o?{}:o,s=(0,mf.ZP)(gy({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},i),{"zDepth-1":1===t});return B.createElement("div",{style:s.wrap},B.createElement("div",{style:s.bg}),B.createElement("div",{style:s.content},r))};yy.propTypes={background:rs().string,zDepth:rs().oneOf([0,1,2,3,4,5]),radius:rs().number,styles:rs().object},yy.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};const vy=yy;const by=function(){return $f.Date.now()};var xy=/\s/;const wy=function(e){for(var t=e.length;t--&&xy.test(e.charAt(t)););return t};var ky=/^\s+/;const Sy=function(e){return e?e.slice(0,wy(e)+1).replace(ky,""):e};const Cy=function(e){return"symbol"==typeof e||hg(e)&&"[object Symbol]"==sm(e)};var Ey=/^[-+]0x[0-9a-f]+$/i,_y=/^0b[01]+$/i,Iy=/^0o[0-7]+$/i,Ny=parseInt;const Ty=function(e){if("number"==typeof e)return e;if(Cy(e))return NaN;if(lm(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=lm(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Sy(e);var n=_y.test(e);return n||Iy.test(e)?Ny(e.slice(2),n?2:8):Ey.test(e)?NaN:+e};var Oy=Math.max,Ry=Math.min;const Ay=function(e,t,n){var a,r,o,i,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=a,o=r;return a=r=void 0,c=t,i=e.apply(o,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function m(){var e=by();if(f(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?Ry(n,o-(e-c)):n}(e))}function g(e){return s=void 0,p&&a?h(e):(a=r=void 0,i)}function y(){var e=by(),n=f(e);if(a=arguments,r=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?h(e):i}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),h(l)}return void 0===s&&(s=setTimeout(m,t)),i}return t=Ty(t)||0,lm(n)&&(u=!!n.leading,o=(d="maxWait"in n)?Oy(Ty(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,a=l=r=s=void 0},y.flush=function(){return void 0===s?i:g(by())},y};const Py=function(e,t,n){var a=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return lm(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),Ay(e,t,{leading:a,maxWait:t,trailing:r})};var Fy=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Dy=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var a=n.getBoundingClientRect(),r=a.width,o=a.height,i="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>r&&(l=r),c<0?c=0:c>o&&(c=o);var u=l/r,d=1-c/o;return{h:t.h,s:u,v:d,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=Py((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fy(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,a=t.white,r=t.black,o=t.pointer,i=t.circle,s=(0,mf.ZP)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:a,black:r,pointer:o,circle:i}},{custom:!!this.props.style});return B.createElement("div",{style:s.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},B.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),B.createElement("div",{style:s.white,className:"saturation-white"},B.createElement("div",{style:s.black,className:"saturation-black"}),B.createElement("div",{style:s.pointer},this.props.pointer?B.createElement(this.props.pointer,this.props):B.createElement("div",{style:s.circle}))))}}]),t}(B.PureComponent||B.Component);const My=Dy;const Ly=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););return e};const zy=lg(Object.keys,Object);var jy=Object.prototype.hasOwnProperty;const By=function(e){if(!dg(e))return zy(e);var t=[];for(var n in Object(e))jy.call(e,n)&&"constructor"!=n&&t.push(n);return t};const Wy=function(e){return wg(e)?$g(e):By(e)};const Vy=function(e,t){return function(n,a){if(null==n)return n;if(!wg(n))return e(n,a);for(var r=n.length,o=t?r:-1,i=Object(n);(t?o--:++o<r)&&!1!==a(i[o],o,i););return n}}((function(e,t){return e&&Qm(e,t,Wy)}));const Uy=function(e){return"function"==typeof e?e:oy};const Gy=function(e,t){return(bg(e)?Ly:Vy)(e,Uy(t))};function Hy(e){return Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(e)}var qy=/^\s+/,Xy=/\s+$/;function Ky(e,t){if(t=t||{},(e=e||"")instanceof Ky)return e;if(!(this instanceof Ky))return new Ky(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,a=null,r=null,o=null,i=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace(qy,"").replace(Xy,"").toLowerCase();var t,n=!1;if(dv[e])e=dv[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=wv.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=wv.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=wv.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=wv.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=wv.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=wv.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=wv.hex8.exec(e))return{r:gv(t[1]),g:gv(t[2]),b:gv(t[3]),a:xv(t[4]),format:n?"name":"hex8"};if(t=wv.hex6.exec(e))return{r:gv(t[1]),g:gv(t[2]),b:gv(t[3]),format:n?"name":"hex"};if(t=wv.hex4.exec(e))return{r:gv(t[1]+""+t[1]),g:gv(t[2]+""+t[2]),b:gv(t[3]+""+t[3]),a:xv(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=wv.hex3.exec(e))return{r:gv(t[1]+""+t[1]),g:gv(t[2]+""+t[2]),b:gv(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==Hy(e)&&(kv(e.r)&&kv(e.g)&&kv(e.b)?(t=function(e,t,n){return{r:255*fv(e,255),g:255*fv(t,255),b:255*fv(n,255)}}(e.r,e.g,e.b),i=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):kv(e.h)&&kv(e.s)&&kv(e.v)?(a=vv(e.s),r=vv(e.v),t=function(e,t,n){e=6*fv(e,360),t=fv(t,100),n=fv(n,100);var a=Math.floor(e),r=e-a,o=n*(1-t),i=n*(1-r*t),s=n*(1-(1-r)*t),l=a%6,c=[n,i,o,o,s,n][l],u=[s,n,n,i,o,o][l],d=[o,o,s,n,n,i][l];return{r:255*c,g:255*u,b:255*d}}(e.h,a,r),i=!0,s="hsv"):kv(e.h)&&kv(e.s)&&kv(e.l)&&(a=vv(e.s),o=vv(e.l),t=function(e,t,n){var a,r,o;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=fv(e,360),t=fv(t,100),n=fv(n,100),0===t)a=r=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=i(l,s,e+1/3),r=i(l,s,e),o=i(l,s,e-1/3)}return{r:255*a,g:255*r,b:255*o}}(e.h,a,o),i=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=hv(n),{ok:i,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function Yy(e,t,n){e=fv(e,255),t=fv(t,255),n=fv(n,255);var a,r,o=Math.max(e,t,n),i=Math.min(e,t,n),s=(o+i)/2;if(o==i)a=r=0;else{var l=o-i;switch(r=s>.5?l/(2-o-i):l/(o+i),o){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:r,l:s}}function Qy(e,t,n){e=fv(e,255),t=fv(t,255),n=fv(n,255);var a,r,o=Math.max(e,t,n),i=Math.min(e,t,n),s=o,l=o-i;if(r=0===o?0:l/o,o==i)a=0;else{switch(o){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:r,v:s}}function $y(e,t,n,a){var r=[yv(Math.round(e).toString(16)),yv(Math.round(t).toString(16)),yv(Math.round(n).toString(16))];return a&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Zy(e,t,n,a){return[yv(bv(a)),yv(Math.round(e).toString(16)),yv(Math.round(t).toString(16)),yv(Math.round(n).toString(16))].join("")}function Jy(e,t){t=0===t?0:t||10;var n=Ky(e).toHsl();return n.s-=t/100,n.s=mv(n.s),Ky(n)}function ev(e,t){t=0===t?0:t||10;var n=Ky(e).toHsl();return n.s+=t/100,n.s=mv(n.s),Ky(n)}function tv(e){return Ky(e).desaturate(100)}function nv(e,t){t=0===t?0:t||10;var n=Ky(e).toHsl();return n.l+=t/100,n.l=mv(n.l),Ky(n)}function av(e,t){t=0===t?0:t||10;var n=Ky(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),Ky(n)}function rv(e,t){t=0===t?0:t||10;var n=Ky(e).toHsl();return n.l-=t/100,n.l=mv(n.l),Ky(n)}function ov(e,t){var n=Ky(e).toHsl(),a=(n.h+t)%360;return n.h=a<0?360+a:a,Ky(n)}function iv(e){var t=Ky(e).toHsl();return t.h=(t.h+180)%360,Ky(t)}function sv(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ky(e).toHsl(),a=[Ky(e)],r=360/t,o=1;o<t;o++)a.push(Ky({h:(n.h+o*r)%360,s:n.s,l:n.l}));return a}function lv(e){var t=Ky(e).toHsl(),n=t.h;return[Ky(e),Ky({h:(n+72)%360,s:t.s,l:t.l}),Ky({h:(n+216)%360,s:t.s,l:t.l})]}function cv(e,t,n){t=t||6,n=n||30;var a=Ky(e).toHsl(),r=360/n,o=[Ky(e)];for(a.h=(a.h-(r*t>>1)+720)%360;--t;)a.h=(a.h+r)%360,o.push(Ky(a));return o}function uv(e,t){t=t||6;for(var n=Ky(e).toHsv(),a=n.h,r=n.s,o=n.v,i=[],s=1/t;t--;)i.push(Ky({h:a,s:r,v:o})),o=(o+s)%1;return i}Ky.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,a=this.toRgb();return e=a.r/255,t=a.g/255,n=a.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=hv(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Qy(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Qy(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+a+"%)":"hsva("+t+", "+n+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=Yy(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Yy(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+a+"%)":"hsla("+t+", "+n+"%, "+a+"%, "+this._roundA+")"},toHex:function(e){return $y(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,a,r){var o=[yv(Math.round(e).toString(16)),yv(Math.round(t).toString(16)),yv(Math.round(n).toString(16)),yv(bv(a))];if(r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*fv(this._r,255))+"%",g:Math.round(100*fv(this._g,255))+"%",b:Math.round(100*fv(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*fv(this._r,255))+"%, "+Math.round(100*fv(this._g,255))+"%, "+Math.round(100*fv(this._b,255))+"%)":"rgba("+Math.round(100*fv(this._r,255))+"%, "+Math.round(100*fv(this._g,255))+"%, "+Math.round(100*fv(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(pv[$y(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+Zy(this._r,this._g,this._b,this._a),n=t,a=this._gradientType?"GradientType = 1, ":"";if(e){var r=Ky(e);n="#"+Zy(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,a=this._a<1&&this._a>=0;return t||!a||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return Ky(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(nv,arguments)},brighten:function(){return this._applyModification(av,arguments)},darken:function(){return this._applyModification(rv,arguments)},desaturate:function(){return this._applyModification(Jy,arguments)},saturate:function(){return this._applyModification(ev,arguments)},greyscale:function(){return this._applyModification(tv,arguments)},spin:function(){return this._applyModification(ov,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(cv,arguments)},complement:function(){return this._applyCombination(iv,arguments)},monochromatic:function(){return this._applyCombination(uv,arguments)},splitcomplement:function(){return this._applyCombination(lv,arguments)},triad:function(){return this._applyCombination(sv,[3])},tetrad:function(){return this._applyCombination(sv,[4])}},Ky.fromRatio=function(e,t){if("object"==Hy(e)){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]="a"===a?e[a]:vv(e[a]));e=n}return Ky(e,t)},Ky.equals=function(e,t){return!(!e||!t)&&Ky(e).toRgbString()==Ky(t).toRgbString()},Ky.random=function(){return Ky.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Ky.mix=function(e,t,n){n=0===n?0:n||50;var a=Ky(e).toRgb(),r=Ky(t).toRgb(),o=n/100;return Ky({r:(r.r-a.r)*o+a.r,g:(r.g-a.g)*o+a.g,b:(r.b-a.b)*o+a.b,a:(r.a-a.a)*o+a.a})},Ky.readability=function(e,t){var n=Ky(e),a=Ky(t);return(Math.max(n.getLuminance(),a.getLuminance())+.05)/(Math.min(n.getLuminance(),a.getLuminance())+.05)},Ky.isReadable=function(e,t,n){var a,r,o=Ky.readability(e,t);switch(r=!1,a=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),a.level+a.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7}return r},Ky.mostReadable=function(e,t,n){var a,r,o,i,s=null,l=0;r=(n=n||{}).includeFallbackColors,o=n.level,i=n.size;for(var c=0;c<t.length;c++)(a=Ky.readability(e,t[c]))>l&&(l=a,s=Ky(t[c]));return Ky.isReadable(e,s,{level:o,size:i})||!r?s:(n.includeFallbackColors=!1,Ky.mostReadable(e,["#fff","#000"],n))};var dv=Ky.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},pv=Ky.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(dv);function hv(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function fv(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function mv(e){return Math.min(1,Math.max(0,e))}function gv(e){return parseInt(e,16)}function yv(e){return 1==e.length?"0"+e:""+e}function vv(e){return e<=1&&(e=100*e+"%"),e}function bv(e){return Math.round(255*parseFloat(e)).toString(16)}function xv(e){return gv(e)/255}var wv=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function kv(e){return!!wv.CSS_UNIT.exec(e)}var Sv=function(e){var t=0,n=0;return Gy(["r","g","b","a","h","s","l","v"],(function(a){if(e[a]&&(t+=1,isNaN(e[a])||(n+=1),"s"===a||"l"===a)){/^\d+%$/.test(e[a])&&(n+=1)}})),t===n&&e},Cv=function(e,t){var n=e.hex?Ky(e.hex):Ky(e),a=n.toHsl(),r=n.toHsv(),o=n.toRgb(),i=n.toHex();return 0===a.s&&(a.h=t||0,r.h=t||0),{hsl:a,hex:"000000"===i&&0===o.a?"transparent":"#"+i,rgb:o,hsv:r,oldHue:e.h||t||a.h,source:e.source}},Ev=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&Ky(e).isValid()},_v=function(e){if(!e)return"#fff";var t=Cv(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},Iv=function(e,t){return Ky(t+" ("+e.replace("\xb0","")+")")._ok},Nv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tv=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();const Ov=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(Sv(e)){var a=Cv(e,e.h||t.state.oldHue);t.setState(a),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,a,n),t.props.onChange&&t.props.onChange(a,n)}},t.handleSwatchHover=function(e,n){if(Sv(e)){var a=Cv(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(a,n)}},t.state=Nv({},Cv(e.color,0)),t.debounce=Ay((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),Tv(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),B.createElement(e,Nv({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Nv({},Cv(e.color,t.oldHue))}}]),n}(B.PureComponent||B.Component);return t.propTypes=Nv({},e.propTypes),t.defaultProps=Nv({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};var Rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Av=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Pv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Fv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};const Dv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=n=Pv(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},Pv(n,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),Av(a,[{key:"render",value:function(){return B.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},B.createElement(e,Rv({},this.props,this.state)))}}]),a}(B.Component)}((function(e){var t=e.color,n=e.style,a=e.onClick,r=void 0===a?function(){}:a,o=e.onHover,i=e.title,s=void 0===i?t:i,l=e.children,c=e.focus,u=e.focusStyle,d=void 0===u?{}:u,p="transparent"===t,h=(0,mf.ZP)({default:{swatch:Fv({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?d:{})}}),f={};return o&&(f.onMouseOver=function(e){return o(t,e)}),B.createElement("div",Fv({style:h.swatch,onClick:function(e){return r(t,e)},title:s,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&r(t,e)}},f),l,p&&B.createElement(xf,{borderRadius:h.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}));const Mv=function(e){var t=e.direction,n=(0,mf.ZP)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return B.createElement("div",{style:n.picker})};var Lv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zv=function(e){var t=e.rgb,n=e.hsl,a=e.width,r=e.height,o=e.onChange,i=e.direction,s=e.style,l=e.renderers,c=e.pointer,u=e.className,d=void 0===u?"":u,p=(0,mf.ZP)({default:{picker:{position:"relative",width:a,height:r},alpha:{radius:"2px",style:s}}});return B.createElement("div",{style:p.picker,className:"alpha-picker "+d},B.createElement(Ef,Lv({},p.alpha,{rgb:t,hsl:n,pointer:c,renderers:l,onChange:o,direction:i})))};zv.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Mv};Ov(zv);const jv=function(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r};const Bv=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const Wv=function(e){return this.__data__.has(e)};function Vv(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Um;++t<n;)this.add(e[t])}Vv.prototype.add=Vv.prototype.push=Bv,Vv.prototype.has=Wv;const Uv=Vv;const Gv=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1};const Hv=function(e,t){return e.has(t)};const qv=function(e,t,n,a,r,o){var i=1&n,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,h=2&n?new Uv:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var f=e[d],m=t[d];if(a)var g=i?a(m,f,d,t,e,o):a(f,m,d,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!Gv(t,(function(e,t){if(!Hv(h,t)&&(f===e||r(f,e,n,a,o)))return h.push(t)}))){p=!1;break}}else if(f!==m&&!r(f,m,n,a,o)){p=!1;break}}return o.delete(e),o.delete(t),p};const Xv=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n};const Kv=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Yv=Zf?Zf.prototype:void 0,Qv=Yv?Yv.valueOf:void 0;const $v=function(e,t,n,a,r,o,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new ng(e),new ng(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Mf(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Xv;case"[object Set]":var l=1&a;if(s||(s=Kv),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;a|=2,i.set(e,t);var u=qv(s(e),s(t),a,r,o,i);return i.delete(e),u;case"[object Symbol]":if(Qv)return Qv.call(e)==Qv.call(t)}return!1};const Zv=function(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e};const Jv=function(e,t,n){var a=t(e);return bg(e)?a:Zv(a,n(e))};const eb=function(e,t){for(var n=-1,a=null==e?0:e.length,r=0,o=[];++n<a;){var i=e[n];t(i,n,e)&&(o[r++]=i)}return o};const tb=function(){return[]};var nb=Object.prototype.propertyIsEnumerable,ab=Object.getOwnPropertySymbols;const rb=ab?function(e){return null==e?[]:(e=Object(e),eb(ab(e),(function(t){return nb.call(e,t)})))}:tb;const ob=function(e){return Jv(e,Wy,rb)};var ib=Object.prototype.hasOwnProperty;const sb=function(e,t,n,a,r,o){var i=1&n,s=ob(e),l=s.length;if(l!=ob(t).length&&!i)return!1;for(var c=l;c--;){var u=s[c];if(!(i?u in t:ib.call(t,u)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var f=i;++c<l;){var m=e[u=s[c]],g=t[u];if(a)var y=i?a(g,m,u,t,e,o):a(m,g,u,e,t,o);if(!(void 0===y?m===g||r(m,g,n,a,o):y)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h};const lb=Sm($f,"DataView");const cb=Sm($f,"Promise");const ub=Sm($f,"Set");const db=Sm($f,"WeakMap");var pb="[object Map]",hb="[object Promise]",fb="[object Set]",mb="[object WeakMap]",gb="[object DataView]",yb=fm(lb),vb=fm(Cm),bb=fm(cb),xb=fm(ub),wb=fm(db),kb=sm;(lb&&kb(new lb(new ArrayBuffer(1)))!=gb||Cm&&kb(new Cm)!=pb||cb&&kb(cb.resolve())!=hb||ub&&kb(new ub)!=fb||db&&kb(new db)!=mb)&&(kb=function(e){var t=sm(e),n="[object Object]"==t?e.constructor:void 0,a=n?fm(n):"";if(a)switch(a){case yb:return gb;case vb:return pb;case bb:return hb;case xb:return fb;case wb:return mb}return t});const Sb=kb;var Cb="[object Arguments]",Eb="[object Array]",_b="[object Object]",Ib=Object.prototype.hasOwnProperty;const Nb=function(e,t,n,a,r,o){var i=bg(e),s=bg(t),l=i?Eb:Sb(e),c=s?Eb:Sb(t),u=(l=l==Cb?_b:l)==_b,d=(c=c==Cb?_b:c)==_b,p=l==c;if(p&&Ig(e)){if(!Ig(t))return!1;i=!0,u=!1}if(p&&!u)return o||(o=new qm),i||Vg(e)?qv(e,t,n,a,r,o):$v(e,t,l,n,a,r,o);if(!(1&n)){var h=u&&Ib.call(e,"__wrapped__"),f=d&&Ib.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,g=f?t.value():t;return o||(o=new qm),r(m,g,n,a,o)}}return!!p&&(o||(o=new qm),sb(e,t,n,a,r,o))};const Tb=function e(t,n,a,r,o){return t===n||(null==t||null==n||!hg(t)&&!hg(n)?t!==t&&n!==n:Nb(t,n,a,r,e,o))};const Ob=function(e,t,n,a){var r=n.length,o=r,i=!a;if(null==e)return!o;for(e=Object(e);r--;){var s=n[r];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var l=(s=n[r])[0],c=e[l],u=s[1];if(i&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new qm;if(a)var p=a(c,u,l,e,t,d);if(!(void 0===p?Tb(u,c,3,a,d):p))return!1}}return!0};const Rb=function(e){return e===e&&!lm(e)};const Ab=function(e){for(var t=Wy(e),n=t.length;n--;){var a=t[n],r=e[a];t[n]=[a,r,Rb(r)]}return t};const Pb=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const Fb=function(e){var t=Ab(e);return 1==t.length&&t[0][2]?Pb(t[0][0],t[0][1]):function(n){return n===e||Ob(n,e,t)}};var Db=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mb=/^\w*$/;const Lb=function(e,t){if(bg(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Cy(e))||(Mb.test(e)||!Db.test(e)||null!=t&&e in Object(t))};function zb(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],o=n.cache;if(o.has(r))return o.get(r);var i=e.apply(this,a);return n.cache=o.set(r,i)||o,i};return n.cache=new(zb.Cache||Um),n}zb.Cache=Um;const jb=zb;var Bb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wb=/\\(\\)?/g,Vb=function(e){var t=jb(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Bb,(function(e,n,a,r){t.push(a?r.replace(Wb,"$1"):n||e)})),t}));const Ub=Vb;var Gb=Zf?Zf.prototype:void 0,Hb=Gb?Gb.toString:void 0;const qb=function e(t){if("string"==typeof t)return t;if(bg(t))return jv(t,e)+"";if(Cy(t))return Hb?Hb.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};const Xb=function(e){return null==e?"":qb(e)};const Kb=function(e,t){return bg(e)?e:Lb(e,t)?[e]:Ub(Xb(e))};const Yb=function(e){if("string"==typeof e||Cy(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};const Qb=function(e,t){for(var n=0,a=(t=Kb(t,e)).length;null!=e&&n<a;)e=e[Yb(t[n++])];return n&&n==a?e:void 0};const $b=function(e,t,n){var a=null==e?void 0:Qb(e,t);return void 0===a?n:a};const Zb=function(e,t){return null!=e&&t in Object(e)};const Jb=function(e,t,n){for(var a=-1,r=(t=Kb(t,e)).length,o=!1;++a<r;){var i=Yb(t[a]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++a!=r?o:!!(r=null==e?0:e.length)&&xg(r)&&Yg(i,r)&&(bg(e)||vg(e))};const ex=function(e,t){return null!=e&&Jb(e,t,Zb)};const tx=function(e,t){return Lb(e)&&Rb(t)?Pb(Yb(e),t):function(n){var a=$b(n,e);return void 0===a&&a===t?ex(n,e):Tb(t,a,3)}};const nx=function(e){return function(t){return null==t?void 0:t[e]}};const ax=function(e){return function(t){return Qb(t,e)}};const rx=function(e){return Lb(e)?nx(Yb(e)):ax(e)};const ox=function(e){return"function"==typeof e?e:null==e?oy:"object"==typeof e?bg(e)?tx(e[0],e[1]):Fb(e):rx(e)};const ix=function(e,t){var n=-1,a=wg(e)?Array(e.length):[];return Vy(e,(function(e,r,o){a[++n]=t(e,r,o)})),a};const sx=function(e,t){return(bg(e)?jv:ix)(e,ox(t,3))};const lx=function(e){var t=e.colors,n=e.onClick,a=e.onSwatchHover,r=(0,mf.ZP)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return B.createElement("div",{style:r.swatches},sx(t,(function(e){return B.createElement(Dv,{key:e,color:e,style:r.swatch,onClick:n,onHover:a,focusStyle:{boxShadow:"0 0 4px "+e}})})),B.createElement("div",{style:r.clear}))};var cx=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,r=e.colors,o=e.width,i=e.triangle,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d="transparent"===a,p=function(e,n){Ev(e)&&t({hex:e,source:"hex"},n)},h=(0,mf.ZP)(gy({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:a,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:_v(a),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+a+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},l),{"hide-triangle":"hide"===i});return B.createElement("div",{style:h.card,className:"block-picker "+u},B.createElement("div",{style:h.triangle}),B.createElement("div",{style:h.head},d&&B.createElement(xf,{borderRadius:"6px 6px 0 0"}),B.createElement("div",{style:h.label},a)),B.createElement("div",{style:h.body},B.createElement(lx,{colors:r,onClick:p,onSwatchHover:n}),B.createElement(Of,{style:{input:h.input},value:a,onChange:p})))};cx.propTypes={width:rs().oneOfType([rs().string,rs().number]),colors:rs().arrayOf(rs().string),triangle:rs().oneOf(["top","hide"]),styles:rs().object},cx.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Ov(cx);var ux={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},dx={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},px={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},hx={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},fx={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},mx={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},gx={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},yx={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},vx={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},bx={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},xx={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},wx={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},kx={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Sx={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Cx={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Ex={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},_x={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Ix={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"};var Nx=function(e){var t=e.color,n=e.onClick,a=e.onSwatchHover,r=e.hover,o=e.active,i=e.circleSize,s=e.circleSpacing,l=(0,mf.ZP)({default:{swatch:{width:i,height:i,marginRight:s,marginBottom:s,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(i/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:r,active:o});return B.createElement("div",{style:l.swatch},B.createElement(Dv,{style:l.Swatch,color:t,onClick:n,onHover:a,focusStyle:{boxShadow:l.Swatch.boxShadow+", 0 0 5px "+t}}))};Nx.defaultProps={circleSize:28,circleSpacing:14};const Tx=(0,mf.tz)(Nx);var Ox=function(e){var t=e.width,n=e.onChange,a=e.onSwatchHover,r=e.colors,o=e.hex,i=e.circleSize,s=e.styles,l=void 0===s?{}:s,c=e.circleSpacing,u=e.className,d=void 0===u?"":u,p=(0,mf.ZP)(gy({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},l)),h=function(e,t){return n({hex:e,source:"hex"},t)};return B.createElement("div",{style:p.card,className:"circle-picker "+d},sx(r,(function(e){return B.createElement(Tx,{key:e,color:e,onClick:h,onSwatchHover:a,active:o===e.toLowerCase(),circleSize:i,circleSpacing:c})})))};Ox.propTypes={width:rs().oneOfType([rs().string,rs().number]),circleSize:rs().number,circleSpacing:rs().number,styles:rs().object},Ox.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[ux[500],dx[500],px[500],hx[500],fx[500],mx[500],gx[500],yx[500],vx[500],bx[500],xx[500],wx[500],kx[500],Sx[500],Cx[500],Ex[500],_x[500],Ix[500]],styles:{}};Ov(Ox);const Rx=function(e){return void 0===e};var Ax=n(3050),Px=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Fx=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?Ev(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(Rx(e.s)?n.props.hsl.s:e.s),l:Number(Rx(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Px(t,[{key:"render",value:function(){var e=this,t=(0,mf.ZP)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=B.createElement("div",{style:t.fields,className:"flexbox-fix"},B.createElement("div",{style:t.field},B.createElement(Of,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=B.createElement("div",{style:t.fields,className:"flexbox-fix"},B.createElement("div",{style:t.field},B.createElement(Of,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),B.createElement("div",{style:t.field},B.createElement(Of,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),B.createElement("div",{style:t.field},B.createElement(Of,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),B.createElement("div",{style:t.alpha},B.createElement(Of,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=B.createElement("div",{style:t.fields,className:"flexbox-fix"},B.createElement("div",{style:t.field},B.createElement(Of,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),B.createElement("div",{style:t.field},B.createElement(Of,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),B.createElement("div",{style:t.field},B.createElement(Of,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),B.createElement("div",{style:t.alpha},B.createElement(Of,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),B.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,B.createElement("div",{style:t.toggle},B.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},B.createElement(Ax.Z,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(B.Component);Fx.defaultProps={view:"hex"};const Dx=Fx;const Mx=function(){var e=(0,mf.ZP)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return B.createElement("div",{style:e.picker})};const Lx=function(){var e=(0,mf.ZP)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return B.createElement("div",{style:e.picker})};var zx=function(e){var t=e.width,n=e.onChange,a=e.disableAlpha,r=e.rgb,o=e.hsl,i=e.hsv,s=e.hex,l=e.renderers,c=e.styles,u=void 0===c?{}:c,d=e.className,p=void 0===d?"":d,h=e.defaultView,f=(0,mf.ZP)(gy({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},u),{disableAlpha:a});return B.createElement("div",{style:f.picker,className:"chrome-picker "+p},B.createElement("div",{style:f.saturation},B.createElement(My,{style:f.Saturation,hsl:o,hsv:i,pointer:Lx,onChange:n})),B.createElement("div",{style:f.body},B.createElement("div",{style:f.controls,className:"flexbox-fix"},B.createElement("div",{style:f.color},B.createElement("div",{style:f.swatch},B.createElement("div",{style:f.active}),B.createElement(xf,{renderers:l}))),B.createElement("div",{style:f.toggles},B.createElement("div",{style:f.hue},B.createElement(Ff,{style:f.Hue,hsl:o,pointer:Mx,onChange:n})),B.createElement("div",{style:f.alpha},B.createElement(Ef,{style:f.Alpha,rgb:r,hsl:o,pointer:Mx,renderers:l,onChange:n})))),B.createElement(Dx,{rgb:r,hsl:o,hex:s,view:h,onChange:n,disableAlpha:a})))};zx.propTypes={width:rs().oneOfType([rs().string,rs().number]),disableAlpha:rs().bool,styles:rs().object,defaultView:rs().oneOf(["hex","rgb","hsl"])},zx.defaultProps={width:225,disableAlpha:!1,styles:{}};Ov(zx);const jx=function(e){var t=e.color,n=e.onClick,a=void 0===n?function(){}:n,r=e.onSwatchHover,o=e.active,i=(0,mf.ZP)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:_v(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return B.createElement(Dv,{style:i.color,color:t,onClick:a,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}},B.createElement("div",{style:i.dot}))};const Bx=function(e){var t=e.hex,n=e.rgb,a=e.onChange,r=(0,mf.ZP)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(e,t){e.r||e.g||e.b?a({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):a({hex:e.hex,source:"hex"},t)};return B.createElement("div",{style:r.fields,className:"flexbox-fix"},B.createElement("div",{style:r.active}),B.createElement(Of,{style:{wrap:r.HEXwrap,input:r.HEXinput,label:r.HEXlabel},label:"hex",value:t,onChange:o}),B.createElement(Of,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"r",value:n.r,onChange:o}),B.createElement(Of,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"g",value:n.g,onChange:o}),B.createElement(Of,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"b",value:n.b,onChange:o}))};var Wx=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.colors,r=e.hex,o=e.rgb,i=e.styles,s=void 0===i?{}:i,l=e.className,c=void 0===l?"":l,u=(0,mf.ZP)(gy({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},s)),d=function(e,n){e.hex?Ev(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return B.createElement(vy,{style:u.Compact,styles:s},B.createElement("div",{style:u.compact,className:"compact-picker "+c},B.createElement("div",null,sx(a,(function(e){return B.createElement(jx,{key:e,color:e,active:e.toLowerCase()===r,onClick:d,onSwatchHover:n})})),B.createElement("div",{style:u.clear})),B.createElement(Bx,{hex:r,rgb:o,onChange:d})))};Wx.propTypes={colors:rs().arrayOf(rs().string),styles:rs().object},Wx.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Ov(Wx);const Vx=(0,mf.tz)((function(e){var t=e.hover,n=e.color,a=e.onClick,r=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},i=(0,mf.ZP)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return B.createElement("div",{style:i.swatch},B.createElement(Dv,{color:n,onClick:a,onHover:r,focusStyle:o}))}));var Ux=function(e){var t=e.width,n=e.colors,a=e.onChange,r=e.onSwatchHover,o=e.triangle,i=e.styles,s=void 0===i?{}:i,l=e.className,c=void 0===l?"":l,u=(0,mf.ZP)(gy({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},s),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o,"bottom-left-triangle":"bottom-left"===o,"bottom-right-triangle":"bottom-right"===o}),d=function(e,t){return a({hex:e,source:"hex"},t)};return B.createElement("div",{style:u.card,className:"github-picker "+c},B.createElement("div",{style:u.triangleShadow}),B.createElement("div",{style:u.triangle}),sx(n,(function(e){return B.createElement(Vx,{color:e,key:e,onClick:d,onSwatchHover:r})})))};Ux.propTypes={width:rs().oneOfType([rs().string,rs().number]),colors:rs().arrayOf(rs().string),triangle:rs().oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:rs().object},Ux.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Ov(Ux);const Gx=function(e){var t=e.direction,n=(0,mf.ZP)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return B.createElement("div",{style:n.picker})};var Hx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qx=function(e){var t=e.width,n=e.height,a=e.onChange,r=e.hsl,o=e.direction,i=e.pointer,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,mf.ZP)(gy({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},l));return B.createElement("div",{style:d.picker,className:"hue-picker "+u},B.createElement(Ff,Hx({},d.hue,{hsl:r,pointer:i,onChange:function(e){return a({a:1,h:e.h,l:.5,s:1})},direction:o})))};qx.propTypes={styles:rs().object},qx.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Gx,styles:{}};Ov(qx);Ov((function(e){var t=e.onChange,n=e.hex,a=e.rgb,r=e.styles,o=void 0===r?{}:r,i=e.className,s=void 0===i?"":i,l=(0,mf.ZP)(gy({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(e,n){e.hex?Ev(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||a.r,g:e.g||a.g,b:e.b||a.b,source:"rgb"},n)};return B.createElement(vy,{styles:o},B.createElement("div",{style:l.material,className:"material-picker "+s},B.createElement(Of,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:c}),B.createElement("div",{style:l.split,className:"flexbox-fix"},B.createElement("div",{style:l.third},B.createElement(Of,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:a.r,onChange:c})),B.createElement("div",{style:l.third},B.createElement(Of,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:a.g,onChange:c})),B.createElement("div",{style:l.third},B.createElement(Of,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:a.b,onChange:c})))))}));const Xx=function(e){var t=e.onChange,n=e.rgb,a=e.hsv,r=e.hex,o=(0,mf.ZP)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),i=function(e,r){e["#"]?Ev(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||a.h,s:e.s||a.s,v:e.v||a.v,source:"hsv"},r)};return B.createElement("div",{style:o.fields},B.createElement(Of,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(a.h),onChange:i}),B.createElement(Of,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(100*a.s),onChange:i}),B.createElement(Of,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(100*a.v),onChange:i}),B.createElement("div",{style:o.divider}),B.createElement(Of,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:i}),B.createElement(Of,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:i}),B.createElement(Of,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:i}),B.createElement("div",{style:o.divider}),B.createElement(Of,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:r.replace("#",""),onChange:i}),B.createElement("div",{style:o.fieldSymbols},B.createElement("div",{style:o.symbol},"\xb0"),B.createElement("div",{style:o.symbol},"%"),B.createElement("div",{style:o.symbol},"%")))};const Kx=function(e){var t=e.hsl,n=(0,mf.ZP)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return B.createElement("div",{style:n.picker})};const Yx=function(){var e=(0,mf.ZP)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return B.createElement("div",{style:e.pointer},B.createElement("div",{style:e.left},B.createElement("div",{style:e.leftInside})),B.createElement("div",{style:e.right},B.createElement("div",{style:e.rightInside})))};const Qx=function(e){var t=e.onClick,n=e.label,a=e.children,r=e.active,o=(0,mf.ZP)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:r});return B.createElement("div",{style:o.button,onClick:t},n||a)};const $x=function(e){var t=e.rgb,n=e.currentColor,a=(0,mf.ZP)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return B.createElement("div",null,B.createElement("div",{style:a.label},"new"),B.createElement("div",{style:a.swatches},B.createElement("div",{style:a.new}),B.createElement("div",{style:a.current})),B.createElement("div",{style:a.label},"current"))};var Zx=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Jx=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Zx(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,a=e.className,r=void 0===a?"":a,o=(0,mf.ZP)(gy({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return B.createElement("div",{style:o.picker,className:"photoshop-picker "+r},B.createElement("div",{style:o.head},this.props.header),B.createElement("div",{style:o.body,className:"flexbox-fix"},B.createElement("div",{style:o.saturation},B.createElement(My,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Kx,onChange:this.props.onChange})),B.createElement("div",{style:o.hue},B.createElement(Ff,{direction:"vertical",hsl:this.props.hsl,pointer:Yx,onChange:this.props.onChange})),B.createElement("div",{style:o.controls},B.createElement("div",{style:o.top,className:"flexbox-fix"},B.createElement("div",{style:o.previews},B.createElement($x,{rgb:this.props.rgb,currentColor:this.state.currentColor})),B.createElement("div",{style:o.actions},B.createElement(Qx,{label:"OK",onClick:this.props.onAccept,active:!0}),B.createElement(Qx,{label:"Cancel",onClick:this.props.onCancel}),B.createElement(Xx,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(B.Component);Jx.propTypes={header:rs().string,styles:rs().object},Jx.defaultProps={header:"Color Picker",styles:{}};Ov(Jx);const ew=function(e){var t=e.onChange,n=e.rgb,a=e.hsl,r=e.hex,o=e.disableAlpha,i=(0,mf.ZP)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),s=function(e,r){e.hex?Ev(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:a.h,s:a.s,l:a.l,a:e.a,source:"rgb"},r))};return B.createElement("div",{style:i.fields,className:"flexbox-fix"},B.createElement("div",{style:i.double},B.createElement(Of,{style:{input:i.input,label:i.label},label:"hex",value:r.replace("#",""),onChange:s})),B.createElement("div",{style:i.single},B.createElement(Of,{style:{input:i.input,label:i.label},label:"r",value:n.r,onChange:s,dragLabel:"true",dragMax:"255"})),B.createElement("div",{style:i.single},B.createElement(Of,{style:{input:i.input,label:i.label},label:"g",value:n.g,onChange:s,dragLabel:"true",dragMax:"255"})),B.createElement("div",{style:i.single},B.createElement(Of,{style:{input:i.input,label:i.label},label:"b",value:n.b,onChange:s,dragLabel:"true",dragMax:"255"})),B.createElement("div",{style:i.alpha},B.createElement(Of,{style:{input:i.input,label:i.label},label:"a",value:Math.round(100*n.a),onChange:s,dragLabel:"true",dragMax:"100"})))};var tw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nw=function(e){var t=e.colors,n=e.onClick,a=void 0===n?function(){}:n,r=e.onSwatchHover,o=(0,mf.ZP)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),i=function(e,t){a({hex:e,source:"hex"},t)};return B.createElement("div",{style:o.colors,className:"flexbox-fix"},t.map((function(e){var t="string"===typeof e?{color:e}:e,n=""+t.color+(t.title||"");return B.createElement("div",{key:n,style:o.swatchWrap},B.createElement(Dv,tw({},t,{style:o.swatch,onClick:i,onHover:r,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};nw.propTypes={colors:rs().arrayOf(rs().oneOfType([rs().string,rs().shape({color:rs().string,title:rs().string})])).isRequired};const aw=nw;var rw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ow=function(e){var t=e.width,n=e.rgb,a=e.hex,r=e.hsv,o=e.hsl,i=e.onChange,s=e.onSwatchHover,l=e.disableAlpha,c=e.presetColors,u=e.renderers,d=e.styles,p=void 0===d?{}:d,h=e.className,f=void 0===h?"":h,m=(0,mf.ZP)(gy({default:rw({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:l});return B.createElement("div",{style:m.picker,className:"sketch-picker "+f},B.createElement("div",{style:m.saturation},B.createElement(My,{style:m.Saturation,hsl:o,hsv:r,onChange:i})),B.createElement("div",{style:m.controls,className:"flexbox-fix"},B.createElement("div",{style:m.sliders},B.createElement("div",{style:m.hue},B.createElement(Ff,{style:m.Hue,hsl:o,onChange:i})),B.createElement("div",{style:m.alpha},B.createElement(Ef,{style:m.Alpha,rgb:n,hsl:o,renderers:u,onChange:i}))),B.createElement("div",{style:m.color},B.createElement(xf,null),B.createElement("div",{style:m.activeColor}))),B.createElement(ew,{rgb:n,hsl:o,hex:a,onChange:i,disableAlpha:l}),B.createElement(aw,{colors:c,onClick:i,onSwatchHover:s}))};ow.propTypes={disableAlpha:rs().bool,width:rs().oneOfType([rs().string,rs().number]),styles:rs().object},ow.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const iw=Ov(ow);const sw=function(e){var t=e.hsl,n=e.offset,a=e.onClick,r=void 0===a?function(){}:a,o=e.active,i=e.first,s=e.last,l=(0,mf.ZP)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:i,last:s});return B.createElement("div",{style:l.swatch,onClick:function(e){return r({h:t.h,s:.5,l:n,source:"hsl"},e)}})};const lw=function(e){var t=e.onClick,n=e.hsl,a=(0,mf.ZP)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),r=.1;return B.createElement("div",{style:a.swatches},B.createElement("div",{style:a.swatch},B.createElement(sw,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<r&&Math.abs(n.s-.5)<r,onClick:t,first:!0})),B.createElement("div",{style:a.swatch},B.createElement(sw,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<r&&Math.abs(n.s-.5)<r,onClick:t})),B.createElement("div",{style:a.swatch},B.createElement(sw,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<r&&Math.abs(n.s-.5)<r,onClick:t})),B.createElement("div",{style:a.swatch},B.createElement(sw,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<r&&Math.abs(n.s-.5)<r,onClick:t})),B.createElement("div",{style:a.swatch},B.createElement(sw,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<r&&Math.abs(n.s-.5)<r,onClick:t,last:!0})),B.createElement("div",{style:a.clear}))};const cw=function(){var e=(0,mf.ZP)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return B.createElement("div",{style:e.picker})};var uw=function(e){var t=e.hsl,n=e.onChange,a=e.pointer,r=e.styles,o=void 0===r?{}:r,i=e.className,s=void 0===i?"":i,l=(0,mf.ZP)(gy({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return B.createElement("div",{style:l.wrap||{},className:"slider-picker "+s},B.createElement("div",{style:l.hue},B.createElement(Ff,{style:l.Hue,hsl:t,pointer:a,onChange:n})),B.createElement("div",{style:l.swatches},B.createElement(lw,{hsl:t,onClick:n})))};uw.propTypes={styles:rs().object},uw.defaultProps={pointer:cw,styles:{}};Ov(uw);var dw=n(9932);const pw=function(e){var t=e.color,n=e.onClick,a=void 0===n?function(){}:n,r=e.onSwatchHover,o=e.first,i=e.last,s=e.active,l=(0,mf.ZP)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:_v(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:i,active:s,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return B.createElement(Dv,{color:t,style:l.color,onClick:a,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}},B.createElement("div",{style:l.check},B.createElement(dw.Z,null)))};const hw=function(e){var t=e.onClick,n=e.onSwatchHover,a=e.group,r=e.active,o=(0,mf.ZP)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return B.createElement("div",{style:o.group},sx(a,(function(e,o){return B.createElement(pw,{key:e,color:e,active:e.toLowerCase()===r,first:0===o,last:o===a.length-1,onClick:t,onSwatchHover:n})})))};var fw=function(e){var t=e.width,n=e.height,a=e.onChange,r=e.onSwatchHover,o=e.colors,i=e.hex,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,mf.ZP)(gy({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},l)),p=function(e,t){return a({hex:e,source:"hex"},t)};return B.createElement("div",{style:d.picker,className:"swatches-picker "+u},B.createElement(vy,null,B.createElement("div",{style:d.overflow},B.createElement("div",{style:d.body},sx(o,(function(e){return B.createElement(hw,{key:e.toString(),group:e,active:i,onClick:p,onSwatchHover:r})})),B.createElement("div",{style:d.clear})))))};fw.propTypes={width:rs().oneOfType([rs().string,rs().number]),height:rs().oneOfType([rs().string,rs().number]),colors:rs().arrayOf(rs().arrayOf(rs().string)),styles:rs().object},fw.defaultProps={width:320,height:240,colors:[[ux[900],ux[700],ux[500],ux[300],ux[100]],[dx[900],dx[700],dx[500],dx[300],dx[100]],[px[900],px[700],px[500],px[300],px[100]],[hx[900],hx[700],hx[500],hx[300],hx[100]],[fx[900],fx[700],fx[500],fx[300],fx[100]],[mx[900],mx[700],mx[500],mx[300],mx[100]],[gx[900],gx[700],gx[500],gx[300],gx[100]],[yx[900],yx[700],yx[500],yx[300],yx[100]],[vx[900],vx[700],vx[500],vx[300],vx[100]],["#194D33",bx[700],bx[500],bx[300],bx[100]],[xx[900],xx[700],xx[500],xx[300],xx[100]],[wx[900],wx[700],wx[500],wx[300],wx[100]],[kx[900],kx[700],kx[500],kx[300],kx[100]],[Sx[900],Sx[700],Sx[500],Sx[300],Sx[100]],[Cx[900],Cx[700],Cx[500],Cx[300],Cx[100]],[Ex[900],Ex[700],Ex[500],Ex[300],Ex[100]],[_x[900],_x[700],_x[500],_x[300],_x[100]],[Ix[900],Ix[700],Ix[500],Ix[300],Ix[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Ov(fw);var mw=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,r=e.colors,o=e.width,i=e.triangle,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,mf.ZP)(gy({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},l),{"hide-triangle":"hide"===i,"top-left-triangle":"top-left"===i,"top-right-triangle":"top-right"===i}),p=function(e,n){Ev(e)&&t({hex:e,source:"hex"},n)};return B.createElement("div",{style:d.card,className:"twitter-picker "+u},B.createElement("div",{style:d.triangleShadow}),B.createElement("div",{style:d.triangle}),B.createElement("div",{style:d.body},sx(r,(function(e,t){return B.createElement(Dv,{key:t,color:e,hex:e,style:d.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),B.createElement("div",{style:d.hash},"#"),B.createElement(Of,{label:null,style:{input:d.input},value:a.replace("#",""),onChange:p}),B.createElement("div",{style:d.clear})))};mw.propTypes={width:rs().oneOfType([rs().string,rs().number]),triangle:rs().oneOf(["hide","top-left","top-right"]),colors:rs().arrayOf(rs().string),styles:rs().object},mw.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Ov(mw);var gw=function(e){var t=(0,mf.ZP)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return B.createElement("div",{style:t.picker})};gw.propTypes={hsl:rs().shape({h:rs().number,s:rs().number,l:rs().number,a:rs().number})},gw.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const yw=gw;var vw=function(e){var t=(0,mf.ZP)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return B.createElement("div",{style:t.picker})};vw.propTypes={hsl:rs().shape({h:rs().number,s:rs().number,l:rs().number,a:rs().number})},vw.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const bw=vw;const xw=function(e){var t=e.onChange,n=e.rgb,a=e.hsl,r=e.hex,o=e.hsv,i=function(e,n){if(e.hex)Ev(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var a=e.rgb.split(",");Iv(e.rgb,"rgb")&&t({r:a[0],g:a[1],b:a[2],a:1,source:"rgb"},n)}else if(e.hsv){var r=e.hsv.split(",");Iv(e.hsv,"hsv")&&(r[2]=r[2].replace("%",""),r[1]=r[1].replace("%",""),r[0]=r[0].replace("\xb0",""),1==r[1]?r[1]=.01:1==r[2]&&(r[2]=.01),t({h:Number(r[0]),s:Number(r[1]),v:Number(r[2]),source:"hsv"},n))}else if(e.hsl){var o=e.hsl.split(",");Iv(e.hsl,"hsl")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("\xb0",""),1==u[1]?u[1]=.01:1==u[2]&&(u[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsl"},n))}},s=(0,mf.ZP)({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),l=n.r+", "+n.g+", "+n.b,c=Math.round(a.h)+"\xb0, "+Math.round(100*a.s)+"%, "+Math.round(100*a.l)+"%",u=Math.round(o.h)+"\xb0, "+Math.round(100*o.s)+"%, "+Math.round(100*o.v)+"%";return B.createElement("div",{style:s.wrap,className:"flexbox-fix"},B.createElement("div",{style:s.fields},B.createElement("div",{style:s.double},B.createElement(Of,{style:{input:s.input,label:s.label},label:"hex",value:r,onChange:i})),B.createElement("div",{style:s.column},B.createElement("div",{style:s.single},B.createElement(Of,{style:{input:s.input2,label:s.label2},label:"rgb",value:l,onChange:i})),B.createElement("div",{style:s.single},B.createElement(Of,{style:{input:s.input2,label:s.label2},label:"hsv",value:u,onChange:i})),B.createElement("div",{style:s.single},B.createElement(Of,{style:{input:s.input2,label:s.label2},label:"hsl",value:c,onChange:i})))))};var ww=function(e){var t=e.width,n=e.onChange,a=e.rgb,r=e.hsl,o=e.hsv,i=e.hex,s=e.header,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,p=(0,mf.ZP)(gy({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+a.r+", "+a.g+", "+a.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return B.createElement("div",{style:p.picker,className:"google-picker "+d},B.createElement("div",{style:p.head},s),B.createElement("div",{style:p.swatch}),B.createElement("div",{style:p.saturation},B.createElement(My,{hsl:r,hsv:o,pointer:yw,onChange:n})),B.createElement("div",{style:p.body},B.createElement("div",{style:p.controls,className:"flexbox-fix"},B.createElement("div",{style:p.hue},B.createElement(Ff,{style:p.Hue,hsl:r,radius:"4px",pointer:bw,onChange:n}))),B.createElement(xw,{rgb:a,hsl:r,hex:i,hsv:o,onChange:n})))};ww.propTypes={width:rs().oneOfType([rs().string,rs().number]),styles:rs().object,header:rs().string},ww.defaultProps={width:652,styles:{},header:"Color picker"};Ov(ww);const kw=JSON.parse('[{"type":"color","id":"white","colorCode":"#FFFFFF"},{"type":"color","id":"black","colorCode":"#000000"},{"type":"color","id":"grey","colorCode":"#404040"},{"type":"color","id":"purple","colorCode":"#272755"}]');function Sw(e){return"function"===typeof e}function Cw(e){return function(t){if(function(e){return Sw(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Ew=function(e,t){return Ew=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ew(e,t)};function _w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ew(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Iw(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{l(a.next(e))}catch(k5){o(k5)}}function s(e){try{l(a.throw(e))}catch(k5){o(k5)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((a=a.apply(e,t||[])).next())}))}function Nw(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,a&&(r=2&s[0]?a.return:s[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,s[1])).done)return r;switch(a=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,a=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(k5){s=[6,k5],a=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function Tw(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ow(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}function Rw(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Aw(e){return this instanceof Aw?(this.v=e,this):new Aw(e)}function Pw(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,r=n.apply(e,t||[]),o=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(e){r[e]&&(a[e]=function(t){return new Promise((function(n,a){o.push([e,t,n,a])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Aw?Promise.resolve(e.value.v).then(l,c):u(o[0][2],e)}(r[e](t))}catch(k5){u(o[0][3],k5)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Fw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Tw(e),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(n){t[n]=e[n]&&function(t){return new Promise((function(a,r){(function(e,t,n,a){Promise.resolve(a).then((function(t){e({value:t,done:n})}),t)})(a,r,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;function Dw(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Mw=Dw((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Lw(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var zw=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,a,r;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var i=Tw(o),s=i.next();!s.done;s=i.next()){s.value.remove(this)}}catch(h){e={error:h}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(Sw(l))try{l()}catch(k5){r=k5 instanceof Mw?k5.errors:[k5]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=Tw(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{Ww(p)}catch(f){r=null!==r&&void 0!==r?r:[],f instanceof Mw?r=Rw(Rw([],Ow(r)),Ow(f.errors)):r.push(f)}}}catch(m){n={error:m}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}}if(r)throw new Mw(r)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ww(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Lw(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Lw(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),jw=zw.EMPTY;function Bw(e){return e instanceof zw||e&&"closed"in e&&Sw(e.remove)&&Sw(e.add)&&Sw(e.unsubscribe)}function Ww(e){Sw(e)?e():e.unsubscribe()}var Vw={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Uw={setTimeout:function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var r=Uw.delegate;return(null===r||void 0===r?void 0:r.setTimeout)?r.setTimeout.apply(r,Rw([e,t],Ow(n))):setTimeout.apply(void 0,Rw([e,t],Ow(n)))},clearTimeout:function(e){var t=Uw.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Gw(e){Uw.setTimeout((function(){var t=Vw.onUnhandledError;if(!t)throw e;t(e)}))}function Hw(){}var qw=Xw("C",void 0,void 0);function Xw(e,t,n){return{kind:e,value:t,error:n}}var Kw=null;function Yw(e){if(Vw.useDeprecatedSynchronousErrorHandling){var t=!Kw;if(t&&(Kw={errorThrown:!1,error:null}),e(),t){var n=Kw,a=n.errorThrown,r=n.error;if(Kw=null,a)throw r}}else e()}var Qw=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Bw(t)&&t.add(n)):n.destination=ak,n}return _w(t,e),t.create=function(e,t,n){return new ek(e,t,n)},t.prototype.next=function(e){this.isStopped?nk(function(e){return Xw("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?nk(Xw("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?nk(qw,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(zw),$w=Function.prototype.bind;function Zw(e,t){return $w.call(e,t)}var Jw=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){tk(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){tk(n)}else tk(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){tk(t)}},e}(),ek=function(e){function t(t,n,a){var r,o,i=e.call(this)||this;Sw(t)||!t?r={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==a&&void 0!==a?a:void 0}:i&&Vw.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},r={next:t.next&&Zw(t.next,o),error:t.error&&Zw(t.error,o),complete:t.complete&&Zw(t.complete,o)}):r=t;return i.destination=new Jw(r),i}return _w(t,e),t}(Qw);function tk(e){var t;Vw.useDeprecatedSynchronousErrorHandling?(t=e,Vw.useDeprecatedSynchronousErrorHandling&&Kw&&(Kw.errorThrown=!0,Kw.error=t)):Gw(e)}function nk(e,t){var n=Vw.onStoppedNotification;n&&Uw.setTimeout((function(){return n(e,t)}))}var ak={closed:!0,next:Hw,error:function(e){throw e},complete:Hw};function rk(e,t,n,a,r){return new ok(e,t,n,a,r)}var ok=function(e){function t(t,n,a,r,o,i){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=i,s._next=n?function(e){try{n(e)}catch(a){t.error(a)}}:e.prototype._next,s._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=a?function(){try{a()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return _w(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Qw);var ik=function(e,t){return e===t||"function"===typeof t&&e===t.toString()};function sk(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,a,r=e.length;return n=1===r?function(t){return ik(t.type,e[0])}:function(t){for(var n=0;n<r;n++)if(ik(t.type,e[n]))return!0;return!1},Cw((function(e,t){var r=0;e.subscribe(rk(t,(function(e){return n.call(a,e,r++)&&t.next(e)})))}))}var lk="function"===typeof Symbol&&Symbol.observable||"@@observable";function ck(e){return e}function uk(e){return 0===e.length?ck:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var dk=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var a,r=this,o=(a=e)&&a instanceof Qw||function(e){return e&&Sw(e.next)&&Sw(e.error)&&Sw(e.complete)}(a)&&Bw(a)?e:new ek(e,t,n);return Yw((function(){var e=r,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?r._subscribe(o):r._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=pk(t))((function(t,a){var r=new ek({next:function(t){try{e(t)}catch(n){a(n),r.unsubscribe()}},error:a,complete:t});n.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[lk]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return uk(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=pk(e))((function(e,n){var a;t.subscribe((function(e){return a=e}),(function(e){return n(e)}),(function(){return e(a)}))}))},e.create=function(t){return new e(t)},e}();function pk(e){var t;return null!==(t=null!==e&&void 0!==e?e:Vw.Promise)&&void 0!==t?t:Promise}var hk=new dk((function(e){return e.complete()}));const fk=fd(),mk=sd({name:"STAGE",initialState:fk.setAll(fk.getInitialState(),[]),reducers:{addItem(e,t){Array.isArray(t.payload)?fk.addMany(e,t.payload):fk.addOne(e,t.payload)},updateItem(e,t){Array.isArray(t.payload)?fk.updateMany(e,t.payload.map((e=>({id:e.id,changes:e.attrs})))):fk.updateOne(e,{id:t.payload.id,changes:t.payload})},removeItem(e,t){Array.isArray(t.payload)?fk.removeMany(e,t.payload):fk.removeOne(e,t.payload)},clearItems(e,t){fk.removeAll(e)}}}),gk=mk.reducer,yk=fk.getSelectors((e=>e.currentStageData)),vk=mk.actions,bk=gk,xk=()=>{const e=de(),t=ne(yk.selectAll);return{stageData:t,createItem:t=>{e(vk.addItem(t))},updateItem:(n,a)=>{const r=t.find((e=>e.id===n||e.attrs.id===n)),o={...null!==r&&void 0!==r?r:{},attrs:{...r?r.attrs:{},...a(r)}};e(vk.updateItem(o))},removeItem:t=>{e(vk.removeItem(t))},alterItems:t=>{e(vk.clearItems({})),e(vk.addItem(t))},clearItems:()=>{e(vk.clearItems({}))}}},wk=()=>({getValue:e=>window.localStorage.getItem(e)&&"null"!==window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):null,setValue:(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))}}),kk="colorList",Sk=e=>{let{data:t}=e;const{getValue:n,setValue:a}=wk(),{updateItem:r}=xk(),[o,i]=(0,B.useState)(!1),[s,l]=(0,B.useState)("#000000"),{getTranslation:c}=Xl(),[u,d]=(0,B.useState)((()=>n(kk)?[...n(kk)]:[...kw])),p=()=>{if(!u.find((e=>e.colorCode===s))){const e=[...u,{id:mo(),type:"color",colorCode:s}];a(kk,e),d(e)}};return(0,ni.jsxs)(ws,{children:[(0,ni.jsxs)("h6",{children:[c("widget","colorPalette","name"),(0,ni.jsx)(Fh,{placement:"bottom",overlay:(0,ni.jsx)(Oh,{id:"tooltip-clear-color",children:c("widget","colorPalette","addColor","name")}),children:(0,ni.jsx)(Ts,{className:[Os.transparentDarkColorTheme,hc.none,fc["inline-block"],As.width10,zs.p0,zs.ml1rem,Rs["text-left"]].join(" "),onClick:e=>{o&&p(),i((e=>!e))},children:(0,ni.jsx)("i",{className:"bi-plus"})})}),(0,ni.jsx)(Fh,{placement:"bottom",overlay:(0,ni.jsx)(Oh,{id:"tooltip-clear-color",children:c("widget","colorPalette","clearColor","name")}),children:(0,ni.jsx)(Ts,{className:[Os.transparentDarkColorTheme,hc.none,fc["inline-block"],As.width10,zs.p0,zs.ml1rem,Rs["text-left"]].join(" "),onClick:e=>{t.selectedItems[0]&&(e.shiftKey?t.selectedItems[0].attrs.stroke=void 0:t.selectedItems[0].attrs.fill="transparent",r(t.selectedItems[0].id(),(e=>t.selectedItems[0].attrs)))},children:(0,ni.jsx)("i",{className:"bi-x-circle"})})})]}),o&&(0,ni.jsx)(iw,{color:s,onChange:e=>{l(e.hex)},className:[Ls.absolute,Ls.left0,Ls.zIndex3].join(" ")}),(0,ni.jsx)(Ss,{xs:4,children:u.map((e=>(0,ni.jsx)(Ck,{data:{id:e.id,"data-item-type":"color",colorCode:e.colorCode,selectedItems:t.selectedItems}},"colorPalette-thumbnail-".concat(e.id))))}),(0,ni.jsx)(Ek,{data:{"data-item-type":"opacity",selectedItems:t.selectedItems}}),(0,ni.jsx)(_k,{data:{"data-item-type":"brightness",selectedItems:t.selectedItems}}),(0,ni.jsx)(Ik,{data:{"data-item-type":"grayScale",selectedItems:t.selectedItems}})]})},Ck=e=>{let{data:{id:t,...n}}=e;const{updateItem:a}=xk();return(0,ni.jsxs)(rc,{as:ws,className:[Rs.absoluteCenter,Rs.wrapTrue].join(" "),children:[(0,ni.jsx)("div",{onClick:e=>{var t,r;e.preventDefault(),e.stopPropagation(),null===(t=window.getSelection())||void 0===t||t.removeAllRanges(),n.selectedItems.forEach((t=>{e.shiftKey?t.attrs.stroke=n.colorCode:t.attrs.fill=n.colorCode,a(t.id(),(()=>t.attrs))})),null===(r=n.selectedItems[0].getStage())||void 0===r||r.batchDraw()},style:{width:20,height:20,backgroundColor:n.colorCode}}),(0,ni.jsx)(rc.Caption,{className:[ic.fontHalf1em,"text-center"].join(" "),children:"".concat(n.colorCode)})]})},Ek=e=>{let{data:t}=e;const{updateItem:n}=xk(),{getTranslation:a}=Xl(),[r,o]=(0,B.useState)(t.selectedItems[0]?100*t.selectedItems[0].attrs.opacity:100);(0,B.useEffect)((()=>{o(t.selectedItems[0]&&void 0!==t.selectedItems[0].attrs.opacity&&null!==t.selectedItems[0].attrs.opacity?100*t.selectedItems[0].attrs.opacity:100)}),[t.selectedItems]);return(0,ni.jsxs)(ws,{children:[(0,ni.jsx)("h6",{children:a("widget","colorPalette","opacity","name")}),(0,ni.jsx)(ff(),{tooltipLabel:e=>"".concat(e,"%"),value:r,onChange:e=>{var a;o(parseInt(e.currentTarget.value)),0!==t.selectedItems.length&&(t.selectedItems.forEach((t=>{t.opacity(.01*parseInt(e.currentTarget.value)),t.attrs.opacity=.01*parseInt(e.currentTarget.value),n(t.id(),(()=>t.attrs))})),null===(a=t.selectedItems[0].getStage())||void 0===a||a.batchDraw())}})]})},_k=e=>{let{data:t}=e;const{updateItem:n}=xk(),{getTranslation:a}=Xl(),[r,o]=(0,B.useState)(t.selectedItems[0]&&t.selectedItems[0].attrs.brightness?100*t.selectedItems[0].attrs.brightness:0);(0,B.useEffect)((()=>{o(t.selectedItems[0]&&void 0!==t.selectedItems[0].attrs.brightness&&null!==t.selectedItems[0].attrs.brightness?100*t.selectedItems[0].attrs.brightness:0)}),[t.selectedItems]);return(0,ni.jsxs)(ws,{children:[(0,ni.jsx)("h6",{children:a("widget","colorPalette","brightness","name")}),(0,ni.jsx)(ff(),{tooltipLabel:e=>"".concat(e,"%"),value:r,onChange:e=>{var a;o(parseInt(e.currentTarget.value)),0!==t.selectedItems.length&&(t.selectedItems.forEach((t=>{t.brightness(.01*parseInt(e.currentTarget.value)),t.attrs.brightness=.01*parseInt(e.currentTarget.value),n(t.id(),(()=>t.attrs))})),null===(a=t.selectedItems[0].getStage())||void 0===a||a.batchDraw())}})]})},Ik=e=>{let{data:t}=e;const{updateItem:n}=xk(),{getTranslation:a}=Xl(),[r,o]=(0,B.useState)(!!(t.selectedItems[0]&&t.selectedItems[0].filters()&&t.selectedItems[0].filters().find((e=>e===va.Filters.Grayscale))));return(0,B.useEffect)((()=>{o(!!(t.selectedItems[0]&&t.selectedItems[0].filters()&&t.selectedItems[0].filters().find((e=>e===va.Filters.Grayscale))))}),[t.selectedItems]),(0,ni.jsxs)(ws,{children:[(0,ni.jsx)("h6",{children:a("widget","colorPalette","grayScale","name")}),(0,ni.jsx)(pf,{children:(0,ni.jsx)(pf.Check,{checked:r,onChange:e=>{var a;if(o(e.currentTarget.checked),0===t.selectedItems.length)return;let r=[];t.selectedItems[0].filters().find((e=>e===va.Filters.Grayscale))?(t.selectedItems[0].filters(t.selectedItems[0].filters().filter((e=>e!==va.Filters.Grayscale))),r=t.selectedItems[0].filters().filter((e=>e!==va.Filters.Grayscale))):(t.selectedItems[0].filters([...t.selectedItems[0].filters(),va.Filters.Grayscale]),r=[...t.selectedItems[0].filters(),va.Filters.Grayscale]),n(t.selectedItems[0].id(),(()=>({...t.selectedItems[0].attrs,_filters:r.map((e=>e.name))}))),null===(a=t.selectedItems[0].getStage())||void 0===a||a.batchDraw()},type:"switch",label:"",id:"grayScaleSwitch"})})]})},Nk=JSON.parse('[{"type":"text","id":"sample-text-1","width":250,"height":35,"fontSize":30,"fontFamily":"serif","text":"hello world!"},{"type":"text","id":"sample-text-2","width":250,"height":35,"fontSize":30,"fontFamily":"\'Fira Mono\', monospace","text":"hello world!"},{"type":"text","id":"sample-text-3","width":250,"height":35,"fontSize":30,"fontFamily":"\'Hurricane\', cursive","text":"hello world!"},{"type":"text","id":"sample-text-4","width":250,"height":35,"fontSize":30,"fontFamily":"\'League Gothic\', sans-serif","text":"hello world!"},{"type":"text","id":"sample-text-5","width":250,"height":35,"fontSize":30,"fontFamily":"\'Roboto Slab\', serif","text":"hello world!"},{"type":"text","id":"sample-text-6","width":250,"height":35,"fontSize":30,"fontFamily":"\'Nanum Gothic\', sans-serif","text":"\uc548\ub155\ud558\uc138\uc694"},{"type":"text","id":"sample-text-7","width":250,"height":35,"fontSize":30,"fontFamily":"\'Do Hyeon\', sans-serif","text":"\uc548\ub155\ud558\uc138\uc694"},{"type":"text","id":"sample-text-8","width":250,"height":35,"fontSize":30,"fontFamily":"\'Gamja Flower\', cursive","text":"\uc548\ub155\ud558\uc138\uc694"},{"type":"text","id":"sample-text-9","width":250,"height":35,"fontSize":30,"fontFamily":"\'Jua\', sans-serif","text":"\uc548\ub155\ud558\uc138\uc694"},{"type":"text","id":"sample-text-10","width":250,"height":35,"fontSize":30,"fontFamily":"\'Noto Sans KR\', sans-serif","text":"\uc548\ub155\ud558\uc138\uc694"},{"type":"text","id":"sample-text-11","width":250,"height":35,"fontSize":30,"fontFamily":"\'Noto Serif KR\', serif","text":"\uc548\ub155\ud558\uc138\uc694"},{"type":"text","id":"sample-text-12","width":250,"height":35,"fontSize":30,"fontFamily":"\'Ma Shan Zheng\', cursive","text":"\u4f60\u662f\u6211\u7684\u670b\u53cb"},{"type":"text","id":"sample-text-13","width":250,"height":35,"fontSize":30,"fontFamily":"\'Noto Serif SC\', serif","text":"\u4f60\u662f\u6211\u7684\u670b\u53cb"},{"type":"text","id":"sample-text-14","width":250,"height":35,"fontSize":30,"fontFamily":"\'ZCOOL KuaiLe\', cursive","text":"\u4f60\u662f\u6211\u7684\u670b\u53cb"},{"type":"text","id":"sample-text-15","width":250,"height":35,"fontSize":30,"fontFamily":"\'M PLUS 1\', sans-serif","text":"\u4eca\u65e5\u306f\u6c17\u6301\u3061\u3044\u3044"},{"type":"text","id":"sample-text-16","width":250,"height":35,"fontSize":30,"fontFamily":"\'Noto Sans JP\', sans-serif","text":"\u4eca\u65e5\u306f\u6c17\u6301\u3061\u3044\u3044"},{"type":"text","id":"sample-text-17","width":250,"height":35,"fontSize":30,"fontFamily":"\'Noto Serif JP\', serif","text":"\u4eca\u65e5\u306f\u6c17\u6301\u3061\u3044\u3044"},{"type":"text","id":"sample-text-18","width":250,"height":35,"fontSize":30,"fontFamily":"\'Rampart One\', cursive","text":"\u4eca\u65e5\u306f\u6c17\u6301\u3061\u3044\u3044"},{"type":"text","id":"sample-text-19","width":250,"height":35,"fontSize":30,"fontFamily":"\'Yuji Hentaigana Akebono\', cursive","text":"\u4eca\u65e5\u306f\u6c17\u6301\u3061\u3044\u3044"},{"type":"text","id":"sample-text-20","width":250,"height":35,"fontSize":30,"fontFamily":"\'Zen Kurenaido\', sans-serif","text":"\u4eca\u65e5\u306f\u6c17\u6301\u3061\u3044\u3044"},{"type":"text","id":"sample-text-21","width":250,"height":35,"fontSize":30,"fontFamily":"\'Anton\', sans-serif","text":"b\u1ea7u tr\u1eddi m\xe0u xanh"},{"type":"text","id":"sample-text-22","width":250,"height":35,"fontSize":30,"fontFamily":"\'Dancing Script\', cursive","text":"b\u1ea7u tr\u1eddi m\xe0u xanh"},{"type":"text","id":"sample-text-23","width":250,"height":35,"fontSize":30,"fontFamily":"\'Inconsolata\', monospace","text":"b\u1ea7u tr\u1eddi m\xe0u xanh"},{"type":"text","id":"sample-text-24","width":250,"height":35,"fontSize":30,"fontFamily":"\'Open Sans\', sans-serif","text":"b\u1ea7u tr\u1eddi m\xe0u xanh"},{"type":"text","id":"sample-text-25","width":250,"height":35,"fontSize":30,"fontFamily":"\'Playfair Display\', serif","text":"b\u1ea7u tr\u1eddi m\xe0u xanh"},{"type":"text","id":"sample-text-26","width":250,"height":35,"fontSize":30,"fontFamily":"\'Roboto Mono\', monospace","text":"b\u1ea7u tr\u1eddi m\xe0u xanh"}]'),Tk=()=>(0,ni.jsx)(Ss,{xs:2,className:[As["mx-h-30vh"]].join(" "),children:Nk.map((e=>{let{type:t,id:n,width:a,height:r,fontSize:o,fontFamily:i,text:s}=e;return(0,ni.jsx)(Ok,{data:{id:n,name:s,width:a,height:r,fontSize:o,fontFamily:i,text:s,"data-item-type":t},maxPx:80},"text-thumbnail-".concat(n))}))}),Ok=e=>{let{data:t,maxPx:n}=e;return(0,ni.jsx)(rc,{as:ws,className:[Rs.absoluteCenter,Rs.wrapTrue].join(" "),children:(0,ni.jsx)(sc,{dragType:"copyMove",dragSrc:{trigger:lc.TEXT,...t},children:(0,ni.jsx)("h6",{style:{width:"100%",fontFamily:t.fontFamily,fontSize:t.fontSize-10,textAlign:"center"},children:t.text})})})},Rk=JSON.parse('[{"type":"align","id":"left","icon":"align-start"},{"type":"align","id":"center","icon":"align-center"},{"type":"align","id":"right","icon":"align-end"},{"type":"align","id":"top","icon":"align-top"},{"type":"align","id":"middle","icon":"align-middle"},{"type":"align","id":"bottom","icon":"align-bottom"}]'),Ak=e=>{let{data:t}=e;return(0,ni.jsx)(ws,{children:(0,ni.jsx)(Ss,{children:Rk.map((e=>(0,ni.jsx)(Pk,{data:{id:e.id,icon:e.icon,"data-item-type":"align",selectedItems:t.selectedItems}},"align-thumbnail-".concat(e.id))))})})},Pk=e=>{let{data:t}=e;const{updateItem:n}=xk(),{getTranslation:a}=Xl(),r=(e,t,a)=>{const{x:r,y:o}=((e,t,n)=>{switch(e){case"left":return Fk(t,n);case"center":return Dk(t,n);case"right":return Mk(t,n);case"top":return Lk(t,n);case"middle":return zk(t,n);case"bottom":return jk(t,n);default:return{x:t.x(),y:t.y()}}})(e,t,a);t.x(r),t.y(o),t.attrs.x=r,t.attrs.y=o,n(t.id(),(()=>t.attrs))};return(0,ni.jsxs)(rc,{as:ws,onClick:(o=t.id,()=>{if(0===t.selectedItems.length)return;if(1===t.selectedItems.length&&"Text"===t.selectedItems[0].className)return void((e,t)=>{var n;["left","center","right"].includes(t)?e.align(t):e.verticalAlign(t),null===(n=e.getStage())||void 0===n||n.batchDraw()})(t.selectedItems[0],o);const e=t.selectedItems.find((e=>"frame"===e.attrs["data-item-type"]));var n;if(e)return t.selectedItems.filter((t=>t.id()!==e.id())).forEach((t=>{r(o,t,e)})),void(null===(n=t.selectedItems[0].getStage())||void 0===n||n.batchDraw());const a=t.selectedItems[0].getStage();var i;a&&(t.selectedItems.forEach((e=>{r(o,e,a)})),null===(i=t.selectedItems[0].getStage())||void 0===i||i.batchDraw())}),className:[Rs.absoluteCenter,Rs.wrapTrue].join(" "),children:[(0,ni.jsx)("i",{className:"bi-".concat(t.icon),style:{fontSize:20,width:25}}),(0,ni.jsx)(rc.Caption,{className:[ic.font075em,As.width100,"text-center"].join(" "),children:"".concat(a("widget","align",t.id,"name"))})]});var o},Fk=(e,t)=>"shape"===e.attrs["data-item-type"]&&4!==e.attrs.sides?{x:t.position().x+e.attrs.radius,y:e.y()}:{x:t.position().x,y:e.y()},Dk=(e,t)=>"shape"===e.attrs["data-item-type"]&&4!==e.attrs.sides?{x:t.position().x+t.size().width*t.scaleX()/2,y:e.y()}:{x:t.position().x+t.size().width*t.scaleX()/2-e.size().width*e.scaleX()/2,y:e.y()},Mk=(e,t)=>"shape"===e.attrs["data-item-type"]&&4!==e.attrs.sides?{x:t.position().x+t.size().width*t.scaleX()-e.attrs.radius,y:e.y()}:{x:t.position().x+t.size().width*t.scaleX()-e.size().width*e.scaleX(),y:e.y()},Lk=(e,t)=>"shape"===e.attrs["data-item-type"]&&4!==e.attrs.sides?{x:e.x(),y:t.position().y+e.attrs.radius}:{x:e.x(),y:t.position().y},zk=(e,t)=>"shape"===e.attrs["data-item-type"]&&4!==e.attrs.sides?{x:e.x(),y:t.position().y+t.size().height*t.scaleY()/2}:{x:e.x(),y:t.position().y+t.size().height*t.scaleY()/2-e.size().height*e.scaleY()/2},jk=(e,t)=>"shape"===e.attrs["data-item-type"]&&4!==e.attrs.sides?{x:e.x(),y:t.position().y+t.size().height*t.scaleY()-e.attrs.radius}:{x:e.x(),y:t.position().y+t.size().height*t.scaleY()-e.size().height*e.scaleY()},Bk=JSON.parse('[{"type":"export","id":"export-all-frame","name":"Export All Frame","icon":"download"},{"type":"export","id":"export-selected","name":"Export Selected Frame","icon":"box-arrow-down"}]'),Wk=e=>{let{data:t}=e;return(0,ni.jsx)(ws,{children:(0,ni.jsx)(Ss,{children:Bk.map((e=>(0,ni.jsx)(Vk,{data:{id:e.id,icon:e.icon,name:e.name,"data-item-type":"export",selectedItems:t.selectedItems,clearSelection:t.clearSelection,stageRef:t.stageRef}},"export-thumbnail-".concat(e.id))))})})},Vk=e=>{let{data:t}=e;const{getTranslation:n}=Xl(),a=e=>{const n=document.createElement("a"),a=null!==e&&void 0!==e?e:t.selectedItems.find((e=>"frame"===e.attrs["data-item-type"]));if(a){const e=a.getStage();t.clearSelection();const r=e.toDataURL({x:a.getClientRect().x,y:a.getClientRect().y,width:a.attrs.width*e.scaleX(),height:a.attrs.height*e.scaleY(),pixelRatio:1/e.scaleX()});r&&(n.download="export.png",n.href=r,document.body.appendChild(n),n.click(),document.body.removeChild(n))}};return(0,ni.jsxs)(rc,{as:ws,onClick:(r=t.id,()=>{"export-all-frame"!==r?a():t.stageRef.current.getChildren()[0].getChildren((e=>"label-group"===e.attrs.name)).map((e=>e.getChildren((e=>"label-target"===e.attrs.name))[0])).forEach((e=>{a(e)}))}),className:[Rs.absoluteCenter,Rs.wrapTrue].join(" "),children:[(0,ni.jsx)("i",{className:"bi-".concat(t.icon),style:{fontSize:20,width:25}}),(0,ni.jsx)(rc.Caption,{className:[ic.font075em,As.width100,"text-center"].join(" "),children:"".concat(n("widget","export",t.id,"name"))})]});var r},Uk=JSON.parse('[{"type":"shape","id":"trianle","icon":"triangle-fill","sides":3,"radius":100},{"type":"shape","id":"square","icon":"square-fill","sides":4,"radius":400},{"type":"shape","id":"pentagon","icon":"pentagon-fill","sides":5,"radius":100},{"type":"shape","id":"hexagon","icon":"hexagon-fill","sides":6,"radius":100},{"type":"shape","id":"heptagon","icon":"heptagon-fill","sides":7,"radius":100},{"type":"shape","id":"octagon","icon":"octagon-fill","sides":8,"radius":100}]'),Gk=()=>(0,ni.jsx)(Ss,{xs:2,children:Uk.map((e=>{let{type:t,id:n,sides:a,radius:r,icon:o}=e;return(0,ni.jsx)(Hk,{data:{id:n,sides:a,radius:r,icon:o,"data-item-type":t},maxPx:80},"shape-thumbnail-".concat(n))}))}),Hk=e=>{let{data:t,maxPx:n}=e;return(0,ni.jsx)(rc,{as:ws,className:[Rs.absoluteCenter,Rs.wrapTrue,As.width25].join(" "),children:(0,ni.jsx)(sc,{dragType:"copyMove",dragSrc:{trigger:lc.SHAPE,...t},children:(0,ni.jsx)("i",{className:["bi-".concat(t.icon)].join(" "),style:{fontSize:20,width:25}})})})},qk=JSON.parse('[{"type":"icon","id":"123","name":"123","icon":"123.svg"},{"type":"icon","id":"activity","name":"activity","icon":"activity.svg"},{"type":"icon","id":"alarm-fill","name":"alarm fill","icon":"alarm-fill.svg"},{"type":"icon","id":"alarm","name":"alarm","icon":"alarm.svg"},{"type":"icon","id":"align-bottom","name":"align bottom","icon":"align-bottom.svg"},{"type":"icon","id":"align-center","name":"align center","icon":"align-center.svg"},{"type":"icon","id":"align-end","name":"align end","icon":"align-end.svg"},{"type":"icon","id":"align-middle","name":"align middle","icon":"align-middle.svg"},{"type":"icon","id":"align-start","name":"align start","icon":"align-start.svg"},{"type":"icon","id":"align-top","name":"align top","icon":"align-top.svg"},{"type":"icon","id":"alt","name":"alt","icon":"alt.svg"},{"type":"icon","id":"app-indicator","name":"app indicator","icon":"app-indicator.svg"},{"type":"icon","id":"app","name":"app","icon":"app.svg"},{"type":"icon","id":"apple","name":"apple","icon":"apple.svg"},{"type":"icon","id":"archive-fill","name":"archive fill","icon":"archive-fill.svg"},{"type":"icon","id":"archive","name":"archive","icon":"archive.svg"},{"type":"icon","id":"arrow-90deg-down","name":"arrow 90deg down","icon":"arrow-90deg-down.svg"},{"type":"icon","id":"arrow-90deg-left","name":"arrow 90deg left","icon":"arrow-90deg-left.svg"},{"type":"icon","id":"arrow-90deg-right","name":"arrow 90deg right","icon":"arrow-90deg-right.svg"},{"type":"icon","id":"arrow-90deg-up","name":"arrow 90deg up","icon":"arrow-90deg-up.svg"},{"type":"icon","id":"arrow-bar-down","name":"arrow bar down","icon":"arrow-bar-down.svg"},{"type":"icon","id":"arrow-bar-left","name":"arrow bar left","icon":"arrow-bar-left.svg"},{"type":"icon","id":"arrow-bar-right","name":"arrow bar right","icon":"arrow-bar-right.svg"},{"type":"icon","id":"arrow-bar-up","name":"arrow bar up","icon":"arrow-bar-up.svg"},{"type":"icon","id":"arrow-clockwise","name":"arrow clockwise","icon":"arrow-clockwise.svg"},{"type":"icon","id":"arrow-counterclockwise","name":"arrow counterclockwise","icon":"arrow-counterclockwise.svg"},{"type":"icon","id":"arrow-down-circle-fill","name":"arrow down circle fill","icon":"arrow-down-circle-fill.svg"},{"type":"icon","id":"arrow-down-circle","name":"arrow down circle","icon":"arrow-down-circle.svg"},{"type":"icon","id":"arrow-down-left-circle-fill","name":"arrow down left circle fill","icon":"arrow-down-left-circle-fill.svg"},{"type":"icon","id":"arrow-down-left-circle","name":"arrow down left circle","icon":"arrow-down-left-circle.svg"},{"type":"icon","id":"arrow-down-left-square-fill","name":"arrow down left square fill","icon":"arrow-down-left-square-fill.svg"},{"type":"icon","id":"arrow-down-left-square","name":"arrow down left square","icon":"arrow-down-left-square.svg"},{"type":"icon","id":"arrow-down-left","name":"arrow down left","icon":"arrow-down-left.svg"},{"type":"icon","id":"arrow-down-right-circle-fill","name":"arrow down right circle fill","icon":"arrow-down-right-circle-fill.svg"},{"type":"icon","id":"arrow-down-right-circle","name":"arrow down right circle","icon":"arrow-down-right-circle.svg"},{"type":"icon","id":"arrow-down-right-square-fill","name":"arrow down right square fill","icon":"arrow-down-right-square-fill.svg"},{"type":"icon","id":"arrow-down-right-square","name":"arrow down right square","icon":"arrow-down-right-square.svg"},{"type":"icon","id":"arrow-down-right","name":"arrow down right","icon":"arrow-down-right.svg"},{"type":"icon","id":"arrow-down-short","name":"arrow down short","icon":"arrow-down-short.svg"},{"type":"icon","id":"arrow-down-square-fill","name":"arrow down square fill","icon":"arrow-down-square-fill.svg"},{"type":"icon","id":"arrow-down-square","name":"arrow down square","icon":"arrow-down-square.svg"},{"type":"icon","id":"arrow-down-up","name":"arrow down up","icon":"arrow-down-up.svg"},{"type":"icon","id":"arrow-down","name":"arrow down","icon":"arrow-down.svg"},{"type":"icon","id":"arrow-left-circle-fill","name":"arrow left circle fill","icon":"arrow-left-circle-fill.svg"},{"type":"icon","id":"arrow-left-circle","name":"arrow left circle","icon":"arrow-left-circle.svg"},{"type":"icon","id":"arrow-left-right","name":"arrow left right","icon":"arrow-left-right.svg"},{"type":"icon","id":"arrow-left-short","name":"arrow left short","icon":"arrow-left-short.svg"},{"type":"icon","id":"arrow-left-square-fill","name":"arrow left square fill","icon":"arrow-left-square-fill.svg"},{"type":"icon","id":"arrow-left-square","name":"arrow left square","icon":"arrow-left-square.svg"},{"type":"icon","id":"arrow-left","name":"arrow left","icon":"arrow-left.svg"},{"type":"icon","id":"arrow-repeat","name":"arrow repeat","icon":"arrow-repeat.svg"},{"type":"icon","id":"arrow-return-left","name":"arrow return left","icon":"arrow-return-left.svg"},{"type":"icon","id":"arrow-return-right","name":"arrow return right","icon":"arrow-return-right.svg"},{"type":"icon","id":"arrow-right-circle-fill","name":"arrow right circle fill","icon":"arrow-right-circle-fill.svg"},{"type":"icon","id":"arrow-right-circle","name":"arrow right circle","icon":"arrow-right-circle.svg"},{"type":"icon","id":"arrow-right-short","name":"arrow right short","icon":"arrow-right-short.svg"},{"type":"icon","id":"arrow-right-square-fill","name":"arrow right square fill","icon":"arrow-right-square-fill.svg"},{"type":"icon","id":"arrow-right-square","name":"arrow right square","icon":"arrow-right-square.svg"},{"type":"icon","id":"arrow-right","name":"arrow right","icon":"arrow-right.svg"},{"type":"icon","id":"arrow-through-heart-fill","name":"arrow through heart fill","icon":"arrow-through-heart-fill.svg"},{"type":"icon","id":"arrow-through-heart","name":"arrow through heart","icon":"arrow-through-heart.svg"},{"type":"icon","id":"arrow-up-circle-fill","name":"arrow up circle fill","icon":"arrow-up-circle-fill.svg"},{"type":"icon","id":"arrow-up-circle","name":"arrow up circle","icon":"arrow-up-circle.svg"},{"type":"icon","id":"arrow-up-left-circle-fill","name":"arrow up left circle fill","icon":"arrow-up-left-circle-fill.svg"},{"type":"icon","id":"arrow-up-left-circle","name":"arrow up left circle","icon":"arrow-up-left-circle.svg"},{"type":"icon","id":"arrow-up-left-square-fill","name":"arrow up left square fill","icon":"arrow-up-left-square-fill.svg"},{"type":"icon","id":"arrow-up-left-square","name":"arrow up left square","icon":"arrow-up-left-square.svg"},{"type":"icon","id":"arrow-up-left","name":"arrow up left","icon":"arrow-up-left.svg"},{"type":"icon","id":"arrow-up-right-circle-fill","name":"arrow up right circle fill","icon":"arrow-up-right-circle-fill.svg"},{"type":"icon","id":"arrow-up-right-circle","name":"arrow up right circle","icon":"arrow-up-right-circle.svg"},{"type":"icon","id":"arrow-up-right-square-fill","name":"arrow up right square fill","icon":"arrow-up-right-square-fill.svg"},{"type":"icon","id":"arrow-up-right-square","name":"arrow up right square","icon":"arrow-up-right-square.svg"},{"type":"icon","id":"arrow-up-right","name":"arrow up right","icon":"arrow-up-right.svg"},{"type":"icon","id":"arrow-up-short","name":"arrow up short","icon":"arrow-up-short.svg"},{"type":"icon","id":"arrow-up-square-fill","name":"arrow up square fill","icon":"arrow-up-square-fill.svg"},{"type":"icon","id":"arrow-up-square","name":"arrow up square","icon":"arrow-up-square.svg"},{"type":"icon","id":"arrow-up","name":"arrow up","icon":"arrow-up.svg"},{"type":"icon","id":"arrows-angle-contract","name":"arrows angle contract","icon":"arrows-angle-contract.svg"},{"type":"icon","id":"arrows-angle-expand","name":"arrows angle expand","icon":"arrows-angle-expand.svg"},{"type":"icon","id":"arrows-collapse","name":"arrows collapse","icon":"arrows-collapse.svg"},{"type":"icon","id":"arrows-expand","name":"arrows expand","icon":"arrows-expand.svg"},{"type":"icon","id":"arrows-fullscreen","name":"arrows fullscreen","icon":"arrows-fullscreen.svg"},{"type":"icon","id":"arrows-move","name":"arrows move","icon":"arrows-move.svg"},{"type":"icon","id":"aspect-ratio-fill","name":"aspect ratio fill","icon":"aspect-ratio-fill.svg"},{"type":"icon","id":"aspect-ratio","name":"aspect ratio","icon":"aspect-ratio.svg"},{"type":"icon","id":"asterisk","name":"asterisk","icon":"asterisk.svg"},{"type":"icon","id":"at","name":"at","icon":"at.svg"},{"type":"icon","id":"award-fill","name":"award fill","icon":"award-fill.svg"},{"type":"icon","id":"award","name":"award","icon":"award.svg"},{"type":"icon","id":"back","name":"back","icon":"back.svg"},{"type":"icon","id":"backspace-fill","name":"backspace fill","icon":"backspace-fill.svg"},{"type":"icon","id":"backspace-reverse-fill","name":"backspace reverse fill","icon":"backspace-reverse-fill.svg"},{"type":"icon","id":"backspace-reverse","name":"backspace reverse","icon":"backspace-reverse.svg"},{"type":"icon","id":"backspace","name":"backspace","icon":"backspace.svg"},{"type":"icon","id":"badge-3d-fill","name":"badge 3d fill","icon":"badge-3d-fill.svg"},{"type":"icon","id":"badge-3d","name":"badge 3d","icon":"badge-3d.svg"},{"type":"icon","id":"badge-4k-fill","name":"badge 4k fill","icon":"badge-4k-fill.svg"},{"type":"icon","id":"badge-4k","name":"badge 4k","icon":"badge-4k.svg"},{"type":"icon","id":"badge-8k-fill","name":"badge 8k fill","icon":"badge-8k-fill.svg"},{"type":"icon","id":"badge-8k","name":"badge 8k","icon":"badge-8k.svg"},{"type":"icon","id":"badge-ad-fill","name":"badge ad fill","icon":"badge-ad-fill.svg"},{"type":"icon","id":"badge-ad","name":"badge ad","icon":"badge-ad.svg"},{"type":"icon","id":"badge-ar-fill","name":"badge ar fill","icon":"badge-ar-fill.svg"},{"type":"icon","id":"badge-ar","name":"badge ar","icon":"badge-ar.svg"},{"type":"icon","id":"badge-cc-fill","name":"badge cc fill","icon":"badge-cc-fill.svg"},{"type":"icon","id":"badge-cc","name":"badge cc","icon":"badge-cc.svg"},{"type":"icon","id":"badge-hd-fill","name":"badge hd fill","icon":"badge-hd-fill.svg"},{"type":"icon","id":"badge-hd","name":"badge hd","icon":"badge-hd.svg"},{"type":"icon","id":"badge-sd-fill","name":"badge sd fill","icon":"badge-sd-fill.svg"},{"type":"icon","id":"badge-sd","name":"badge sd","icon":"badge-sd.svg"},{"type":"icon","id":"badge-tm-fill","name":"badge tm fill","icon":"badge-tm-fill.svg"},{"type":"icon","id":"badge-tm","name":"badge tm","icon":"badge-tm.svg"},{"type":"icon","id":"badge-vo-fill","name":"badge vo fill","icon":"badge-vo-fill.svg"},{"type":"icon","id":"badge-vo","name":"badge vo","icon":"badge-vo.svg"},{"type":"icon","id":"badge-vr-fill","name":"badge vr fill","icon":"badge-vr-fill.svg"},{"type":"icon","id":"badge-vr","name":"badge vr","icon":"badge-vr.svg"},{"type":"icon","id":"badge-wc-fill","name":"badge wc fill","icon":"badge-wc-fill.svg"},{"type":"icon","id":"badge-wc","name":"badge wc","icon":"badge-wc.svg"},{"type":"icon","id":"bag-check-fill","name":"bag check fill","icon":"bag-check-fill.svg"},{"type":"icon","id":"bag-check","name":"bag check","icon":"bag-check.svg"},{"type":"icon","id":"bag-dash-fill","name":"bag dash fill","icon":"bag-dash-fill.svg"},{"type":"icon","id":"bag-dash","name":"bag dash","icon":"bag-dash.svg"},{"type":"icon","id":"bag-fill","name":"bag fill","icon":"bag-fill.svg"},{"type":"icon","id":"bag-heart-fill","name":"bag heart fill","icon":"bag-heart-fill.svg"},{"type":"icon","id":"bag-heart","name":"bag heart","icon":"bag-heart.svg"},{"type":"icon","id":"bag-plus-fill","name":"bag plus fill","icon":"bag-plus-fill.svg"},{"type":"icon","id":"bag-plus","name":"bag plus","icon":"bag-plus.svg"},{"type":"icon","id":"bag-x-fill","name":"bag x fill","icon":"bag-x-fill.svg"},{"type":"icon","id":"bag-x","name":"bag x","icon":"bag-x.svg"},{"type":"icon","id":"bag","name":"bag","icon":"bag.svg"},{"type":"icon","id":"balloon-fill","name":"balloon fill","icon":"balloon-fill.svg"},{"type":"icon","id":"balloon-heart-fill","name":"balloon heart fill","icon":"balloon-heart-fill.svg"},{"type":"icon","id":"balloon-heart","name":"balloon heart","icon":"balloon-heart.svg"},{"type":"icon","id":"balloon","name":"balloon","icon":"balloon.svg"},{"type":"icon","id":"bandaid-fill","name":"bandaid fill","icon":"bandaid-fill.svg"},{"type":"icon","id":"bandaid","name":"bandaid","icon":"bandaid.svg"},{"type":"icon","id":"bank","name":"bank","icon":"bank.svg"},{"type":"icon","id":"bank2","name":"bank2","icon":"bank2.svg"},{"type":"icon","id":"bar-chart-fill","name":"bar chart fill","icon":"bar-chart-fill.svg"},{"type":"icon","id":"bar-chart-line-fill","name":"bar chart line fill","icon":"bar-chart-line-fill.svg"},{"type":"icon","id":"bar-chart-line","name":"bar chart line","icon":"bar-chart-line.svg"},{"type":"icon","id":"bar-chart-steps","name":"bar chart steps","icon":"bar-chart-steps.svg"},{"type":"icon","id":"bar-chart","name":"bar chart","icon":"bar-chart.svg"},{"type":"icon","id":"basket-fill","name":"basket fill","icon":"basket-fill.svg"},{"type":"icon","id":"basket","name":"basket","icon":"basket.svg"},{"type":"icon","id":"basket2-fill","name":"basket2 fill","icon":"basket2-fill.svg"},{"type":"icon","id":"basket2","name":"basket2","icon":"basket2.svg"},{"type":"icon","id":"basket3-fill","name":"basket3 fill","icon":"basket3-fill.svg"},{"type":"icon","id":"basket3","name":"basket3","icon":"basket3.svg"},{"type":"icon","id":"battery-charging","name":"battery charging","icon":"battery-charging.svg"},{"type":"icon","id":"battery-full","name":"battery full","icon":"battery-full.svg"},{"type":"icon","id":"battery-half","name":"battery half","icon":"battery-half.svg"},{"type":"icon","id":"battery","name":"battery","icon":"battery.svg"},{"type":"icon","id":"behance","name":"behance","icon":"behance.svg"},{"type":"icon","id":"bell-fill","name":"bell fill","icon":"bell-fill.svg"},{"type":"icon","id":"bell-slash-fill","name":"bell slash fill","icon":"bell-slash-fill.svg"},{"type":"icon","id":"bell-slash","name":"bell slash","icon":"bell-slash.svg"},{"type":"icon","id":"bell","name":"bell","icon":"bell.svg"},{"type":"icon","id":"bezier","name":"bezier","icon":"bezier.svg"},{"type":"icon","id":"bezier2","name":"bezier2","icon":"bezier2.svg"},{"type":"icon","id":"bicycle","name":"bicycle","icon":"bicycle.svg"},{"type":"icon","id":"binoculars-fill","name":"binoculars fill","icon":"binoculars-fill.svg"},{"type":"icon","id":"binoculars","name":"binoculars","icon":"binoculars.svg"},{"type":"icon","id":"blockquote-left","name":"blockquote left","icon":"blockquote-left.svg"},{"type":"icon","id":"blockquote-right","name":"blockquote right","icon":"blockquote-right.svg"},{"type":"icon","id":"bluetooth","name":"bluetooth","icon":"bluetooth.svg"},{"type":"icon","id":"body-text","name":"body text","icon":"body-text.svg"},{"type":"icon","id":"book-fill","name":"book fill","icon":"book-fill.svg"},{"type":"icon","id":"book-half","name":"book half","icon":"book-half.svg"},{"type":"icon","id":"book","name":"book","icon":"book.svg"},{"type":"icon","id":"bookmark-check-fill","name":"bookmark check fill","icon":"bookmark-check-fill.svg"},{"type":"icon","id":"bookmark-check","name":"bookmark check","icon":"bookmark-check.svg"},{"type":"icon","id":"bookmark-dash-fill","name":"bookmark dash fill","icon":"bookmark-dash-fill.svg"},{"type":"icon","id":"bookmark-dash","name":"bookmark dash","icon":"bookmark-dash.svg"},{"type":"icon","id":"bookmark-fill","name":"bookmark fill","icon":"bookmark-fill.svg"},{"type":"icon","id":"bookmark-heart-fill","name":"bookmark heart fill","icon":"bookmark-heart-fill.svg"},{"type":"icon","id":"bookmark-heart","name":"bookmark heart","icon":"bookmark-heart.svg"},{"type":"icon","id":"bookmark-plus-fill","name":"bookmark plus fill","icon":"bookmark-plus-fill.svg"},{"type":"icon","id":"bookmark-plus","name":"bookmark plus","icon":"bookmark-plus.svg"},{"type":"icon","id":"bookmark-star-fill","name":"bookmark star fill","icon":"bookmark-star-fill.svg"},{"type":"icon","id":"bookmark-star","name":"bookmark star","icon":"bookmark-star.svg"},{"type":"icon","id":"bookmark-x-fill","name":"bookmark x fill","icon":"bookmark-x-fill.svg"},{"type":"icon","id":"bookmark-x","name":"bookmark x","icon":"bookmark-x.svg"},{"type":"icon","id":"bookmark","name":"bookmark","icon":"bookmark.svg"},{"type":"icon","id":"bookmarks-fill","name":"bookmarks fill","icon":"bookmarks-fill.svg"},{"type":"icon","id":"bookmarks","name":"bookmarks","icon":"bookmarks.svg"},{"type":"icon","id":"bookshelf","name":"bookshelf","icon":"bookshelf.svg"},{"type":"icon","id":"boombox-fill","name":"boombox fill","icon":"boombox-fill.svg"},{"type":"icon","id":"boombox","name":"boombox","icon":"boombox.svg"},{"type":"icon","id":"bootstrap-fill","name":"bootstrap fill","icon":"bootstrap-fill.svg"},{"type":"icon","id":"bootstrap-icons","name":"bootstrap icons","icon":"bootstrap-icons.svg"},{"type":"icon","id":"bootstrap-reboot","name":"bootstrap reboot","icon":"bootstrap-reboot.svg"},{"type":"icon","id":"bootstrap","name":"bootstrap","icon":"bootstrap.svg"},{"type":"icon","id":"border-all","name":"border all","icon":"border-all.svg"},{"type":"icon","id":"border-bottom","name":"border bottom","icon":"border-bottom.svg"},{"type":"icon","id":"border-center","name":"border center","icon":"border-center.svg"},{"type":"icon","id":"border-inner","name":"border inner","icon":"border-inner.svg"},{"type":"icon","id":"border-left","name":"border left","icon":"border-left.svg"},{"type":"icon","id":"border-middle","name":"border middle","icon":"border-middle.svg"},{"type":"icon","id":"border-outer","name":"border outer","icon":"border-outer.svg"},{"type":"icon","id":"border-right","name":"border right","icon":"border-right.svg"},{"type":"icon","id":"border-style","name":"border style","icon":"border-style.svg"},{"type":"icon","id":"border-top","name":"border top","icon":"border-top.svg"},{"type":"icon","id":"border-width","name":"border width","icon":"border-width.svg"},{"type":"icon","id":"border","name":"border","icon":"border.svg"},{"type":"icon","id":"bounding-box-circles","name":"bounding box circles","icon":"bounding-box-circles.svg"},{"type":"icon","id":"bounding-box","name":"bounding box","icon":"bounding-box.svg"},{"type":"icon","id":"box-arrow-down-left","name":"box arrow down left","icon":"box-arrow-down-left.svg"},{"type":"icon","id":"box-arrow-down-right","name":"box arrow down right","icon":"box-arrow-down-right.svg"},{"type":"icon","id":"box-arrow-down","name":"box arrow down","icon":"box-arrow-down.svg"},{"type":"icon","id":"box-arrow-in-down-left","name":"box arrow in down left","icon":"box-arrow-in-down-left.svg"},{"type":"icon","id":"box-arrow-in-down-right","name":"box arrow in down right","icon":"box-arrow-in-down-right.svg"},{"type":"icon","id":"box-arrow-in-down","name":"box arrow in down","icon":"box-arrow-in-down.svg"},{"type":"icon","id":"box-arrow-in-left","name":"box arrow in left","icon":"box-arrow-in-left.svg"},{"type":"icon","id":"box-arrow-in-right","name":"box arrow in right","icon":"box-arrow-in-right.svg"},{"type":"icon","id":"box-arrow-in-up-left","name":"box arrow in up left","icon":"box-arrow-in-up-left.svg"},{"type":"icon","id":"box-arrow-in-up-right","name":"box arrow in up right","icon":"box-arrow-in-up-right.svg"},{"type":"icon","id":"box-arrow-in-up","name":"box arrow in up","icon":"box-arrow-in-up.svg"},{"type":"icon","id":"box-arrow-left","name":"box arrow left","icon":"box-arrow-left.svg"},{"type":"icon","id":"box-arrow-right","name":"box arrow right","icon":"box-arrow-right.svg"},{"type":"icon","id":"box-arrow-up-left","name":"box arrow up left","icon":"box-arrow-up-left.svg"},{"type":"icon","id":"box-arrow-up-right","name":"box arrow up right","icon":"box-arrow-up-right.svg"},{"type":"icon","id":"box-arrow-up","name":"box arrow up","icon":"box-arrow-up.svg"},{"type":"icon","id":"box-seam","name":"box seam","icon":"box-seam.svg"},{"type":"icon","id":"box","name":"box","icon":"box.svg"},{"type":"icon","id":"box2-fill","name":"box2 fill","icon":"box2-fill.svg"},{"type":"icon","id":"box2-heart-fill","name":"box2 heart fill","icon":"box2-heart-fill.svg"},{"type":"icon","id":"box2-heart","name":"box2 heart","icon":"box2-heart.svg"},{"type":"icon","id":"box2","name":"box2","icon":"box2.svg"},{"type":"icon","id":"boxes","name":"boxes","icon":"boxes.svg"},{"type":"icon","id":"braces-asterisk","name":"braces asterisk","icon":"braces-asterisk.svg"},{"type":"icon","id":"braces","name":"braces","icon":"braces.svg"},{"type":"icon","id":"bricks","name":"bricks","icon":"bricks.svg"},{"type":"icon","id":"briefcase-fill","name":"briefcase fill","icon":"briefcase-fill.svg"},{"type":"icon","id":"briefcase","name":"briefcase","icon":"briefcase.svg"},{"type":"icon","id":"brightness-alt-high-fill","name":"brightness alt high fill","icon":"brightness-alt-high-fill.svg"},{"type":"icon","id":"brightness-alt-high","name":"brightness alt high","icon":"brightness-alt-high.svg"},{"type":"icon","id":"brightness-alt-low-fill","name":"brightness alt low fill","icon":"brightness-alt-low-fill.svg"},{"type":"icon","id":"brightness-alt-low","name":"brightness alt low","icon":"brightness-alt-low.svg"},{"type":"icon","id":"brightness-high-fill","name":"brightness high fill","icon":"brightness-high-fill.svg"},{"type":"icon","id":"brightness-high","name":"brightness high","icon":"brightness-high.svg"},{"type":"icon","id":"brightness-low-fill","name":"brightness low fill","icon":"brightness-low-fill.svg"},{"type":"icon","id":"brightness-low","name":"brightness low","icon":"brightness-low.svg"},{"type":"icon","id":"broadcast-pin","name":"broadcast pin","icon":"broadcast-pin.svg"},{"type":"icon","id":"broadcast","name":"broadcast","icon":"broadcast.svg"},{"type":"icon","id":"brush-fill","name":"brush fill","icon":"brush-fill.svg"},{"type":"icon","id":"brush","name":"brush","icon":"brush.svg"},{"type":"icon","id":"bucket-fill","name":"bucket fill","icon":"bucket-fill.svg"},{"type":"icon","id":"bucket","name":"bucket","icon":"bucket.svg"},{"type":"icon","id":"bug-fill","name":"bug fill","icon":"bug-fill.svg"},{"type":"icon","id":"bug","name":"bug","icon":"bug.svg"},{"type":"icon","id":"building","name":"building","icon":"building.svg"},{"type":"icon","id":"bullseye","name":"bullseye","icon":"bullseye.svg"},{"type":"icon","id":"calculator-fill","name":"calculator fill","icon":"calculator-fill.svg"},{"type":"icon","id":"calculator","name":"calculator","icon":"calculator.svg"},{"type":"icon","id":"calendar-check-fill","name":"calendar check fill","icon":"calendar-check-fill.svg"},{"type":"icon","id":"calendar-check","name":"calendar check","icon":"calendar-check.svg"},{"type":"icon","id":"calendar-date-fill","name":"calendar date fill","icon":"calendar-date-fill.svg"},{"type":"icon","id":"calendar-date","name":"calendar date","icon":"calendar-date.svg"},{"type":"icon","id":"calendar-day-fill","name":"calendar day fill","icon":"calendar-day-fill.svg"},{"type":"icon","id":"calendar-day","name":"calendar day","icon":"calendar-day.svg"},{"type":"icon","id":"calendar-event-fill","name":"calendar event fill","icon":"calendar-event-fill.svg"},{"type":"icon","id":"calendar-event","name":"calendar event","icon":"calendar-event.svg"},{"type":"icon","id":"calendar-fill","name":"calendar fill","icon":"calendar-fill.svg"},{"type":"icon","id":"calendar-heart-fill","name":"calendar heart fill","icon":"calendar-heart-fill.svg"},{"type":"icon","id":"calendar-heart","name":"calendar heart","icon":"calendar-heart.svg"},{"type":"icon","id":"calendar-minus-fill","name":"calendar minus fill","icon":"calendar-minus-fill.svg"},{"type":"icon","id":"calendar-minus","name":"calendar minus","icon":"calendar-minus.svg"},{"type":"icon","id":"calendar-month-fill","name":"calendar month fill","icon":"calendar-month-fill.svg"},{"type":"icon","id":"calendar-month","name":"calendar month","icon":"calendar-month.svg"},{"type":"icon","id":"calendar-plus-fill","name":"calendar plus fill","icon":"calendar-plus-fill.svg"},{"type":"icon","id":"calendar-plus","name":"calendar plus","icon":"calendar-plus.svg"},{"type":"icon","id":"calendar-range-fill","name":"calendar range fill","icon":"calendar-range-fill.svg"},{"type":"icon","id":"calendar-range","name":"calendar range","icon":"calendar-range.svg"},{"type":"icon","id":"calendar-week-fill","name":"calendar week fill","icon":"calendar-week-fill.svg"},{"type":"icon","id":"calendar-week","name":"calendar week","icon":"calendar-week.svg"},{"type":"icon","id":"calendar-x-fill","name":"calendar x fill","icon":"calendar-x-fill.svg"},{"type":"icon","id":"calendar-x","name":"calendar x","icon":"calendar-x.svg"},{"type":"icon","id":"calendar","name":"calendar","icon":"calendar.svg"},{"type":"icon","id":"calendar2-check-fill","name":"calendar2 check fill","icon":"calendar2-check-fill.svg"},{"type":"icon","id":"calendar2-check","name":"calendar2 check","icon":"calendar2-check.svg"},{"type":"icon","id":"calendar2-date-fill","name":"calendar2 date fill","icon":"calendar2-date-fill.svg"},{"type":"icon","id":"calendar2-date","name":"calendar2 date","icon":"calendar2-date.svg"},{"type":"icon","id":"calendar2-day-fill","name":"calendar2 day fill","icon":"calendar2-day-fill.svg"},{"type":"icon","id":"calendar2-day","name":"calendar2 day","icon":"calendar2-day.svg"},{"type":"icon","id":"calendar2-event-fill","name":"calendar2 event fill","icon":"calendar2-event-fill.svg"},{"type":"icon","id":"calendar2-event","name":"calendar2 event","icon":"calendar2-event.svg"},{"type":"icon","id":"calendar2-fill","name":"calendar2 fill","icon":"calendar2-fill.svg"},{"type":"icon","id":"calendar2-heart-fill","name":"calendar2 heart fill","icon":"calendar2-heart-fill.svg"},{"type":"icon","id":"calendar2-heart","name":"calendar2 heart","icon":"calendar2-heart.svg"},{"type":"icon","id":"calendar2-minus-fill","name":"calendar2 minus fill","icon":"calendar2-minus-fill.svg"},{"type":"icon","id":"calendar2-minus","name":"calendar2 minus","icon":"calendar2-minus.svg"},{"type":"icon","id":"calendar2-month-fill","name":"calendar2 month fill","icon":"calendar2-month-fill.svg"},{"type":"icon","id":"calendar2-month","name":"calendar2 month","icon":"calendar2-month.svg"},{"type":"icon","id":"calendar2-plus-fill","name":"calendar2 plus fill","icon":"calendar2-plus-fill.svg"},{"type":"icon","id":"calendar2-plus","name":"calendar2 plus","icon":"calendar2-plus.svg"},{"type":"icon","id":"calendar2-range-fill","name":"calendar2 range fill","icon":"calendar2-range-fill.svg"},{"type":"icon","id":"calendar2-range","name":"calendar2 range","icon":"calendar2-range.svg"},{"type":"icon","id":"calendar2-week-fill","name":"calendar2 week fill","icon":"calendar2-week-fill.svg"},{"type":"icon","id":"calendar2-week","name":"calendar2 week","icon":"calendar2-week.svg"},{"type":"icon","id":"calendar2-x-fill","name":"calendar2 x fill","icon":"calendar2-x-fill.svg"},{"type":"icon","id":"calendar2-x","name":"calendar2 x","icon":"calendar2-x.svg"},{"type":"icon","id":"calendar2","name":"calendar2","icon":"calendar2.svg"},{"type":"icon","id":"calendar3-event-fill","name":"calendar3 event fill","icon":"calendar3-event-fill.svg"},{"type":"icon","id":"calendar3-event","name":"calendar3 event","icon":"calendar3-event.svg"},{"type":"icon","id":"calendar3-fill","name":"calendar3 fill","icon":"calendar3-fill.svg"},{"type":"icon","id":"calendar3-range-fill","name":"calendar3 range fill","icon":"calendar3-range-fill.svg"},{"type":"icon","id":"calendar3-range","name":"calendar3 range","icon":"calendar3-range.svg"},{"type":"icon","id":"calendar3-week-fill","name":"calendar3 week fill","icon":"calendar3-week-fill.svg"},{"type":"icon","id":"calendar3-week","name":"calendar3 week","icon":"calendar3-week.svg"},{"type":"icon","id":"calendar3","name":"calendar3","icon":"calendar3.svg"},{"type":"icon","id":"calendar4-event","name":"calendar4 event","icon":"calendar4-event.svg"},{"type":"icon","id":"calendar4-range","name":"calendar4 range","icon":"calendar4-range.svg"},{"type":"icon","id":"calendar4-week","name":"calendar4 week","icon":"calendar4-week.svg"},{"type":"icon","id":"calendar4","name":"calendar4","icon":"calendar4.svg"},{"type":"icon","id":"camera-fill","name":"camera fill","icon":"camera-fill.svg"},{"type":"icon","id":"camera-reels-fill","name":"camera reels fill","icon":"camera-reels-fill.svg"},{"type":"icon","id":"camera-reels","name":"camera reels","icon":"camera-reels.svg"},{"type":"icon","id":"camera-video-fill","name":"camera video fill","icon":"camera-video-fill.svg"},{"type":"icon","id":"camera-video-off-fill","name":"camera video off fill","icon":"camera-video-off-fill.svg"},{"type":"icon","id":"camera-video-off","name":"camera video off","icon":"camera-video-off.svg"},{"type":"icon","id":"camera-video","name":"camera video","icon":"camera-video.svg"},{"type":"icon","id":"camera","name":"camera","icon":"camera.svg"},{"type":"icon","id":"camera2","name":"camera2","icon":"camera2.svg"},{"type":"icon","id":"capslock-fill","name":"capslock fill","icon":"capslock-fill.svg"},{"type":"icon","id":"capslock","name":"capslock","icon":"capslock.svg"},{"type":"icon","id":"card-checklist","name":"card checklist","icon":"card-checklist.svg"},{"type":"icon","id":"card-heading","name":"card heading","icon":"card-heading.svg"},{"type":"icon","id":"card-image","name":"card image","icon":"card-image.svg"},{"type":"icon","id":"card-list","name":"card list","icon":"card-list.svg"},{"type":"icon","id":"card-text","name":"card text","icon":"card-text.svg"},{"type":"icon","id":"caret-down-fill","name":"caret down fill","icon":"caret-down-fill.svg"},{"type":"icon","id":"caret-down-square-fill","name":"caret down square fill","icon":"caret-down-square-fill.svg"},{"type":"icon","id":"caret-down-square","name":"caret down square","icon":"caret-down-square.svg"},{"type":"icon","id":"caret-down","name":"caret down","icon":"caret-down.svg"},{"type":"icon","id":"caret-left-fill","name":"caret left fill","icon":"caret-left-fill.svg"},{"type":"icon","id":"caret-left-square-fill","name":"caret left square fill","icon":"caret-left-square-fill.svg"},{"type":"icon","id":"caret-left-square","name":"caret left square","icon":"caret-left-square.svg"},{"type":"icon","id":"caret-left","name":"caret left","icon":"caret-left.svg"},{"type":"icon","id":"caret-right-fill","name":"caret right fill","icon":"caret-right-fill.svg"},{"type":"icon","id":"caret-right-square-fill","name":"caret right square fill","icon":"caret-right-square-fill.svg"},{"type":"icon","id":"caret-right-square","name":"caret right square","icon":"caret-right-square.svg"},{"type":"icon","id":"caret-right","name":"caret right","icon":"caret-right.svg"},{"type":"icon","id":"caret-up-fill","name":"caret up fill","icon":"caret-up-fill.svg"},{"type":"icon","id":"caret-up-square-fill","name":"caret up square fill","icon":"caret-up-square-fill.svg"},{"type":"icon","id":"caret-up-square","name":"caret up square","icon":"caret-up-square.svg"},{"type":"icon","id":"caret-up","name":"caret up","icon":"caret-up.svg"},{"type":"icon","id":"cart-check-fill","name":"cart check fill","icon":"cart-check-fill.svg"},{"type":"icon","id":"cart-check","name":"cart check","icon":"cart-check.svg"},{"type":"icon","id":"cart-dash-fill","name":"cart dash fill","icon":"cart-dash-fill.svg"},{"type":"icon","id":"cart-dash","name":"cart dash","icon":"cart-dash.svg"},{"type":"icon","id":"cart-fill","name":"cart fill","icon":"cart-fill.svg"},{"type":"icon","id":"cart-plus-fill","name":"cart plus fill","icon":"cart-plus-fill.svg"},{"type":"icon","id":"cart-plus","name":"cart plus","icon":"cart-plus.svg"},{"type":"icon","id":"cart-x-fill","name":"cart x fill","icon":"cart-x-fill.svg"},{"type":"icon","id":"cart-x","name":"cart x","icon":"cart-x.svg"},{"type":"icon","id":"cart","name":"cart","icon":"cart.svg"},{"type":"icon","id":"cart2","name":"cart2","icon":"cart2.svg"},{"type":"icon","id":"cart3","name":"cart3","icon":"cart3.svg"},{"type":"icon","id":"cart4","name":"cart4","icon":"cart4.svg"},{"type":"icon","id":"cash-coin","name":"cash coin","icon":"cash-coin.svg"},{"type":"icon","id":"cash-stack","name":"cash stack","icon":"cash-stack.svg"},{"type":"icon","id":"cash","name":"cash","icon":"cash.svg"},{"type":"icon","id":"cast","name":"cast","icon":"cast.svg"},{"type":"icon","id":"chat-dots-fill","name":"chat dots fill","icon":"chat-dots-fill.svg"},{"type":"icon","id":"chat-dots","name":"chat dots","icon":"chat-dots.svg"},{"type":"icon","id":"chat-fill","name":"chat fill","icon":"chat-fill.svg"},{"type":"icon","id":"chat-heart-fill","name":"chat heart fill","icon":"chat-heart-fill.svg"},{"type":"icon","id":"chat-heart","name":"chat heart","icon":"chat-heart.svg"},{"type":"icon","id":"chat-left-dots-fill","name":"chat left dots fill","icon":"chat-left-dots-fill.svg"},{"type":"icon","id":"chat-left-dots","name":"chat left dots","icon":"chat-left-dots.svg"},{"type":"icon","id":"chat-left-fill","name":"chat left fill","icon":"chat-left-fill.svg"},{"type":"icon","id":"chat-left-heart-fill","name":"chat left heart fill","icon":"chat-left-heart-fill.svg"},{"type":"icon","id":"chat-left-heart","name":"chat left heart","icon":"chat-left-heart.svg"},{"type":"icon","id":"chat-left-quote-fill","name":"chat left quote fill","icon":"chat-left-quote-fill.svg"},{"type":"icon","id":"chat-left-quote","name":"chat left quote","icon":"chat-left-quote.svg"},{"type":"icon","id":"chat-left-text-fill","name":"chat left text fill","icon":"chat-left-text-fill.svg"},{"type":"icon","id":"chat-left-text","name":"chat left text","icon":"chat-left-text.svg"},{"type":"icon","id":"chat-left","name":"chat left","icon":"chat-left.svg"},{"type":"icon","id":"chat-quote-fill","name":"chat quote fill","icon":"chat-quote-fill.svg"},{"type":"icon","id":"chat-quote","name":"chat quote","icon":"chat-quote.svg"},{"type":"icon","id":"chat-right-dots-fill","name":"chat right dots fill","icon":"chat-right-dots-fill.svg"},{"type":"icon","id":"chat-right-dots","name":"chat right dots","icon":"chat-right-dots.svg"},{"type":"icon","id":"chat-right-fill","name":"chat right fill","icon":"chat-right-fill.svg"},{"type":"icon","id":"chat-right-heart-fill","name":"chat right heart fill","icon":"chat-right-heart-fill.svg"},{"type":"icon","id":"chat-right-heart","name":"chat right heart","icon":"chat-right-heart.svg"},{"type":"icon","id":"chat-right-quote-fill","name":"chat right quote fill","icon":"chat-right-quote-fill.svg"},{"type":"icon","id":"chat-right-quote","name":"chat right quote","icon":"chat-right-quote.svg"},{"type":"icon","id":"chat-right-text-fill","name":"chat right text fill","icon":"chat-right-text-fill.svg"},{"type":"icon","id":"chat-right-text","name":"chat right text","icon":"chat-right-text.svg"},{"type":"icon","id":"chat-right","name":"chat right","icon":"chat-right.svg"},{"type":"icon","id":"chat-square-dots-fill","name":"chat square dots fill","icon":"chat-square-dots-fill.svg"},{"type":"icon","id":"chat-square-dots","name":"chat square dots","icon":"chat-square-dots.svg"},{"type":"icon","id":"chat-square-fill","name":"chat square fill","icon":"chat-square-fill.svg"},{"type":"icon","id":"chat-square-heart-fill","name":"chat square heart fill","icon":"chat-square-heart-fill.svg"},{"type":"icon","id":"chat-square-heart","name":"chat square heart","icon":"chat-square-heart.svg"},{"type":"icon","id":"chat-square-quote-fill","name":"chat square quote fill","icon":"chat-square-quote-fill.svg"},{"type":"icon","id":"chat-square-quote","name":"chat square quote","icon":"chat-square-quote.svg"},{"type":"icon","id":"chat-square-text-fill","name":"chat square text fill","icon":"chat-square-text-fill.svg"},{"type":"icon","id":"chat-square-text","name":"chat square text","icon":"chat-square-text.svg"},{"type":"icon","id":"chat-square","name":"chat square","icon":"chat-square.svg"},{"type":"icon","id":"chat-text-fill","name":"chat text fill","icon":"chat-text-fill.svg"},{"type":"icon","id":"chat-text","name":"chat text","icon":"chat-text.svg"},{"type":"icon","id":"chat","name":"chat","icon":"chat.svg"},{"type":"icon","id":"check-all","name":"check all","icon":"check-all.svg"},{"type":"icon","id":"check-circle-fill","name":"check circle fill","icon":"check-circle-fill.svg"},{"type":"icon","id":"check-circle","name":"check circle","icon":"check-circle.svg"},{"type":"icon","id":"check-lg","name":"check lg","icon":"check-lg.svg"},{"type":"icon","id":"check-square-fill","name":"check square fill","icon":"check-square-fill.svg"},{"type":"icon","id":"check-square","name":"check square","icon":"check-square.svg"},{"type":"icon","id":"check","name":"check","icon":"check.svg"},{"type":"icon","id":"check2-all","name":"check2 all","icon":"check2-all.svg"},{"type":"icon","id":"check2-circle","name":"check2 circle","icon":"check2-circle.svg"},{"type":"icon","id":"check2-square","name":"check2 square","icon":"check2-square.svg"},{"type":"icon","id":"check2","name":"check2","icon":"check2.svg"},{"type":"icon","id":"chevron-bar-contract","name":"chevron bar contract","icon":"chevron-bar-contract.svg"},{"type":"icon","id":"chevron-bar-down","name":"chevron bar down","icon":"chevron-bar-down.svg"},{"type":"icon","id":"chevron-bar-expand","name":"chevron bar expand","icon":"chevron-bar-expand.svg"},{"type":"icon","id":"chevron-bar-left","name":"chevron bar left","icon":"chevron-bar-left.svg"},{"type":"icon","id":"chevron-bar-right","name":"chevron bar right","icon":"chevron-bar-right.svg"},{"type":"icon","id":"chevron-bar-up","name":"chevron bar up","icon":"chevron-bar-up.svg"},{"type":"icon","id":"chevron-compact-down","name":"chevron compact down","icon":"chevron-compact-down.svg"},{"type":"icon","id":"chevron-compact-left","name":"chevron compact left","icon":"chevron-compact-left.svg"},{"type":"icon","id":"chevron-compact-right","name":"chevron compact right","icon":"chevron-compact-right.svg"},{"type":"icon","id":"chevron-compact-up","name":"chevron compact up","icon":"chevron-compact-up.svg"},{"type":"icon","id":"chevron-contract","name":"chevron contract","icon":"chevron-contract.svg"},{"type":"icon","id":"chevron-double-down","name":"chevron double down","icon":"chevron-double-down.svg"},{"type":"icon","id":"chevron-double-left","name":"chevron double left","icon":"chevron-double-left.svg"},{"type":"icon","id":"chevron-double-right","name":"chevron double right","icon":"chevron-double-right.svg"},{"type":"icon","id":"chevron-double-up","name":"chevron double up","icon":"chevron-double-up.svg"},{"type":"icon","id":"chevron-down","name":"chevron down","icon":"chevron-down.svg"},{"type":"icon","id":"chevron-expand","name":"chevron expand","icon":"chevron-expand.svg"},{"type":"icon","id":"chevron-left","name":"chevron left","icon":"chevron-left.svg"},{"type":"icon","id":"chevron-right","name":"chevron right","icon":"chevron-right.svg"},{"type":"icon","id":"chevron-up","name":"chevron up","icon":"chevron-up.svg"},{"type":"icon","id":"circle-fill","name":"circle fill","icon":"circle-fill.svg"},{"type":"icon","id":"circle-half","name":"circle half","icon":"circle-half.svg"},{"type":"icon","id":"circle-square","name":"circle square","icon":"circle-square.svg"},{"type":"icon","id":"circle","name":"circle","icon":"circle.svg"},{"type":"icon","id":"clipboard-check-fill","name":"clipboard check fill","icon":"clipboard-check-fill.svg"},{"type":"icon","id":"clipboard-check","name":"clipboard check","icon":"clipboard-check.svg"},{"type":"icon","id":"clipboard-data-fill","name":"clipboard data fill","icon":"clipboard-data-fill.svg"},{"type":"icon","id":"clipboard-data","name":"clipboard data","icon":"clipboard-data.svg"},{"type":"icon","id":"clipboard-fill","name":"clipboard fill","icon":"clipboard-fill.svg"},{"type":"icon","id":"clipboard-heart-fill","name":"clipboard heart fill","icon":"clipboard-heart-fill.svg"},{"type":"icon","id":"clipboard-heart","name":"clipboard heart","icon":"clipboard-heart.svg"},{"type":"icon","id":"clipboard-minus-fill","name":"clipboard minus fill","icon":"clipboard-minus-fill.svg"},{"type":"icon","id":"clipboard-minus","name":"clipboard minus","icon":"clipboard-minus.svg"},{"type":"icon","id":"clipboard-plus-fill","name":"clipboard plus fill","icon":"clipboard-plus-fill.svg"},{"type":"icon","id":"clipboard-plus","name":"clipboard plus","icon":"clipboard-plus.svg"},{"type":"icon","id":"clipboard-pulse","name":"clipboard pulse","icon":"clipboard-pulse.svg"},{"type":"icon","id":"clipboard-x-fill","name":"clipboard x fill","icon":"clipboard-x-fill.svg"},{"type":"icon","id":"clipboard-x","name":"clipboard x","icon":"clipboard-x.svg"},{"type":"icon","id":"clipboard","name":"clipboard","icon":"clipboard.svg"},{"type":"icon","id":"clipboard2-check-fill","name":"clipboard2 check fill","icon":"clipboard2-check-fill.svg"},{"type":"icon","id":"clipboard2-check","name":"clipboard2 check","icon":"clipboard2-check.svg"},{"type":"icon","id":"clipboard2-data-fill","name":"clipboard2 data fill","icon":"clipboard2-data-fill.svg"},{"type":"icon","id":"clipboard2-data","name":"clipboard2 data","icon":"clipboard2-data.svg"},{"type":"icon","id":"clipboard2-fill","name":"clipboard2 fill","icon":"clipboard2-fill.svg"},{"type":"icon","id":"clipboard2-heart-fill","name":"clipboard2 heart fill","icon":"clipboard2-heart-fill.svg"},{"type":"icon","id":"clipboard2-heart","name":"clipboard2 heart","icon":"clipboard2-heart.svg"},{"type":"icon","id":"clipboard2-minus-fill","name":"clipboard2 minus fill","icon":"clipboard2-minus-fill.svg"},{"type":"icon","id":"clipboard2-minus","name":"clipboard2 minus","icon":"clipboard2-minus.svg"},{"type":"icon","id":"clipboard2-plus-fill","name":"clipboard2 plus fill","icon":"clipboard2-plus-fill.svg"},{"type":"icon","id":"clipboard2-plus","name":"clipboard2 plus","icon":"clipboard2-plus.svg"},{"type":"icon","id":"clipboard2-pulse-fill","name":"clipboard2 pulse fill","icon":"clipboard2-pulse-fill.svg"},{"type":"icon","id":"clipboard2-pulse","name":"clipboard2 pulse","icon":"clipboard2-pulse.svg"},{"type":"icon","id":"clipboard2-x-fill","name":"clipboard2 x fill","icon":"clipboard2-x-fill.svg"},{"type":"icon","id":"clipboard2-x","name":"clipboard2 x","icon":"clipboard2-x.svg"},{"type":"icon","id":"clipboard2","name":"clipboard2","icon":"clipboard2.svg"},{"type":"icon","id":"clock-fill","name":"clock fill","icon":"clock-fill.svg"},{"type":"icon","id":"clock-history","name":"clock history","icon":"clock-history.svg"},{"type":"icon","id":"clock","name":"clock","icon":"clock.svg"},{"type":"icon","id":"cloud-arrow-down-fill","name":"cloud arrow down fill","icon":"cloud-arrow-down-fill.svg"},{"type":"icon","id":"cloud-arrow-down","name":"cloud arrow down","icon":"cloud-arrow-down.svg"},{"type":"icon","id":"cloud-arrow-up-fill","name":"cloud arrow up fill","icon":"cloud-arrow-up-fill.svg"},{"type":"icon","id":"cloud-arrow-up","name":"cloud arrow up","icon":"cloud-arrow-up.svg"},{"type":"icon","id":"cloud-check-fill","name":"cloud check fill","icon":"cloud-check-fill.svg"},{"type":"icon","id":"cloud-check","name":"cloud check","icon":"cloud-check.svg"},{"type":"icon","id":"cloud-download-fill","name":"cloud download fill","icon":"cloud-download-fill.svg"},{"type":"icon","id":"cloud-download","name":"cloud download","icon":"cloud-download.svg"},{"type":"icon","id":"cloud-drizzle-fill","name":"cloud drizzle fill","icon":"cloud-drizzle-fill.svg"},{"type":"icon","id":"cloud-drizzle","name":"cloud drizzle","icon":"cloud-drizzle.svg"},{"type":"icon","id":"cloud-fill","name":"cloud fill","icon":"cloud-fill.svg"},{"type":"icon","id":"cloud-fog-fill","name":"cloud fog fill","icon":"cloud-fog-fill.svg"},{"type":"icon","id":"cloud-fog","name":"cloud fog","icon":"cloud-fog.svg"},{"type":"icon","id":"cloud-fog2-fill","name":"cloud fog2 fill","icon":"cloud-fog2-fill.svg"},{"type":"icon","id":"cloud-fog2","name":"cloud fog2","icon":"cloud-fog2.svg"},{"type":"icon","id":"cloud-hail-fill","name":"cloud hail fill","icon":"cloud-hail-fill.svg"},{"type":"icon","id":"cloud-hail","name":"cloud hail","icon":"cloud-hail.svg"},{"type":"icon","id":"cloud-haze-fill","name":"cloud haze fill","icon":"cloud-haze-fill.svg"},{"type":"icon","id":"cloud-haze","name":"cloud haze","icon":"cloud-haze.svg"},{"type":"icon","id":"cloud-haze2-fill","name":"cloud haze2 fill","icon":"cloud-haze2-fill.svg"},{"type":"icon","id":"cloud-haze2","name":"cloud haze2","icon":"cloud-haze2.svg"},{"type":"icon","id":"cloud-lightning-fill","name":"cloud lightning fill","icon":"cloud-lightning-fill.svg"},{"type":"icon","id":"cloud-lightning-rain-fill","name":"cloud lightning rain fill","icon":"cloud-lightning-rain-fill.svg"},{"type":"icon","id":"cloud-lightning-rain","name":"cloud lightning rain","icon":"cloud-lightning-rain.svg"},{"type":"icon","id":"cloud-lightning","name":"cloud lightning","icon":"cloud-lightning.svg"},{"type":"icon","id":"cloud-minus-fill","name":"cloud minus fill","icon":"cloud-minus-fill.svg"},{"type":"icon","id":"cloud-minus","name":"cloud minus","icon":"cloud-minus.svg"},{"type":"icon","id":"cloud-moon-fill","name":"cloud moon fill","icon":"cloud-moon-fill.svg"},{"type":"icon","id":"cloud-moon","name":"cloud moon","icon":"cloud-moon.svg"},{"type":"icon","id":"cloud-plus-fill","name":"cloud plus fill","icon":"cloud-plus-fill.svg"},{"type":"icon","id":"cloud-plus","name":"cloud plus","icon":"cloud-plus.svg"},{"type":"icon","id":"cloud-rain-fill","name":"cloud rain fill","icon":"cloud-rain-fill.svg"},{"type":"icon","id":"cloud-rain-heavy-fill","name":"cloud rain heavy fill","icon":"cloud-rain-heavy-fill.svg"},{"type":"icon","id":"cloud-rain-heavy","name":"cloud rain heavy","icon":"cloud-rain-heavy.svg"},{"type":"icon","id":"cloud-rain","name":"cloud rain","icon":"cloud-rain.svg"},{"type":"icon","id":"cloud-slash-fill","name":"cloud slash fill","icon":"cloud-slash-fill.svg"},{"type":"icon","id":"cloud-slash","name":"cloud slash","icon":"cloud-slash.svg"},{"type":"icon","id":"cloud-sleet-fill","name":"cloud sleet fill","icon":"cloud-sleet-fill.svg"},{"type":"icon","id":"cloud-sleet","name":"cloud sleet","icon":"cloud-sleet.svg"},{"type":"icon","id":"cloud-snow-fill","name":"cloud snow fill","icon":"cloud-snow-fill.svg"},{"type":"icon","id":"cloud-snow","name":"cloud snow","icon":"cloud-snow.svg"},{"type":"icon","id":"cloud-sun-fill","name":"cloud sun fill","icon":"cloud-sun-fill.svg"},{"type":"icon","id":"cloud-sun","name":"cloud sun","icon":"cloud-sun.svg"},{"type":"icon","id":"cloud-upload-fill","name":"cloud upload fill","icon":"cloud-upload-fill.svg"},{"type":"icon","id":"cloud-upload","name":"cloud upload","icon":"cloud-upload.svg"},{"type":"icon","id":"cloud","name":"cloud","icon":"cloud.svg"},{"type":"icon","id":"clouds-fill","name":"clouds fill","icon":"clouds-fill.svg"},{"type":"icon","id":"clouds","name":"clouds","icon":"clouds.svg"},{"type":"icon","id":"cloudy-fill","name":"cloudy fill","icon":"cloudy-fill.svg"},{"type":"icon","id":"cloudy","name":"cloudy","icon":"cloudy.svg"},{"type":"icon","id":"code-slash","name":"code slash","icon":"code-slash.svg"},{"type":"icon","id":"code-square","name":"code square","icon":"code-square.svg"},{"type":"icon","id":"code","name":"code","icon":"code.svg"},{"type":"icon","id":"coin","name":"coin","icon":"coin.svg"},{"type":"icon","id":"collection-fill","name":"collection fill","icon":"collection-fill.svg"},{"type":"icon","id":"collection-play-fill","name":"collection play fill","icon":"collection-play-fill.svg"},{"type":"icon","id":"collection-play","name":"collection play","icon":"collection-play.svg"},{"type":"icon","id":"collection","name":"collection","icon":"collection.svg"},{"type":"icon","id":"columns-gap","name":"columns gap","icon":"columns-gap.svg"},{"type":"icon","id":"columns","name":"columns","icon":"columns.svg"},{"type":"icon","id":"command","name":"command","icon":"command.svg"},{"type":"icon","id":"compass-fill","name":"compass fill","icon":"compass-fill.svg"},{"type":"icon","id":"compass","name":"compass","icon":"compass.svg"},{"type":"icon","id":"cone-striped","name":"cone striped","icon":"cone-striped.svg"},{"type":"icon","id":"cone","name":"cone","icon":"cone.svg"},{"type":"icon","id":"controller","name":"controller","icon":"controller.svg"},{"type":"icon","id":"cpu-fill","name":"cpu fill","icon":"cpu-fill.svg"},{"type":"icon","id":"cpu","name":"cpu","icon":"cpu.svg"},{"type":"icon","id":"credit-card-2-back-fill","name":"credit card 2 back fill","icon":"credit-card-2-back-fill.svg"},{"type":"icon","id":"credit-card-2-back","name":"credit card 2 back","icon":"credit-card-2-back.svg"},{"type":"icon","id":"credit-card-2-front-fill","name":"credit card 2 front fill","icon":"credit-card-2-front-fill.svg"},{"type":"icon","id":"credit-card-2-front","name":"credit card 2 front","icon":"credit-card-2-front.svg"},{"type":"icon","id":"credit-card-fill","name":"credit card fill","icon":"credit-card-fill.svg"},{"type":"icon","id":"credit-card","name":"credit card","icon":"credit-card.svg"},{"type":"icon","id":"crop","name":"crop","icon":"crop.svg"},{"type":"icon","id":"cup-fill","name":"cup fill","icon":"cup-fill.svg"},{"type":"icon","id":"cup-straw","name":"cup straw","icon":"cup-straw.svg"},{"type":"icon","id":"cup","name":"cup","icon":"cup.svg"},{"type":"icon","id":"currency-bitcoin","name":"currency bitcoin","icon":"currency-bitcoin.svg"},{"type":"icon","id":"currency-dollar","name":"currency dollar","icon":"currency-dollar.svg"},{"type":"icon","id":"currency-euro","name":"currency euro","icon":"currency-euro.svg"},{"type":"icon","id":"currency-exchange","name":"currency exchange","icon":"currency-exchange.svg"},{"type":"icon","id":"currency-pound","name":"currency pound","icon":"currency-pound.svg"},{"type":"icon","id":"currency-yen","name":"currency yen","icon":"currency-yen.svg"},{"type":"icon","id":"cursor-fill","name":"cursor fill","icon":"cursor-fill.svg"},{"type":"icon","id":"cursor-text","name":"cursor text","icon":"cursor-text.svg"},{"type":"icon","id":"cursor","name":"cursor","icon":"cursor.svg"},{"type":"icon","id":"dash-circle-dotted","name":"dash circle dotted","icon":"dash-circle-dotted.svg"},{"type":"icon","id":"dash-circle-fill","name":"dash circle fill","icon":"dash-circle-fill.svg"},{"type":"icon","id":"dash-circle","name":"dash circle","icon":"dash-circle.svg"},{"type":"icon","id":"dash-lg","name":"dash lg","icon":"dash-lg.svg"},{"type":"icon","id":"dash-square-dotted","name":"dash square dotted","icon":"dash-square-dotted.svg"},{"type":"icon","id":"dash-square-fill","name":"dash square fill","icon":"dash-square-fill.svg"},{"type":"icon","id":"dash-square","name":"dash square","icon":"dash-square.svg"},{"type":"icon","id":"dash","name":"dash","icon":"dash.svg"},{"type":"icon","id":"device-hdd-fill","name":"device hdd fill","icon":"device-hdd-fill.svg"},{"type":"icon","id":"device-hdd","name":"device hdd","icon":"device-hdd.svg"},{"type":"icon","id":"device-ssd-fill","name":"device ssd fill","icon":"device-ssd-fill.svg"},{"type":"icon","id":"device-ssd","name":"device ssd","icon":"device-ssd.svg"},{"type":"icon","id":"diagram-2-fill","name":"diagram 2 fill","icon":"diagram-2-fill.svg"},{"type":"icon","id":"diagram-2","name":"diagram 2","icon":"diagram-2.svg"},{"type":"icon","id":"diagram-3-fill","name":"diagram 3 fill","icon":"diagram-3-fill.svg"},{"type":"icon","id":"diagram-3","name":"diagram 3","icon":"diagram-3.svg"},{"type":"icon","id":"diamond-fill","name":"diamond fill","icon":"diamond-fill.svg"},{"type":"icon","id":"diamond-half","name":"diamond half","icon":"diamond-half.svg"},{"type":"icon","id":"diamond","name":"diamond","icon":"diamond.svg"},{"type":"icon","id":"dice-1-fill","name":"dice 1 fill","icon":"dice-1-fill.svg"},{"type":"icon","id":"dice-1","name":"dice 1","icon":"dice-1.svg"},{"type":"icon","id":"dice-2-fill","name":"dice 2 fill","icon":"dice-2-fill.svg"},{"type":"icon","id":"dice-2","name":"dice 2","icon":"dice-2.svg"},{"type":"icon","id":"dice-3-fill","name":"dice 3 fill","icon":"dice-3-fill.svg"},{"type":"icon","id":"dice-3","name":"dice 3","icon":"dice-3.svg"},{"type":"icon","id":"dice-4-fill","name":"dice 4 fill","icon":"dice-4-fill.svg"},{"type":"icon","id":"dice-4","name":"dice 4","icon":"dice-4.svg"},{"type":"icon","id":"dice-5-fill","name":"dice 5 fill","icon":"dice-5-fill.svg"},{"type":"icon","id":"dice-5","name":"dice 5","icon":"dice-5.svg"},{"type":"icon","id":"dice-6-fill","name":"dice 6 fill","icon":"dice-6-fill.svg"},{"type":"icon","id":"dice-6","name":"dice 6","icon":"dice-6.svg"},{"type":"icon","id":"disc-fill","name":"disc fill","icon":"disc-fill.svg"},{"type":"icon","id":"disc","name":"disc","icon":"disc.svg"},{"type":"icon","id":"discord","name":"discord","icon":"discord.svg"},{"type":"icon","id":"display-fill","name":"display fill","icon":"display-fill.svg"},{"type":"icon","id":"display","name":"display","icon":"display.svg"},{"type":"icon","id":"displayport-fill","name":"displayport fill","icon":"displayport-fill.svg"},{"type":"icon","id":"displayport","name":"displayport","icon":"displayport.svg"},{"type":"icon","id":"distribute-horizontal","name":"distribute horizontal","icon":"distribute-horizontal.svg"},{"type":"icon","id":"distribute-vertical","name":"distribute vertical","icon":"distribute-vertical.svg"},{"type":"icon","id":"door-closed-fill","name":"door closed fill","icon":"door-closed-fill.svg"},{"type":"icon","id":"door-closed","name":"door closed","icon":"door-closed.svg"},{"type":"icon","id":"door-open-fill","name":"door open fill","icon":"door-open-fill.svg"},{"type":"icon","id":"door-open","name":"door open","icon":"door-open.svg"},{"type":"icon","id":"dot","name":"dot","icon":"dot.svg"},{"type":"icon","id":"download","name":"download","icon":"download.svg"},{"type":"icon","id":"dpad-fill","name":"dpad fill","icon":"dpad-fill.svg"},{"type":"icon","id":"dpad","name":"dpad","icon":"dpad.svg"},{"type":"icon","id":"dribbble","name":"dribbble","icon":"dribbble.svg"},{"type":"icon","id":"droplet-fill","name":"droplet fill","icon":"droplet-fill.svg"},{"type":"icon","id":"droplet-half","name":"droplet half","icon":"droplet-half.svg"},{"type":"icon","id":"droplet","name":"droplet","icon":"droplet.svg"},{"type":"icon","id":"ear-fill","name":"ear fill","icon":"ear-fill.svg"},{"type":"icon","id":"ear","name":"ear","icon":"ear.svg"},{"type":"icon","id":"earbuds","name":"earbuds","icon":"earbuds.svg"},{"type":"icon","id":"easel-fill","name":"easel fill","icon":"easel-fill.svg"},{"type":"icon","id":"easel","name":"easel","icon":"easel.svg"},{"type":"icon","id":"easel2-fill","name":"easel2 fill","icon":"easel2-fill.svg"},{"type":"icon","id":"easel2","name":"easel2","icon":"easel2.svg"},{"type":"icon","id":"easel3-fill","name":"easel3 fill","icon":"easel3-fill.svg"},{"type":"icon","id":"easel3","name":"easel3","icon":"easel3.svg"},{"type":"icon","id":"egg-fill","name":"egg fill","icon":"egg-fill.svg"},{"type":"icon","id":"egg-fried","name":"egg fried","icon":"egg-fried.svg"},{"type":"icon","id":"egg","name":"egg","icon":"egg.svg"},{"type":"icon","id":"eject-fill","name":"eject fill","icon":"eject-fill.svg"},{"type":"icon","id":"eject","name":"eject","icon":"eject.svg"},{"type":"icon","id":"emoji-angry-fill","name":"emoji angry fill","icon":"emoji-angry-fill.svg"},{"type":"icon","id":"emoji-angry","name":"emoji angry","icon":"emoji-angry.svg"},{"type":"icon","id":"emoji-dizzy-fill","name":"emoji dizzy fill","icon":"emoji-dizzy-fill.svg"},{"type":"icon","id":"emoji-dizzy","name":"emoji dizzy","icon":"emoji-dizzy.svg"},{"type":"icon","id":"emoji-expressionless-fill","name":"emoji expressionless fill","icon":"emoji-expressionless-fill.svg"},{"type":"icon","id":"emoji-expressionless","name":"emoji expressionless","icon":"emoji-expressionless.svg"},{"type":"icon","id":"emoji-frown-fill","name":"emoji frown fill","icon":"emoji-frown-fill.svg"},{"type":"icon","id":"emoji-frown","name":"emoji frown","icon":"emoji-frown.svg"},{"type":"icon","id":"emoji-heart-eyes-fill","name":"emoji heart eyes fill","icon":"emoji-heart-eyes-fill.svg"},{"type":"icon","id":"emoji-heart-eyes","name":"emoji heart eyes","icon":"emoji-heart-eyes.svg"},{"type":"icon","id":"emoji-kiss-fill","name":"emoji kiss fill","icon":"emoji-kiss-fill.svg"},{"type":"icon","id":"emoji-kiss","name":"emoji kiss","icon":"emoji-kiss.svg"},{"type":"icon","id":"emoji-laughing-fill","name":"emoji laughing fill","icon":"emoji-laughing-fill.svg"},{"type":"icon","id":"emoji-laughing","name":"emoji laughing","icon":"emoji-laughing.svg"},{"type":"icon","id":"emoji-neutral-fill","name":"emoji neutral fill","icon":"emoji-neutral-fill.svg"},{"type":"icon","id":"emoji-neutral","name":"emoji neutral","icon":"emoji-neutral.svg"},{"type":"icon","id":"emoji-smile-fill","name":"emoji smile fill","icon":"emoji-smile-fill.svg"},{"type":"icon","id":"emoji-smile-upside-down-fill","name":"emoji smile upside down fill","icon":"emoji-smile-upside-down-fill.svg"},{"type":"icon","id":"emoji-smile-upside-down","name":"emoji smile upside down","icon":"emoji-smile-upside-down.svg"},{"type":"icon","id":"emoji-smile","name":"emoji smile","icon":"emoji-smile.svg"},{"type":"icon","id":"emoji-sunglasses-fill","name":"emoji sunglasses fill","icon":"emoji-sunglasses-fill.svg"},{"type":"icon","id":"emoji-sunglasses","name":"emoji sunglasses","icon":"emoji-sunglasses.svg"},{"type":"icon","id":"emoji-wink-fill","name":"emoji wink fill","icon":"emoji-wink-fill.svg"},{"type":"icon","id":"emoji-wink","name":"emoji wink","icon":"emoji-wink.svg"},{"type":"icon","id":"envelope-check-fill","name":"envelope check fill","icon":"envelope-check-fill.svg"},{"type":"icon","id":"envelope-check","name":"envelope check","icon":"envelope-check.svg"},{"type":"icon","id":"envelope-dash-fill","name":"envelope dash fill","icon":"envelope-dash-fill.svg"},{"type":"icon","id":"envelope-dash","name":"envelope dash","icon":"envelope-dash.svg"},{"type":"icon","id":"envelope-exclamation-fill","name":"envelope exclamation fill","icon":"envelope-exclamation-fill.svg"},{"type":"icon","id":"envelope-exclamation","name":"envelope exclamation","icon":"envelope-exclamation.svg"},{"type":"icon","id":"envelope-fill","name":"envelope fill","icon":"envelope-fill.svg"},{"type":"icon","id":"envelope-heart-fill","name":"envelope heart fill","icon":"envelope-heart-fill.svg"},{"type":"icon","id":"envelope-heart","name":"envelope heart","icon":"envelope-heart.svg"},{"type":"icon","id":"envelope-open-fill","name":"envelope open fill","icon":"envelope-open-fill.svg"},{"type":"icon","id":"envelope-open-heart-fill","name":"envelope open heart fill","icon":"envelope-open-heart-fill.svg"},{"type":"icon","id":"envelope-open-heart","name":"envelope open heart","icon":"envelope-open-heart.svg"},{"type":"icon","id":"envelope-open","name":"envelope open","icon":"envelope-open.svg"},{"type":"icon","id":"envelope-paper-fill","name":"envelope paper fill","icon":"envelope-paper-fill.svg"},{"type":"icon","id":"envelope-paper-heart-fill","name":"envelope paper heart fill","icon":"envelope-paper-heart-fill.svg"},{"type":"icon","id":"envelope-paper-heart","name":"envelope paper heart","icon":"envelope-paper-heart.svg"},{"type":"icon","id":"envelope-paper","name":"envelope paper","icon":"envelope-paper.svg"},{"type":"icon","id":"envelope-plus-fill","name":"envelope plus fill","icon":"envelope-plus-fill.svg"},{"type":"icon","id":"envelope-plus","name":"envelope plus","icon":"envelope-plus.svg"},{"type":"icon","id":"envelope-slash-fill","name":"envelope slash fill","icon":"envelope-slash-fill.svg"},{"type":"icon","id":"envelope-slash","name":"envelope slash","icon":"envelope-slash.svg"},{"type":"icon","id":"envelope-x-fill","name":"envelope x fill","icon":"envelope-x-fill.svg"},{"type":"icon","id":"envelope-x","name":"envelope x","icon":"envelope-x.svg"},{"type":"icon","id":"envelope","name":"envelope","icon":"envelope.svg"},{"type":"icon","id":"eraser-fill","name":"eraser fill","icon":"eraser-fill.svg"},{"type":"icon","id":"eraser","name":"eraser","icon":"eraser.svg"},{"type":"icon","id":"ethernet","name":"ethernet","icon":"ethernet.svg"},{"type":"icon","id":"exclamation-circle-fill","name":"exclamation circle fill","icon":"exclamation-circle-fill.svg"},{"type":"icon","id":"exclamation-circle","name":"exclamation circle","icon":"exclamation-circle.svg"},{"type":"icon","id":"exclamation-diamond-fill","name":"exclamation diamond fill","icon":"exclamation-diamond-fill.svg"},{"type":"icon","id":"exclamation-diamond","name":"exclamation diamond","icon":"exclamation-diamond.svg"},{"type":"icon","id":"exclamation-lg","name":"exclamation lg","icon":"exclamation-lg.svg"},{"type":"icon","id":"exclamation-octagon-fill","name":"exclamation octagon fill","icon":"exclamation-octagon-fill.svg"},{"type":"icon","id":"exclamation-octagon","name":"exclamation octagon","icon":"exclamation-octagon.svg"},{"type":"icon","id":"exclamation-square-fill","name":"exclamation square fill","icon":"exclamation-square-fill.svg"},{"type":"icon","id":"exclamation-square","name":"exclamation square","icon":"exclamation-square.svg"},{"type":"icon","id":"exclamation-triangle-fill","name":"exclamation triangle fill","icon":"exclamation-triangle-fill.svg"},{"type":"icon","id":"exclamation-triangle","name":"exclamation triangle","icon":"exclamation-triangle.svg"},{"type":"icon","id":"exclamation","name":"exclamation","icon":"exclamation.svg"},{"type":"icon","id":"exclude","name":"exclude","icon":"exclude.svg"},{"type":"icon","id":"explicit-fill","name":"explicit fill","icon":"explicit-fill.svg"},{"type":"icon","id":"explicit","name":"explicit","icon":"explicit.svg"},{"type":"icon","id":"eye-fill","name":"eye fill","icon":"eye-fill.svg"},{"type":"icon","id":"eye-slash-fill","name":"eye slash fill","icon":"eye-slash-fill.svg"},{"type":"icon","id":"eye-slash","name":"eye slash","icon":"eye-slash.svg"},{"type":"icon","id":"eye","name":"eye","icon":"eye.svg"},{"type":"icon","id":"eyedropper","name":"eyedropper","icon":"eyedropper.svg"},{"type":"icon","id":"eyeglasses","name":"eyeglasses","icon":"eyeglasses.svg"},{"type":"icon","id":"facebook","name":"facebook","icon":"facebook.svg"},{"type":"icon","id":"fan","name":"fan","icon":"fan.svg"},{"type":"icon","id":"file-arrow-down-fill","name":"file arrow down fill","icon":"file-arrow-down-fill.svg"},{"type":"icon","id":"file-arrow-down","name":"file arrow down","icon":"file-arrow-down.svg"},{"type":"icon","id":"file-arrow-up-fill","name":"file arrow up fill","icon":"file-arrow-up-fill.svg"},{"type":"icon","id":"file-arrow-up","name":"file arrow up","icon":"file-arrow-up.svg"},{"type":"icon","id":"file-bar-graph-fill","name":"file bar graph fill","icon":"file-bar-graph-fill.svg"},{"type":"icon","id":"file-bar-graph","name":"file bar graph","icon":"file-bar-graph.svg"},{"type":"icon","id":"file-binary-fill","name":"file binary fill","icon":"file-binary-fill.svg"},{"type":"icon","id":"file-binary","name":"file binary","icon":"file-binary.svg"},{"type":"icon","id":"file-break-fill","name":"file break fill","icon":"file-break-fill.svg"},{"type":"icon","id":"file-break","name":"file break","icon":"file-break.svg"},{"type":"icon","id":"file-check-fill","name":"file check fill","icon":"file-check-fill.svg"},{"type":"icon","id":"file-check","name":"file check","icon":"file-check.svg"},{"type":"icon","id":"file-code-fill","name":"file code fill","icon":"file-code-fill.svg"},{"type":"icon","id":"file-code","name":"file code","icon":"file-code.svg"},{"type":"icon","id":"file-diff-fill","name":"file diff fill","icon":"file-diff-fill.svg"},{"type":"icon","id":"file-diff","name":"file diff","icon":"file-diff.svg"},{"type":"icon","id":"file-earmark-arrow-down-fill","name":"file earmark arrow down fill","icon":"file-earmark-arrow-down-fill.svg"},{"type":"icon","id":"file-earmark-arrow-down","name":"file earmark arrow down","icon":"file-earmark-arrow-down.svg"},{"type":"icon","id":"file-earmark-arrow-up-fill","name":"file earmark arrow up fill","icon":"file-earmark-arrow-up-fill.svg"},{"type":"icon","id":"file-earmark-arrow-up","name":"file earmark arrow up","icon":"file-earmark-arrow-up.svg"},{"type":"icon","id":"file-earmark-bar-graph-fill","name":"file earmark bar graph fill","icon":"file-earmark-bar-graph-fill.svg"},{"type":"icon","id":"file-earmark-bar-graph","name":"file earmark bar graph","icon":"file-earmark-bar-graph.svg"},{"type":"icon","id":"file-earmark-binary-fill","name":"file earmark binary fill","icon":"file-earmark-binary-fill.svg"},{"type":"icon","id":"file-earmark-binary","name":"file earmark binary","icon":"file-earmark-binary.svg"},{"type":"icon","id":"file-earmark-break-fill","name":"file earmark break fill","icon":"file-earmark-break-fill.svg"},{"type":"icon","id":"file-earmark-break","name":"file earmark break","icon":"file-earmark-break.svg"},{"type":"icon","id":"file-earmark-check-fill","name":"file earmark check fill","icon":"file-earmark-check-fill.svg"},{"type":"icon","id":"file-earmark-check","name":"file earmark check","icon":"file-earmark-check.svg"},{"type":"icon","id":"file-earmark-code-fill","name":"file earmark code fill","icon":"file-earmark-code-fill.svg"},{"type":"icon","id":"file-earmark-code","name":"file earmark code","icon":"file-earmark-code.svg"},{"type":"icon","id":"file-earmark-diff-fill","name":"file earmark diff fill","icon":"file-earmark-diff-fill.svg"},{"type":"icon","id":"file-earmark-diff","name":"file earmark diff","icon":"file-earmark-diff.svg"},{"type":"icon","id":"file-earmark-easel-fill","name":"file earmark easel fill","icon":"file-earmark-easel-fill.svg"},{"type":"icon","id":"file-earmark-easel","name":"file earmark easel","icon":"file-earmark-easel.svg"},{"type":"icon","id":"file-earmark-excel-fill","name":"file earmark excel fill","icon":"file-earmark-excel-fill.svg"},{"type":"icon","id":"file-earmark-excel","name":"file earmark excel","icon":"file-earmark-excel.svg"},{"type":"icon","id":"file-earmark-fill","name":"file earmark fill","icon":"file-earmark-fill.svg"},{"type":"icon","id":"file-earmark-font-fill","name":"file earmark font fill","icon":"file-earmark-font-fill.svg"},{"type":"icon","id":"file-earmark-font","name":"file earmark font","icon":"file-earmark-font.svg"},{"type":"icon","id":"file-earmark-image-fill","name":"file earmark image fill","icon":"file-earmark-image-fill.svg"},{"type":"icon","id":"file-earmark-image","name":"file earmark image","icon":"file-earmark-image.svg"},{"type":"icon","id":"file-earmark-lock-fill","name":"file earmark lock fill","icon":"file-earmark-lock-fill.svg"},{"type":"icon","id":"file-earmark-lock","name":"file earmark lock","icon":"file-earmark-lock.svg"},{"type":"icon","id":"file-earmark-lock2-fill","name":"file earmark lock2 fill","icon":"file-earmark-lock2-fill.svg"},{"type":"icon","id":"file-earmark-lock2","name":"file earmark lock2","icon":"file-earmark-lock2.svg"},{"type":"icon","id":"file-earmark-medical-fill","name":"file earmark medical fill","icon":"file-earmark-medical-fill.svg"},{"type":"icon","id":"file-earmark-medical","name":"file earmark medical","icon":"file-earmark-medical.svg"},{"type":"icon","id":"file-earmark-minus-fill","name":"file earmark minus fill","icon":"file-earmark-minus-fill.svg"},{"type":"icon","id":"file-earmark-minus","name":"file earmark minus","icon":"file-earmark-minus.svg"},{"type":"icon","id":"file-earmark-music-fill","name":"file earmark music fill","icon":"file-earmark-music-fill.svg"},{"type":"icon","id":"file-earmark-music","name":"file earmark music","icon":"file-earmark-music.svg"},{"type":"icon","id":"file-earmark-pdf-fill","name":"file earmark pdf fill","icon":"file-earmark-pdf-fill.svg"},{"type":"icon","id":"file-earmark-pdf","name":"file earmark pdf","icon":"file-earmark-pdf.svg"},{"type":"icon","id":"file-earmark-person-fill","name":"file earmark person fill","icon":"file-earmark-person-fill.svg"},{"type":"icon","id":"file-earmark-person","name":"file earmark person","icon":"file-earmark-person.svg"},{"type":"icon","id":"file-earmark-play-fill","name":"file earmark play fill","icon":"file-earmark-play-fill.svg"},{"type":"icon","id":"file-earmark-play","name":"file earmark play","icon":"file-earmark-play.svg"},{"type":"icon","id":"file-earmark-plus-fill","name":"file earmark plus fill","icon":"file-earmark-plus-fill.svg"},{"type":"icon","id":"file-earmark-plus","name":"file earmark plus","icon":"file-earmark-plus.svg"},{"type":"icon","id":"file-earmark-post-fill","name":"file earmark post fill","icon":"file-earmark-post-fill.svg"},{"type":"icon","id":"file-earmark-post","name":"file earmark post","icon":"file-earmark-post.svg"},{"type":"icon","id":"file-earmark-ppt-fill","name":"file earmark ppt fill","icon":"file-earmark-ppt-fill.svg"},{"type":"icon","id":"file-earmark-ppt","name":"file earmark ppt","icon":"file-earmark-ppt.svg"},{"type":"icon","id":"file-earmark-richtext-fill","name":"file earmark richtext fill","icon":"file-earmark-richtext-fill.svg"},{"type":"icon","id":"file-earmark-richtext","name":"file earmark richtext","icon":"file-earmark-richtext.svg"},{"type":"icon","id":"file-earmark-ruled-fill","name":"file earmark ruled fill","icon":"file-earmark-ruled-fill.svg"},{"type":"icon","id":"file-earmark-ruled","name":"file earmark ruled","icon":"file-earmark-ruled.svg"},{"type":"icon","id":"file-earmark-slides-fill","name":"file earmark slides fill","icon":"file-earmark-slides-fill.svg"},{"type":"icon","id":"file-earmark-slides","name":"file earmark slides","icon":"file-earmark-slides.svg"},{"type":"icon","id":"file-earmark-spreadsheet-fill","name":"file earmark spreadsheet fill","icon":"file-earmark-spreadsheet-fill.svg"},{"type":"icon","id":"file-earmark-spreadsheet","name":"file earmark spreadsheet","icon":"file-earmark-spreadsheet.svg"},{"type":"icon","id":"file-earmark-text-fill","name":"file earmark text fill","icon":"file-earmark-text-fill.svg"},{"type":"icon","id":"file-earmark-text","name":"file earmark text","icon":"file-earmark-text.svg"},{"type":"icon","id":"file-earmark-word-fill","name":"file earmark word fill","icon":"file-earmark-word-fill.svg"},{"type":"icon","id":"file-earmark-word","name":"file earmark word","icon":"file-earmark-word.svg"},{"type":"icon","id":"file-earmark-x-fill","name":"file earmark x fill","icon":"file-earmark-x-fill.svg"},{"type":"icon","id":"file-earmark-x","name":"file earmark x","icon":"file-earmark-x.svg"},{"type":"icon","id":"file-earmark-zip-fill","name":"file earmark zip fill","icon":"file-earmark-zip-fill.svg"},{"type":"icon","id":"file-earmark-zip","name":"file earmark zip","icon":"file-earmark-zip.svg"},{"type":"icon","id":"file-earmark","name":"file earmark","icon":"file-earmark.svg"},{"type":"icon","id":"file-easel-fill","name":"file easel fill","icon":"file-easel-fill.svg"},{"type":"icon","id":"file-easel","name":"file easel","icon":"file-easel.svg"},{"type":"icon","id":"file-excel-fill","name":"file excel fill","icon":"file-excel-fill.svg"},{"type":"icon","id":"file-excel","name":"file excel","icon":"file-excel.svg"},{"type":"icon","id":"file-fill","name":"file fill","icon":"file-fill.svg"},{"type":"icon","id":"file-font-fill","name":"file font fill","icon":"file-font-fill.svg"},{"type":"icon","id":"file-font","name":"file font","icon":"file-font.svg"},{"type":"icon","id":"file-image-fill","name":"file image fill","icon":"file-image-fill.svg"},{"type":"icon","id":"file-image","name":"file image","icon":"file-image.svg"},{"type":"icon","id":"file-lock-fill","name":"file lock fill","icon":"file-lock-fill.svg"},{"type":"icon","id":"file-lock","name":"file lock","icon":"file-lock.svg"},{"type":"icon","id":"file-lock2-fill","name":"file lock2 fill","icon":"file-lock2-fill.svg"},{"type":"icon","id":"file-lock2","name":"file lock2","icon":"file-lock2.svg"},{"type":"icon","id":"file-medical-fill","name":"file medical fill","icon":"file-medical-fill.svg"},{"type":"icon","id":"file-medical","name":"file medical","icon":"file-medical.svg"},{"type":"icon","id":"file-minus-fill","name":"file minus fill","icon":"file-minus-fill.svg"},{"type":"icon","id":"file-minus","name":"file minus","icon":"file-minus.svg"},{"type":"icon","id":"file-music-fill","name":"file music fill","icon":"file-music-fill.svg"},{"type":"icon","id":"file-music","name":"file music","icon":"file-music.svg"},{"type":"icon","id":"file-pdf-fill","name":"file pdf fill","icon":"file-pdf-fill.svg"},{"type":"icon","id":"file-pdf","name":"file pdf","icon":"file-pdf.svg"},{"type":"icon","id":"file-person-fill","name":"file person fill","icon":"file-person-fill.svg"},{"type":"icon","id":"file-person","name":"file person","icon":"file-person.svg"},{"type":"icon","id":"file-play-fill","name":"file play fill","icon":"file-play-fill.svg"},{"type":"icon","id":"file-play","name":"file play","icon":"file-play.svg"},{"type":"icon","id":"file-plus-fill","name":"file plus fill","icon":"file-plus-fill.svg"},{"type":"icon","id":"file-plus","name":"file plus","icon":"file-plus.svg"},{"type":"icon","id":"file-post-fill","name":"file post fill","icon":"file-post-fill.svg"},{"type":"icon","id":"file-post","name":"file post","icon":"file-post.svg"},{"type":"icon","id":"file-ppt-fill","name":"file ppt fill","icon":"file-ppt-fill.svg"},{"type":"icon","id":"file-ppt","name":"file ppt","icon":"file-ppt.svg"},{"type":"icon","id":"file-richtext-fill","name":"file richtext fill","icon":"file-richtext-fill.svg"},{"type":"icon","id":"file-richtext","name":"file richtext","icon":"file-richtext.svg"},{"type":"icon","id":"file-ruled-fill","name":"file ruled fill","icon":"file-ruled-fill.svg"},{"type":"icon","id":"file-ruled","name":"file ruled","icon":"file-ruled.svg"},{"type":"icon","id":"file-slides-fill","name":"file slides fill","icon":"file-slides-fill.svg"},{"type":"icon","id":"file-slides","name":"file slides","icon":"file-slides.svg"},{"type":"icon","id":"file-spreadsheet-fill","name":"file spreadsheet fill","icon":"file-spreadsheet-fill.svg"},{"type":"icon","id":"file-spreadsheet","name":"file spreadsheet","icon":"file-spreadsheet.svg"},{"type":"icon","id":"file-text-fill","name":"file text fill","icon":"file-text-fill.svg"},{"type":"icon","id":"file-text","name":"file text","icon":"file-text.svg"},{"type":"icon","id":"file-word-fill","name":"file word fill","icon":"file-word-fill.svg"},{"type":"icon","id":"file-word","name":"file word","icon":"file-word.svg"},{"type":"icon","id":"file-x-fill","name":"file x fill","icon":"file-x-fill.svg"},{"type":"icon","id":"file-x","name":"file x","icon":"file-x.svg"},{"type":"icon","id":"file-zip-fill","name":"file zip fill","icon":"file-zip-fill.svg"},{"type":"icon","id":"file-zip","name":"file zip","icon":"file-zip.svg"},{"type":"icon","id":"file","name":"file","icon":"file.svg"},{"type":"icon","id":"files-alt","name":"files alt","icon":"files-alt.svg"},{"type":"icon","id":"files","name":"files","icon":"files.svg"},{"type":"icon","id":"filetype-aac","name":"filetype aac","icon":"filetype-aac.svg"},{"type":"icon","id":"filetype-ai","name":"filetype ai","icon":"filetype-ai.svg"},{"type":"icon","id":"filetype-bmp","name":"filetype bmp","icon":"filetype-bmp.svg"},{"type":"icon","id":"filetype-cs","name":"filetype cs","icon":"filetype-cs.svg"},{"type":"icon","id":"filetype-css","name":"filetype css","icon":"filetype-css.svg"},{"type":"icon","id":"filetype-csv","name":"filetype csv","icon":"filetype-csv.svg"},{"type":"icon","id":"filetype-doc","name":"filetype doc","icon":"filetype-doc.svg"},{"type":"icon","id":"filetype-docx","name":"filetype docx","icon":"filetype-docx.svg"},{"type":"icon","id":"filetype-exe","name":"filetype exe","icon":"filetype-exe.svg"},{"type":"icon","id":"filetype-gif","name":"filetype gif","icon":"filetype-gif.svg"},{"type":"icon","id":"filetype-heic","name":"filetype heic","icon":"filetype-heic.svg"},{"type":"icon","id":"filetype-html","name":"filetype html","icon":"filetype-html.svg"},{"type":"icon","id":"filetype-java","name":"filetype java","icon":"filetype-java.svg"},{"type":"icon","id":"filetype-jpg","name":"filetype jpg","icon":"filetype-jpg.svg"},{"type":"icon","id":"filetype-js","name":"filetype js","icon":"filetype-js.svg"},{"type":"icon","id":"filetype-json","name":"filetype json","icon":"filetype-json.svg"},{"type":"icon","id":"filetype-jsx","name":"filetype jsx","icon":"filetype-jsx.svg"},{"type":"icon","id":"filetype-key","name":"filetype key","icon":"filetype-key.svg"},{"type":"icon","id":"filetype-m4p","name":"filetype m4p","icon":"filetype-m4p.svg"},{"type":"icon","id":"filetype-md","name":"filetype md","icon":"filetype-md.svg"},{"type":"icon","id":"filetype-mdx","name":"filetype mdx","icon":"filetype-mdx.svg"},{"type":"icon","id":"filetype-mov","name":"filetype mov","icon":"filetype-mov.svg"},{"type":"icon","id":"filetype-mp3","name":"filetype mp3","icon":"filetype-mp3.svg"},{"type":"icon","id":"filetype-mp4","name":"filetype mp4","icon":"filetype-mp4.svg"},{"type":"icon","id":"filetype-otf","name":"filetype otf","icon":"filetype-otf.svg"},{"type":"icon","id":"filetype-pdf","name":"filetype pdf","icon":"filetype-pdf.svg"},{"type":"icon","id":"filetype-php","name":"filetype php","icon":"filetype-php.svg"},{"type":"icon","id":"filetype-png","name":"filetype png","icon":"filetype-png.svg"},{"type":"icon","id":"filetype-ppt","name":"filetype ppt","icon":"filetype-ppt.svg"},{"type":"icon","id":"filetype-pptx","name":"filetype pptx","icon":"filetype-pptx.svg"},{"type":"icon","id":"filetype-psd","name":"filetype psd","icon":"filetype-psd.svg"},{"type":"icon","id":"filetype-py","name":"filetype py","icon":"filetype-py.svg"},{"type":"icon","id":"filetype-raw","name":"filetype raw","icon":"filetype-raw.svg"},{"type":"icon","id":"filetype-rb","name":"filetype rb","icon":"filetype-rb.svg"},{"type":"icon","id":"filetype-sass","name":"filetype sass","icon":"filetype-sass.svg"},{"type":"icon","id":"filetype-scss","name":"filetype scss","icon":"filetype-scss.svg"},{"type":"icon","id":"filetype-sh","name":"filetype sh","icon":"filetype-sh.svg"},{"type":"icon","id":"filetype-svg","name":"filetype svg","icon":"filetype-svg.svg"},{"type":"icon","id":"filetype-tiff","name":"filetype tiff","icon":"filetype-tiff.svg"},{"type":"icon","id":"filetype-tsx","name":"filetype tsx","icon":"filetype-tsx.svg"},{"type":"icon","id":"filetype-ttf","name":"filetype ttf","icon":"filetype-ttf.svg"},{"type":"icon","id":"filetype-txt","name":"filetype txt","icon":"filetype-txt.svg"},{"type":"icon","id":"filetype-wav","name":"filetype wav","icon":"filetype-wav.svg"},{"type":"icon","id":"filetype-woff","name":"filetype woff","icon":"filetype-woff.svg"},{"type":"icon","id":"filetype-xls","name":"filetype xls","icon":"filetype-xls.svg"},{"type":"icon","id":"filetype-xlsx","name":"filetype xlsx","icon":"filetype-xlsx.svg"},{"type":"icon","id":"filetype-xml","name":"filetype xml","icon":"filetype-xml.svg"},{"type":"icon","id":"filetype-yml","name":"filetype yml","icon":"filetype-yml.svg"},{"type":"icon","id":"film","name":"film","icon":"film.svg"},{"type":"icon","id":"filter-circle-fill","name":"filter circle fill","icon":"filter-circle-fill.svg"},{"type":"icon","id":"filter-circle","name":"filter circle","icon":"filter-circle.svg"},{"type":"icon","id":"filter-left","name":"filter left","icon":"filter-left.svg"},{"type":"icon","id":"filter-right","name":"filter right","icon":"filter-right.svg"},{"type":"icon","id":"filter-square-fill","name":"filter square fill","icon":"filter-square-fill.svg"},{"type":"icon","id":"filter-square","name":"filter square","icon":"filter-square.svg"},{"type":"icon","id":"filter","name":"filter","icon":"filter.svg"},{"type":"icon","id":"fingerprint","name":"fingerprint","icon":"fingerprint.svg"},{"type":"icon","id":"flag-fill","name":"flag fill","icon":"flag-fill.svg"},{"type":"icon","id":"flag","name":"flag","icon":"flag.svg"},{"type":"icon","id":"flower1","name":"flower1","icon":"flower1.svg"},{"type":"icon","id":"flower2","name":"flower2","icon":"flower2.svg"},{"type":"icon","id":"flower3","name":"flower3","icon":"flower3.svg"},{"type":"icon","id":"folder-check","name":"folder check","icon":"folder-check.svg"},{"type":"icon","id":"folder-fill","name":"folder fill","icon":"folder-fill.svg"},{"type":"icon","id":"folder-minus","name":"folder minus","icon":"folder-minus.svg"},{"type":"icon","id":"folder-plus","name":"folder plus","icon":"folder-plus.svg"},{"type":"icon","id":"folder-symlink-fill","name":"folder symlink fill","icon":"folder-symlink-fill.svg"},{"type":"icon","id":"folder-symlink","name":"folder symlink","icon":"folder-symlink.svg"},{"type":"icon","id":"folder-x","name":"folder x","icon":"folder-x.svg"},{"type":"icon","id":"folder","name":"folder","icon":"folder.svg"},{"type":"icon","id":"folder2-open","name":"folder2 open","icon":"folder2-open.svg"},{"type":"icon","id":"folder2","name":"folder2","icon":"folder2.svg"},{"type":"icon","id":"fonts","name":"fonts","icon":"fonts.svg"},{"type":"icon","id":"forward-fill","name":"forward fill","icon":"forward-fill.svg"},{"type":"icon","id":"forward","name":"forward","icon":"forward.svg"},{"type":"icon","id":"front","name":"front","icon":"front.svg"},{"type":"icon","id":"fullscreen-exit","name":"fullscreen exit","icon":"fullscreen-exit.svg"},{"type":"icon","id":"fullscreen","name":"fullscreen","icon":"fullscreen.svg"},{"type":"icon","id":"funnel-fill","name":"funnel fill","icon":"funnel-fill.svg"},{"type":"icon","id":"funnel","name":"funnel","icon":"funnel.svg"},{"type":"icon","id":"gear-fill","name":"gear fill","icon":"gear-fill.svg"},{"type":"icon","id":"gear-wide-connected","name":"gear wide connected","icon":"gear-wide-connected.svg"},{"type":"icon","id":"gear-wide","name":"gear wide","icon":"gear-wide.svg"},{"type":"icon","id":"gear","name":"gear","icon":"gear.svg"},{"type":"icon","id":"gem","name":"gem","icon":"gem.svg"},{"type":"icon","id":"gender-ambiguous","name":"gender ambiguous","icon":"gender-ambiguous.svg"},{"type":"icon","id":"gender-female","name":"gender female","icon":"gender-female.svg"},{"type":"icon","id":"gender-male","name":"gender male","icon":"gender-male.svg"},{"type":"icon","id":"gender-trans","name":"gender trans","icon":"gender-trans.svg"},{"type":"icon","id":"geo-alt-fill","name":"geo alt fill","icon":"geo-alt-fill.svg"},{"type":"icon","id":"geo-alt","name":"geo alt","icon":"geo-alt.svg"},{"type":"icon","id":"geo-fill","name":"geo fill","icon":"geo-fill.svg"},{"type":"icon","id":"geo","name":"geo","icon":"geo.svg"},{"type":"icon","id":"gift-fill","name":"gift fill","icon":"gift-fill.svg"},{"type":"icon","id":"gift","name":"gift","icon":"gift.svg"},{"type":"icon","id":"git","name":"git","icon":"git.svg"},{"type":"icon","id":"github","name":"github","icon":"github.svg"},{"type":"icon","id":"globe","name":"globe","icon":"globe.svg"},{"type":"icon","id":"globe2","name":"globe2","icon":"globe2.svg"},{"type":"icon","id":"google","name":"google","icon":"google.svg"},{"type":"icon","id":"gpu-card","name":"gpu card","icon":"gpu-card.svg"},{"type":"icon","id":"graph-down-arrow","name":"graph down arrow","icon":"graph-down-arrow.svg"},{"type":"icon","id":"graph-down","name":"graph down","icon":"graph-down.svg"},{"type":"icon","id":"graph-up-arrow","name":"graph up arrow","icon":"graph-up-arrow.svg"},{"type":"icon","id":"graph-up","name":"graph up","icon":"graph-up.svg"},{"type":"icon","id":"grid-1x2-fill","name":"grid 1x2 fill","icon":"grid-1x2-fill.svg"},{"type":"icon","id":"grid-1x2","name":"grid 1x2","icon":"grid-1x2.svg"},{"type":"icon","id":"grid-3x2-gap-fill","name":"grid 3x2 gap fill","icon":"grid-3x2-gap-fill.svg"},{"type":"icon","id":"grid-3x2-gap","name":"grid 3x2 gap","icon":"grid-3x2-gap.svg"},{"type":"icon","id":"grid-3x2","name":"grid 3x2","icon":"grid-3x2.svg"},{"type":"icon","id":"grid-3x3-gap-fill","name":"grid 3x3 gap fill","icon":"grid-3x3-gap-fill.svg"},{"type":"icon","id":"grid-3x3-gap","name":"grid 3x3 gap","icon":"grid-3x3-gap.svg"},{"type":"icon","id":"grid-3x3","name":"grid 3x3","icon":"grid-3x3.svg"},{"type":"icon","id":"grid-fill","name":"grid fill","icon":"grid-fill.svg"},{"type":"icon","id":"grid","name":"grid","icon":"grid.svg"},{"type":"icon","id":"grip-horizontal","name":"grip horizontal","icon":"grip-horizontal.svg"},{"type":"icon","id":"grip-vertical","name":"grip vertical","icon":"grip-vertical.svg"},{"type":"icon","id":"hammer","name":"hammer","icon":"hammer.svg"},{"type":"icon","id":"hand-index-fill","name":"hand index fill","icon":"hand-index-fill.svg"},{"type":"icon","id":"hand-index-thumb-fill","name":"hand index thumb fill","icon":"hand-index-thumb-fill.svg"},{"type":"icon","id":"hand-index-thumb","name":"hand index thumb","icon":"hand-index-thumb.svg"},{"type":"icon","id":"hand-index","name":"hand index","icon":"hand-index.svg"},{"type":"icon","id":"hand-thumbs-down-fill","name":"hand thumbs down fill","icon":"hand-thumbs-down-fill.svg"},{"type":"icon","id":"hand-thumbs-down","name":"hand thumbs down","icon":"hand-thumbs-down.svg"},{"type":"icon","id":"hand-thumbs-up-fill","name":"hand thumbs up fill","icon":"hand-thumbs-up-fill.svg"},{"type":"icon","id":"hand-thumbs-up","name":"hand thumbs up","icon":"hand-thumbs-up.svg"},{"type":"icon","id":"handbag-fill","name":"handbag fill","icon":"handbag-fill.svg"},{"type":"icon","id":"handbag","name":"handbag","icon":"handbag.svg"},{"type":"icon","id":"hash","name":"hash","icon":"hash.svg"},{"type":"icon","id":"hdd-fill","name":"hdd fill","icon":"hdd-fill.svg"},{"type":"icon","id":"hdd-network-fill","name":"hdd network fill","icon":"hdd-network-fill.svg"},{"type":"icon","id":"hdd-network","name":"hdd network","icon":"hdd-network.svg"},{"type":"icon","id":"hdd-rack-fill","name":"hdd rack fill","icon":"hdd-rack-fill.svg"},{"type":"icon","id":"hdd-rack","name":"hdd rack","icon":"hdd-rack.svg"},{"type":"icon","id":"hdd-stack-fill","name":"hdd stack fill","icon":"hdd-stack-fill.svg"},{"type":"icon","id":"hdd-stack","name":"hdd stack","icon":"hdd-stack.svg"},{"type":"icon","id":"hdd","name":"hdd","icon":"hdd.svg"},{"type":"icon","id":"hdmi-fill","name":"hdmi fill","icon":"hdmi-fill.svg"},{"type":"icon","id":"hdmi","name":"hdmi","icon":"hdmi.svg"},{"type":"icon","id":"headphones","name":"headphones","icon":"headphones.svg"},{"type":"icon","id":"headset-vr","name":"headset vr","icon":"headset-vr.svg"},{"type":"icon","id":"headset","name":"headset","icon":"headset.svg"},{"type":"icon","id":"heart-arrow","name":"heart arrow","icon":"heart-arrow.svg"},{"type":"icon","id":"heart-fill","name":"heart fill","icon":"heart-fill.svg"},{"type":"icon","id":"heart-half","name":"heart half","icon":"heart-half.svg"},{"type":"icon","id":"heart-pulse-fill","name":"heart pulse fill","icon":"heart-pulse-fill.svg"},{"type":"icon","id":"heart-pulse","name":"heart pulse","icon":"heart-pulse.svg"},{"type":"icon","id":"heart","name":"heart","icon":"heart.svg"},{"type":"icon","id":"heartbreak-fill","name":"heartbreak fill","icon":"heartbreak-fill.svg"},{"type":"icon","id":"heartbreak","name":"heartbreak","icon":"heartbreak.svg"},{"type":"icon","id":"hearts","name":"hearts","icon":"hearts.svg"},{"type":"icon","id":"heptagon-fill","name":"heptagon fill","icon":"heptagon-fill.svg"},{"type":"icon","id":"heptagon-half","name":"heptagon half","icon":"heptagon-half.svg"},{"type":"icon","id":"heptagon","name":"heptagon","icon":"heptagon.svg"},{"type":"icon","id":"hexagon-fill","name":"hexagon fill","icon":"hexagon-fill.svg"},{"type":"icon","id":"hexagon-half","name":"hexagon half","icon":"hexagon-half.svg"},{"type":"icon","id":"hexagon","name":"hexagon","icon":"hexagon.svg"},{"type":"icon","id":"hospital-fill","name":"hospital fill","icon":"hospital-fill.svg"},{"type":"icon","id":"hospital","name":"hospital","icon":"hospital.svg"},{"type":"icon","id":"hourglass-bottom","name":"hourglass bottom","icon":"hourglass-bottom.svg"},{"type":"icon","id":"hourglass-split","name":"hourglass split","icon":"hourglass-split.svg"},{"type":"icon","id":"hourglass-top","name":"hourglass top","icon":"hourglass-top.svg"},{"type":"icon","id":"hourglass","name":"hourglass","icon":"hourglass.svg"},{"type":"icon","id":"house-door-fill","name":"house door fill","icon":"house-door-fill.svg"},{"type":"icon","id":"house-door","name":"house door","icon":"house-door.svg"},{"type":"icon","id":"house-fill","name":"house fill","icon":"house-fill.svg"},{"type":"icon","id":"house-heart-fill","name":"house heart fill","icon":"house-heart-fill.svg"},{"type":"icon","id":"house-heart","name":"house heart","icon":"house-heart.svg"},{"type":"icon","id":"house","name":"house","icon":"house.svg"},{"type":"icon","id":"hr","name":"hr","icon":"hr.svg"},{"type":"icon","id":"hurricane","name":"hurricane","icon":"hurricane.svg"},{"type":"icon","id":"hypnotize","name":"hypnotize","icon":"hypnotize.svg"},{"type":"icon","id":"image-alt","name":"image alt","icon":"image-alt.svg"},{"type":"icon","id":"image-fill","name":"image fill","icon":"image-fill.svg"},{"type":"icon","id":"image","name":"image","icon":"image.svg"},{"type":"icon","id":"images","name":"images","icon":"images.svg"},{"type":"icon","id":"inbox-fill","name":"inbox fill","icon":"inbox-fill.svg"},{"type":"icon","id":"inbox","name":"inbox","icon":"inbox.svg"},{"type":"icon","id":"inboxes-fill","name":"inboxes fill","icon":"inboxes-fill.svg"},{"type":"icon","id":"inboxes","name":"inboxes","icon":"inboxes.svg"},{"type":"icon","id":"incognito","name":"incognito","icon":"incognito.svg"},{"type":"icon","id":"infinity","name":"infinity","icon":"infinity.svg"},{"type":"icon","id":"info-circle-fill","name":"info circle fill","icon":"info-circle-fill.svg"},{"type":"icon","id":"info-circle","name":"info circle","icon":"info-circle.svg"},{"type":"icon","id":"info-lg","name":"info lg","icon":"info-lg.svg"},{"type":"icon","id":"info-square-fill","name":"info square fill","icon":"info-square-fill.svg"},{"type":"icon","id":"info-square","name":"info square","icon":"info-square.svg"},{"type":"icon","id":"info","name":"info","icon":"info.svg"},{"type":"icon","id":"input-cursor-text","name":"input cursor text","icon":"input-cursor-text.svg"},{"type":"icon","id":"input-cursor","name":"input cursor","icon":"input-cursor.svg"},{"type":"icon","id":"instagram","name":"instagram","icon":"instagram.svg"},{"type":"icon","id":"intersect","name":"intersect","icon":"intersect.svg"},{"type":"icon","id":"journal-album","name":"journal album","icon":"journal-album.svg"},{"type":"icon","id":"journal-arrow-down","name":"journal arrow down","icon":"journal-arrow-down.svg"},{"type":"icon","id":"journal-arrow-up","name":"journal arrow up","icon":"journal-arrow-up.svg"},{"type":"icon","id":"journal-bookmark-fill","name":"journal bookmark fill","icon":"journal-bookmark-fill.svg"},{"type":"icon","id":"journal-bookmark","name":"journal bookmark","icon":"journal-bookmark.svg"},{"type":"icon","id":"journal-check","name":"journal check","icon":"journal-check.svg"},{"type":"icon","id":"journal-code","name":"journal code","icon":"journal-code.svg"},{"type":"icon","id":"journal-medical","name":"journal medical","icon":"journal-medical.svg"},{"type":"icon","id":"journal-minus","name":"journal minus","icon":"journal-minus.svg"},{"type":"icon","id":"journal-plus","name":"journal plus","icon":"journal-plus.svg"},{"type":"icon","id":"journal-richtext","name":"journal richtext","icon":"journal-richtext.svg"},{"type":"icon","id":"journal-text","name":"journal text","icon":"journal-text.svg"},{"type":"icon","id":"journal-x","name":"journal x","icon":"journal-x.svg"},{"type":"icon","id":"journal","name":"journal","icon":"journal.svg"},{"type":"icon","id":"journals","name":"journals","icon":"journals.svg"},{"type":"icon","id":"joystick","name":"joystick","icon":"joystick.svg"},{"type":"icon","id":"justify-left","name":"justify left","icon":"justify-left.svg"},{"type":"icon","id":"justify-right","name":"justify right","icon":"justify-right.svg"},{"type":"icon","id":"justify","name":"justify","icon":"justify.svg"},{"type":"icon","id":"kanban-fill","name":"kanban fill","icon":"kanban-fill.svg"},{"type":"icon","id":"kanban","name":"kanban","icon":"kanban.svg"},{"type":"icon","id":"key-fill","name":"key fill","icon":"key-fill.svg"},{"type":"icon","id":"key","name":"key","icon":"key.svg"},{"type":"icon","id":"keyboard-fill","name":"keyboard fill","icon":"keyboard-fill.svg"},{"type":"icon","id":"keyboard","name":"keyboard","icon":"keyboard.svg"},{"type":"icon","id":"ladder","name":"ladder","icon":"ladder.svg"},{"type":"icon","id":"lamp-fill","name":"lamp fill","icon":"lamp-fill.svg"},{"type":"icon","id":"lamp","name":"lamp","icon":"lamp.svg"},{"type":"icon","id":"laptop-fill","name":"laptop fill","icon":"laptop-fill.svg"},{"type":"icon","id":"laptop","name":"laptop","icon":"laptop.svg"},{"type":"icon","id":"layer-backward","name":"layer backward","icon":"layer-backward.svg"},{"type":"icon","id":"layer-forward","name":"layer forward","icon":"layer-forward.svg"},{"type":"icon","id":"layers-fill","name":"layers fill","icon":"layers-fill.svg"},{"type":"icon","id":"layers-half","name":"layers half","icon":"layers-half.svg"},{"type":"icon","id":"layers","name":"layers","icon":"layers.svg"},{"type":"icon","id":"layout-sidebar-inset-reverse","name":"layout sidebar inset reverse","icon":"layout-sidebar-inset-reverse.svg"},{"type":"icon","id":"layout-sidebar-inset","name":"layout sidebar inset","icon":"layout-sidebar-inset.svg"},{"type":"icon","id":"layout-sidebar-reverse","name":"layout sidebar reverse","icon":"layout-sidebar-reverse.svg"},{"type":"icon","id":"layout-sidebar","name":"layout sidebar","icon":"layout-sidebar.svg"},{"type":"icon","id":"layout-split","name":"layout split","icon":"layout-split.svg"},{"type":"icon","id":"layout-text-sidebar-reverse","name":"layout text sidebar reverse","icon":"layout-text-sidebar-reverse.svg"},{"type":"icon","id":"layout-text-sidebar","name":"layout text sidebar","icon":"layout-text-sidebar.svg"},{"type":"icon","id":"layout-text-window-reverse","name":"layout text window reverse","icon":"layout-text-window-reverse.svg"},{"type":"icon","id":"layout-text-window","name":"layout text window","icon":"layout-text-window.svg"},{"type":"icon","id":"layout-three-columns","name":"layout three columns","icon":"layout-three-columns.svg"},{"type":"icon","id":"layout-wtf","name":"layout wtf","icon":"layout-wtf.svg"},{"type":"icon","id":"life-preserver","name":"life preserver","icon":"life-preserver.svg"},{"type":"icon","id":"lightbulb-fill","name":"lightbulb fill","icon":"lightbulb-fill.svg"},{"type":"icon","id":"lightbulb-off-fill","name":"lightbulb off fill","icon":"lightbulb-off-fill.svg"},{"type":"icon","id":"lightbulb-off","name":"lightbulb off","icon":"lightbulb-off.svg"},{"type":"icon","id":"lightbulb","name":"lightbulb","icon":"lightbulb.svg"},{"type":"icon","id":"lightning-charge-fill","name":"lightning charge fill","icon":"lightning-charge-fill.svg"},{"type":"icon","id":"lightning-charge","name":"lightning charge","icon":"lightning-charge.svg"},{"type":"icon","id":"lightning-fill","name":"lightning fill","icon":"lightning-fill.svg"},{"type":"icon","id":"lightning","name":"lightning","icon":"lightning.svg"},{"type":"icon","id":"line","name":"line","icon":"line.svg"},{"type":"icon","id":"link-45deg","name":"link 45deg","icon":"link-45deg.svg"},{"type":"icon","id":"link","name":"link","icon":"link.svg"},{"type":"icon","id":"linkedin","name":"linkedin","icon":"linkedin.svg"},{"type":"icon","id":"list-check","name":"list check","icon":"list-check.svg"},{"type":"icon","id":"list-columns-reverse","name":"list columns reverse","icon":"list-columns-reverse.svg"},{"type":"icon","id":"list-columns","name":"list columns","icon":"list-columns.svg"},{"type":"icon","id":"list-nested","name":"list nested","icon":"list-nested.svg"},{"type":"icon","id":"list-ol","name":"list ol","icon":"list-ol.svg"},{"type":"icon","id":"list-stars","name":"list stars","icon":"list-stars.svg"},{"type":"icon","id":"list-task","name":"list task","icon":"list-task.svg"},{"type":"icon","id":"list-ul","name":"list ul","icon":"list-ul.svg"},{"type":"icon","id":"list","name":"list","icon":"list.svg"},{"type":"icon","id":"lock-fill","name":"lock fill","icon":"lock-fill.svg"},{"type":"icon","id":"lock","name":"lock","icon":"lock.svg"},{"type":"icon","id":"magic","name":"magic","icon":"magic.svg"},{"type":"icon","id":"magnet-fill","name":"magnet fill","icon":"magnet-fill.svg"},{"type":"icon","id":"magnet","name":"magnet","icon":"magnet.svg"},{"type":"icon","id":"mailbox","name":"mailbox","icon":"mailbox.svg"},{"type":"icon","id":"mailbox2","name":"mailbox2","icon":"mailbox2.svg"},{"type":"icon","id":"map-fill","name":"map fill","icon":"map-fill.svg"},{"type":"icon","id":"map","name":"map","icon":"map.svg"},{"type":"icon","id":"markdown-fill","name":"markdown fill","icon":"markdown-fill.svg"},{"type":"icon","id":"markdown","name":"markdown","icon":"markdown.svg"},{"type":"icon","id":"mask","name":"mask","icon":"mask.svg"},{"type":"icon","id":"mastodon","name":"mastodon","icon":"mastodon.svg"},{"type":"icon","id":"medium","name":"medium","icon":"medium.svg"},{"type":"icon","id":"megaphone-fill","name":"megaphone fill","icon":"megaphone-fill.svg"},{"type":"icon","id":"megaphone","name":"megaphone","icon":"megaphone.svg"},{"type":"icon","id":"memory","name":"memory","icon":"memory.svg"},{"type":"icon","id":"menu-app-fill","name":"menu app fill","icon":"menu-app-fill.svg"},{"type":"icon","id":"menu-app","name":"menu app","icon":"menu-app.svg"},{"type":"icon","id":"menu-button-fill","name":"menu button fill","icon":"menu-button-fill.svg"},{"type":"icon","id":"menu-button-wide-fill","name":"menu button wide fill","icon":"menu-button-wide-fill.svg"},{"type":"icon","id":"menu-button-wide","name":"menu button wide","icon":"menu-button-wide.svg"},{"type":"icon","id":"menu-button","name":"menu button","icon":"menu-button.svg"},{"type":"icon","id":"menu-down","name":"menu down","icon":"menu-down.svg"},{"type":"icon","id":"menu-up","name":"menu up","icon":"menu-up.svg"},{"type":"icon","id":"messenger","name":"messenger","icon":"messenger.svg"},{"type":"icon","id":"meta","name":"meta","icon":"meta.svg"},{"type":"icon","id":"mic-fill","name":"mic fill","icon":"mic-fill.svg"},{"type":"icon","id":"mic-mute-fill","name":"mic mute fill","icon":"mic-mute-fill.svg"},{"type":"icon","id":"mic-mute","name":"mic mute","icon":"mic-mute.svg"},{"type":"icon","id":"mic","name":"mic","icon":"mic.svg"},{"type":"icon","id":"microsoft","name":"microsoft","icon":"microsoft.svg"},{"type":"icon","id":"minecart-loaded","name":"minecart loaded","icon":"minecart-loaded.svg"},{"type":"icon","id":"minecart","name":"minecart","icon":"minecart.svg"},{"type":"icon","id":"modem-fill","name":"modem fill","icon":"modem-fill.svg"},{"type":"icon","id":"modem","name":"modem","icon":"modem.svg"},{"type":"icon","id":"moisture","name":"moisture","icon":"moisture.svg"},{"type":"icon","id":"moon-fill","name":"moon fill","icon":"moon-fill.svg"},{"type":"icon","id":"moon-stars-fill","name":"moon stars fill","icon":"moon-stars-fill.svg"},{"type":"icon","id":"moon-stars","name":"moon stars","icon":"moon-stars.svg"},{"type":"icon","id":"moon","name":"moon","icon":"moon.svg"},{"type":"icon","id":"mortarboard-fill","name":"mortarboard fill","icon":"mortarboard-fill.svg"},{"type":"icon","id":"mortarboard","name":"mortarboard","icon":"mortarboard.svg"},{"type":"icon","id":"motherboard-fill","name":"motherboard fill","icon":"motherboard-fill.svg"},{"type":"icon","id":"motherboard","name":"motherboard","icon":"motherboard.svg"},{"type":"icon","id":"mouse-fill","name":"mouse fill","icon":"mouse-fill.svg"},{"type":"icon","id":"mouse","name":"mouse","icon":"mouse.svg"},{"type":"icon","id":"mouse2-fill","name":"mouse2 fill","icon":"mouse2-fill.svg"},{"type":"icon","id":"mouse2","name":"mouse2","icon":"mouse2.svg"},{"type":"icon","id":"mouse3-fill","name":"mouse3 fill","icon":"mouse3-fill.svg"},{"type":"icon","id":"mouse3","name":"mouse3","icon":"mouse3.svg"},{"type":"icon","id":"music-note-beamed","name":"music note beamed","icon":"music-note-beamed.svg"},{"type":"icon","id":"music-note-list","name":"music note list","icon":"music-note-list.svg"},{"type":"icon","id":"music-note","name":"music note","icon":"music-note.svg"},{"type":"icon","id":"music-player-fill","name":"music player fill","icon":"music-player-fill.svg"},{"type":"icon","id":"music-player","name":"music player","icon":"music-player.svg"},{"type":"icon","id":"newspaper","name":"newspaper","icon":"newspaper.svg"},{"type":"icon","id":"nintendo-switch","name":"nintendo switch","icon":"nintendo-switch.svg"},{"type":"icon","id":"node-minus-fill","name":"node minus fill","icon":"node-minus-fill.svg"},{"type":"icon","id":"node-minus","name":"node minus","icon":"node-minus.svg"},{"type":"icon","id":"node-plus-fill","name":"node plus fill","icon":"node-plus-fill.svg"},{"type":"icon","id":"node-plus","name":"node plus","icon":"node-plus.svg"},{"type":"icon","id":"nut-fill","name":"nut fill","icon":"nut-fill.svg"},{"type":"icon","id":"nut","name":"nut","icon":"nut.svg"},{"type":"icon","id":"octagon-fill","name":"octagon fill","icon":"octagon-fill.svg"},{"type":"icon","id":"octagon-half","name":"octagon half","icon":"octagon-half.svg"},{"type":"icon","id":"octagon","name":"octagon","icon":"octagon.svg"},{"type":"icon","id":"optical-audio-fill","name":"optical audio fill","icon":"optical-audio-fill.svg"},{"type":"icon","id":"optical-audio","name":"optical audio","icon":"optical-audio.svg"},{"type":"icon","id":"option","name":"option","icon":"option.svg"},{"type":"icon","id":"outlet","name":"outlet","icon":"outlet.svg"},{"type":"icon","id":"paint-bucket","name":"paint bucket","icon":"paint-bucket.svg"},{"type":"icon","id":"palette-fill","name":"palette fill","icon":"palette-fill.svg"},{"type":"icon","id":"palette","name":"palette","icon":"palette.svg"},{"type":"icon","id":"palette2","name":"palette2","icon":"palette2.svg"},{"type":"icon","id":"paperclip","name":"paperclip","icon":"paperclip.svg"},{"type":"icon","id":"paragraph","name":"paragraph","icon":"paragraph.svg"},{"type":"icon","id":"patch-check-fill","name":"patch check fill","icon":"patch-check-fill.svg"},{"type":"icon","id":"patch-check","name":"patch check","icon":"patch-check.svg"},{"type":"icon","id":"patch-exclamation-fill","name":"patch exclamation fill","icon":"patch-exclamation-fill.svg"},{"type":"icon","id":"patch-exclamation","name":"patch exclamation","icon":"patch-exclamation.svg"},{"type":"icon","id":"patch-minus-fill","name":"patch minus fill","icon":"patch-minus-fill.svg"},{"type":"icon","id":"patch-minus","name":"patch minus","icon":"patch-minus.svg"},{"type":"icon","id":"patch-plus-fill","name":"patch plus fill","icon":"patch-plus-fill.svg"},{"type":"icon","id":"patch-plus","name":"patch plus","icon":"patch-plus.svg"},{"type":"icon","id":"patch-question-fill","name":"patch question fill","icon":"patch-question-fill.svg"},{"type":"icon","id":"patch-question","name":"patch question","icon":"patch-question.svg"},{"type":"icon","id":"pause-btn-fill","name":"pause btn fill","icon":"pause-btn-fill.svg"},{"type":"icon","id":"pause-btn","name":"pause btn","icon":"pause-btn.svg"},{"type":"icon","id":"pause-circle-fill","name":"pause circle fill","icon":"pause-circle-fill.svg"},{"type":"icon","id":"pause-circle","name":"pause circle","icon":"pause-circle.svg"},{"type":"icon","id":"pause-fill","name":"pause fill","icon":"pause-fill.svg"},{"type":"icon","id":"pause","name":"pause","icon":"pause.svg"},{"type":"icon","id":"paypal","name":"paypal","icon":"paypal.svg"},{"type":"icon","id":"pc-display-horizontal","name":"pc display horizontal","icon":"pc-display-horizontal.svg"},{"type":"icon","id":"pc-display","name":"pc display","icon":"pc-display.svg"},{"type":"icon","id":"pc-horizontal","name":"pc horizontal","icon":"pc-horizontal.svg"},{"type":"icon","id":"pc","name":"pc","icon":"pc.svg"},{"type":"icon","id":"pci-card","name":"pci card","icon":"pci-card.svg"},{"type":"icon","id":"peace-fill","name":"peace fill","icon":"peace-fill.svg"},{"type":"icon","id":"peace","name":"peace","icon":"peace.svg"},{"type":"icon","id":"pen-fill","name":"pen fill","icon":"pen-fill.svg"},{"type":"icon","id":"pen","name":"pen","icon":"pen.svg"},{"type":"icon","id":"pencil-fill","name":"pencil fill","icon":"pencil-fill.svg"},{"type":"icon","id":"pencil-square","name":"pencil square","icon":"pencil-square.svg"},{"type":"icon","id":"pencil","name":"pencil","icon":"pencil.svg"},{"type":"icon","id":"pentagon-fill","name":"pentagon fill","icon":"pentagon-fill.svg"},{"type":"icon","id":"pentagon-half","name":"pentagon half","icon":"pentagon-half.svg"},{"type":"icon","id":"pentagon","name":"pentagon","icon":"pentagon.svg"},{"type":"icon","id":"people-fill","name":"people fill","icon":"people-fill.svg"},{"type":"icon","id":"people","name":"people","icon":"people.svg"},{"type":"icon","id":"percent","name":"percent","icon":"percent.svg"},{"type":"icon","id":"person-badge-fill","name":"person badge fill","icon":"person-badge-fill.svg"},{"type":"icon","id":"person-badge","name":"person badge","icon":"person-badge.svg"},{"type":"icon","id":"person-bounding-box","name":"person bounding box","icon":"person-bounding-box.svg"},{"type":"icon","id":"person-check-fill","name":"person check fill","icon":"person-check-fill.svg"},{"type":"icon","id":"person-check","name":"person check","icon":"person-check.svg"},{"type":"icon","id":"person-circle","name":"person circle","icon":"person-circle.svg"},{"type":"icon","id":"person-dash-fill","name":"person dash fill","icon":"person-dash-fill.svg"},{"type":"icon","id":"person-dash","name":"person dash","icon":"person-dash.svg"},{"type":"icon","id":"person-fill","name":"person fill","icon":"person-fill.svg"},{"type":"icon","id":"person-heart","name":"person heart","icon":"person-heart.svg"},{"type":"icon","id":"person-hearts","name":"person hearts","icon":"person-hearts.svg"},{"type":"icon","id":"person-lines-fill","name":"person lines fill","icon":"person-lines-fill.svg"},{"type":"icon","id":"person-plus-fill","name":"person plus fill","icon":"person-plus-fill.svg"},{"type":"icon","id":"person-plus","name":"person plus","icon":"person-plus.svg"},{"type":"icon","id":"person-rolodex","name":"person rolodex","icon":"person-rolodex.svg"},{"type":"icon","id":"person-square","name":"person square","icon":"person-square.svg"},{"type":"icon","id":"person-video","name":"person video","icon":"person-video.svg"},{"type":"icon","id":"person-video2","name":"person video2","icon":"person-video2.svg"},{"type":"icon","id":"person-video3","name":"person video3","icon":"person-video3.svg"},{"type":"icon","id":"person-workspace","name":"person workspace","icon":"person-workspace.svg"},{"type":"icon","id":"person-x-fill","name":"person x fill","icon":"person-x-fill.svg"},{"type":"icon","id":"person-x","name":"person x","icon":"person-x.svg"},{"type":"icon","id":"person","name":"person","icon":"person.svg"},{"type":"icon","id":"phone-fill","name":"phone fill","icon":"phone-fill.svg"},{"type":"icon","id":"phone-flip","name":"phone flip","icon":"phone-flip.svg"},{"type":"icon","id":"phone-landscape-fill","name":"phone landscape fill","icon":"phone-landscape-fill.svg"},{"type":"icon","id":"phone-landscape","name":"phone landscape","icon":"phone-landscape.svg"},{"type":"icon","id":"phone-vibrate-fill","name":"phone vibrate fill","icon":"phone-vibrate-fill.svg"},{"type":"icon","id":"phone-vibrate","name":"phone vibrate","icon":"phone-vibrate.svg"},{"type":"icon","id":"phone","name":"phone","icon":"phone.svg"},{"type":"icon","id":"pie-chart-fill","name":"pie chart fill","icon":"pie-chart-fill.svg"},{"type":"icon","id":"pie-chart","name":"pie chart","icon":"pie-chart.svg"},{"type":"icon","id":"piggy-bank-fill","name":"piggy bank fill","icon":"piggy-bank-fill.svg"},{"type":"icon","id":"piggy-bank","name":"piggy bank","icon":"piggy-bank.svg"},{"type":"icon","id":"pin-angle-fill","name":"pin angle fill","icon":"pin-angle-fill.svg"},{"type":"icon","id":"pin-angle","name":"pin angle","icon":"pin-angle.svg"},{"type":"icon","id":"pin-fill","name":"pin fill","icon":"pin-fill.svg"},{"type":"icon","id":"pin-map-fill","name":"pin map fill","icon":"pin-map-fill.svg"},{"type":"icon","id":"pin-map","name":"pin map","icon":"pin-map.svg"},{"type":"icon","id":"pin","name":"pin","icon":"pin.svg"},{"type":"icon","id":"pinterest","name":"pinterest","icon":"pinterest.svg"},{"type":"icon","id":"pip-fill","name":"pip fill","icon":"pip-fill.svg"},{"type":"icon","id":"pip","name":"pip","icon":"pip.svg"},{"type":"icon","id":"play-btn-fill","name":"play btn fill","icon":"play-btn-fill.svg"},{"type":"icon","id":"play-btn","name":"play btn","icon":"play-btn.svg"},{"type":"icon","id":"play-circle-fill","name":"play circle fill","icon":"play-circle-fill.svg"},{"type":"icon","id":"play-circle","name":"play circle","icon":"play-circle.svg"},{"type":"icon","id":"play-fill","name":"play fill","icon":"play-fill.svg"},{"type":"icon","id":"play","name":"play","icon":"play.svg"},{"type":"icon","id":"playstation","name":"playstation","icon":"playstation.svg"},{"type":"icon","id":"plug-fill","name":"plug fill","icon":"plug-fill.svg"},{"type":"icon","id":"plug","name":"plug","icon":"plug.svg"},{"type":"icon","id":"plugin","name":"plugin","icon":"plugin.svg"},{"type":"icon","id":"plus-circle-dotted","name":"plus circle dotted","icon":"plus-circle-dotted.svg"},{"type":"icon","id":"plus-circle-fill","name":"plus circle fill","icon":"plus-circle-fill.svg"},{"type":"icon","id":"plus-circle","name":"plus circle","icon":"plus-circle.svg"},{"type":"icon","id":"plus-lg","name":"plus lg","icon":"plus-lg.svg"},{"type":"icon","id":"plus-slash-minus","name":"plus slash minus","icon":"plus-slash-minus.svg"},{"type":"icon","id":"plus-square-dotted","name":"plus square dotted","icon":"plus-square-dotted.svg"},{"type":"icon","id":"plus-square-fill","name":"plus square fill","icon":"plus-square-fill.svg"},{"type":"icon","id":"plus-square","name":"plus square","icon":"plus-square.svg"},{"type":"icon","id":"plus","name":"plus","icon":"plus.svg"},{"type":"icon","id":"postage-fill","name":"postage fill","icon":"postage-fill.svg"},{"type":"icon","id":"postage-heart-fill","name":"postage heart fill","icon":"postage-heart-fill.svg"},{"type":"icon","id":"postage-heart","name":"postage heart","icon":"postage-heart.svg"},{"type":"icon","id":"postage","name":"postage","icon":"postage.svg"},{"type":"icon","id":"postcard-fill","name":"postcard fill","icon":"postcard-fill.svg"},{"type":"icon","id":"postcard-heart-fill","name":"postcard heart fill","icon":"postcard-heart-fill.svg"},{"type":"icon","id":"postcard-heart","name":"postcard heart","icon":"postcard-heart.svg"},{"type":"icon","id":"postcard","name":"postcard","icon":"postcard.svg"},{"type":"icon","id":"power","name":"power","icon":"power.svg"},{"type":"icon","id":"printer-fill","name":"printer fill","icon":"printer-fill.svg"},{"type":"icon","id":"printer","name":"printer","icon":"printer.svg"},{"type":"icon","id":"projector-fill","name":"projector fill","icon":"projector-fill.svg"},{"type":"icon","id":"projector","name":"projector","icon":"projector.svg"},{"type":"icon","id":"puzzle-fill","name":"puzzle fill","icon":"puzzle-fill.svg"},{"type":"icon","id":"puzzle","name":"puzzle","icon":"puzzle.svg"},{"type":"icon","id":"qr-code-scan","name":"qr code scan","icon":"qr-code-scan.svg"},{"type":"icon","id":"qr-code","name":"qr code","icon":"qr-code.svg"},{"type":"icon","id":"question-circle-fill","name":"question circle fill","icon":"question-circle-fill.svg"},{"type":"icon","id":"question-circle","name":"question circle","icon":"question-circle.svg"},{"type":"icon","id":"question-diamond-fill","name":"question diamond fill","icon":"question-diamond-fill.svg"},{"type":"icon","id":"question-diamond","name":"question diamond","icon":"question-diamond.svg"},{"type":"icon","id":"question-lg","name":"question lg","icon":"question-lg.svg"},{"type":"icon","id":"question-octagon-fill","name":"question octagon fill","icon":"question-octagon-fill.svg"},{"type":"icon","id":"question-octagon","name":"question octagon","icon":"question-octagon.svg"},{"type":"icon","id":"question-square-fill","name":"question square fill","icon":"question-square-fill.svg"},{"type":"icon","id":"question-square","name":"question square","icon":"question-square.svg"},{"type":"icon","id":"question","name":"question","icon":"question.svg"},{"type":"icon","id":"quora","name":"quora","icon":"quora.svg"},{"type":"icon","id":"quote","name":"quote","icon":"quote.svg"},{"type":"icon","id":"radioactive","name":"radioactive","icon":"radioactive.svg"},{"type":"icon","id":"rainbow","name":"rainbow","icon":"rainbow.svg"},{"type":"icon","id":"receipt-cutoff","name":"receipt cutoff","icon":"receipt-cutoff.svg"},{"type":"icon","id":"receipt","name":"receipt","icon":"receipt.svg"},{"type":"icon","id":"reception-0","name":"reception 0","icon":"reception-0.svg"},{"type":"icon","id":"reception-1","name":"reception 1","icon":"reception-1.svg"},{"type":"icon","id":"reception-2","name":"reception 2","icon":"reception-2.svg"},{"type":"icon","id":"reception-3","name":"reception 3","icon":"reception-3.svg"},{"type":"icon","id":"reception-4","name":"reception 4","icon":"reception-4.svg"},{"type":"icon","id":"record-btn-fill","name":"record btn fill","icon":"record-btn-fill.svg"},{"type":"icon","id":"record-btn","name":"record btn","icon":"record-btn.svg"},{"type":"icon","id":"record-circle-fill","name":"record circle fill","icon":"record-circle-fill.svg"},{"type":"icon","id":"record-circle","name":"record circle","icon":"record-circle.svg"},{"type":"icon","id":"record-fill","name":"record fill","icon":"record-fill.svg"},{"type":"icon","id":"record","name":"record","icon":"record.svg"},{"type":"icon","id":"record2-fill","name":"record2 fill","icon":"record2-fill.svg"},{"type":"icon","id":"record2","name":"record2","icon":"record2.svg"},{"type":"icon","id":"recycle","name":"recycle","icon":"recycle.svg"},{"type":"icon","id":"reddit","name":"reddit","icon":"reddit.svg"},{"type":"icon","id":"reply-all-fill","name":"reply all fill","icon":"reply-all-fill.svg"},{"type":"icon","id":"reply-all","name":"reply all","icon":"reply-all.svg"},{"type":"icon","id":"reply-fill","name":"reply fill","icon":"reply-fill.svg"},{"type":"icon","id":"reply","name":"reply","icon":"reply.svg"},{"type":"icon","id":"robot","name":"robot","icon":"robot.svg"},{"type":"icon","id":"router-fill","name":"router fill","icon":"router-fill.svg"},{"type":"icon","id":"router","name":"router","icon":"router.svg"},{"type":"icon","id":"rss-fill","name":"rss fill","icon":"rss-fill.svg"},{"type":"icon","id":"rss","name":"rss","icon":"rss.svg"},{"type":"icon","id":"rulers","name":"rulers","icon":"rulers.svg"},{"type":"icon","id":"safe-fill","name":"safe fill","icon":"safe-fill.svg"},{"type":"icon","id":"safe","name":"safe","icon":"safe.svg"},{"type":"icon","id":"safe2-fill","name":"safe2 fill","icon":"safe2-fill.svg"},{"type":"icon","id":"safe2","name":"safe2","icon":"safe2.svg"},{"type":"icon","id":"save-fill","name":"save fill","icon":"save-fill.svg"},{"type":"icon","id":"save","name":"save","icon":"save.svg"},{"type":"icon","id":"save2-fill","name":"save2 fill","icon":"save2-fill.svg"},{"type":"icon","id":"save2","name":"save2","icon":"save2.svg"},{"type":"icon","id":"scissors","name":"scissors","icon":"scissors.svg"},{"type":"icon","id":"screwdriver","name":"screwdriver","icon":"screwdriver.svg"},{"type":"icon","id":"sd-card-fill","name":"sd card fill","icon":"sd-card-fill.svg"},{"type":"icon","id":"sd-card","name":"sd card","icon":"sd-card.svg"},{"type":"icon","id":"search-heart-fill","name":"search heart fill","icon":"search-heart-fill.svg"},{"type":"icon","id":"search-heart","name":"search heart","icon":"search-heart.svg"},{"type":"icon","id":"search","name":"search","icon":"search.svg"},{"type":"icon","id":"segmented-nav","name":"segmented nav","icon":"segmented-nav.svg"},{"type":"icon","id":"send-check-fill","name":"send check fill","icon":"send-check-fill.svg"},{"type":"icon","id":"send-check","name":"send check","icon":"send-check.svg"},{"type":"icon","id":"send-dash-fill","name":"send dash fill","icon":"send-dash-fill.svg"},{"type":"icon","id":"send-dash","name":"send dash","icon":"send-dash.svg"},{"type":"icon","id":"send-exclamation-fill","name":"send exclamation fill","icon":"send-exclamation-fill.svg"},{"type":"icon","id":"send-exclamation","name":"send exclamation","icon":"send-exclamation.svg"},{"type":"icon","id":"send-fill","name":"send fill","icon":"send-fill.svg"},{"type":"icon","id":"send-plus-fill","name":"send plus fill","icon":"send-plus-fill.svg"},{"type":"icon","id":"send-plus","name":"send plus","icon":"send-plus.svg"},{"type":"icon","id":"send-slash-fill","name":"send slash fill","icon":"send-slash-fill.svg"},{"type":"icon","id":"send-slash","name":"send slash","icon":"send-slash.svg"},{"type":"icon","id":"send-x-fill","name":"send x fill","icon":"send-x-fill.svg"},{"type":"icon","id":"send-x","name":"send x","icon":"send-x.svg"},{"type":"icon","id":"send","name":"send","icon":"send.svg"},{"type":"icon","id":"server","name":"server","icon":"server.svg"},{"type":"icon","id":"share-fill","name":"share fill","icon":"share-fill.svg"},{"type":"icon","id":"share","name":"share","icon":"share.svg"},{"type":"icon","id":"shield-check","name":"shield check","icon":"shield-check.svg"},{"type":"icon","id":"shield-exclamation","name":"shield exclamation","icon":"shield-exclamation.svg"},{"type":"icon","id":"shield-fill-check","name":"shield fill check","icon":"shield-fill-check.svg"},{"type":"icon","id":"shield-fill-exclamation","name":"shield fill exclamation","icon":"shield-fill-exclamation.svg"},{"type":"icon","id":"shield-fill-minus","name":"shield fill minus","icon":"shield-fill-minus.svg"},{"type":"icon","id":"shield-fill-plus","name":"shield fill plus","icon":"shield-fill-plus.svg"},{"type":"icon","id":"shield-fill-x","name":"shield fill x","icon":"shield-fill-x.svg"},{"type":"icon","id":"shield-fill","name":"shield fill","icon":"shield-fill.svg"},{"type":"icon","id":"shield-lock-fill","name":"shield lock fill","icon":"shield-lock-fill.svg"},{"type":"icon","id":"shield-lock","name":"shield lock","icon":"shield-lock.svg"},{"type":"icon","id":"shield-minus","name":"shield minus","icon":"shield-minus.svg"},{"type":"icon","id":"shield-plus","name":"shield plus","icon":"shield-plus.svg"},{"type":"icon","id":"shield-shaded","name":"shield shaded","icon":"shield-shaded.svg"},{"type":"icon","id":"shield-slash-fill","name":"shield slash fill","icon":"shield-slash-fill.svg"},{"type":"icon","id":"shield-slash","name":"shield slash","icon":"shield-slash.svg"},{"type":"icon","id":"shield-x","name":"shield x","icon":"shield-x.svg"},{"type":"icon","id":"shield","name":"shield","icon":"shield.svg"},{"type":"icon","id":"shift-fill","name":"shift fill","icon":"shift-fill.svg"},{"type":"icon","id":"shift","name":"shift","icon":"shift.svg"},{"type":"icon","id":"shop-window","name":"shop window","icon":"shop-window.svg"},{"type":"icon","id":"shop","name":"shop","icon":"shop.svg"},{"type":"icon","id":"shuffle","name":"shuffle","icon":"shuffle.svg"},{"type":"icon","id":"signal","name":"signal","icon":"signal.svg"},{"type":"icon","id":"signpost-2-fill","name":"signpost 2 fill","icon":"signpost-2-fill.svg"},{"type":"icon","id":"signpost-2","name":"signpost 2","icon":"signpost-2.svg"},{"type":"icon","id":"signpost-fill","name":"signpost fill","icon":"signpost-fill.svg"},{"type":"icon","id":"signpost-split-fill","name":"signpost split fill","icon":"signpost-split-fill.svg"},{"type":"icon","id":"signpost-split","name":"signpost split","icon":"signpost-split.svg"},{"type":"icon","id":"signpost","name":"signpost","icon":"signpost.svg"},{"type":"icon","id":"sim-fill","name":"sim fill","icon":"sim-fill.svg"},{"type":"icon","id":"sim","name":"sim","icon":"sim.svg"},{"type":"icon","id":"skip-backward-btn-fill","name":"skip backward btn fill","icon":"skip-backward-btn-fill.svg"},{"type":"icon","id":"skip-backward-btn","name":"skip backward btn","icon":"skip-backward-btn.svg"},{"type":"icon","id":"skip-backward-circle-fill","name":"skip backward circle fill","icon":"skip-backward-circle-fill.svg"},{"type":"icon","id":"skip-backward-circle","name":"skip backward circle","icon":"skip-backward-circle.svg"},{"type":"icon","id":"skip-backward-fill","name":"skip backward fill","icon":"skip-backward-fill.svg"},{"type":"icon","id":"skip-backward","name":"skip backward","icon":"skip-backward.svg"},{"type":"icon","id":"skip-end-btn-fill","name":"skip end btn fill","icon":"skip-end-btn-fill.svg"},{"type":"icon","id":"skip-end-btn","name":"skip end btn","icon":"skip-end-btn.svg"},{"type":"icon","id":"skip-end-circle-fill","name":"skip end circle fill","icon":"skip-end-circle-fill.svg"},{"type":"icon","id":"skip-end-circle","name":"skip end circle","icon":"skip-end-circle.svg"},{"type":"icon","id":"skip-end-fill","name":"skip end fill","icon":"skip-end-fill.svg"},{"type":"icon","id":"skip-end","name":"skip end","icon":"skip-end.svg"},{"type":"icon","id":"skip-forward-btn-fill","name":"skip forward btn fill","icon":"skip-forward-btn-fill.svg"},{"type":"icon","id":"skip-forward-btn","name":"skip forward btn","icon":"skip-forward-btn.svg"},{"type":"icon","id":"skip-forward-circle-fill","name":"skip forward circle fill","icon":"skip-forward-circle-fill.svg"},{"type":"icon","id":"skip-forward-circle","name":"skip forward circle","icon":"skip-forward-circle.svg"},{"type":"icon","id":"skip-forward-fill","name":"skip forward fill","icon":"skip-forward-fill.svg"},{"type":"icon","id":"skip-forward","name":"skip forward","icon":"skip-forward.svg"},{"type":"icon","id":"skip-start-btn-fill","name":"skip start btn fill","icon":"skip-start-btn-fill.svg"},{"type":"icon","id":"skip-start-btn","name":"skip start btn","icon":"skip-start-btn.svg"},{"type":"icon","id":"skip-start-circle-fill","name":"skip start circle fill","icon":"skip-start-circle-fill.svg"},{"type":"icon","id":"skip-start-circle","name":"skip start circle","icon":"skip-start-circle.svg"},{"type":"icon","id":"skip-start-fill","name":"skip start fill","icon":"skip-start-fill.svg"},{"type":"icon","id":"skip-start","name":"skip start","icon":"skip-start.svg"},{"type":"icon","id":"skype","name":"skype","icon":"skype.svg"},{"type":"icon","id":"slack","name":"slack","icon":"slack.svg"},{"type":"icon","id":"slash-circle-fill","name":"slash circle fill","icon":"slash-circle-fill.svg"},{"type":"icon","id":"slash-circle","name":"slash circle","icon":"slash-circle.svg"},{"type":"icon","id":"slash-lg","name":"slash lg","icon":"slash-lg.svg"},{"type":"icon","id":"slash-square-fill","name":"slash square fill","icon":"slash-square-fill.svg"},{"type":"icon","id":"slash-square","name":"slash square","icon":"slash-square.svg"},{"type":"icon","id":"slash","name":"slash","icon":"slash.svg"},{"type":"icon","id":"sliders","name":"sliders","icon":"sliders.svg"},{"type":"icon","id":"sliders2-vertical","name":"sliders2 vertical","icon":"sliders2-vertical.svg"},{"type":"icon","id":"sliders2","name":"sliders2","icon":"sliders2.svg"},{"type":"icon","id":"smartwatch","name":"smartwatch","icon":"smartwatch.svg"},{"type":"icon","id":"snapchat","name":"snapchat","icon":"snapchat.svg"},{"type":"icon","id":"snow","name":"snow","icon":"snow.svg"},{"type":"icon","id":"snow2","name":"snow2","icon":"snow2.svg"},{"type":"icon","id":"snow3","name":"snow3","icon":"snow3.svg"},{"type":"icon","id":"sort-alpha-down-alt","name":"sort alpha down alt","icon":"sort-alpha-down-alt.svg"},{"type":"icon","id":"sort-alpha-down","name":"sort alpha down","icon":"sort-alpha-down.svg"},{"type":"icon","id":"sort-alpha-up-alt","name":"sort alpha up alt","icon":"sort-alpha-up-alt.svg"},{"type":"icon","id":"sort-alpha-up","name":"sort alpha up","icon":"sort-alpha-up.svg"},{"type":"icon","id":"sort-down-alt","name":"sort down alt","icon":"sort-down-alt.svg"},{"type":"icon","id":"sort-down","name":"sort down","icon":"sort-down.svg"},{"type":"icon","id":"sort-numeric-down-alt","name":"sort numeric down alt","icon":"sort-numeric-down-alt.svg"},{"type":"icon","id":"sort-numeric-down","name":"sort numeric down","icon":"sort-numeric-down.svg"},{"type":"icon","id":"sort-numeric-up-alt","name":"sort numeric up alt","icon":"sort-numeric-up-alt.svg"},{"type":"icon","id":"sort-numeric-up","name":"sort numeric up","icon":"sort-numeric-up.svg"},{"type":"icon","id":"sort-up-alt","name":"sort up alt","icon":"sort-up-alt.svg"},{"type":"icon","id":"sort-up","name":"sort up","icon":"sort-up.svg"},{"type":"icon","id":"soundwave","name":"soundwave","icon":"soundwave.svg"},{"type":"icon","id":"speaker-fill","name":"speaker fill","icon":"speaker-fill.svg"},{"type":"icon","id":"speaker","name":"speaker","icon":"speaker.svg"},{"type":"icon","id":"speedometer","name":"speedometer","icon":"speedometer.svg"},{"type":"icon","id":"speedometer2","name":"speedometer2","icon":"speedometer2.svg"},{"type":"icon","id":"spellcheck","name":"spellcheck","icon":"spellcheck.svg"},{"type":"icon","id":"spotify","name":"spotify","icon":"spotify.svg"},{"type":"icon","id":"square-fill","name":"square fill","icon":"square-fill.svg"},{"type":"icon","id":"square-half","name":"square half","icon":"square-half.svg"},{"type":"icon","id":"square","name":"square","icon":"square.svg"},{"type":"icon","id":"stack-overflow","name":"stack overflow","icon":"stack-overflow.svg"},{"type":"icon","id":"stack","name":"stack","icon":"stack.svg"},{"type":"icon","id":"star-fill","name":"star fill","icon":"star-fill.svg"},{"type":"icon","id":"star-half","name":"star half","icon":"star-half.svg"},{"type":"icon","id":"star","name":"star","icon":"star.svg"},{"type":"icon","id":"stars","name":"stars","icon":"stars.svg"},{"type":"icon","id":"steam","name":"steam","icon":"steam.svg"},{"type":"icon","id":"stickies-fill","name":"stickies fill","icon":"stickies-fill.svg"},{"type":"icon","id":"stickies","name":"stickies","icon":"stickies.svg"},{"type":"icon","id":"sticky-fill","name":"sticky fill","icon":"sticky-fill.svg"},{"type":"icon","id":"sticky","name":"sticky","icon":"sticky.svg"},{"type":"icon","id":"stop-btn-fill","name":"stop btn fill","icon":"stop-btn-fill.svg"},{"type":"icon","id":"stop-btn","name":"stop btn","icon":"stop-btn.svg"},{"type":"icon","id":"stop-circle-fill","name":"stop circle fill","icon":"stop-circle-fill.svg"},{"type":"icon","id":"stop-circle","name":"stop circle","icon":"stop-circle.svg"},{"type":"icon","id":"stop-fill","name":"stop fill","icon":"stop-fill.svg"},{"type":"icon","id":"stop","name":"stop","icon":"stop.svg"},{"type":"icon","id":"stoplights-fill","name":"stoplights fill","icon":"stoplights-fill.svg"},{"type":"icon","id":"stoplights","name":"stoplights","icon":"stoplights.svg"},{"type":"icon","id":"stopwatch-fill","name":"stopwatch fill","icon":"stopwatch-fill.svg"},{"type":"icon","id":"stopwatch","name":"stopwatch","icon":"stopwatch.svg"},{"type":"icon","id":"strava","name":"strava","icon":"strava.svg"},{"type":"icon","id":"subtract","name":"subtract","icon":"subtract.svg"},{"type":"icon","id":"suit-club-fill","name":"suit club fill","icon":"suit-club-fill.svg"},{"type":"icon","id":"suit-club","name":"suit club","icon":"suit-club.svg"},{"type":"icon","id":"suit-diamond-fill","name":"suit diamond fill","icon":"suit-diamond-fill.svg"},{"type":"icon","id":"suit-diamond","name":"suit diamond","icon":"suit-diamond.svg"},{"type":"icon","id":"suit-heart-fill","name":"suit heart fill","icon":"suit-heart-fill.svg"},{"type":"icon","id":"suit-heart","name":"suit heart","icon":"suit-heart.svg"},{"type":"icon","id":"suit-spade-fill","name":"suit spade fill","icon":"suit-spade-fill.svg"},{"type":"icon","id":"suit-spade","name":"suit spade","icon":"suit-spade.svg"},{"type":"icon","id":"sun-fill","name":"sun fill","icon":"sun-fill.svg"},{"type":"icon","id":"sun","name":"sun","icon":"sun.svg"},{"type":"icon","id":"sunglasses","name":"sunglasses","icon":"sunglasses.svg"},{"type":"icon","id":"sunrise-fill","name":"sunrise fill","icon":"sunrise-fill.svg"},{"type":"icon","id":"sunrise","name":"sunrise","icon":"sunrise.svg"},{"type":"icon","id":"sunset-fill","name":"sunset fill","icon":"sunset-fill.svg"},{"type":"icon","id":"sunset","name":"sunset","icon":"sunset.svg"},{"type":"icon","id":"symmetry-horizontal","name":"symmetry horizontal","icon":"symmetry-horizontal.svg"},{"type":"icon","id":"symmetry-vertical","name":"symmetry vertical","icon":"symmetry-vertical.svg"},{"type":"icon","id":"table","name":"table","icon":"table.svg"},{"type":"icon","id":"tablet-fill","name":"tablet fill","icon":"tablet-fill.svg"},{"type":"icon","id":"tablet-landscape-fill","name":"tablet landscape fill","icon":"tablet-landscape-fill.svg"},{"type":"icon","id":"tablet-landscape","name":"tablet landscape","icon":"tablet-landscape.svg"},{"type":"icon","id":"tablet","name":"tablet","icon":"tablet.svg"},{"type":"icon","id":"tag-fill","name":"tag fill","icon":"tag-fill.svg"},{"type":"icon","id":"tag","name":"tag","icon":"tag.svg"},{"type":"icon","id":"tags-fill","name":"tags fill","icon":"tags-fill.svg"},{"type":"icon","id":"tags","name":"tags","icon":"tags.svg"},{"type":"icon","id":"telegram","name":"telegram","icon":"telegram.svg"},{"type":"icon","id":"telephone-fill","name":"telephone fill","icon":"telephone-fill.svg"},{"type":"icon","id":"telephone-forward-fill","name":"telephone forward fill","icon":"telephone-forward-fill.svg"},{"type":"icon","id":"telephone-forward","name":"telephone forward","icon":"telephone-forward.svg"},{"type":"icon","id":"telephone-inbound-fill","name":"telephone inbound fill","icon":"telephone-inbound-fill.svg"},{"type":"icon","id":"telephone-inbound","name":"telephone inbound","icon":"telephone-inbound.svg"},{"type":"icon","id":"telephone-minus-fill","name":"telephone minus fill","icon":"telephone-minus-fill.svg"},{"type":"icon","id":"telephone-minus","name":"telephone minus","icon":"telephone-minus.svg"},{"type":"icon","id":"telephone-outbound-fill","name":"telephone outbound fill","icon":"telephone-outbound-fill.svg"},{"type":"icon","id":"telephone-outbound","name":"telephone outbound","icon":"telephone-outbound.svg"},{"type":"icon","id":"telephone-plus-fill","name":"telephone plus fill","icon":"telephone-plus-fill.svg"},{"type":"icon","id":"telephone-plus","name":"telephone plus","icon":"telephone-plus.svg"},{"type":"icon","id":"telephone-x-fill","name":"telephone x fill","icon":"telephone-x-fill.svg"},{"type":"icon","id":"telephone-x","name":"telephone x","icon":"telephone-x.svg"},{"type":"icon","id":"telephone","name":"telephone","icon":"telephone.svg"},{"type":"icon","id":"terminal-dash","name":"terminal dash","icon":"terminal-dash.svg"},{"type":"icon","id":"terminal-fill","name":"terminal fill","icon":"terminal-fill.svg"},{"type":"icon","id":"terminal-plus","name":"terminal plus","icon":"terminal-plus.svg"},{"type":"icon","id":"terminal-split","name":"terminal split","icon":"terminal-split.svg"},{"type":"icon","id":"terminal-x","name":"terminal x","icon":"terminal-x.svg"},{"type":"icon","id":"terminal","name":"terminal","icon":"terminal.svg"},{"type":"icon","id":"text-center","name":"text center","icon":"text-center.svg"},{"type":"icon","id":"text-indent-left","name":"text indent left","icon":"text-indent-left.svg"},{"type":"icon","id":"text-indent-right","name":"text indent right","icon":"text-indent-right.svg"},{"type":"icon","id":"text-left","name":"text left","icon":"text-left.svg"},{"type":"icon","id":"text-paragraph","name":"text paragraph","icon":"text-paragraph.svg"},{"type":"icon","id":"text-right","name":"text right","icon":"text-right.svg"},{"type":"icon","id":"textarea-resize","name":"textarea resize","icon":"textarea-resize.svg"},{"type":"icon","id":"textarea-t","name":"textarea t","icon":"textarea-t.svg"},{"type":"icon","id":"textarea","name":"textarea","icon":"textarea.svg"},{"type":"icon","id":"thermometer-half","name":"thermometer half","icon":"thermometer-half.svg"},{"type":"icon","id":"thermometer-high","name":"thermometer high","icon":"thermometer-high.svg"},{"type":"icon","id":"thermometer-low","name":"thermometer low","icon":"thermometer-low.svg"},{"type":"icon","id":"thermometer-snow","name":"thermometer snow","icon":"thermometer-snow.svg"},{"type":"icon","id":"thermometer-sun","name":"thermometer sun","icon":"thermometer-sun.svg"},{"type":"icon","id":"thermometer","name":"thermometer","icon":"thermometer.svg"},{"type":"icon","id":"three-dots-vertical","name":"three dots vertical","icon":"three-dots-vertical.svg"},{"type":"icon","id":"three-dots","name":"three dots","icon":"three-dots.svg"},{"type":"icon","id":"thunderbolt-fill","name":"thunderbolt fill","icon":"thunderbolt-fill.svg"},{"type":"icon","id":"thunderbolt","name":"thunderbolt","icon":"thunderbolt.svg"},{"type":"icon","id":"ticket-detailed-fill","name":"ticket detailed fill","icon":"ticket-detailed-fill.svg"},{"type":"icon","id":"ticket-detailed","name":"ticket detailed","icon":"ticket-detailed.svg"},{"type":"icon","id":"ticket-fill","name":"ticket fill","icon":"ticket-fill.svg"},{"type":"icon","id":"ticket-perforated-fill","name":"ticket perforated fill","icon":"ticket-perforated-fill.svg"},{"type":"icon","id":"ticket-perforated","name":"ticket perforated","icon":"ticket-perforated.svg"},{"type":"icon","id":"ticket","name":"ticket","icon":"ticket.svg"},{"type":"icon","id":"tiktok","name":"tiktok","icon":"tiktok.svg"},{"type":"icon","id":"toggle-off","name":"toggle off","icon":"toggle-off.svg"},{"type":"icon","id":"toggle-on","name":"toggle on","icon":"toggle-on.svg"},{"type":"icon","id":"toggle2-off","name":"toggle2 off","icon":"toggle2-off.svg"},{"type":"icon","id":"toggle2-on","name":"toggle2 on","icon":"toggle2-on.svg"},{"type":"icon","id":"toggles","name":"toggles","icon":"toggles.svg"},{"type":"icon","id":"toggles2","name":"toggles2","icon":"toggles2.svg"},{"type":"icon","id":"tools","name":"tools","icon":"tools.svg"},{"type":"icon","id":"tornado","name":"tornado","icon":"tornado.svg"},{"type":"icon","id":"translate","name":"translate","icon":"translate.svg"},{"type":"icon","id":"trash-fill","name":"trash fill","icon":"trash-fill.svg"},{"type":"icon","id":"trash","name":"trash","icon":"trash.svg"},{"type":"icon","id":"trash2-fill","name":"trash2 fill","icon":"trash2-fill.svg"},{"type":"icon","id":"trash2","name":"trash2","icon":"trash2.svg"},{"type":"icon","id":"trash3-fill","name":"trash3 fill","icon":"trash3-fill.svg"},{"type":"icon","id":"trash3","name":"trash3","icon":"trash3.svg"},{"type":"icon","id":"tree-fill","name":"tree fill","icon":"tree-fill.svg"},{"type":"icon","id":"tree","name":"tree","icon":"tree.svg"},{"type":"icon","id":"triangle-fill","name":"triangle fill","icon":"triangle-fill.svg"},{"type":"icon","id":"triangle-half","name":"triangle half","icon":"triangle-half.svg"},{"type":"icon","id":"triangle","name":"triangle","icon":"triangle.svg"},{"type":"icon","id":"trophy-fill","name":"trophy fill","icon":"trophy-fill.svg"},{"type":"icon","id":"trophy","name":"trophy","icon":"trophy.svg"},{"type":"icon","id":"tropical-storm","name":"tropical storm","icon":"tropical-storm.svg"},{"type":"icon","id":"truck-flatbed","name":"truck flatbed","icon":"truck-flatbed.svg"},{"type":"icon","id":"truck","name":"truck","icon":"truck.svg"},{"type":"icon","id":"tsunami","name":"tsunami","icon":"tsunami.svg"},{"type":"icon","id":"tv-fill","name":"tv fill","icon":"tv-fill.svg"},{"type":"icon","id":"tv","name":"tv","icon":"tv.svg"},{"type":"icon","id":"twitch","name":"twitch","icon":"twitch.svg"},{"type":"icon","id":"twitter","name":"twitter","icon":"twitter.svg"},{"type":"icon","id":"type-bold","name":"type bold","icon":"type-bold.svg"},{"type":"icon","id":"type-h1","name":"type h1","icon":"type-h1.svg"},{"type":"icon","id":"type-h2","name":"type h2","icon":"type-h2.svg"},{"type":"icon","id":"type-h3","name":"type h3","icon":"type-h3.svg"},{"type":"icon","id":"type-italic","name":"type italic","icon":"type-italic.svg"},{"type":"icon","id":"type-strikethrough","name":"type strikethrough","icon":"type-strikethrough.svg"},{"type":"icon","id":"type-underline","name":"type underline","icon":"type-underline.svg"},{"type":"icon","id":"type","name":"type","icon":"type.svg"},{"type":"icon","id":"ui-checks-grid","name":"ui checks grid","icon":"ui-checks-grid.svg"},{"type":"icon","id":"ui-checks","name":"ui checks","icon":"ui-checks.svg"},{"type":"icon","id":"ui-radios-grid","name":"ui radios grid","icon":"ui-radios-grid.svg"},{"type":"icon","id":"ui-radios","name":"ui radios","icon":"ui-radios.svg"},{"type":"icon","id":"umbrella-fill","name":"umbrella fill","icon":"umbrella-fill.svg"},{"type":"icon","id":"umbrella","name":"umbrella","icon":"umbrella.svg"},{"type":"icon","id":"union","name":"union","icon":"union.svg"},{"type":"icon","id":"unlock-fill","name":"unlock fill","icon":"unlock-fill.svg"},{"type":"icon","id":"unlock","name":"unlock","icon":"unlock.svg"},{"type":"icon","id":"upc-scan","name":"upc scan","icon":"upc-scan.svg"},{"type":"icon","id":"upc","name":"upc","icon":"upc.svg"},{"type":"icon","id":"upload","name":"upload","icon":"upload.svg"},{"type":"icon","id":"usb-c-fill","name":"usb c fill","icon":"usb-c-fill.svg"},{"type":"icon","id":"usb-c","name":"usb c","icon":"usb-c.svg"},{"type":"icon","id":"usb-drive-fill","name":"usb drive fill","icon":"usb-drive-fill.svg"},{"type":"icon","id":"usb-drive","name":"usb drive","icon":"usb-drive.svg"},{"type":"icon","id":"usb-fill","name":"usb fill","icon":"usb-fill.svg"},{"type":"icon","id":"usb-micro-fill","name":"usb micro fill","icon":"usb-micro-fill.svg"},{"type":"icon","id":"usb-micro","name":"usb micro","icon":"usb-micro.svg"},{"type":"icon","id":"usb-mini-fill","name":"usb mini fill","icon":"usb-mini-fill.svg"},{"type":"icon","id":"usb-mini","name":"usb mini","icon":"usb-mini.svg"},{"type":"icon","id":"usb-plug-fill","name":"usb plug fill","icon":"usb-plug-fill.svg"},{"type":"icon","id":"usb-plug","name":"usb plug","icon":"usb-plug.svg"},{"type":"icon","id":"usb-symbol","name":"usb symbol","icon":"usb-symbol.svg"},{"type":"icon","id":"usb","name":"usb","icon":"usb.svg"},{"type":"icon","id":"valentine","name":"valentine","icon":"valentine.svg"},{"type":"icon","id":"valentine2","name":"valentine2","icon":"valentine2.svg"},{"type":"icon","id":"vector-pen","name":"vector pen","icon":"vector-pen.svg"},{"type":"icon","id":"view-list","name":"view list","icon":"view-list.svg"},{"type":"icon","id":"view-stacked","name":"view stacked","icon":"view-stacked.svg"},{"type":"icon","id":"vimeo","name":"vimeo","icon":"vimeo.svg"},{"type":"icon","id":"vinyl-fill","name":"vinyl fill","icon":"vinyl-fill.svg"},{"type":"icon","id":"vinyl","name":"vinyl","icon":"vinyl.svg"},{"type":"icon","id":"voicemail","name":"voicemail","icon":"voicemail.svg"},{"type":"icon","id":"volume-down-fill","name":"volume down fill","icon":"volume-down-fill.svg"},{"type":"icon","id":"volume-down","name":"volume down","icon":"volume-down.svg"},{"type":"icon","id":"volume-mute-fill","name":"volume mute fill","icon":"volume-mute-fill.svg"},{"type":"icon","id":"volume-mute","name":"volume mute","icon":"volume-mute.svg"},{"type":"icon","id":"volume-off-fill","name":"volume off fill","icon":"volume-off-fill.svg"},{"type":"icon","id":"volume-off","name":"volume off","icon":"volume-off.svg"},{"type":"icon","id":"volume-up-fill","name":"volume up fill","icon":"volume-up-fill.svg"},{"type":"icon","id":"volume-up","name":"volume up","icon":"volume-up.svg"},{"type":"icon","id":"vr","name":"vr","icon":"vr.svg"},{"type":"icon","id":"wallet-fill","name":"wallet fill","icon":"wallet-fill.svg"},{"type":"icon","id":"wallet","name":"wallet","icon":"wallet.svg"},{"type":"icon","id":"wallet2","name":"wallet2","icon":"wallet2.svg"},{"type":"icon","id":"watch","name":"watch","icon":"watch.svg"},{"type":"icon","id":"water","name":"water","icon":"water.svg"},{"type":"icon","id":"webcam-fill","name":"webcam fill","icon":"webcam-fill.svg"},{"type":"icon","id":"webcam","name":"webcam","icon":"webcam.svg"},{"type":"icon","id":"whatsapp","name":"whatsapp","icon":"whatsapp.svg"},{"type":"icon","id":"wifi-1","name":"wifi 1","icon":"wifi-1.svg"},{"type":"icon","id":"wifi-2","name":"wifi 2","icon":"wifi-2.svg"},{"type":"icon","id":"wifi-off","name":"wifi off","icon":"wifi-off.svg"},{"type":"icon","id":"wifi","name":"wifi","icon":"wifi.svg"},{"type":"icon","id":"wind","name":"wind","icon":"wind.svg"},{"type":"icon","id":"window-dash","name":"window dash","icon":"window-dash.svg"},{"type":"icon","id":"window-desktop","name":"window desktop","icon":"window-desktop.svg"},{"type":"icon","id":"window-dock","name":"window dock","icon":"window-dock.svg"},{"type":"icon","id":"window-fullscreen","name":"window fullscreen","icon":"window-fullscreen.svg"},{"type":"icon","id":"window-plus","name":"window plus","icon":"window-plus.svg"},{"type":"icon","id":"window-sidebar","name":"window sidebar","icon":"window-sidebar.svg"},{"type":"icon","id":"window-split","name":"window split","icon":"window-split.svg"},{"type":"icon","id":"window-stack","name":"window stack","icon":"window-stack.svg"},{"type":"icon","id":"window-x","name":"window x","icon":"window-x.svg"},{"type":"icon","id":"window","name":"window","icon":"window.svg"},{"type":"icon","id":"windows","name":"windows","icon":"windows.svg"},{"type":"icon","id":"wordpress","name":"wordpress","icon":"wordpress.svg"},{"type":"icon","id":"wrench-adjustable-circle-fill","name":"wrench adjustable circle fill","icon":"wrench-adjustable-circle-fill.svg"},{"type":"icon","id":"wrench-adjustable-circle","name":"wrench adjustable circle","icon":"wrench-adjustable-circle.svg"},{"type":"icon","id":"wrench-adjustable","name":"wrench adjustable","icon":"wrench-adjustable.svg"},{"type":"icon","id":"wrench","name":"wrench","icon":"wrench.svg"},{"type":"icon","id":"x-circle-fill","name":"x circle fill","icon":"x-circle-fill.svg"},{"type":"icon","id":"x-circle","name":"x circle","icon":"x-circle.svg"},{"type":"icon","id":"x-diamond-fill","name":"x diamond fill","icon":"x-diamond-fill.svg"},{"type":"icon","id":"x-diamond","name":"x diamond","icon":"x-diamond.svg"},{"type":"icon","id":"x-lg","name":"x lg","icon":"x-lg.svg"},{"type":"icon","id":"x-octagon-fill","name":"x octagon fill","icon":"x-octagon-fill.svg"},{"type":"icon","id":"x-octagon","name":"x octagon","icon":"x-octagon.svg"},{"type":"icon","id":"x-square-fill","name":"x square fill","icon":"x-square-fill.svg"},{"type":"icon","id":"x-square","name":"x square","icon":"x-square.svg"},{"type":"icon","id":"x","name":"x","icon":"x.svg"},{"type":"icon","id":"xbox","name":"xbox","icon":"xbox.svg"},{"type":"icon","id":"yin-yang","name":"yin yang","icon":"yin-yang.svg"},{"type":"icon","id":"youtube","name":"youtube","icon":"youtube.svg"},{"type":"icon","id":"zoom-in","name":"zoom in","icon":"zoom-in.svg"},{"type":"icon","id":"zoom-out","name":"zoom out","icon":"zoom-out.svg"}]'),Xk=()=>{const[e,t]=(0,B.useState)(""),{getTranslation:n}=Xl(),a=(0,B.useMemo)((()=>""===e?qk.slice(0,10):qk.filter((t=>-1!==t.name.indexOf(e)))),[e]);return(0,ni.jsxs)(ws,{className:[As["mx-h-30vh"]].join(" "),children:[(0,ni.jsx)(pf,{children:(0,ni.jsxs)(pf.Group,{className:"mb-3",controlId:"iconKeyword",children:[(0,ni.jsx)(pf.Label,{children:n("widget","icon","search","title")}),(0,ni.jsx)(pf.Control,{onChange:e=>{t(e.currentTarget.value)},type:"text",placeholder:n("widget","icon","search","placeholder")}),(0,ni.jsx)(pf.Text,{className:"text-muted",children:n("widget","icon","search","desc")})]})}),(0,ni.jsx)(Ss,{xs:2,children:a.map((e=>(0,ni.jsx)(Kk,{data:{id:e.id,name:e.name,icon:e.icon,"data-item-type":e.type},maxPx:80},"icon-thumbnail-".concat(e.id))))})]})},Kk=e=>{let{data:{id:t,...n},maxPx:a}=e;return(0,ni.jsx)(rc,{as:ws,className:[Rs.absoluteCenter,Rs.wrapTrue].join(" "),children:(0,ni.jsx)(sc,{dragType:"copyMove",dragSrc:{trigger:lc.ICON,...n},children:(0,ni.jsx)(rc.Image,{alt:n.icon,src:"".concat("/react-image-editor","/assets/icon/bootstrap/").concat(n.icon)})})})},Yk=JSON.parse('[{"type":"line","id":"straight-plain","name":"straight-plain","icon":"dash"},{"type":"line","id":"one-curve-plain","name":"one-curve-plain","icon":"bezier"},{"type":"line","id":"two-curve-plain","name":"two-curve-plain","icon":"bezier2"}]'),Qk=()=>(0,ni.jsx)(ws,{children:(0,ni.jsx)(Ss,{children:Yk.map((e=>(0,ni.jsx)($k,{data:{id:e.id,icon:e.icon,name:e.name,"data-item-type":"line"}},"line-thumbnail-".concat(e.id))))})}),$k=e=>{let{data:t}=e;const{updateItem:n}=xk();return(0,ni.jsx)(rc,{as:ws,className:[Rs.absoluteCenter,Rs.wrapTrue].join(" "),children:(0,ni.jsx)(sc,{dragType:"copyMove",dragSrc:{trigger:lc.LINE,...t},children:(0,ni.jsx)("i",{className:"bi-".concat(t.icon),style:{fontSize:20,width:25}})})})},Zk={colorPalette:e=>(0,ni.jsx)(Sk,{data:e}),align:e=>(0,ni.jsx)(Ak,{data:e}),image:e=>(0,ni.jsx)(Rd,{}),frame:e=>(0,ni.jsx)(cc,{}),shape:e=>(0,ni.jsx)(Gk,{}),text:e=>(0,ni.jsx)(Tk,{}),line:e=>(0,ni.jsx)(Qk,{}),icon:e=>(0,ni.jsx)(Xk,{}),export:e=>(0,ni.jsx)(Wk,{data:e})},Jk=e=>(0,ni.jsx)("aside",{children:(0,ni.jsx)(yl,{children:Yl.map((t=>(0,ni.jsx)(Kl,{data:{...t,...e},children:Zk[t.id]&&Zk[t.id]({...t,...e})},"widget-".concat(t.id))))})});n(576);const eS=B.createContext(null);eS.displayName="NavContext";const tS=eS,nS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},aS=B.createContext(null),rS=B.createContext(null),oS=["as","active","eventKey"];function iS(e){let{key:t,onClick:n,active:a,id:r,role:o,disabled:i}=e;const s=(0,B.useContext)(aS),l=(0,B.useContext)(tS),c=(0,B.useContext)(rS);let u=a;const d={role:o};if(l){o||"tablist"!==l.role||(d.role="tab");const e=l.getControllerId(null!=t?t:null),n=l.getControlledId(null!=t?t:null);d[qo("event-key")]=t,d.id=e||r,u=null==a&&null!=t?l.activeKey===t:a,!u&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(d["aria-controls"]=n)}return"tab"===d.role&&(d["aria-selected"]=u,u||(d.tabIndex=-1),i&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=To((e=>{i||(null==n||n(e),null!=t&&s&&!e.isPropagationStopped()&&s(t,e))})),[d,{isActive:u}]}const sS=B.forwardRef(((e,t)=>{let{as:n=Is,active:a,eventKey:r}=e,o=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,oS);const[i,s]=iS(Object.assign({key:nS(r,o.href),active:a},o));return i[qo("active")]=s.isActive,(0,ni.jsx)(n,Object.assign({},o,i,{ref:t}))}));sS.displayName="NavItem";const lS=sS,cS=["as","onSelect","activeKey","role","onKeyDown"];const uS=()=>{},dS=qo("event-key"),pS=B.forwardRef(((e,t)=>{let{as:n="div",onSelect:a,activeKey:r,role:o,onKeyDown:i}=e,s=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,cS);const l=function(){const[,e]=(0,B.useReducer)((e=>!e),!1);return e}(),c=(0,B.useRef)(!1),u=(0,B.useContext)(aS),d=(0,B.useContext)(rS);let p,h;d&&(o=o||"tablist",r=d.activeKey,p=d.getControlledId,h=d.getControllerId);const f=(0,B.useRef)(null),m=e=>{const t=f.current;if(!t)return null;const n=hi(t,"[".concat(dS,"]:not([aria-disabled=true])")),a=t.querySelector("[aria-selected=true]");if(!a||a!==document.activeElement)return null;const r=n.indexOf(a);if(-1===r)return null;let o=r+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},g=(e,t)=>{null!=e&&(null==a||a(e,t),null==u||u(e,t))};(0,B.useEffect)((()=>{if(f.current&&c.current){const e=f.current.querySelector("[".concat(dS,"][aria-selected=true]"));null==e||e.focus()}c.current=!1}));const y=Ro(t,f);return(0,ni.jsx)(aS.Provider,{value:g,children:(0,ni.jsx)(tS.Provider,{value:{role:o,activeKey:nS(r),getControlledId:p||uS,getControllerId:h||uS},children:(0,ni.jsx)(n,Object.assign({},s,{onKeyDown:e=>{if(null==i||i(e),!d)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}t&&(e.preventDefault(),g(t.dataset[function(e){return"".concat("rrUi").concat(e)}("EventKey")]||null,e),c.current=!0,l())},ref:y,role:o}))})})}));pS.displayName="Nav";const hS=Object.assign(pS,{Item:lS}),fS=B.createContext(null);fS.displayName="NavbarContext";const mS=fS,gS=B.createContext(null);gS.displayName="CardHeaderContext";const yS=gS,vS=B.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=qi(a,"nav-item"),(0,ni.jsx)(r,{ref:t,className:yo()(n,a),...o})}));vS.displayName="NavItem";const bS=vS;new WeakMap;const xS=["onKeyDown"];const wS=B.forwardRef(((e,t)=>{let{onKeyDown:n}=e,a=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,xS);const[r]=Es(Object.assign({tagName:"a"},a)),o=To((e=>{r.onKeyDown(e),null==n||n(e)}));return(i=a.href)&&"#"!==i.trim()&&"button"!==a.role?(0,ni.jsx)("a",Object.assign({ref:t},a,{onKeyDown:n})):(0,ni.jsx)("a",Object.assign({ref:t},a,r,{onKeyDown:o}));var i}));wS.displayName="Anchor";const kS=wS,SS=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:r=kS,active:o,eventKey:i,disabled:s=!1,...l}=e;n=qi(n,"nav-link");const[c,u]=iS({key:nS(i,l.href),active:o,disabled:s,...l});return(0,ni.jsx)(r,{...l,...c,ref:t,disabled:s,className:yo()(a,n,s&&"disabled",u.isActive&&"active")})}));SS.displayName="NavLink";const CS=SS,ES=B.forwardRef(((e,t)=>{const{as:n="div",bsPrefix:a,variant:r,fill:o=!1,justify:i=!1,navbar:s,navbarScroll:l,className:c,activeKey:u,...d}=Hs(e,{activeKey:"onSelect"}),p=qi(a,"nav");let h,f,m=!1;const g=(0,B.useContext)(mS),y=(0,B.useContext)(yS);return g?(h=g.bsPrefix,m=null==s||s):y&&({cardHeaderBsPrefix:f}=y),(0,ni.jsx)(hS,{as:n,ref:t,activeKey:u,className:yo()(c,{[p]:!m,["".concat(h,"-nav")]:m,["".concat(h,"-nav-scroll")]:m&&l,["".concat(f,"-").concat(r)]:!!f,["".concat(p,"-").concat(r)]:!!r,["".concat(p,"-fill")]:o,["".concat(p,"-justified")]:i}),...d})}));ES.displayName="Nav";const _S=Object.assign(ES,{Item:bS,Link:CS}),IS=e=>{let{data:t,onClickTab:n,onDeleteTab:a}=e;return(0,ni.jsx)(_S.Item,{children:(0,ni.jsxs)(_S.Link,{eventKey:t.id,className:[t.active?Os.greyTheme:Os.whiteTheme,hc.roundTopSM,ic.fontHalf1em,zs.p05em,zs.pl1rem,Rs["text-center"]].join(" "),"data-file-id":t.id,"data-active":t.active,onClick:n,children:[t.id,(0,ni.jsx)(Ts,{className:[Os.transparentDarkColorTheme,hc.none,fc["inline-block"],As.width25,zs.p0,zs.ml1rem,Rs["text-left"]].join(" "),onClick:e=>{e.preventDefault(),e.stopPropagation(),a(t.id)},children:(0,ni.jsx)("i",{className:"bi-x"})})]})},"tab-".concat(t.id))},NS=e=>{let{onClickTab:t,onCreateTab:n,onDeleteTab:a,tabList:r}=e;return(0,ni.jsxs)(_S,{variant:"tabs",className:[Rs.fromStartBottom,As.height100,"pt-2",hc.none].join(" "),children:[r.map((e=>(0,ni.jsx)(IS,{onClickTab:t,data:e,onDeleteTab:a},"tab-".concat(e.id)))),(0,ni.jsx)(Ts,{className:[Os.transparentTheme,hc.none].join(" "),onClick:n,children:(0,ni.jsx)("i",{className:"bi-plus-circle"})})]})},TS=JSON.parse('[{"id":"select-all","name":"Select All","desc":"Select All Items","icon":"bounding-box"},{"id":"remove-background","name":"Remove Background of Selected Image","desc":"Remove Background of Selected Image","icon":"card-image"},{"id":"flip-horizontally","name":"Flip Horizontally","desc":"Flip Horizontally","icon":"arrow-left-right"},{"id":"flip-vertically","name":"Flip Vertically","desc":"Flip Vertically","icon":"arrow-down-up"},{"id":"reset-zoom","name":"Reset Zoom","desc":"Reset Zoom","icon":"arrows-fullscreen"},{"id":"zoom-in","name":"Zoom In","desc":"Zoom In","icon":"arrows-angle-expand"},{"id":"zoom-out","name":"Zoom Out","desc":"Zoom Out","icon":"arrows-angle-contract"},{"id":"layer-up","name":"Layer Up","desc":"Layer Up","icon":"front"},{"id":"layer-down","name":"Layer Down","desc":"Layer Down","icon":"back"},{"id":"hotkey","name":"Shortcut","desc":"Keyboard Shortcut","icon":"keyboard-fill"}]'),OS=B.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,role:r="toolbar",...o}=e;const i=qi(n,"btn-toolbar");return(0,ni.jsx)("div",{...o,ref:t,className:yo()(a,i),role:r})}));OS.displayName="ButtonToolbar";const RS=OS,AS=B.forwardRef(((e,t)=>{let{bsPrefix:n,size:a,vertical:r=!1,className:o,role:i="group",as:s="div",...l}=e;const c=qi(n,"btn-group");let u=c;return r&&(u="".concat(c,"-vertical")),(0,ni.jsx)(s,{...l,ref:t,role:i,className:yo()(o,u,a&&"".concat(c,"-").concat(a))})}));AS.displayName="ButtonGroup";const PS=AS,FS=e=>{let{children:t}=e;return(0,ni.jsx)(_S,{className:[Os.darkTheme,Rs.fromBottomCenter].join(" "),children:(0,ni.jsx)(RS,{children:(0,ni.jsx)(PS,{vertical:!0,children:t})})})},DS=e=>{let{data:t,onClick:n}=e;const{getTranslation:a}=Xl();return(0,ni.jsx)(PS,{vertical:!0,children:(0,ni.jsx)(Fh,{placement:"right",overlay:(0,ni.jsx)(Oh,{id:"tooltip_navbar-id_".concat(t.id),children:a("workMode",t.id,"desc")}),children:(0,ni.jsx)(Ts,{"data-navbar-id":t.id,onClick:n,className:[Os.whiteTheme,hc.colorGrey].join(" "),children:t.icon?(0,ni.jsx)("i",{className:"bi-".concat(t.icon)}):a("hotkey",t.id,"name")})})})},MS=e=>{let{callback:t,targetDOMElement:n}=e;return(0,B.useEffect)((()=>{n?(n.addEventListener("dragover",(e=>{var t;(t="copy",e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t)})(e)})),n.addEventListener("drop",(e=>{(e=>t=>{if(t.preventDefault(),!t.dataTransfer)return;const n=t.dataTransfer.getData("text/plain");e(JSON.parse(n),t)})(t)(e)}))):console.log("pup")}),[n]),(0,ni.jsx)(ni.Fragment,{})},LS="stagePosition",zS="stageScale",jS=()=>{const e=(0,B.useRef)(),t=(0,B.useRef)({x:0,y:0});return{setStageRef:t=>{e.current=t},stageRef:e,dragBackgroundOrigin:t}},BS=e=>{var t,n,a,r,o,i;let{data:s,e:l,onSelect:c}=e;const{id:u,attrs:d}=s,{updateItem:p}=xk(),h=jS(),{checkIsInFrame:f,moveToLayer:m,getItemsInThisFrame:g}=VS(h.stageRef,h.dragBackgroundOrigin),y=(0,B.useRef)(),v={x:d.x,y:d.y},b=(0,B.useCallback)((e=>{e.target.fill("blue"),e.target.getLayer().batchDraw()}),[]),x=(0,B.useCallback)((e=>{e.target.fill("#000000"),e.target.getLayer().batchDraw()}),[]),w=(0,B.useCallback)((e=>{var t;const n=e.target.getParent();n.findOne("Label").position(e.target.position()),n.children.forEach((e=>{!1===f(e)&&m(e)}));const a=g(e.target);null===a||void 0===a||a.forEach((e=>f(e))),n.clipFunc(e.target.getLayer().Context),null===(t=e.target.getStage())||void 0===t||t.batchDraw()}),[]),k=(0,B.useCallback)((e=>{var t;p(e.target.id(),(()=>({...e.target.attrs}))),e.target.getParent().clipFunc(e.target.getLayer().Context),null===(t=e.target.getLayer())||void 0===t||t.batchDraw()}),[s]);return(0,B.useEffect)((()=>{y.current&&(h.setStageRef(y.current.getStage()),y.current.brightness(s.attrs.brightness),y.current.findAncestor("Group").clipFunc(y.current.getLayer().getContext()),y.current.cache())}),[s]),(0,ni.jsxs)(Dr,{name:"label-group",onClick:c,clipFunc:e=>{const t=d;e.beginPath(),e.fillText(d["data-frame-type"],t.x,t.y-15),e.moveTo(t.x,t.y),e.lineTo(t.x+t.width,t.y),e.lineTo(t.x+t.width,t.y+t.height),e.lineTo(t.x,t.y+t.height),e.closePath()},children:[(0,ni.jsxs)("Label",{x:null!==(t=null===(n=y.current)||void 0===n?void 0:n.x())&&void 0!==t?t:v.x,y:null!==(a=null===(r=y.current)||void 0===r?void 0:r.y())&&void 0!==a?a:v.y,onClick:c,children:[(0,ni.jsx)("Tag",{name:"label-tag",pointerDirection:"left"}),(0,ni.jsx)(zr,{text:d["data-frame-type"],name:"label-text",fontSize:10,height:50,lineHeight:1.2,padding:0,fill:"#000000",onMouseOver:b,onMouseLeave:x})]}),(0,ni.jsx)(Mr,{ref:y,name:"label-target","data-item-type":"frame","data-frame-type":d["data-frame-type"],id:s.id,x:d.x,y:d.y,width:d.width,height:d.height,scaleX:d.scaleX,scaleY:d.scaleY,fill:null!==(o=d.fill)&&void 0!==o?o:"#ffffff",opacity:null!==(i=d.opacity)&&void 0!==i?i:1,filters:[va.Filters.Brighten],draggable:!0,onDragMove:w,onDragEnd:k})]})},WS=(e,t,n,a)=>{e.setPointersPositions(t);const r=e.getAbsolutePosition(),o=e.getPointerPosition();return o?n&&a?{x:mc((o.x-r.x)/e.scaleX()-n/2),y:mc((o.y-r.y)/e.scaleY()-a/2)}:{x:mc(o.x-r.x),y:mc(o.y-r.y)}:{x:0,y:0}},VS=(e,t)=>{const{createItem:n,updateItem:a}=xk(),r=e=>{const t=e.getStage();if(!t)return;const n=t.getChildren()[0].getChildren((e=>"label-group"===e.attrs.name)).find((t=>{const n=t.findOne("Rect");return!!n&&US(n,e)}));var a;return!!n&&(n.add(e),null===(a=n.getLayer())||void 0===a||a.batchDraw(),!0)},o=e=>{var t,n,a;const r=e.getLayer();e.getParent().children=null!==(t=null===(n=e.getParent().children)||void 0===n?void 0:n.filter((t=>t.id()!==e.id())))&&void 0!==t?t:e.getParent().children,r&&r.add(e),null===(a=e.getLayer())||void 0===a||a.batchDraw()},i=(0,B.useCallback)((e=>{r(e.target)||e.target.getLayer()!==e.target.getParent()&&o(e.target)}),[]);return{onDropOnStage:(t,a)=>{if(!e.current)return;const{trigger:r,...o}=t;switch(o.id=mo(),r){case lc.FRAME:return((t,a)=>{const r=WS(e.current,t,a.width,a.height),o={id:mo(),attrs:{name:"label-target","data-item-type":"frame","data-frame-type":a["data-frame-type"],width:a.width,height:a.height,fill:"#ffffff",x:r.x,y:r.y,zIndex:0,brightness:0,updatedAt:Date.now()},className:"sample-frame",children:[]};n(o)})(a,o);case lc.IMAGE:return((t,a)=>{const r=new Image;let o=a.src;o=a.src,r.onload=()=>{let o,i;r.width>r.height?(o=mc(512),i=mc(o*(r.height/r.width))):(i=mc(512),o=mc(i*(r.width/r.height)));const s=WS(e.current,t,o,i),l={id:mo(),attrs:{name:"label-target","data-item-type":"image",x:s.x,y:s.y,width:o,height:i,src:a.src,zIndex:0,brightness:0,_filters:["Brighten"],updatedAt:Date.now()},className:"sample-image",children:[]};n(l)},r.src=o})(a,o);case lc.TEXT:return((t,a)=>{const r=WS(e.current,t,a.width,a.height),o={id:mo(),attrs:{name:"label-target","data-item-type":"text",width:a.text.split("").reduce(((e,t)=>t.charCodeAt(0)>=32&&t.charCodeAt(0)<=126?e+.6*a.fontSize:e+a.fontSize),0),height:a.height,fill:"#00000",x:r.x,y:r.y,fontSize:a.fontSize,fontFamily:a.fontFamily,text:a.text,textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:Date.now()},className:"sample-text",children:[]};n(o)})(a,o);case lc.SHAPE:return((t,a)=>{const r=Math.sqrt(a.radius),o=WS(e.current,t,r,r),i={id:mo(),attrs:{name:"label-target","data-item-type":"shape",fill:"#00000",x:o.x,y:o.y,width:r,height:r,sides:a.sides,radius:a.radius,zIndex:0,brightness:0,updatedAt:Date.now()},className:"sample-shape",children:[]};n(i)})(a,o);case lc.ICON:return((t,a)=>{const r=WS(e.current,t,100,100),o={id:mo(),attrs:{name:"label-target","data-item-type":"icon",width:100,height:100,fill:"#00000",x:r.x,y:r.y,icon:a.icon,brightness:0,zIndex:0,updatedAt:Date.now()},className:"sample-icon",children:[]};n(o)})(a,o);case lc.LINE:return((t,a)=>{const r=WS(e.current,t,100,100),o=-1!==a.name.indexOf("curve")?-1!==a.name.indexOf("one")?[110,-10]:[80,-10,10,110]:[],i={id:mo(),attrs:{name:"label-target","data-item-type":"line",stroke:"#00000",x:r.x,y:r.y,width:100,height:100,points:[0,0,...o,100,100],arrow:-1!==a.name.indexOf("arrow"),curve:-1!==a.name.indexOf("curve"),zIndex:0,brightness:0,updatedAt:Date.now()},className:"sample-line",children:[]};n(i)})(a,o)}},checkIsInFrame:r,getItemsInThisFrame:e=>{const t=e.getStage();if(!t)return;return t.getChildren()[0].getChildren((e=>"label-target"===e.attrs.name&&"frame"!==e.attrs["data-item-type"])).filter((t=>US(e,t)))},onDragMoveFrame:i,onDragEndFrame:e=>{var t;e.evt.preventDefault(),e.evt.stopPropagation(),a(e.target.id(),(()=>({...e.target.attrs}))),null===(t=e.target.getLayer())||void 0===t||t.batchDraw()},moveToLayer:o}},US=(e,t)=>{const n=t.position().x,a=t.position().y,r=t.size().width,o=t.size().height,i=n,s=a,l=r*t.scaleX(),c=o*t.scaleY();return i>=e.x()&&i<=e.x()+e.width()&&s>=e.y()&&s<=e.y()+e.height()||i+l>=e.x()&&i+l<=e.x()+e.width()&&s+c>=e.y()&&s+c<=e.y()+e.height()||i>=e.x()&&i<=e.x()+e.width()&&s+c>=e.y()&&s+c<=e.y()+e.height()||i+l>=e.x()&&i+l<=e.x()+e.width()&&s>=e.y()&&s<=e.y()+e.height()||i+l/2>=e.x()&&i+l/2<=e.x()+e.width()&&s+c/2>=e.y()&&s+c/2<=e.y()+e.height()},GS=e=>{var t;let{children:n,onSelect:a,stage:{stageRef:r,dragBackgroundOrigin:o}}=e;const{onDropOnStage:i}=VS(r,o),[s,l]=(0,B.useState)(),{setValue:c}=wk(),u=(0,B.useCallback)((()=>{if(!r.current||!r.current.container().parentElement)return;const{width:e,height:t}=r.current.container().parentElement.getBoundingClientRect();r.current.width(e),r.current.height(t),r.current.batchDraw()}),[r]),d=(0,B.useCallback)((e=>{e.evt.preventDefault();const t=r.current;if(!t)return;const n=e.evt.deltaY>0?-1:1,a=t.scaleX(),o=t.getPointerPosition();if(!o)return;if(!e.evt.ctrlKey){const n={x:mc(t.x()-e.evt.deltaX),y:mc(t.y()-e.evt.deltaY)};return t.position(n),void c(LS,n)}const i=(o.x-t.x())/a,s=(o.y-t.y())/a,l=n>0?1.1*a:a/1.1;t.scale({x:l,y:l}),c(zS,{x:l,y:l});const u={x:o.x-i*l,y:o.y-s*l};t.position(u),c(LS,u)}),[]),p=(0,B.useCallback)((()=>{const e=r.current;e&&(e.scale({x:1,y:1}),e.position({x:0,y:0}),c(LS,{x:0,y:0}),c(zS,{x:1,y:1}))}),[]),h=(0,B.useCallback)((()=>{var e;const t=r.current;t&&t.container().parentElement&&o.current&&(t.on("mousemove",(e=>{if(1!==e.evt.which)return;const n=t.getPointerPosition();if(!n)return;if(0===o.current.x&&0===o.current.y)return void(o.current=n);const a={x:mc(t.x()+(n.x-o.current.x)),y:mc(t.y()+(n.y-o.current.y))};t.position(a),c(LS,a),o.current=n})),t.on("mouseup",(e=>{var n;o.current={x:0,y:0},null!==(n=r.current)&&void 0!==n&&n.draggable()||(t.removeEventListener("mousemove"),t.removeEventListener("mouseup"))})),null===(e=r.current)||void 0===e||e.draggable(!0))}),[]),f=(0,B.useCallback)((e=>{"Stage"===e.target.getType()&&a(e)}),[a]),m=(0,B.useCallback)((e=>{var t;f(e);const n=e.target.getStage();if(!n)return;const a=n.findOne(".select-box"),o=HS(n,e.evt),i=n.getPointerPosition();a.position(o),n.getAllIntersections(i).length||null!==(t=r.current)&&void 0!==t&&t.draggable()?a.visible(!1):a.visible(!0)}),[f]),g=e=>{if(1===e.evt.which){var t;const n=e.target.getStage();if(!n)return;const a=n.findOne(".select-box");if(!a.visible())return;const r=HS(n,e.evt),o=a.position(),i=a.size(),s=XS(o,r,i);a.position({x:s.x,y:s.y}),a.size({width:s.width,height:s.height}),null===(t=a.getStage())||void 0===t||t.batchDraw()}},y=(0,B.useCallback)((e=>{var t;const n=e.target.getStage();if(!n)return;const r=n.findOne(".select-box"),o=qS(n,r)?qS(n,r).map((e=>{var t;return"frame"===e.attrs["data-item-type"]?null!==(t=e.getParent().getChildren())&&void 0!==t?t:[]:e})).flat().filter((e=>"Label"!==e.className)):[];r.visible(!1),r.position({x:0,y:0}),r.size({width:0,height:0}),null===(t=r.getLayer())||void 0===t||t.batchDraw(),(null===o||void 0===o?void 0:o.length)&&a(void 0,o)}),[a]);return fo("space",(e=>{h()}),{keydown:!0,enabled:!(null!==(t=r.current)&&void 0!==t&&t.draggable())},[r.current,h]),fo("space",(e=>{var t,n;null===(t=r.current)||void 0===t||t.draggable(!1),null===(n=r.current)||void 0===n||n.fire("mouseup")}),{keyup:!0},[r.current,h]),fo("ctrl+0",(e=>{p()}),{},[r.current,p]),(0,B.useEffect)((()=>(window.addEventListener("load",u),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u))),[u]),(0,B.useEffect)((()=>{r.current&&l(r.current.container())}),[]),(0,ni.jsx)(Q.Consumer,{children:e=>{let{store:t}=e;return(0,ni.jsx)(Br,{ref:r,width:.8*window.innerWidth,height:.8*window.innerHeight,draggable:!1,onWheel:d,onMouseDown:m,onMouseMove:g,onMouseUp:y,className:[Ls.absolute,Ls.top0,Ls.left0].join(" "),children:(0,ni.jsxs)(se,{store:t,children:[(0,ni.jsxs)("Layer",{children:[n,(0,ni.jsx)(Mr,{name:"select-box",x:0,y:0,width:0,height:0,fill:"skyblue",opacity:.4,visible:!1})]}),s?(0,ni.jsx)(MS,{callback:i,targetDOMElement:s}):null]})})}})},HS=(e,t)=>{e.setPointersPositions(t);const n=e.getAbsolutePosition(),a=e.getPointerPosition();return a?{x:mc((a.x-n.x)/e.scaleX()),y:mc((a.y-n.y)/e.scaleY())}:{x:0,y:0}},qS=(e,t)=>{var n;const a=t.getClientRect({relativeTo:e.getLayer()});return null===(n=t.getLayer())||void 0===n?void 0:n.getChildren((t=>{if("select-box"===t.name())return!1;const n=t.getClientRect({relativeTo:e.getLayer()});return a.x<=n.x&&a.y<=n.y&&a.x+a.width>=n.x+n.width&&a.y+a.height>=n.y+n.height})).map((e=>{var t;return"label-group"===e.name()?null!==(t=e.findOne(".label-target"))&&void 0!==t?t:null:e})).filter(Boolean)},XS=(e,t,n)=>{const a={x:e.x,y:e.y,width:n.width,height:n.height};return a.x=e.x,a.y=e.y,a.width=t.x-e.x,a.height=t.y-e.y,a},KS=fd(),YS=sd({name:"STAGE_LIST",initialState:KS.setAll(KS.getInitialState(),[]),reducers:{initialize(e,t){KS.setAll(e,t.payload)},addItem(e,t){Array.isArray(t.payload)?KS.addMany(e,t.payload):KS.addOne(e,t.payload)},updateItem(e,t){KS.updateOne(e,{id:t.payload.id,changes:t.payload})},removeItem(e,t){Array.isArray(t.payload)?KS.removeMany(e,t.payload):KS.removeOne(e,t.payload)}}}),QS=YS.reducer,$S=KS.getSelectors((e=>e.stageDataList)),ZS=YS.actions,JS=QS,eC=()=>{const e=de(),t=ne($S.selectAll),n=ne(yk.selectAll),{alterItems:a,clearItems:r}=xk(),o=t=>{e(ZS.updateItem(t))},i=(e,i,s)=>{var l;e&&e!==i&&o({id:e,data:n}),r();const c=null===(l=t.find((e=>e.id===i)))||void 0===l?void 0:l.data;(s||c)&&a(null!==s&&void 0!==s?s:c)};return{stageDataList:t,initializeFileDataList:t=>{var n;e(ZS.initialize(t));const a=null!==(n=t[t.length-1])&&void 0!==n?n:null;a&&i(a.id,a.id,a.data)},createFileData:t=>{e(ZS.addItem(t))},updateFileData:o,removeFileData:t=>{e(ZS.removeItem(t))},changeStageData:i}},tC={Brighten:va.Filters.Brighten,Grayscale:va.Filters.Grayscale},nC=e=>{var t,n,a;let{data:r,e:o,onSelect:i}=e;const{attrs:s}=r,l=(0,B.useRef)(),[c,u]=(0,B.useState)(new Image),d=jS(),{onDragMoveFrame:p,onDragEndFrame:h,checkIsInFrame:f}=VS(d.stageRef,d.dragBackgroundOrigin),m=(0,B.useMemo)((()=>r.attrs._filters?r.attrs._filters.map((e=>tC[e])):[va.Filters.Brighten]),[r.attrs]);return(0,B.useEffect)((()=>{const e=new Image;let t;e.onload=()=>{u(e)},e.crossOrigin="Anonymous",t=(s.src.startsWith("find:"),s.src),t.startsWith("data:")?va.Image.fromURL(t,(t=>{let n,a;t.width()>t.height()?(n=mc(512),a=mc(n*(t.height()/t.width()))):(a=mc(512),n=mc(a*(t.width()/t.height()))),t.width(n),t.height(a);const r=t.toDataURL({x:0,y:0,width:n,height:a,pixelRatio:5});e.src=r})):e.src=t}),[s.src]),(0,B.useEffect)((()=>{l.current&&(d.setStageRef(l.current.getStage()),l.current.brightness(r.attrs.brightness),f(l.current),l.current.cache())}),[c,r]),(0,B.useEffect)((()=>{l.current.cache()}),[]),(0,ni.jsx)(Lr,{ref:l,image:c,onClick:i,name:"label-target","data-item-type":"image","data-frame-type":"image",id:r.id,x:s.x,y:s.y,width:s.width,height:s.height,scaleX:s.scaleX,scaleY:s.scaleY,fill:null!==(t=s.fill)&&void 0!==t?t:"transparent",opacity:null!==(n=s.opacity)&&void 0!==n?n:1,rotation:null!==(a=s.rotation)&&void 0!==a?a:0,filters:null!==m&&void 0!==m?m:[va.Filters.Brighten],draggable:!0,onDragMove:p,onDragEnd:h})},aC=e=>{const[t,n]=(0,B.useState)([]);return{selectedItems:t,setSelectedItems:n,onSelectItem:(a,r)=>{if(void 0===e||null===e)return void console.error("transformer is not given");if(!e.transformerRef.current)return;if(r)return e.transformerRef.current.nodes(r),e.setTransformerConfig(e.transformerRef.current),void n(r);if(!a)return;if("Stage"===a.target.getType())return e.transformerRef.current.nodes([]),e.setTransformerConfig(e.transformerRef.current),void n([]);let o=[];const i="label-text"===a.target.name()?a.target.getParent().getParent().findOne(".label-target"):a.target;o=a.evt.shiftKey?t.find((e=>e.id()===i.id()))?t.filter((e=>e.id()!==i.id())):[...t,i]:[i],e.transformerRef.current.nodes(o),e.setTransformerConfig(e.transformerRef.current),n(o)},clearSelection:()=>{e.transformerRef.current&&(e.transformerRef.current.nodes([]),e.setTransformerConfig(e.transformerRef.current)),n([])}}},rC="tabId",oC=(e,t)=>{const[n,a]=(0,B.useState)([]),{createFileData:r,removeFileData:o,changeStageData:i}=eC(),{clearSelection:s}=aC(e),{setValue:l}=wk();return{tabList:n,onClickTab:e=>{var r;const o=e.currentTarget.dataset.fileId,c=null===(r=n.find((e=>e.active)))||void 0===r?void 0:r.id;s(),i(c,o),a((e=>e.map((e=>({id:e.id,active:o===e.id}))))),l(rC,{id:o}),t()},onCreateTab:(e,o)=>{var c,u;const d=null!==(c=null===o||void 0===o?void 0:o.id)&&void 0!==c?c:"file-".concat(0===n.length?1:parseInt(n[n.length-1].id.slice(5))+1),p=null===(u=n.find((e=>e.active)))||void 0===u?void 0:u.id;s(),r(null!==o&&void 0!==o?o:{id:d,data:[]}),i(null!==p&&void 0!==p?p:d,d),a((e=>[...Object.values(e).map(((e,t)=>({...e,active:!1}))),{id:d,active:!0}])),o||(l(rC,{id:d}),t())},onDeleteTab:e=>{if(n.length<=1)return;const r=n.find((e=>e.active)),c=n.findIndex((t=>t.id===e)),u=n[c].id===r.id?n[0===c?c+1:c-1].id:r.id;s(),o(e),i(u,u),a((t=>[...t.filter((t=>t.id!==e)).map((e=>e.id===u?{id:e.id,active:!0}:{id:e.id,active:!1}))])),l(rC,{id:u}),t()},moveTab:(e,r)=>{var o,c;const u=null===(o=n.find((e=>e.active)))||void 0===o?void 0:o.id;s(),i(u,e,null!==(c=null===r||void 0===r?void 0:r.data)&&void 0!==c?c:void 0),a((t=>t.map((t=>({id:t.id,active:e===t.id}))))),l(rC,{id:e}),t()}}},iC=JSON.parse('{"frame":{"rotateEnabled":false,"enabledAnchors":[]},"image":{"rotateEnabled":false,"enabledAnchors":["top-left","top-right","bottom-left","bottom-right"]},"line":{"rotateEnabled":true,"enabledAnchors":["top-left","top-right","bottom-left","bottom-right"]},"default":{"rotateEnabled":true,"enabledAnchors":["top-left","top-center","top-right","middle-left","middle-right","bottom-left","bottom-center","bottom-right"]}}'),sC=()=>{const e=(0,B.useRef)(),{updateItem:t}=xk();return{transformerRef:e,onTransformEnd:e=>{var n;t(e.target.id(),(()=>({...e.target.attrs,updatedAt:Date.now()}))),null===(n=e.target.getStage())||void 0===n||n.batchDraw()},setTransformerConfig:e=>{let t="default";1===e.nodes().length&&(t=e.getNode().attrs["data-item-type"]);for(const n in iC[t])e.attrs[n]=iC[t][n];e.update()}}},lC=()=>{const{removeItem:e,createItem:t,updateItem:n}=xk(),{setValue:a}=wk();return{pasteItems:e=>{e.forEach((e=>{0!==Object.keys(e.attrs).length&&t({id:mo(),attrs:{...e.attrs},className:e.className,children:e.children})}))},selectAll:(e,t)=>{t(void 0,[...e.stageRef.current.getChildren()[0].getChildren((e=>"label-group"===e.attrs.name)).map((e=>{var t;return[...null!==(t=e.children)&&void 0!==t?t:[]]})).flat(),...e.stageRef.current.getChildren()[0].getChildren((e=>"label-target"===e.attrs.name&&"frame"!==e.attrs["data-item-type"]))])},copyItems:(e,t,n)=>{const a=e.map((e=>n(e))).sort(((e,t)=>e.attrs.zIndex===t.attrs.zIndex?e.attrs.zIndex<0?t.attrs.updatedAt-e.attrs.updatedAt:e.attrs.updatedAt-t.attrs.updatedAt:e.attrs.zIndex-t.attrs.zIndex));t(a)},deleteItems:(t,n,a)=>{var r;n([]),null===(r=a.current)||void 0===r||r.nodes([]),e(t.map((e=>e.id())))},duplicateItems:(e,n)=>{var a;(e.map((e=>n(e))).sort(((e,t)=>e.attrs.zIndex===t.attrs.zIndex?e.attrs.zIndex<0?t.attrs.updatedAt-e.attrs.updatedAt:e.attrs.updatedAt-t.attrs.updatedAt:e.attrs.zIndex-t.attrs.zIndex)).forEach((n=>{t({...n,attrs:{...n.attrs,x:n.attrs.x+50*e[0].scaleX(),y:n.attrs.y+50*e[0].scaleY()}})})),e.length>0)&&(null===(a=e[0].getStage())||void 0===a||a.batchDraw())},layerUp:e=>{e.forEach((e=>{e.moveUp(),n(e.id(),(t=>({...e.attrs,zIndex:1,updatedAt:Date.now()})))}))},layerDown:e=>{e.forEach((e=>{e.moveDown(),n(e.id(),(t=>({...e.attrs,zIndex:-1,updatedAt:Date.now()})))}))},flipHorizontally:e=>{e.forEach((e=>{e.scaleX(-1*e.scaleX()),n(e.id(),(t=>({...e.attrs,scaleX:e.scaleX(),updatedAt:Date.now()})))}))},flipVertically:e=>{e.forEach((e=>{e.scaleY(-1*e.scaleY()),n(e.id(),(t=>({...e.attrs,scaleY:e.scaleY(),updatedAt:Date.now()})))}))},zoom:(e,t)=>{const n=e.stageRef.current,r=n.scaleX(),o=n.getPointerPosition();if(!o)return;const i=(o.x-n.x())/r,s=(o.y-n.y())/r,l=t>0?1.1*r:r/1.1;n.scale({x:l,y:l}),a(zS,{x:l,y:l});const c={x:o.x-i*l,y:o.y-s*l};n.position(c),a(LS,c)},resetZoom:e=>{e.stageRef.current.scale({x:1,y:1}),e.stageRef.current.position({x:0,y:0}),a(LS,{x:0,y:0}),a(zS,{x:1,y:1})},undo:()=>{},redo:()=>{}}};class cC{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class uC{refCount(e){return dC("refCount")}incRef(e){return dC("incRef")}timerAvailable(){return!0}time(e){return dC("time")}read(e){return dC("read")}readSync(e){return dC("readSync")}readToGPU(e,t){return dC("readToGPU")}numDataIds(){return dC("numDataIds")}disposeData(e,t){return dC("disposeData")}write(e,t,n){return dC("write")}move(e,t,n,a,r){return dC("move")}memory(){return dC("memory")}floatPrecision(){return dC("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return dC("dispose")}}function dC(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function pC(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,gC(e,t,n)}function hC(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));let n=e.length,a=0;for(;n>0;)a=Math.random()*n|0,n--,gC(e,n,a),gC(t,n,a)}function fC(e,t,n){return Math.max(e,Math.min(t,n))}function mC(e){return e%2===0?e:e+1}function gC(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function yC(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function vC(e,t){const n=Math.random();return t*n+(1-n)*e}function bC(e,t){let n=0;for(let a=0;a<e.length;a++){const r=Number(e[a])-Number(t[a]);n+=r*r}return n}function xC(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function wC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";xC(_C(e,t),(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}function kC(e){xC(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function SC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||WC(e)&&!n)for(let a=0;a<e.length;++a)SC(e[a],t,n);else t.push(e);return t}function CC(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function EC(e){return 0===e.length}function _C(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function IC(e){return e%1===0}function NC(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function TC(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function OC(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return pC(t),t}function RC(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function AC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:setTimeout;return new Promise(((r,o)=>{let i=0;const s=()=>{if(e())return void r();i++;const l=t(i);null!=n&&i>=n?o():a(s,l)};s()}))}function PC(e,t){let n=1,a=-1;for(let o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==a)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(a," and dim ").concat(o));a=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found ".concat(e[o]," at dim ").concat(o));if(-1===a){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));const r=e.slice();return r[a]=t/n,r}function FC(e,t){const n=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),xC(e.every((e=>e>=-n&&e<n)),(()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e))),xC(e.every((e=>IC(e))),(()=>"All values in axis param must be integers but "+"got axis ".concat(e))),e.map((e=>e<0?n+e:e))}function DC(e,t){const n=[],a=[],r=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||r?null:FC(t,e).sort();let i=0;for(let s=0;s<e.length;++s){if(null!=o){if(o[i]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==o[i]||o[i]>s)&&1===e[s]&&(n.push(e[s]),a.push(s)),o[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),a.push(s))}return{newShape:n,keptDims:a}}function MC(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function LC(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function zC(e,t){for(let n=0;n<e.length;n++){const a=e[n];if(isNaN(a)||!isFinite(a))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(a,"."))}}function jC(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function BC(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function WC(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function VC(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function UC(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function GC(e){return"string"===typeof e||e instanceof String}function HC(e){return"boolean"===typeof e}function qC(e){return"number"===typeof e}function XC(e){return Array.isArray(e)?XC(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":qC(e)?"float32":GC(e)?"string":HC(e)?"bool":"float32"}function KC(e){return!!(e&&e.constructor&&e.call&&e.apply)}function YC(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function QC(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let a=t-3;a>=0;--a)n[a]=n[a+1]*e[a+1];return n}function $C(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new Array;if(1===t.length){const o=t[0]*(a?2:1);for(let t=0;t<o;t++)r[t]=n[e+t]}else{const o=t[0],i=t.slice(1),s=i.reduce(((e,t)=>e*t))*(a?2:1);for(let t=0;t<o;t++)r[t]=$C(e+t*s,i,n,a)}return r}function ZC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const a=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===a)return[];if(a!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return $C(0,e,t,n)}function JC(e,t){const n=eE(e,t);for(let a=0;a<n.length;a++)n[a]=1;return n}function eE(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function tE(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return ZC(e,new Float32Array(n));if("int32"===t)return ZC(e,new Int32Array(n));if("bool"===t)return ZC(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function nE(e){e.forEach((t=>{xC(Number.isInteger(t)&&t>=0,(()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")))}))}function aE(e,t,n){if(0===t)return 0;if(1===t)return e[0];let a=e[e.length-1];for(let r=0;r<e.length-1;++r)a+=n[r]*e[r];return a}function rE(e,t,n){if(0===t)return[];if(1===t)return[e];const a=new Array(t);for(let r=0;r<a.length-1;++r)a[r]=Math.floor(e/n[r]),e-=a[r]*n[r];return a[a.length-1]=e,a}function oE(e){return e&&e.then&&"function"===typeof e.then}const iE="tfjsflags";class sE{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=lE,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(cE().getBool("IS_TEST")||cE().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];cE().getBool("IS_TEST")||cE().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(t,".")),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(oE(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(iE in e){e[iE].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(t,n)}))}}}function lE(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,a[0],a[1]),a.join("=")})),t}function cE(){return dE}let uE,dE=null;function pE(){if(null==uE){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}uE=e}return uE}function hE(e,t){const n=function(){const e=pE();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const a=t();return n.set(e,a),n.get(e)}}const fE="Abs",mE="Acos",gE="Acosh",yE="Add",vE="AddN",bE="All",xE="Any",wE="ArgMax",kE="ArgMin",SE="Asin",CE="Asinh",EE="Atan",_E="Atanh",IE="Atan2",NE="AvgPool",TE="AvgPoolGrad",OE="AvgPool3D",RE="AvgPool3DGrad",AE="BatchMatMul",PE="BatchToSpaceND",FE="Bincount",DE="BroadcastTo",ME="BroadcastArgs",LE="Cast",zE="Ceil",jE="ClipByValue",BE="Complex",WE="ComplexAbs",VE="Concat",UE="Conv2D",GE="Conv2DBackpropFilter",HE="Conv2DBackpropInput",qE="Conv3D",XE="Conv3DBackpropFilterV2",KE="Conv3DBackpropInputV2",YE="Cos",QE="Cosh",$E="Cumprod",ZE="Cumsum",JE="CropAndResize",e_="DenseBincount",t_="DepthToSpace",n_="DepthwiseConv2dNative",a_="DepthwiseConv2dNativeBackpropFilter",r_="DepthwiseConv2dNativeBackpropInput",o_="Diag",i_="Dilation2D",s_="Dilation2DBackpropInput",l_="Dilation2DBackpropFilter",c_="RealDiv",u_="Einsum",d_="Elu",p_="EluGrad",h_="Erf",f_="Equal",m_="Exp",g_="ExpandDims",y_="Expm1",v_="FFT",b_="Fill",x_="FlipLeftRight",w_="Floor",k_="FloorDiv",S_="FusedBatchNorm",C_="GatherV2",E_="GatherNd",__="Greater",I_="GreaterEqual",N_="Identity",T_="IFFT",O_="Imag",R_="IsFinite",A_="IsInf",P_="IsNan",F_="LeakyRelu",D_="Less",M_="LessEqual",L_="LinSpace",z_="Log",j_="Log1p",B_="LogicalAnd",W_="LogicalNot",V_="LogicalOr",U_="LogicalXor",G_="LogSoftmax",H_="LowerBound",q_="LRN",X_="LRNGrad",K_="Max",Y_="Maximum",Q_="MaxPool",$_="MaxPoolGrad",Z_="MaxPool3D",J_="MaxPool3DGrad",eI="MaxPoolWithArgmax",tI="Mean",nI="Min",aI="Minimum",rI="MirrorPad",oI="Mod",iI="Multinomial",sI="Multiply",lI="Neg",cI="NotEqual",uI="NonMaxSuppressionV3",dI="NonMaxSuppressionV4",pI="NonMaxSuppressionV5",hI="OnesLike",fI="OneHot",mI="Pack",gI="PadV2",yI="Pool",vI="Pow",bI="Prelu",xI="Prod",wI="RaggedGather",kI="RaggedTensorToTensor",SI="Range",CI="Real",EI="Reciprocal",_I="Relu",II="Reshape",NI="ResizeNearestNeighbor",TI="ResizeNearestNeighborGrad",OI="ResizeBilinear",RI="ResizeBilinearGrad",AI="Relu6",PI="Reverse",FI="Round",DI="Rsqrt",MI="ScatterNd",LI="SearchSorted",zI="Select",jI="Selu",BI="Slice",WI="Sin",VI="Sinh",UI="Sign",GI="Sigmoid",HI="Softplus",qI="Sqrt",XI="Sum",KI="SpaceToBatchND",YI="SplitV",QI="Softmax",$I="SparseFillEmptyRows",ZI="SparseReshape",JI="SparseSegmentMean",eN="SparseSegmentSum",tN="SparseToDense",nN="SquaredDifference",aN="Square",rN="StridedSlice",oN="StringNGrams",iN="StringSplit",sN="StringToHashBucketFast",lN="Sub",cN="Tan",uN="Tanh",dN="Tile",pN="TopK",hN="Transform",fN="Transpose",mN="Unique",gN="Unpack",yN="UnsortedSegmentSum",vN="UpperBound",bN="ZerosLike",xN="Step",wN="FromPixels",kN="RotateWithOffset",SN="_FusedMatMul",CN="FusedConv2D",EN="FusedDepthwiseConv2D";function _N(){cE().getBool("IS_TEST")||cE().getBool("PROD")||console.warn(...arguments)}function IN(){cE().getBool("IS_TEST")||cE().getBool("PROD")||console.log(...arguments)}const NN=hE("kernelRegistry",(()=>new Map)),TN=hE("gradRegistry",(()=>new Map));function ON(e,t){const n=zN(e,t);return NN.get(n)}function RN(e){return TN.get(e)}function AN(e){const t=NN.entries(),n=[];for(;;){const{done:a,value:r}=t.next();if(a)break;const[o,i]=r,[s]=o.split("_");s===e&&n.push(i)}return n}function PN(e){const{kernelName:t,backendName:n}=e,a=zN(t,n);NN.has(a)&&_N("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),NN.set(a,e)}function FN(e){const{kernelName:t}=e;TN.has(t)&&cE().getBool("DEBUG")&&_N("Overriding the gradient for '".concat(t,"'")),TN.set(t,e)}function DN(e,t){const n=zN(e,t);if(!NN.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));NN.delete(n)}function MN(e){if(!TN.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));TN.delete(e)}function LN(e,t){AN(e).forEach((e=>{PN(Object.assign({},e,{backendName:t}))}))}function zN(e,t){return"".concat(t,"_").concat(e)}var jN=n(9849);const BN=n.n(jN)()||jN;function WN(e){return BN.fromString(e,!0,16)}const VN=WN("c3a5c85c97cb3127"),UN=WN("b492b66fbe98f273"),GN=WN("9ae16a3b2f90404f");function HN(e){return e.xor(e.shru(47))}function qN(e,t,n){const a=e.slice(t,t+n);return BN.fromBytes(Array.from(a),!0,!0)}function XN(e,t){return qN(e,t,8)}function KN(e,t){return qN(e,t,4)}function YN(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function QN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WN("9ddfea08eb382d69"),a=e.xor(t).mul(n);a=a.xor(a.shru(47));let r=t.xor(a).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function $N(e,t,n,a){return function(e,t,n,a,r,o){r=r.add(e),o=YN(o.add(r).add(a),21);const i=r;return r=(r=r.add(t)).add(n),o=o.add(YN(r,44)),[r.add(a),o.add(i)]}(XN(e,t),XN(e,t+8),XN(e,t+16),XN(e,t+24),n,a)}function ZN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=BN.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=GN.add(2*t),a=XN(e,0).add(GN),r=XN(e,t-8);return QN(YN(r,37).mul(n).add(a),YN(a,25).add(r).mul(n),n)}if(t>=4){const n=GN.add(2*t);return QN(KN(e,0).shl(3).add(t),KN(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),a=t+(e[t-1]<<2);return HN(GN.mul(n).xor(VN.mul(a))).mul(GN)}return GN}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=GN.add(2*t),a=XN(e,0).mul(UN),r=XN(e,8),o=XN(e,t-8).mul(n),i=XN(e,t-16).mul(GN);return QN(YN(a.add(r),43).add(YN(o,30)).add(i),a.add(YN(r.add(GN),18)).add(o),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=GN.add(2*t),a=XN(e,0).mul(GN),r=XN(e,8),o=XN(e,t-8).mul(n),i=XN(e,t-16).mul(GN),s=YN(a.add(r),43).add(YN(o,30)).add(i),l=QN(s,a.add(YN(r.add(GN),18)).add(o),n),c=XN(e,16).mul(n),u=XN(e,24),d=s.add(XN(e,t-32)).mul(n),p=l.add(XN(e,t-24)).mul(n);return QN(YN(c.add(u),43).add(YN(d,30)).add(p),c.add(YN(u.add(a),18)).add(d),n)}(e,t);let a=n,r=n.mul(UN).add(113),o=HN(r.mul(GN).add(113)).mul(GN),i=[BN.UZERO,BN.UZERO],s=[BN.UZERO,BN.UZERO];a=a.mul(GN).add(XN(e,0));let l=0;const c=64*(t-1>>6),u=c+(t-1&63)-63;do{a=YN(a.add(r).add(i[0]).add(XN(e,l+8)),37).mul(UN),r=YN(r.add(i[1]).add(XN(e,l+48)),42).mul(UN),a=a.xor(s[1]),r=r.add(i[0]).add(XN(e,l+40)),o=YN(o.add(s[0]),33).mul(UN),i=$N(e,l,i[1].mul(UN),a.add(s[0])),s=$N(e,l+32,o.add(s[1]),r.add(XN(e,l+16))),[o,a]=[a,o],l+=64}while(l!==c);const d=UN.add(o.and(255).shl(1));return l=u,s[0]=s[0].add(t-1&63),i[0]=i[0].add(s[0]),s[0]=s[0].add(i[0]),a=YN(a.add(r).add(i[0]).add(XN(e,l+8)),37).mul(d),r=YN(r.add(i[1]).add(XN(e,l+48)),42).mul(d),a=a.xor(s[1].mul(9)),r=r.add(i[0].mul(9).add(XN(e,l+40))),o=YN(o.add(s[0]),33).mul(d),i=$N(e,l,i[1].mul(d),a.add(s[0])),s=$N(e,l+32,o.add(s[1]),r.add(XN(e,l+16))),[o,a]=[a,o],QN(QN(i[0],s[0],d).add(HN(r).mul(VN)).add(o),QN(i[1],s[1],d).add(a),d)}function JN(e,t){return"string"===t?aT(e):eT([e],t)}function eT(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=SC(e)),cE().getBool("DEBUG")&&zC(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error("Unknown data type ".concat(t))}function tT(){return cE().platform.now()}function nT(e,t){return cE().platform.fetch(e,t)}function aT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",cE().platform.encode(e,t)}function rT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",cE().platform.decode(e,t)}class oT{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new sT)}profileKernel(e,t,n){let a;const r=()=>{a=n()};let o;const i=tT();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(r);else{r();for(const e of a)e.dataSync();o=Promise.resolve({kernelMs:tT()-i})}if(cE().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let s=0;s<a.length;s++){const t=a[s];t.data().then((n=>{iT(n,t.dtype,e)}))}return{kernelName:e,outputs:a,inputs:t,timeMs:o.then((e=>e.kernelMs)),extraInfo:o.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:a,inputs:r,extraInfo:o}=e;n.forEach((e=>{Promise.all([e.data(),a,o]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],r,n[2])}))}))}}function iT(e,t,n){if("float32"!==t)return!1;for(let a=0;a<e.length;a++){const t=e[a];if(isNaN(t)||!isFinite(t))return console.warn("Found ".concat(t," in the result of '").concat(n,"'")),!0}return!1}class sT{logKernelProfile(e,t,n,a,r,o){const i="number"===typeof a?RC("".concat(a,"ms"),9):a.error,s=RC(e,25),l=t.rank,c=t.size,u=RC(t.shape.toString(),14);let d="";for(const p in r){const e=r[p];if(null!=e){const n=e.shape||t.shape,a=n.length;d+="".concat(p,": ").concat(a,"D ").concat(a>0?n:""," ")}}console.log("%c".concat(s,"\t%c").concat(i,"\t%c").concat(l,"D ").concat(u,"\t%c").concat(c,"\t%c").concat(d,"\t%c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const lT=20,cT=3,uT=7;function dT(e,t,n,a){const r=QC(t),o=function(e,t,n,a){const r=CC(t),o=a[a.length-1],i=new Array(o).fill(0),s=t.length,l="complex64"===n?mT(e):e;if(s>1)for(let c=0;c<r/o;c++){const e=c*o;for(let t=0;t<o;t++)i[t]=Math.max(i[t],pT(l[e+t],0,n).length)}return i}(e,t,n,r),i=t.length,s=fT(e,t,n,r,o),l=["Tensor"];return a&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(i)),l.push("  shape: [".concat(t,"]")),l.push("  values:")),l.push(s.map((e=>"    "+e)).join("\n")),l.join("\n")}function pT(e,t,n){let a;return a=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(uT))," + ")+"".concat(parseFloat(e[1].toFixed(uT)),"j"):GC(e)?"'".concat(e,"'"):"bool"===n?hT(e):parseFloat(e.toFixed(uT)).toString(),RC(a,t)}function hT(e){return 0===e?"false":"true"}function fT(e,t,n,a,r){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const i="complex64"===n?2:1,s=t[0],l=t.length;if(0===l){if("complex64"===n){return[pT(mT(e)[0],0,n)]}return"bool"===n?[hT(e[0])]:[e[0].toString()]}if(1===l){if(s>lT){const t=cT*i;let a=Array.from(e.slice(0,t)),o=Array.from(e.slice((s-cT)*i,s*i));return"complex64"===n&&(a=mT(a),o=mT(o)),["["+a.map(((e,t)=>pT(e,r[t],n))).join(", ")+", ..., "+o.map(((e,t)=>pT(e,r[s-cT+t],n))).join(", ")+"]"]}return["["+("complex64"===n?mT(e):Array.from(e)).map(((e,t)=>pT(e,r[t],n))).join(", ")+"]"]}const c=t.slice(1),u=a.slice(1),d=a[0]*i,p=[];if(s>lT){for(let t=0;t<cT;t++){const a=t*d,o=a+d;p.push(...fT(e.slice(a,o),c,n,u,r,!1))}p.push("...");for(let t=s-cT;t<s;t++){const a=t*d,o=a+d;p.push(...fT(e.slice(a,o),c,n,u,r,t===s-1))}}else for(let m=0;m<s;m++){const t=m*d,a=t+d;p.push(...fT(e.slice(t,a),c,n,u,r,m===s-1))}const h=2===l?",":"";p[0]="["+p[0]+h;for(let m=1;m<p.length-1;m++)p[m]=" "+p[m]+h;let f=",\n";for(let m=2;m<l;m++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(o?"":f),p}function mT(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class gT{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=CC(e),null!=n){const e=n.length;xC(e===this.size,(()=>"Length of values '".concat(e,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'.")))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||LC(t,this.size),this.strides=QC(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];0===n.length&&(n=[0]),xC(n.length===this.rank,(()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")")));const r=this.locToIndex(n);this.values[r]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let a=0;for(const o of t){if(o<0||o>=this.shape[a]){const e="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(e)}a++}let r=t[t.length-1];for(let o=0;o<t.length-1;++o)r+=this.strides[o]*t[o];return this.values[r]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return yT().makeTensor(this.values,this.shape,this.dtype)}}let yT=null,vT=null,bT=null;class xT{constructor(e,t,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=CC(e),this.strides=QC(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return vT.buffer(this.shape,this.dtype,e)}bufferSync(){return vT.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return ZC(this.shape,e,"complex64"===this.dtype)}arraySync(){return ZC(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=yT().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>rT(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),yT().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=yT().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>rT(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await yT().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(yT().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return vT.print(this,e)}clone(){return this.throwIfDisposed(),vT.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return dT(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),vT.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),yT().makeVariable(this,e,t,n)}}Object.defineProperty(xT,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),hE("Tensor",(()=>xT));class wT extends xT{constructor(e,t,n,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!_C(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));yT().disposeTensor(this),this.dataId=e.dataId,yT().incRef(this,null)}dispose(){yT().disposeVariable(this),this.isDisposedInternal=!0}}var kT,ST,CT,ET,_T;Object.defineProperty(wT,Symbol.hasInstance,{value:e=>e instanceof xT&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(kT||(kT={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(ST||(ST={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(CT||(CT={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(ET||(ET={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(_T||(_T={}));const IT={float32:ET,int32:ST,bool:CT,complex64:_T};function NT(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return IT[e][t]}function TT(e){return NT(e,"int32")}function OT(e,t){if(e.dtype===t.dtype)return[e,t];const n=NT(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function RT(e,t){xC(e.dtype===t.dtype,(()=>"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")))}function AT(e,t){return t.some((t=>t.id===e.id))}function PT(e){const t=[];return FT(e,t,new Set),t}function FT(e,t,n){if(null==e)return;if(e instanceof xT)return void t.push(e);if(a=e,!Array.isArray(a)&&"object"!==typeof a)return;var a;const r=e;for(const o in r){const e=r[o];n.has(e)||(n.add(e),FT(e,t,n))}}function DT(e){return null!=e.kernelName}class MT{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class LT{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new MT}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(_N("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new oT(this.backendInstance),!0}setupRegisteredKernels(){AN(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){AN(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const n=t.factory();if(!n||n instanceof uC||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,a=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,_N("Initialization of backend ".concat(e," failed")),_N(n.stack||n.message)),!1)));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}}catch(n){return _N("Initialization of backend ".concat(e," failed")),_N(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:a,asyncInit:r}=this.initializeBackend(n);if(r||a)return{name:n,asyncInit:r}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),a=n.backend,r=this.readSync(t),o=a.refCount(t);a.disposeData(t,!0),n.backend=e,e.move(t,r,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((()=>this.startScope(a)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(a){throw t(),a}}nextTensorId(){return LT.nextTensorId++}nextVariableId(){return LT.nextVariableId++}clone(e){const t=jT.runKernel(N_,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return jT.runKernel(LE,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=ON(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const a=this.backend.numDataIds();let r=0;n.forEach((e=>{r+="complex64"===e.dtype?3:1}));const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=a-t-r-o;if(i>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(i," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let t,n=[];const a=this.isTapeOn(),r=this.state.numBytes,o=this.state.numTensors;let i,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=DT(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(DT(e)){const{kernelName:t,inputs:r,attrs:o}=e;null==this.backendName&&this.backend;const l=ON(t,this.backendName);xC(null!=l,(()=>"Cannot find registered kernel '".concat(t,"' for backend '").concat(this.backendName,"'"))),i=()=>{const e=this.backend.numDataIds();s=l.kernelFunc({inputs:r,attrs:o,backend:this.backend});const i=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,i);const c=i.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(a){const e=this.getTensorsForGradient(t,r,c);n=this.saveTensorsForBackwardMode(e)}return c}}else{const{forwardFunc:t}=e,r=e=>{a&&(n=e.map((e=>this.keep(this.clone(e)))))};i=()=>{const e=this.backend.numDataIds();s=this.tidy((()=>t(this.backend,r)));const n=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:c,attrs:u}=e,d=DT(e)?null:e.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(l,c,(()=>i())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=i()})),a&&this.addTapeNode(l,c,t,d,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-r,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map((e=>null!=c[e]?c[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(s)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const a=RN(e);if(null!=a){const e=a.inputsToSave||[],r=a.outputsToSave||[];let o;a.saveAllInputs?(xC(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),o=Object.keys(t).map((e=>t[e]))):o=e.map((e=>t[e]));const i=n.filter(((e,t)=>r[t]));return o.concat(i)}return[]}makeTensor(e,t,n,a){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;let r=e;"string"===n&&GC(e[0])&&(r=e.map((e=>aT(e))));const o=a.write(r,t,n),i=new xT(t,n,o,this.nextTensorId());if(this.trackTensor(i,a),"string"===n){const e=this.state.tensorInfo.get(o),t=UC(r);this.state.numBytes+=t-e.bytes,e.bytes=t}return i}makeTensorFromDataId(e,t,n,a){const r={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(r,a)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:a,dtype:r}=e,o=new xT(a,r,n,this.nextTensorId());return this.trackTensor(o,t),o}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=a&&a!==e.dtype&&(e=e.cast(a));const r=new wT(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[r.name])throw new Error("Variable with name ".concat(r.name," was already registered"));return this.state.registeredVariables[r.name]=r,this.incRef(r,this.backend),r}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*VC(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof wT||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*VC(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,a,r,o){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:r},s=RN(e);null!=s&&(a=s.gradFunc),null!=a&&(i.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],a=eE(e.size,e.dtype);return this.makeTensor(a,e.shape,e.dtype)}return e})),a(e.length>1?e:e[0],r,o))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=PT(e),n=new Set(t.map((e=>e.id)));for(let r=0;r<this.state.activeScope.track.length;r++){const e=this.state.activeScope.track[r];e.kept||n.has(e.id)||e.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==a.id||this.track(e)}))}gradients(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(xC(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));const r=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));xC(r instanceof xT,(()=>"The result y returned by f() must be a tensor."));const o=function(e,t,n){const a={},r={};for(let l=0;l<t.length;l++)a[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],o=n.inputs;for(const e in o){const i=o[e];let s=!1;for(let e=0;e<t.length;e++)if(a[i.id]){n.outputs.forEach((e=>a[e.id]=!0)),s=!0,r[n.id]=!0;break}if(s)break}}const o={};o[n.id]=!0;const i={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(o[t.outputs[e].id]){for(const e in n)o[n[e].id]=!0,i[t.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const t=e[l];if(r[t.id]&&i[t.id]){const e={};for(const r in t.inputs){const n=t.inputs[r];a[n.id]&&(e[r]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,s.push(n)}}return s}(this.state.activeTape,t,r);if(!a&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[r.id]=null==n?function(e){const t=JC(CC(e),"float32");return jT.makeTensor(t,e,"float32")}(r.shape):n,function(e,t,n,a){for(let r=t.length-1;r>=0;r--){const o=t[r],i=[];if(o.outputs.forEach((t=>{const n=e[t.id];null!=n?i.push(n):i.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));const s=o.gradient(i);for(const t in o.inputs){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));const r=n((()=>s[t]()));if("float32"!==r.dtype)throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(r.dtype,"'"));const i=o.inputs[t];if(!_C(r.shape,i.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(r.shape,"', which does not match ")+"the shape of the input '".concat(i.shape,"'"));if(null==e[i.id])e[i.id]=r;else{const t=e[i.id];e[i.id]=a(t,r),t.dispose()}}}}(e,o,(e=>this.tidy(e)),BT);const a=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:r,grads:a}}))}customGrad(e){var t=this;return xC(KC(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];let o;xC(a.every((e=>e instanceof xT)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const i={};a.forEach(((e,t)=>{i[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(o=e(...a,n),xC(o.value instanceof xT,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),xC(KC(o.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),o.value),backwardsFunc:(e,t)=>{const n=o.gradFunc(e,t),r=Array.isArray(n)?n:[n];xC(r.length===a.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),xC(r.every((e=>e instanceof xT)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const i={};return r.forEach(((e,t)=>{i[t]=()=>e})),i},inputs:i})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=tT(),n=await this.backend.time(e);return n.wallMs=tT()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new MT;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function zT(){const e=pE();if(null==e._tfengine){const t=new sE(e);e._tfengine=new LT(t)}var t;return t=e._tfengine.ENV,dE=t,function(e){yT=e}((()=>e._tfengine)),e._tfengine}LT.nextTensorId=0,LT.nextVariableId=0;const jT=zT();function BT(e,t){const n={a:e,b:t};return jT.runKernel(yE,n)}let WT;function VT(e){WT=e}function UT(e){if(void 0!==WT)return WT;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function GT(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}const HT=cE();function qT(e,t){let n=e;if(WC(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const a=[];for(;Array.isArray(n)||WC(n)&&"string"!==t;)a.push(n.length),n=n[0];return Array.isArray(e)&&cE().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&XT(e,a,[]),a}function XT(e,t,n){if(n=n||[],!Array.isArray(e)&&!WC(e))return void xC(0===t.length,(()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")));xC(t.length>0,(()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements"))),xC(e.length===t[0],(()=>"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")));const a=t.slice(1);for(let r=0;r<e.length;++r)XT(e[r],a,n.concat(r))}function KT(e,t,n,a){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(a,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function YT(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof xT)return KT(a,e.dtype,t,n),e;let r=XC(e);if("string"!==r&&["bool","int32","float32"].indexOf(a)>=0&&(r=a),KT(a,r,t,n),null==e||!WC(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const a=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(a,"'"))}const o=qT(e,r);WC(e)||Array.isArray(e)||(e=[e]);const i="string"!==r?eT(e,r):SC(e,[],!0);return jT.makeTensor(i,o,r)}function QT(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(((e,r)=>YT(e,"".concat(t,"[").concat(r,"]"),n,a)))}HT.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),HT.registerFlag("IS_BROWSER",(()=>GT())),HT.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),HT.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),HT.registerFlag("PROD",(()=>!1)),HT.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>HT.getBool("DEBUG"))),HT.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),HT.registerFlag("IS_TEST",(()=>!1)),HT.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),HT.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),HT.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1)),HT.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),HT.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const $T="__op";function ZT(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));let n=t[0];const a=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=$T;const r=function(){jT.startScope(n);try{const e=a(...arguments);return oE(e)&&console.error("Cannot return a Promise inside of tidy."),jT.endScope(e),e}catch(e){throw jT.endScope(null),e}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}const JT=ZT({complex_:function(e,t){const n=YT(e,"real","complex"),a=YT(t,"imag","complex");wC(n.shape,a.shape,"real and imag shapes, ".concat(n.shape," and ").concat(a.shape,", ")+"must match in call to tf.complex().");const r={real:n,imag:a};return jT.runKernel(BE,r)}});function eO(e,t,n,a){if(null==a&&(a=XC(e)),"complex64"===a)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!WC(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){nE(t);const e=CC(t),a=CC(n);xC(e===a,(()=>"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(e," values but has ").concat(a)));for(let r=0;r<n.length;++r){const e=n[r],a=r!==n.length-1||e!==CC(t.slice(r));xC(n[r]===t[r]||!a,(()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")))}}return WC(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==a?eT(e,a):SC(e,[],!0),jT.makeTensor(e,t,a)}function tO(e,t,n){return eO(e,t,qT(e,n),n)}const nO={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},aO=4;async function rO(e,t){const n=[],a=[],r=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let o=0;o<r.length;++o){const i=r[o],s=Array.isArray(e)?e[o].tensor:e[i];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error("Unsupported dtype in weight '".concat(i,"': ").concat(s.dtype));const l={name:i,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+aO*t.length,a=new Uint8Array(n);let r=0;for(let o=0;o<t.length;o++){const e=t[o],n=new Uint8Array(new Uint32Array([e.length]).buffer);a.set(n,r),r+=aO,a.set(e,r),r+=e.length}e(a)}));a.push(e)}else a.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:iO(await Promise.all(a)),specs:n}}function oO(e,t){const n={};let a,r=0;for(const o of t){const t=o.name,i=o.dtype,s=o.shape,l=CC(s);let c;if("quantization"in o){const n=o.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error("Weight ".concat(o.name," with quantization ").concat(n.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==n.dtype)throw new Error("Weight ".concat(o.name," has unknown ")+"quantization dtype ".concat(n.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==i)throw new Error("Weight ".concat(o.name," is quantized with ").concat(n.dtype," ")+"which only supports weights of type float32 not ".concat(i,"."))}const s=nO[n.dtype],u=e.slice(r,r+l*s),d="uint8"===n.dtype?new Uint8Array(u):new Uint16Array(u);if("float32"===i)if("uint8"===n.dtype||"uint16"===n.dtype){c=new Float32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];c[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error("Unsupported quantization type ".concat(n.dtype," ")+"for weight type float32.");void 0===a&&(a=gO()),c=a(d)}else{if("int32"!==i)throw new Error("Unsupported dtype in weight '".concat(t,"': ").concat(i));if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error("Unsupported quantization type ".concat(n.dtype," ")+"for weight type int32.");c=new Int32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];c[e]=Math.round(t*n.scale+n.min)}}r+=l*s}else if("string"===i){const t=CC(o.shape);c=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(r,r+aO))[0];r+=aO;const n=new Uint8Array(e.slice(r,r+t));c.push(n),r+=t}}else{const a=nO[i],o=e.slice(r,r+l*a);if("float32"===i)c=new Float32Array(o);else if("int32"===i)c=new Int32Array(o);else if("bool"===i)c=new Uint8Array(o);else{if("complex64"!==i)throw new Error("Unsupported dtype in weight '".concat(t,"': ").concat(i));{c=new Float32Array(o);const e=new Float32Array(c.length/2),a=new Float32Array(c.length/2);for(let t=0;t<e.length;t++)e[t]=c[2*t],a[t]=c[2*t+1];const r=tO(e,s,"float32"),i=tO(a,s,"float32");n[t]=JT(r,i),r.dispose(),i.dispose()}}r+=l*a}"complex64"!==i&&(n[t]=tO(c,s,i))}return n}function iO(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));const a=new Uint8Array(t);let r=0;return n.forEach((e=>{a.set(new Uint8Array(e.buffer),r),r+=e.byteLength})),a.buffer}const sO="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function lO(e){return sO?Buffer.byteLength(e):new Blob([e]).size}function cO(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let a=0;return e.forEach((e=>{n.set(new Uint8Array(e),a),a+=e.byteLength})),n.buffer}function uO(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function dO(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function pO(e,t,n){const a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(a.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");a.weightSpecs=t,a.weightData=n}return null!=e.signature&&(a.signature=e.signature),null!=e.userDefinedMetadata&&(a.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(a.modelInitializer=e.modelInitializer),a}async function hO(e,t){let n,a;return null!=e.weightsManifest&&([n,a]=await t(e.weightsManifest)),pO(e,n,a)}function fO(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:lO(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:lO(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function mO(e){const t=[];for(const n of e)t.push(...n.weights);return t}function gO(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return a=>{const r=new ArrayBuffer(4*a.length),o=new Uint32Array(r);for(let i=0;i<a.length;i++){const r=a[i],s=e[n[r>>10]+(1023&r)]+t[r>>10];o[i]=s}return new Float32Array(r)}}class yO{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==yO.instance&&(yO.instance=new yO),yO.instance}static registerSaveRouter(e){yO.getInstance().saveRouters.push(e)}static registerLoadRouter(e){yO.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return yO.getHandlers(e,"save")}static getLoadHandlers(e,t){return yO.getHandlers(e,"load",t)}static getHandlers(e,t,n){const a=[];return("load"===t?yO.getInstance().loadRouters:yO.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&a.push(r)})),a}}const vO=e=>yO.registerSaveRouter(e),bO=e=>yO.registerLoadRouter(e),xO=e=>yO.getSaveHandlers(e),wO=(e,t)=>yO.getLoadHandlers(e,t),kO="tensorflowjs",SO="models_store",CO="model_info_store";function EO(){if(!cE().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function _O(e){const t=e.result;t.createObjectStore(SO,{keyPath:"modelPath"}),t.createObjectStore(CO,{keyPath:"modelPath"})}class IO{constructor(e){if(this.indexedDB=EO(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const a=this.indexedDB.open(kO,1);a.onupgradeneeded=()=>_O(a),a.onsuccess=()=>{const r=a.result;if(null==t){const t=r.transaction(SO,"readonly"),a=t.objectStore(SO).get(this.modelPath);a.onsuccess=()=>{if(null==a.result)return r.close(),n(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));e(a.result.modelArtifacts)},a.onerror=e=>(r.close(),n(a.error)),t.oncomplete=()=>r.close()}else{const a=fO(t),o=r.transaction(CO,"readwrite");let i=o.objectStore(CO);const s=i.put({modelPath:this.modelPath,modelArtifactsInfo:a});let l;s.onsuccess=()=>{l=r.transaction(SO,"readwrite");const s=l.objectStore(SO).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:a});s.onsuccess=()=>e({modelArtifactsInfo:a}),s.onerror=e=>{i=o.objectStore(CO);const t=i.delete(this.modelPath);t.onsuccess=()=>(r.close(),n(s.error)),t.onerror=e=>(r.close(),n(s.error))}},s.onerror=e=>(r.close(),n(s.error)),o.oncomplete=()=>{null==l?r.close():l.oncomplete=()=>r.close()}}},a.onerror=e=>n(a.error)}))}}IO.URL_SCHEME="indexeddb://";const NO=e=>{return cE().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(IO.URL_SCHEME)?(t=e.slice(IO.URL_SCHEME.length),new IO(t)):null;var t};yO.registerSaveRouter(NO),yO.registerLoadRouter(NO);class TO{constructor(){this.indexedDB=EO()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(kO,1);n.onupgradeneeded=()=>_O(n),n.onsuccess=()=>{const a=n.result,r=a.transaction(CO,"readonly"),o=r.objectStore(CO).getAll();o.onsuccess=()=>{const t={};for(const e of o.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},o.onerror=e=>(a.close(),t(o.error)),r.oncomplete=()=>a.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(IO.URL_SCHEME)?t.slice(IO.URL_SCHEME.length):t,new Promise(((t,n)=>{const a=this.indexedDB.open(kO,1);a.onupgradeneeded=()=>_O(a),a.onsuccess=()=>{const r=a.result,o=r.transaction(CO,"readwrite"),i=o.objectStore(CO),s=i.get(e);let l;s.onsuccess=()=>{if(null==s.result)return r.close(),n(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const a=i.delete(e),o=()=>{l=r.transaction(SO,"readwrite");const a=l.objectStore(SO).delete(e);a.onsuccess=()=>t(s.result.modelArtifactsInfo),a.onerror=e=>n(s.error)};a.onsuccess=o,a.onerror=e=>(o(),r.close(),n(s.error))}},s.onerror=e=>(r.close(),n(s.error)),o.oncomplete=()=>{null==l?r.close():l.oncomplete=()=>r.close()}},a.onerror=e=>n(a.error)}))}}const OO="/",RO="tensorflowjs_models",AO="info",PO="model_topology",FO="weight_specs",DO="weight_data",MO="model_metadata";function LO(e){return{info:[RO,e,AO].join(OO),topology:[RO,e,PO].join(OO),weightSpecs:[RO,e,FO].join(OO),weightData:[RO,e,DO].join(OO),modelMetadata:[RO,e,MO].join(OO)}}function zO(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function jO(e){const t=e.split(OO);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(OO)}class BO{constructor(e){if(!cE().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=LO(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),a=JSON.stringify(e.weightSpecs),r=fO(e);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,a),this.LS.setItem(this.keys.weightData,function(e){if(sO)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let a=0,r=t.length;a<r;a++)n+=String.fromCharCode(t[a]);return btoa(n)}(e.weightData));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:r}}catch(t){throw zO(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(r.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(r.weightSpecsBytes,", ")+"weightDataBytes=".concat(r.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");t.modelTopology=n;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==a)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");t.weightSpecs=a;const r=this.LS.getItem(this.keys.modelMetadata);if(null!=r){const e=JSON.parse(r);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return t.weightData=function(e){if(sO){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let a=0;a<t.length;++a)n.set([t.charCodeAt(a)],a);return n.buffer}(o),t}}BO.URL_SCHEME="localstorage://";const WO=e=>{return cE().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(BO.URL_SCHEME)?(t=e.slice(BO.URL_SCHEME.length),new BO(t)):null;var t};yO.registerSaveRouter(WO),yO.registerLoadRouter(WO);class VO{constructor(){xC(cE().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),xC("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=RO+OO,n=OO+AO;for(let a=0;a<this.LS.length;++a){const r=this.LS.key(a);if(r.startsWith(t)&&r.endsWith(n)){e[jO(r)]=JSON.parse(this.LS.getItem(r))}}return e}async removeModel(e){var t;const n=LO(e=(t=e).startsWith(BO.URL_SCHEME)?t.slice(BO.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error("Cannot find model at path '".concat(e,"'"));const a=JSON.parse(this.LS.getItem(n.info));return zO(n),a}}const UO="://";class GO{constructor(){this.managers={}}static getInstance(){return null==GO.instance&&(GO.instance=new GO),GO.instance}static registerManager(e,t){xC(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(UO)&&(e=e.slice(0,e.indexOf(UO))),xC(e.length>0,(()=>"scheme must not be an empty string."));const n=GO.getInstance();xC(null==n.managers[e],(()=>"A model store manager is already registered for scheme '".concat(e,"'."))),n.managers[e]=t}static getManager(e){const t=GO.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}static getSchemes(){return Object.keys(GO.getInstance().managers)}}function HO(e){if(-1===e.indexOf(UO))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(GO.getSchemes().join(",")));return{scheme:e.split(UO)[0],path:e.split(UO)[1]}}async function qO(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];xC(e!==t,(()=>"Old path and new path are the same: '".concat(e,"'")));const a=yO.getLoadHandlers(e);xC(a.length>0,(()=>"Copying failed because no load handler is found for source URL ".concat(e,"."))),xC(a.length<2,(()=>"Copying failed because more than one (".concat(a.length,") ")+"load handlers for source URL ".concat(e,".")));const r=a[0],o=yO.getSaveHandlers(t);xC(o.length>0,(()=>"Copying failed because no save handler is found for destination "+"URL ".concat(t,"."))),xC(o.length<2,(()=>"Copying failed because more than one (".concat(a.length,") ")+"save handlers for destination URL ".concat(t,".")));const i=o[0],s=HO(e).scheme,l=HO(e).path,c=s===HO(e).scheme,u=await r.load();n&&c&&await GO.getManager(s).removeModel(l);const d=await i.save(u);return n&&!c&&await GO.getManager(s).removeModel(l),d.modelArtifactsInfo}async function XO(){const e=GO.getSchemes(),t={};for(const n of e){const e=await GO.getManager(n).listModels();for(const a in e){t[n+UO+a]=e[a]}}return t}async function KO(e){const t=HO(e);return GO.getManager(t.scheme).removeModel(t.path)}async function YO(e,t){return qO(e,t,!1)}async function QO(e,t){return qO(e,t,!0)}class $O{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){window&&cE().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}}if(cE().get("IS_BROWSER")){cE().setPlatform("browser",new $O);try{GO.registerManager(BO.URL_SCHEME,new VO)}catch(S5){}try{GO.registerManager(IO.URL_SCHEME,new TO)}catch(S5){}}const ZO=()=>n(5410);let JO;class eR{constructor(){this.util=n(8628),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=cE().global.fetch?cE().global.fetch(e,t):(null==JO&&(JO=ZO()),JO(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}function tR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",nE(e),new gT(e,t,n)}cE().get("IS_NODE")&&!cE().get("IS_BROWSER")&&cE().setPlatform("node",new eR);const nR=ZT({cast_:function(e,t){const n=YT(e,"x","cast");if(!jC(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const a={x:n},r={dtype:t};return jT.runKernel(LE,a,r)}});const aR=ZT({clone_:function(e){const t={x:YT(e,"x","clone","string_or_numeric")};return jT.runKernel(N_,t)}});function rR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}zT();vT={buffer:tR,cast:nR,clone:aR,print:rR};function oR(e){return new Promise((e=>setTimeout(e))).then(e)}class iR{constructor(e){if(!cE().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(iR.URL_SCHEME)&&(e=e.slice(iR.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=dO(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),a=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),r=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(r.download=this.modelJsonFileName,r.href=a,await oR((()=>r.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await oR((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:fO(e)}}}}iR.URL_SCHEME="downloads://";class sR{constructor(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const a=JSON.parse(n.target.result),r=a.modelTopology;if(null==r)return void t(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));if(null==a.weightsManifest)return void t(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));if(0===this.weightsFiles.length)return void e({modelTopology:r});const o=hO(a,(e=>this.loadWeights(e)));e(o)},n.onerror=e=>t("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const o of e)t.push(...o.weights),n.push(...o.paths);const a=this.checkManifestAndWeightFiles(e),r=n.map((e=>this.loadWeightsFile(e,a[e])));return Promise.all(r).then((e=>[t,cO(e)]))}loadWeightsFile(e,t){return new Promise(((n,a)=>{const r=new FileReader;r.onload=e=>{const t=e.target.result;n(t)},r.onerror=t=>a("Failed to weights data from file of path '".concat(e,"'.")),r.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>uO(e.name))),a={};for(const r of e)r.paths.forEach((e=>{const r=uO(e);if(-1!==t.indexOf(r))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(r,"'"));if(t.push(r),-1===n.indexOf(r))throw new Error("Weight file with basename '".concat(r,"' is not provided."));a[e]=this.weightsFiles[n.indexOf(r)]}));if(t.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(t.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}function lR(e){return new sR(e)}function cR(e,t,n,a){!function(e){xC(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){xC(e>=0&&e<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e))),xC(t>=0&&t<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t))),xC(t>=e,(()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)))}(n=null==n?0:n,a=null==a?1:a);let r=0;return Promise.all(e.map((o=>(o.then((o=>{const i=n+ ++r/e.length*(a-n);return t(i),o})),o))))}async function uR(e,t){null==t&&(t={});const n=null==t.fetchFunc?cE().platform.fetch:t.fetchFunc,a=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),r=(null==t.onProgress?await Promise.all(a):await cR(a,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(r):await cR(r,t.onProgress,.5,1)}async function dR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return pR((e=>uR(e,{requestInit:a})))(e,t,n)}function pR(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;const r=t.map((()=>!1)),o={},i=null!=a?a.map((()=>!1)):[],s=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,c=nO[l]*CC(e.shape),u=()=>{r[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=a?a.forEach(((t,n)=>{t===e.name&&(u(),i[n]=!0)})):u(),s.push(e.name),n+=c}))})),!i.every((e=>e))){const e=a.filter(((e,t)=>!i[t]));throw new Error("Could not find weights in manifest with names: "+"".concat(e.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(s.join(", "),"."))}const l=r.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),c=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));const u=await e(c),d={};let p=0;return l.forEach((e=>{const n=t[e].paths.length;let a=0;for(let t=0;t<n;t++)a+=u[p+t].byteLength;const r=new ArrayBuffer(a),i=new Uint8Array(r);let s=0;for(let t=0;t<n;t++){const e=new Uint8Array(u[p+t]);i.set(e,s),s+=e.byteLength}o[e].forEach((e=>{const t=oO(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),p+=n})),d}}yO.registerSaveRouter((e=>cE().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(iR.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new iR(e)}(e.slice(iR.URL_SCHEME.length)):null));class hR{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(xC("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=cE().platform.fetch,xC(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&xC(2===e.length,(()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,")."))),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=dO(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const a=await this.fetch(this.path,t);if(a.ok)return{modelArtifactsInfo:fO(e),responses:[a]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(a.status,"."))}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let t;try{t=await e.json()}catch(k5){let t="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,a=t.weightsManifest;if(null==n&&null==a)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return hO(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,a]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),a=e.substring(0,t),r=n>t?e.substring(n):"";return[a+"/",r]}(t),r=this.weightPathPrefix||n,o=mO(e),i=[],s=[];for(const l of e)for(const e of l.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):i.push(r+e+a);this.weightUrlConverter&&i.push(...await Promise.all(s));return[o,cO(await uR(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function fR(e){return null!=e.match(hR.URL_SCHEME_REGEX)}hR.URL_SCHEME_REGEX=/^https?:\/\//;const mR=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>fR(e))):fR(e),n)return gR(e,t)}return null};function gR(e,t){return new hR(e,t)}function yR(e,t){return gR(e,t)}yO.registerSaveRouter(mR),yO.registerLoadRouter(mR);class vR{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class bR{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class xR{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function wR(e,t,n,a){return new xR(kR(...arguments))}function kR(e,t,n,a){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new vR(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new vR({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new vR({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:a})}function SR(e){return new bR(e)}function CR(e){return new bR(e)}const ER=ZT({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=YT(e,"a","matMul"),o=YT(t,"b","matMul");[r,o]=OT(r,o);const i={a:r,b:o},s={transposeA:n,transposeB:a};return jT.runKernel(AE,i,s)}});const _R=ZT({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));const o={indices:YT(e,"indices","oneHot","int32")},i={dtype:r,depth:t,onValue:n,offValue:a};return jT.runKernel(fI,o,i)}});function IR(){cE().set("PROD",!0)}function NR(){cE().set("DEBUG",!0)}function TR(){cE().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function OR(e){cE().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function RR(){jT.disposeVariables()}function AR(){return jT}function PR(){return jT.memory()}function FR(e){return jT.profile(e)}function DR(e,t){return jT.tidy(e,t)}function MR(e){PT(e).forEach((e=>e.dispose()))}function LR(e){return jT.keep(e)}function zR(e){return jT.time(e)}function jR(e){return jT.setBackend(e)}function BR(){return jT.ready()}function WR(){return jT.backendName}function VR(e){jT.removeBackend(e)}function UR(e){return jT.findBackend(e)}function GR(e){return jT.findBackendFactory(e)}function HR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return jT.registerBackend(e,t,n)}function qR(){return jT.backend}function XR(e,t){cE().setPlatform(e,t)}!function(e){bT=e}(OR);const KR=ZT({imag_:function(e){const t={input:YT(e,"input","imag")};return jT.runKernel(O_,t)}});const YR=ZT({neg_:function(e){const t={x:YT(e,"x","neg")};return jT.runKernel(lI,t)}});const QR=ZT({real_:function(e){const t={input:YT(e,"input","real")};return jT.runKernel(CI,t)}});const $R=ZT({transpose_:function(e,t,n){const a=YT(e,"x","transpose");if(null==t&&(t=a.shape.map(((e,t)=>t)).reverse()),xC(a.rank===t.length,(()=>"Error in transpose: rank of input ".concat(a.rank," ")+"must match length of perm ".concat(t,"."))),t.forEach((e=>{xC(e>=0&&e<a.rank,(()=>"All entries in 'perm' must be between 0 and ".concat(a.rank-1)+" but got ".concat(t)))})),a.rank<=1)return a.clone();const r={x:a},o={perm:t};return"complex64"===a.dtype?DR((()=>{let e=QR(a),t=KR(a);return e=jT.runKernel(fN,{x:e},o),t=jT.runKernel(fN,{x:t},o),n&&(t=YR(t)),JT(e,t)})):jT.runKernel(fN,r,o)}});const ZR=ZT({confusionMatrix_:function(e,t,n){const a=YT(e,"labels","confusionMatrix"),r=YT(t,"predictions","confusionMatrix");xC(null==n||n>0&&Number.isInteger(n),(()=>"If provided, numClasses must be a positive integer, "+"but got ".concat(n))),xC(1===a.rank,(()=>"Expected the rank of labels to be 1, but got ".concat(a.rank))),xC(1===r.rank,(()=>"Expected the rank of predictions to be 1, "+"but got ".concat(r.rank))),xC(a.shape[0]===r.shape[0],(()=>"Mismatch in the number of examples: "+"".concat(a.shape[0]," vs. ").concat(r.shape[0],". ")+"Labels and predictions should have the same number of elements.")),xC(n>0&&Number.isInteger(n),(()=>"numClasses is required to be a positive integer, but got "+"".concat(n)));const o=_R(nR(a,"int32"),n),i=_R(nR(r,"int32"),n),s=$R(o),l=ER(s,i);return nR(l,"int32")}});function JR(e,t){const n=e.length,a=[];for(let r=0;r<n;r++){const o=n-1-r,i=e[o]||1;(t[t.length-1-r]||1)>1&&1===i&&a.unshift(o)}return a}function eA(e,t){const n=[];for(let a=0;a<t.length;a++){const r=e[e.length-a-1],o=t.length-a-1,i=t[o];(null==r||1===r&&i>1)&&n.unshift(o)}return n}function tA(e,t){const n=[],a=Math.max(e.length,t.length);for(let r=0;r<a;r++){let a=e[e.length-r-1];null==a&&(a=1);let o=t[t.length-r-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o){const n="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(n)}n.unshift(a)}}return n}function nA(e,t,n){if(kC(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const a=qT(e,n);if(3!==a.length&&1!==a.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return eO(e,t,a,n)}let aA;function rA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,a=!1,r=!1,o=!1,i=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)a=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)r=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(null!=ON(wN,jT.backendName)){const n={pixels:e},a={numChannels:t};return jT.runKernel(wN,n,a)}const[l,c]=r?[e.videoWidth,e.videoHeight]:[e.width,e.height];let u,d;if(i)u=e.getContext("2d").getImageData(0,0,l,c).data;else if(a||n)u=e.data;else if(o||r||s){if(null==aA)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");aA=new OffscreenCanvas(1,1).getContext("2d")}else aA=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});aA.canvas.width=l,aA.canvas.height=c,aA.drawImage(e,0,0,l,c),u=aA.getImageData(0,0,l,c).data}if(4===t)d=new Int32Array(u);else{const e=l*c;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=u[4*n+e]}return nA(d,[c,l,t],"int32")}function oA(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function iA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=null;if(cE().getBool("WRAP_TO_IMAGEBITMAP")&&oA(e)){let t;try{t=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(k5){t=null}n=null!=t&&t.width===e.width&&t.height===e.height?t:e}else n=e;return rA(n,t)}async function sA(e,t){let n=YT(e,"img","toPixels");if(!(e instanceof xT)){const e=n;n=nR(e,"int32"),e.dispose()}if(2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(n.rank,"."));const[a,r]=n.shape.slice(0,2),o=2===n.rank?1:n.shape[2];if(o>4||2===o)throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(o));if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error("Unsupported type for toPixels: ".concat(n.dtype,".")+" Please use float32 or int32 tensors.");const i=await n.data(),s="float32"===n.dtype?255:1,l=new Uint8ClampedArray(r*a*4);for(let c=0;c<a*r;++c){const e=[0,0,0,255];for(let a=0;a<o;a++){const t=i[c*o+a];if("float32"===n.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===n.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===o?(e[0]=t*s,e[1]=t*s,e[2]=t*s):e[a]=t*s}const t=4*c;l[t+0]=Math.round(e[0]),l[t+1]=Math.round(e[1]),l[t+2]=Math.round(e[2]),l[t+3]=Math.round(e[3])}if(null!=t){t.width=r,t.height=a;const e=t.getContext("2d"),n=new ImageData(l,r,a);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const lA=ZT({fromPixels_:rA});function cA(e,t){const n=e.shape.length,a=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(a<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(a,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[a-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[a-1]," vs. ").concat(n));if(0===CC(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));const r=t.shape,o=r[r.length-1];let i=1;for(let d=0;d<r.length-1;++d)i*=r[d];const s=e.shape,l=r.slice();l.pop();let c=1;for(let d=o;d<n;++d)c*=s[d],l.push(s[d]);const u=[...QC(e.shape).map((e=>e/c)),1].slice(0,o);return[l,i,c,u]}function uA(e,t,n){const a=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(a,", and batchDim: ").concat(r,".");if(n.rank<r)throw new Error(o+" update.rank < ".concat(r,". "));if(e.length<a+(n.rank-r))throw new Error(o+" Output shape length < ".concat(a+(n.rank-r)));if(n.rank!==r+e.length-a)throw new Error(o+" update.rank != ".concat(r+e.length-a));for(let i=0;i<r;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+" updates.shape[".concat(i,"] (").concat(n.shape[i],") != indices.shape[").concat(i,"] (").concat(t.shape[i],")."));for(let i=0;i<n.rank-r;++i)if(n.shape[i+r]!==e[i+a])throw new Error(o+" updates.shape[".concat(i+r,"] (").concat(n.shape[i+r],") != shape[").concat(i+r,"] (").concat(e[i+r],")"))}function dA(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}uA(n,t,e)}function pA(e,t,n){const a=t.shape.length,r=a>1?t.shape[a-1]:1,o=n.length;let i=1;for(let l=r;l<o;++l)i*=n[l];const s=r<1?1:r;return{sliceRank:r,numUpdates:CC(t.shape)/s,sliceSize:i,strides:[...QC(n.slice(0,r)),1],outputSize:CC(n)}}const hA=-2,fA=-1;function mA(e,t,n){const a=e.shape.length;xC(a===t.length,(()=>"Error in slice".concat(a,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(a,")."))),xC(a===n.length,(()=>"Error in slice".concat(a,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(a,").")));for(let r=0;r<a;++r)xC(t[r]+n[r]<=e.shape[r],(()=>"Error in slice".concat(a,"D: begin[").concat(r,"] + size[").concat(r,"] ")+"(".concat(t[r]+n[r],") would overflow input.shape[").concat(r,"] (").concat(e.shape[r],")")))}function gA(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function yA(e,t,n){const a=[];for(let r=0;r<e.length;r++)a[r]=Math.ceil((t[r]-e[r])/n[r]);return a}function vA(e,t,n,a){const r=[...e];for(let o=r.length;o<a.length;o++)r.push(1);for(let o=0;o<n;o++)0===o?r[t]=1:(r.splice(t,0,1),r.pop());return r}function bA(e,t,n){return n<=e?n:n-(t-1)}function xA(e,t){const n=[];for(let a=0;a<e;a++)n.push(t+a);return n}function wA(e,t,n,a,r,o,i,s,l){const c=e.length;let u=new Array(c),d=new Array(c),p=new Array(c);if(t.length&&n>0){const l=t[0],c=n+1;u=kA(i,l,c,a,e),d=SA(s,l,c,r,e),p=vA(o,l,c,e)}else for(let h=0;h<c;h++)u[h]=EA(i,a,o,e,h,l),d[h]=_A(s,r,o,e,h,l),p[h]=CA(o,h,l);return{begin:u,end:d,strides:p}}function kA(e,t,n,a,r){const o=[...r],i=xA(n,t);for(let s=0;s<o.length;s++)if(i.indexOf(s)>-1)o[s]=0;else{const r=bA(t,n,s);let i=a[r];e&1<<r&&(i=0),o[s]=i}return o}function SA(e,t,n,a,r){const o=[...r],i=xA(n,t);for(let s=0;s<o.length;s++)if(i.indexOf(s)>-1)o[s]=Number.MAX_SAFE_INTEGER;else{const r=bA(t,n,s);let i=a[r];e&1<<r&&(i=Number.MAX_SAFE_INTEGER),o[s]=i}for(let s=0;s<o.length;s++){const e=r[s];o[s]<0&&(o[s]+=e),o[s]=fC(0,o[s],r[s])}return o}function CA(e,t,n){let a=e[t];return(n&1<<t||null==a)&&(a=1),a}function EA(e,t,n,a,r,o){let i=t[r];const s=n[r]||1;(e&1<<r||o&1<<r||null==i)&&(i=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=a[r];return i<0&&(i+=l),i=fC(0,i,l-1),i}function _A(e,t,n,a,r,o){let i=t[r];const s=n[r]||1;(e&1<<r||o&1<<r||null==i)&&(i=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=a[r];return i<0&&(i+=l),i=s>0?fC(0,i,l):fC(-1,i,l-1),i}function IA(e,t,n){let a=n.length;for(let r=0;r<n.length;r++)if(n[r]>1){a=r;break}for(let r=a+1;r<n.length;r++)if(t[r]>0||n[r]!==e[r])return!1;return!0}function NA(e,t){let n=e.length>0?e[e.length-1]:1;for(let a=0;a<e.length-1;a++)n+=e[a]*t[a];return n}function TA(e,t,n){let a;const r=e.shape.length;let o;return a="number"===typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),a.forEach((e=>{xC(-1!==e,(()=>"slice() does not support negative begin indexing."))})),o=null==n?new Array(r).fill(-1):"number"===typeof n?[n,...new Array(r-1).fill(-1)]:n.length<r?n.concat(new Array(r-n.length).fill(-1)):n,o=o.map(((t,n)=>t>=0?t:(xC(-1===t,(()=>"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,"."))),e.shape[n]-a[n]))),[a,o]}function OA(e,t,n,a,r,o,i,s,l){let c;if(null==a?(c=new Array(t.length),c.fill(1)):c=a,null!=i&&0!==(i&i-1))throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:r,endMask:o,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};for(let b=0;b<d.dims;b++)u&&0!==(1<<b&s)&&d.numAddAxisAfterEllipsis++,1<<b&i&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let a=0;a<e.dims;a++)if(1<<a&e.ellipsisMask){const r=Math.min(t.dims-(e.dims-a)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<r;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=a}else if(1<<a&e.newAxisMask)t.finalShapeGatherIndices.push(hA),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[a]),null!=e.end&&(t.end[n]=e.end[a]),t.strides[n]=e.strides[a],e.beginMask&1<<a&&(t.beginMask|=1<<n),e.endMask&1<<a&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<a?(t.finalShapeGatherIndices.push(fA),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(a)),t.inputShapeGatherIndicesSparse[n]=a,n++}}(d,p);let h=!0,f=!0,m=!0;const g=[],y=[];for(let b=0;b<e.length;++b){if(0===p.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));const t=!!(p.shrinkAxisMask&1<<b),n=e[b];if(-1===n){g.push(t?1:-1);continue}const a=[p.beginMask&1<<b,p.endMask&1<<b],r=[p.strides[b]>0?0:-1,p.strides[b]>0?n:n-1];if(t&&p.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[b];const o=!!(p.beginMask&1<<b&&p.endMask&1<<b);if(p.beginValid&&p.endValid){if(t){const e=p.begin[b]<0?n+p.begin[b]:p.begin[b];if(p.begin[b]=e,p.end[b]=p.begin[b]+1,e<0||e>=n)throw Error("slice index ".concat(p.begin[b]," of dimension ").concat(b," out of bounds."))}else p.begin[b]=RA(p.begin[b],0,p.strides[b],n,a,r),p.end[b]=RA(p.end[b],1,p.strides[b],n,a,r);const e=1===p.strides[b]&&0===p.begin[b]&&p.end[b]===n;h=h&&e,f=f&&(0===b&&1===p.strides[b]||e)}else h=h&&1===p.strides[b]&&o,f=f&&(0===b&&1===p.strides[b]||o);let i,s=!1;if(p.beginValid&&p.endValid?(i=p.end[b]-p.begin[b],s=!0):t?(i=1,s=!0):o&&n>=0&&(i=p.strides[b]<0?-n:n,s=!0),s){let e;e=0===i||i<0!==p.strides[b]<0?0:Math.trunc(i/p.strides[b])+(i%p.strides[b]!==0?1:0),g.push(e)}else g.push(-1)}for(let b=0;b<p.finalShapeGatherIndices.length;++b){const e=p.finalShapeGatherIndices[b];e>=0?y.push(g[e]):e===hA&&y.push(1)}const v=y.filter(((e,t)=>p.finalShapeGatherIndices[t]!==hA));return{finalShapeSparse:v,finalShape:y,isIdentity:h,sliceDim0:f,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function RA(e,t,n,a,r,o){if(r[t])return n>0?o[t]:o[t+1&1];{const t=e<0?a+e:e;return t<o[0]?o[0]:t>o[1]?o[1]:t}}class AA{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class PA{constructor(){this.classNameMap={}}static getMap(){return null==PA.instance&&(PA.instance=new PA),PA.instance}static register(e){PA.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function FA(e){xC(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),xC("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),xC(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),PA.register(e)}const DA=.001,MA=.1;function LA(e,t,n){return null==n&&(n=zA()),jA(e,t,((e,t)=>UA(e,t,n)))}function zA(){return 32===jT.backend.floatPrecision()?DA:MA}function jA(e,t,n){let a=!0;if((WC(e)||WC(t))&&(a=!1),WC(e)&&WC(t)&&(a=!0),a){const n=e.constructor.name,a=t.constructor.name;if(n!==a)throw new Error("Arrays are of different type. Actual: ".concat(n,". ")+"Expected: ".concat(a))}if(Array.isArray(e)&&Array.isArray(t)){const n=qT(e),a=qT(t);if(!_C(n,a))throw new Error("Arrays have different shapes. "+"Actual: [".concat(n,"]. Expected: [").concat(a,"]"))}const r=WC(e)?e:SC(e),o=WC(t)?t:SC(t);if(r.length!==o.length)throw new Error("Arrays have different lengths actual: ".concat(r.length," vs ")+"expected: ".concat(o.length,".\n")+"Actual:   ".concat(r,".\n")+"Expected: ".concat(o,"."));for(let i=0;i<o.length;++i){const e=r[i],t=o[i];if(!n(e,t))throw new Error("Arrays differ: actual[".concat(i,"] = ").concat(e,", expected[").concat(i,"] = ").concat(t,".\n")+"Actual:   ".concat(r,".\n")+"Expected: ".concat(o,"."))}"undefined"!==typeof expect&&expect().nothing()}function BA(e,t){e().then((()=>t.fail()),(()=>t())),"undefined"!==typeof expect&&expect().nothing()}function WA(e,t){const n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return GC(e)||GC(e[0])||GC(t)||GC(t[0])?jA(e,n,((e,t)=>e==t)):jA(e,t,((e,t)=>UA(e,t,0)))}function VA(e,t,n){if(null==n&&(n=zA()),!UA(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t));"undefined"!==typeof expect&&expect().nothing()}function UA(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function GA(e,t,n){for(let a=0;a<e.length;a++)if(e[a]<t||e[a]>n)throw new Error("Value out of range:".concat(e[a]," low: ").concat(t,", high: ").concat(n))}function HA(e,t){const n=new Float32Array(e),a=new Float32Array(t);if(n.length!==a.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(a.length,", but it was ").concat(n.length));for(let r=0;r<a.length;r++)if(n[r]!==a[r])throw new Error("Expected ArrayBuffer value at ".concat(r," to be ")+"".concat(a[r]," but got ").concat(n[r]," instead"))}function qA(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?qA(n):e[t]=aT(n)}return e}function XA(e){const t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise((e=>{t.addEventListener("loadeddata",(n=>e(t))),t.load()}))}async function KA(e){await e.play(),"requestVideoFrameCallback"in e&&await new Promise((t=>{e.requestVideoFrameCallback(t)}))}const YA="3.21.0";const QA=ZT({add_:function(e,t){let n=YT(e,"a","add"),a=YT(t,"b","add");[n,a]=OT(n,a);const r={a:n,b:a};return jT.runKernel(yE,r)}});const $A=ZT({floorDiv_:function(e,t){let n=YT(e,"a","floorDiv"),a=YT(t,"b","floorDiv");[n,a]=OT(n,a);const r={a:n,b:a};return jT.runKernel(k_,r)}});const ZA=ZT({div_:function(e,t){let n=YT(e,"a","div"),a=YT(t,"b","div");if([n,a]=OT(n,a),"int32"===n.dtype&&"int32"===a.dtype)return $A(n,a);const r={a:n,b:a};return jT.runKernel(c_,r,{})}});const JA=ZT({mul_:function(e,t){let n=YT(e,"a","mul"),a=YT(t,"b","mul");[n,a]=OT(n,a);const r={a:n,b:a};return jT.runKernel(sI,r)}});const eP=ZT({sqrt_:function(e){const t={x:YT(e,"x","sqrt","float32")};return jT.runKernel(qI,t)}});const tP=ZT({square_:function(e){const t=YT(e,"x","square");return jT.runKernel("Square",{x:t},{})}});const nP=ZT({zerosLike_:function(e){const t={x:YT(e,"x","zerosLike")};return jT.runKernel(bN,t)}});function aP(e){return xC(KC(e),(()=>"The f passed in grad(f) must be a function")),(t,n)=>{const a=YT(t,"x","tf.grad","string_or_numeric"),r=null!=n?YT(n,"dy","tf.grad"):null;return jT.tidy((()=>{const{value:t,grads:n}=jT.gradients((()=>e(a)),[a],r);return null!=r&&wC(t.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),cP(n),n[0]}))}}function rP(e){return xC(KC(e),(()=>"The f passed in grads(f) must be a function")),(t,n)=>{xC(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const a=QT(t,"args","tf.grads","string_or_numeric"),r=null!=n?YT(n,"dy","tf.grads"):null;return jT.tidy((()=>{const{value:t,grads:n}=jT.gradients((()=>e(...a)),a,r);return null!=r&&wC(t.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),cP(n),n}))}}function oP(e){return xC(KC(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,n)=>{xC(t instanceof xT,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),xC(null==n||n instanceof xT,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:a,value:r}=jT.gradients((()=>e(t)),[t],n);return cP(a),{grad:a[0],value:r}}}function iP(e){return xC(KC(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,n)=>{xC(Array.isArray(t)&&t.every((e=>e instanceof xT)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),xC(null==n||n instanceof xT,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const a=jT.gradients((()=>e(...t)),t,n);return null!=n&&wC(a.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),cP(a.grads),a}}function sP(e,t){xC(KC(e),(()=>"The f passed in variableGrads(f) must be a function")),xC(null==t||Array.isArray(t)&&t.every((e=>e instanceof wT)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in jT.registeredVariables)t.push(jT.registeredVariables[e])}const a=n?t.filter((e=>!e.trainable)):null,r=t.length;t=t.filter((e=>e.trainable)),xC(t.length>0,(()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(r," variables is ")+"trainable."));const{value:o,grads:i}=jT.gradients(e,t,null,!0);xC(i.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),xC(0===o.rank,(()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(o.rank," tensor")));const s={};return t.forEach(((e,t)=>{null!=i[t]&&(s[e.name]=i[t])})),null!=a&&a.forEach((e=>s[e.name]=null)),{value:o,grads:s}}function lP(e){return jT.customGrad(e)}function cP(e){const t=e.filter((e=>null==e)).length;if(t>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}function uP(e,t){if((WC(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&WC(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return eO(e,[],[],t)}class dP extends AA{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:a,grads:r}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:r[e.name]})));this.applyGradients(e)}else this.applyGradients(r);return MR(r),t?a:(a.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return sP(e,t)}dispose(){null!=this.iterations_&&MR(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:uP(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(dP,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class pP extends dP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=jT.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=jT.registeredVariables[t];null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:"".concat(t,"/accum_grad"),variable:DR((()=>nP(a).variable(false)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:"".concat(t,"/accum_var"),variable:DR((()=>nP(a).variable(false)))});const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const o=this.accumulatedGrads[n].variable,i=this.accumulatedUpdates[n].variable;DR((()=>{const e=QA(JA(o,this.rho),JA(tP(r),1-this.rho)),t=JA(ZA(eP(QA(i,this.epsilon)),eP(QA(o,this.epsilon))),r),n=QA(JA(i,this.rho),JA(tP(t),1-this.rho));o.assign(e),i.assign(n);const s=QA(JA(t,-this.learningRate),a);a.assign(s)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(MR(this.accumulatedGrads.map((e=>e.variable))),MR(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function hP(e,t,n){const a={shape:e,value:t,dtype:n};return jT.runKernel(b_,{},a)}pP.className="Adadelta",FA(pP);class fP extends dP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=jT.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:"".concat(t,"/accumulator"),variable:DR((()=>hP(a.shape,this.initialAccumulatorValue).variable(e)))}}const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const o=this.accumulatedGrads[n].variable;DR((()=>{const e=QA(o,tP(r));o.assign(e);const t=QA(JA(ZA(r,eP(QA(e,jT.backend.epsilon()))),-this.learningRate),a);a.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&MR(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}fP.className="Adagrad",FA(fP);const mP=ZT({pow_:function(e,t){let n=YT(e,"base","pow"),a=YT(t,"exp","pow");[n,a]=OT(n,a);const r={a:n,b:a};return jT.runKernel(vI,r)}});const gP=ZT({sub_:function(e,t){let n=YT(e,"a","sub"),a=YT(t,"b","sub");[n,a]=OT(n,a);const r={a:n,b:a};return jT.runKernel(lN,r)}});class yP extends dP{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],DR((()=>{this.accBeta1=uP(t).variable(),this.accBeta2=uP(n).variable()})),null==a&&(this.epsilon=jT.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);DR((()=>{const n=gP(1,this.accBeta1),a=gP(1,this.accBeta2);t.forEach(((t,r)=>{const o=jT.registeredVariables[t];null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:"".concat(t,"/m"),variable:DR((()=>nP(o).variable(false)))}),null==this.accumulatedSecondMoment[r]&&(this.accumulatedSecondMoment[r]={originalName:"".concat(t,"/v"),variable:DR((()=>nP(o).variable(false)))});const i=Array.isArray(e)?e[r].tensor:e[t];if(null==i)return;const s=this.accumulatedFirstMoment[r].variable,l=this.accumulatedSecondMoment[r].variable,c=QA(JA(s,this.beta1),JA(i,1-this.beta1)),u=QA(JA(l,this.beta2),JA(tP(i),1-this.beta2)),d=ZA(c,n),p=ZA(u,a);s.assign(c),l.assign(u);const h=QA(JA(ZA(d,QA(eP(p),this.epsilon)),-this.learningRate),o);o.assign(h)})),this.accBeta1.assign(JA(this.accBeta1,this.beta1)),this.accBeta2.assign(JA(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&MR(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&MR(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),DR((()=>{this.accBeta1.assign(mP(this.beta1,this.iterations_+1)),this.accBeta2.assign(mP(this.beta2,this.iterations_+1))}));const t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}yP.className="Adam",FA(yP);const vP=ZT({abs_:function(e){const t=YT(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return jT.runKernel(WE,e)}{const e={x:t};return jT.runKernel(fE,e)}}});const bP=ZT({maximum_:function(e,t){let n=YT(e,"a","maximum"),a=YT(t,"b","maximum");[n,a]=OT(n,a),"bool"===n.dtype&&(n=nR(n,"int32"),a=nR(a,"int32")),tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(Y_,r)}});class xP extends dP{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=a,this.decay=r,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],DR((()=>{this.iteration=uP(0).variable(),this.accBeta1=uP(t).variable()})),null==a&&(this.epsilon=jT.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);DR((()=>{const n=gP(1,this.accBeta1),a=ZA(-this.learningRate,QA(JA(this.iteration,this.decay),1));t.forEach(((t,r)=>{const o=jT.registeredVariables[t];null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:"".concat(t,"/m"),variable:nP(o).variable(false)}),null==this.accumulatedWeightedInfNorm[r]&&(this.accumulatedWeightedInfNorm[r]={originalName:"".concat(t,"/v"),variable:nP(o).variable(false)});const i=Array.isArray(e)?e[r].tensor:e[t];if(null==i)return;const s=this.accumulatedFirstMoment[r].variable,l=this.accumulatedWeightedInfNorm[r].variable,c=QA(JA(s,this.beta1),JA(i,1-this.beta1)),u=JA(l,this.beta2),d=vP(i),p=bP(u,d);s.assign(c),l.assign(p);const h=QA(JA(ZA(a,n),ZA(c,QA(p,this.epsilon))),o);o.assign(h)})),this.iteration.assign(QA(this.iteration,1)),this.accBeta1.assign(JA(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&MR(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&MR(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}xP.className="Adamax",FA(xP);class wP extends dP{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);t.forEach(((t,n)=>{const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const r=jT.registeredVariables[t];DR((()=>{const e=QA(JA(this.c,a),r);r.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=LR(uP(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}wP.className="SGD",FA(wP);class kP extends wP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=uP(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=jT.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:"".concat(t,"/momentum"),variable:DR((()=>nP(a).variable(e)))}}const r=this.accumulations[n].variable,o=Array.isArray(e)?e[n].tensor:e[t];null!=o&&DR((()=>{let e;const t=QA(JA(this.m,r),o);e=this.useNesterov?QA(JA(this.c,QA(o,JA(t,this.m))),a):QA(JA(this.c,t),a),r.assign(t),a.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&MR(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}kP.className="Momentum",FA(kP);class SP extends dP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=r,null==a&&(this.epsilon=jT.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=jT.registeredVariables[t],r=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:"".concat(t,"/rms"),variable:DR((()=>nP(a).variable(r)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:"".concat(t,"/momentum"),variable:DR((()=>nP(a).variable(r)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:"".concat(t,"/mg"),variable:DR((()=>nP(a).variable(r)))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const i=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;DR((()=>{const e=QA(JA(i,this.decay),JA(tP(o),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,r=QA(JA(t,this.decay),JA(o,1-this.decay)),l=ZA(JA(o,this.learningRate),eP(gP(e,QA(tP(r),this.epsilon)))),c=QA(JA(s,this.momentum),l);i.assign(e),t.assign(r),s.assign(c);const u=gP(a,c);a.assign(u)}else{const e=QA(JA(i,this.decay),JA(tP(o),1-this.decay)),t=QA(JA(s,this.momentum),ZA(JA(o,this.learningRate),eP(QA(e,this.epsilon))));i.assign(e),s.assign(t);const n=gP(a,t);a.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&MR(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&MR(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&MR(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}SP.className="RMSProp",FA(SP);class CP{static sgd(e){return new wP(e)}static momentum(e,t){return new kP(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static rmsprop(e){return new SP(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}static adam(){return new yP(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}static adadelta(){return new pP(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}static adamax(){return new xP(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}static adagrad(e){return new fP(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}}const EP=ZT({acos_:function(e){const t={x:YT(e,"x","acos")};return jT.runKernel(mE,t)}});const _P=ZT({acosh_:function(e){const t={x:YT(e,"x","acosh")};return jT.runKernel(gE,t)}});const IP=ZT({addN_:function(e){xC(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),xC(e.length>=1,(()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)));const t=e.map(((e,t)=>YT(e,"tensors".concat(t),"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!_C(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const a=t;return jT.runKernel(vE,a)}});const NP=ZT({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:YT(e,"x","all","bool")},r={axis:t,keepDims:n};return jT.runKernel(bE,a,r)}});const TP=ZT({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:YT(e,"x","any","bool")},r={axis:t,keepDims:n};return jT.runKernel(xE,a,r)}});const OP=ZT({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:YT(e,"x","argMax")},a={axis:t};return jT.runKernel(wE,n,a)}});const RP=ZT({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:YT(e,"x","argMin")},a={axis:t};return jT.runKernel(kE,n,a)}});const AP=ZT({asin_:function(e){const t={x:YT(e,"x","asin")};return jT.runKernel(SE,t)}});const PP=ZT({asinh_:function(e){const t={x:YT(e,"x","asinh")};return jT.runKernel(CE,t)}});const FP=ZT({atan_:function(e){const t={x:YT(e,"x","atan")};return jT.runKernel(EE,t)}});const DP=ZT({atan2_:function(e,t){let n=YT(e,"a","atan2"),a=YT(t,"b","atan2");[n,a]=OT(n,a);const r={a:n,b:a};return jT.runKernel(IE,r)}});const MP=ZT({atanh_:function(e){const t={x:YT(e,"x","atanh")};return jT.runKernel(_E,t)}});function LP(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0;return BP(e,[...t,e[3]],n,o,a,null,null,YP(r))}function zP(e,t,n,a,r,o){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[s,l]=UP(t);let c;if("channelsLast"===i)c=[s,l,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));c=[s,l,e[1],e[1]]}return BP(e,c,n,a,r,o,!1,i)}function jP(e,t,n,a,r,o){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[s,l,c]=GP(t);let u,d;if("NDHWC"===i)d="channelsLast",u=[s,l,c,e[4],e[4]];else{if("NCDHW"!==i)throw new Error("Unknown dataFormat ".concat(i));d="channelsFirst",u=[s,l,c,e[1],e[1]]}return WP(e,u,n,a,r,!1,d,o)}function BP(e,t,n,a,r,o){let i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,c,u,d]=[-1,-1,-1,-1];if("channelsLast"===s)[l,c,u,d]=e;else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));[l,d,c,u]=e}const[p,h,,f]=t,[m,g]=UP(n),[y,v]=UP(a),b=HP(p,y),x=HP(h,v),{padInfo:w,outHeight:k,outWidth:S}=function(e,t,n,a,r,o,i,s,l){let c,u,d;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const r=function(e,t,n,a,r){null==a&&(a=VP(e,t,n));const o=e[0],i=e[1],s=qP((o-t+2*a)/n+1,r),l=qP((i-t+2*a)/n+1,r);return[s,l]}([t,n],o,a,e,s);u=r[0],d=r[1]}else if("same"===e){u=Math.ceil(t/a),d=Math.ceil(n/r);const e=Math.max(0,(u-1)*a+o-t),s=Math.max(0,(d-1)*r+i-n),l=Math.floor(e/2),p=e-l,h=Math.floor(s/2);c={top:l,bottom:p,left:h,right:s-h,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-o+1)/a),d=Math.ceil((n-i+1)/r);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));{const p="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];c={top:p,bottom:h,left:f,right:m,type:0===p&&0===h&&0===f&&0===m?"VALID":"EXPLICIT"},u=qP((t-o+p+h)/a+1,s),d=qP((n-i+f+m)/r+1,s)}}return{padInfo:c,outHeight:u,outWidth:d}}(r,c,u,m,g,b,x,o,s),C=i?f*d:f;let E;return"channelsFirst"===s?E=[l,C,k,S]:"channelsLast"===s&&(E=[l,k,S,C]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:u,inChannels:d,outHeight:k,outWidth:S,outChannels:C,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:x,dilationHeight:y,dilationWidth:v,inShape:e,outShape:E,filterShape:t}}function WP(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,[l,c,u,d,p]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[l,c,u,d,p]=e;else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));[l,p,c,u,d]=e}const[h,f,m,,g]=t,[y,v,b]=GP(n),[x,w,k]=GP(a),S=HP(h,x),C=HP(f,w),E=HP(m,k),{padInfo:_,outDepth:I,outHeight:N,outWidth:T}=function(e,t,n,a,r,o,i,s,l,c,u){let d,p,h,f;if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const o=function(e,t,n,a,r,o){null==r&&(r=VP(e,t,a));const i=e[0],s=e[1],l=e[2],c=qP((i-t+2*r)/a+1,o),u=qP((s-t+2*r)/a+1,o),d=qP((l-t+2*r)/a+1,o);return[c,u,d,n]}([t,n,a,1],s,1,r,e,u);p=o[0],h=o[1],f=o[2]}else if("same"===e){p=Math.ceil(t/r),h=Math.ceil(n/o),f=Math.ceil(a/i);const e=(p-1)*r+s-t,u=(h-1)*o+l-n,m=(f-1)*i+c-a,g=Math.floor(e/2),y=e-g,v=Math.floor(u/2),b=u-v,x=Math.floor(m/2);d={top:v,bottom:b,left:x,right:m-x,front:g,back:y,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/r),h=Math.ceil((n-l+1)/o),f=Math.ceil((a-c+1)/i)}return{padInfo:d,outDepth:p,outHeight:h,outWidth:f}}(r,c,u,d,y,v,b,S,C,E,s),O=o?g*p:g;let R;return"channelsFirst"===i?R=[l,O,I,N,T]:"channelsLast"===i&&(R=[l,I,N,T,O]),{batchSize:l,dataFormat:i,inDepth:c,inHeight:u,inWidth:d,inChannels:p,outDepth:I,outHeight:N,outWidth:T,outChannels:O,padInfo:_,strideDepth:y,strideHeight:v,strideWidth:b,filterDepth:h,filterHeight:f,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:C,effectiveFilterWidth:E,dilationDepth:x,dilationHeight:w,dilationWidth:k,inShape:e,outShape:R,filterShape:t}}function VP(e,t,n){const a=HP(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+a)/2)}function UP(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function GP(e){return"number"===typeof e?[e,e,e]:e}function HP(e,t){return t<=1?e:e+(e-1)*(t-1)}function qP(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function XP(e){const[t,n,a]=UP(e);return 1===t&&1===n&&1===a}function KP(e,t){return XP(e)||XP(t)}function YP(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function QP(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)xC(IC(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((t=>{t.forEach((t=>{xC(IC(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")))}))}))}}}const $P=ZT({reshape_:function(e,t){const n={x:YT(e,"x","reshape","string_or_numeric")},a={shape:t};return jT.runKernel(II,n,a)}});const ZP=ZT({avgPool_:function(e,t,n,a,r){const o=YT(e,"x","avgPool","float32");xC(KP(n,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")));let i=o,s=!1;3===o.rank&&(s=!0,i=$P(o,[1,o.shape[0],o.shape[1],o.shape[2]])),xC(4===i.rank,(()=>"Error in avgPool: x must be rank 4 but got rank ".concat(i.rank,"."))),QP("avgPool",a,r);const l={x:i},c={filterSize:t,strides:n,pad:a,dimRoundingMode:r};let u=jT.runKernel(NE,l,c);return u=nR(u,o.dtype),s?$P(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const JP=ZT({avgPool3d_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const i=YT(e,"x","avgPool3d","float32");let s=i,l=!1;4===i.rank&&(l=!0,s=$P(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),xC(5===s.rank,(()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,"."))),xC("NDHWC"===o,(()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o))),QP("avgPool3d",a,r);const c={x:s},u={filterSize:t,strides:n,pad:a,dimRoundingMode:r,dataFormat:o};let d=jT.runKernel(OE,c,u);return d=nR(d,s.dtype),l?$P(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const eF=ZT({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;xC(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=QT(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return aR(n[0]);const a=n,r={axis:t};return jT.runKernel(VE,a,r)}});const tF=ZT({sigmoid_:function(e){const t={x:YT(e,"x","sigmoid","float32")};return jT.runKernel(GI,t)}});const nF=ZT({slice_:function(e,t,n){const a=YT(e,"x","slice","string_or_numeric");if(0===a.rank)throw new Error("Slicing scalar is not possible");const r={x:a},o={begin:t,size:n};return jT.runKernel(BI,r,o)}});const aF=ZT({tanh_:function(e){const t={x:YT(e,"x","tanh","float32")};return jT.runKernel(uN,t)}});const rF=ZT({basicLSTMCell_:function(e,t,n,a,r,o){const i=YT(e,"forgetBias","basicLSTMCell"),s=YT(t,"lstmKernel","basicLSTMCell"),l=YT(n,"lstmBias","basicLSTMCell"),c=YT(a,"data","basicLSTMCell"),u=YT(r,"c","basicLSTMCell"),d=YT(o,"h","basicLSTMCell"),p=eF([c,d],1),h=ER(p,s),f=QA(h,l),m=f.shape[0],g=f.shape[1]/4,y=[m,g],v=nF(f,[0,0],y),b=nF(f,[0,g],y),x=nF(f,[0,2*g],y),w=nF(f,[0,3*g],y),k=QA(JA(tF(v),aF(b)),JA(u,tF(QA(i,x))));return[k,JA(aF(k),tF(w))]}});const oF=ZT({batchToSpaceND_:function(e,t,n){const a=YT(e,"x","batchToSpaceND"),r=t.reduce(((e,t)=>e*t));xC(a.rank>=1+t.length,(()=>"input rank is ".concat(a.rank," but should be > than blockShape.length ").concat(t.length))),xC(n.length===t.length,(()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length))),xC(a.shape[0]%r===0,(()=>"input tensor batch is ".concat(a.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(r)));const o={x:a},i={blockShape:t,crops:n};return jT.runKernel(PE,o,i)}});const iF=ZT({batchNorm_:function(e,t,n,a,r,o){null==o&&(o=.001);const i=YT(e,"x","batchNorm"),s=YT(t,"mean","batchNorm"),l=YT(n,"variance","batchNorm");let c,u;null!=r&&(c=YT(r,"scale","batchNorm")),null!=a&&(u=YT(a,"offset","batchNorm")),xC(s.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),xC(null==u||s.rank===u.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),xC(null==c||s.rank===c.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d=function(e){let t;return t=0===e.rank||1===e.rank?$P(e,[1,1,1,e.size]):2===e.rank?$P(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?$P(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(i),p={x:d,scale:c,offset:u,mean:s,variance:l},h={varianceEpsilon:o},f=jT.runKernel(S_,p,h);return $P(f,i.shape)}});const sF=ZT({batchNorm2d_:function(e,t,n,a,r,o){const i=YT(e,"x","batchNorm"),s=YT(t,"mean","batchNorm"),l=YT(n,"variance","batchNorm");let c,u;return null!=r&&(c=YT(r,"scale","batchNorm")),null!=a&&(u=YT(a,"offset","batchNorm")),xC(2===i.rank,(()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(i.rank,"."))),xC(2===s.rank||1===s.rank,(()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(s.rank,"."))),xC(2===l.rank||1===l.rank,(()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=c&&xC(2===c.rank||1===c.rank,(()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=u&&xC(2===u.rank||1===u.rank,(()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,"."))),iF(i,s,l,u,c,o)}});const lF=ZT({batchNorm3d_:function(e,t,n,a,r,o){const i=YT(e,"x","batchNorm"),s=YT(t,"mean","batchNorm"),l=YT(n,"variance","batchNorm");let c,u;return null!=r&&(c=YT(r,"scale","batchNorm")),null!=a&&(u=YT(a,"offset","batchNorm")),xC(3===i.rank,(()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(i.rank,"."))),xC(3===s.rank||1===s.rank,(()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(s.rank,"."))),xC(3===l.rank||1===l.rank,(()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=c&&xC(3===c.rank||1===c.rank,(()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=u&&xC(3===u.rank||1===u.rank,(()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,"."))),iF(i,s,l,u,c,o)}});const cF=ZT({batchNorm4d_:function(e,t,n,a,r,o){const i=YT(e,"x","batchNorm"),s=YT(t,"mean","batchNorm"),l=YT(n,"variance","batchNorm");let c,u;return null!=r&&(c=YT(r,"scale","batchNorm")),null!=a&&(u=YT(a,"offset","batchNorm")),xC(4===i.rank,(()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(i.rank,"."))),xC(4===s.rank||1===s.rank,(()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(s.rank,"."))),xC(4===l.rank||1===l.rank,(()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=c&&xC(4===c.rank||1===c.rank,(()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=u&&xC(4===u.rank||1===u.rank,(()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,"."))),iF(i,s,l,u,c,o)}});const uF=ZT({bincount_:function(e,t,n){const a=YT(e,"x","bincount"),r=YT(t,"weights","bincount");xC("int32"===a.dtype,(()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(a.dtype))),xC(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),xC(r.size===a.size||0===r.size,(()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(a.shape,", weights shape: ")+"".concat(r.shape,".")));const o={x:a,weights:r},i={size:n};return jT.runKernel(FE,o,i)}});const dF=ZT({broadcastArgs_:function(e,t){const n=YT(e,"s0","broadcastArgs","int32"),a=YT(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==a.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(a.rank));const r={s0:n,s1:a};return jT.runKernel(ME,r)}});const pF=ZT({broadcastTo_:function(e,t){let n=YT(e,"broadcastTo","x");const a=n.shape;if(t.some((e=>!(e>0)||e%1!==0)))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=$P(n,e)}const r=n.shape,o=Array.from(t);for(let c=t.length-1;c>=0;c--)if(r[c]===t[c])o[c]=1;else if(1!==n.shape[c])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(t,"]."));const i=o.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0));if(0===i.length)return aR(n);const s={x:n},l={reps:o};return jT.runKernel(dN,s,l)}});const hF=ZT({ceil_:function(e){const t={x:YT(e,"x","ceil","float32")};return jT.runKernel(zE,t)}});const fF=ZT({clipByValue_:function(e,t,n){const a=YT(e,"x","clipByValue");if(xC(t<=n,(()=>"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,")."))),t===n)return hP(a.shape,t,a.dtype);const r={x:a},o={clipValueMin:t,clipValueMax:n};return jT.runKernel(jE,r,o)}});const mF=ZT({concat1d_:function(e){return eF(e,0)}});const gF=ZT({concat2d_:function(e,t){return eF(e,t)}});const yF=ZT({concat3d_:function(e,t){return eF(e,t)}});const vF=ZT({concat4d_:function(e,t){return eF(e,t)}});const bF=ZT({conv2d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0;const s=YT(e,"x","conv2d","float32"),l=YT(t,"filter","conv2d","float32");let c=s,u=!1;3===s.rank&&(u=!0,c=$P(s,[1,s.shape[0],s.shape[1],s.shape[2]])),xC(4===c.rank,(()=>"Error in conv2d: input must be rank 4, but got rank ".concat(c.rank,"."))),xC(4===l.rank,(()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,"."))),QP("conv2d",a,i);const d="NHWC"===r?c.shape[3]:c.shape[1];xC(d===l.shape[2],(()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],"."))),xC(KP(n,o),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")));const p={x:c,filter:l},h={strides:n,pad:a,dataFormat:r,dilations:o,dimRoundingMode:i},f=jT.runKernel(UE,p,h);return u?$P(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const xF=ZT({conv1d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0;const s=YT(e,"x","conv1d"),l=YT(t,"filter","conv1d");let c=s,u=!1;2===s.rank&&(u=!0,c=$P(s,[1,s.shape[0],s.shape[1]])),xC(3===c.rank,(()=>"Error in conv1d: input must be rank 3, but got rank ".concat(c.rank,"."))),xC(3===l.rank,(()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,"."))),QP("conv1d",a,i),xC(c.shape[2]===l.shape[1],(()=>"Error in conv1d: depth of input (".concat(c.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],"."))),xC(KP(n,o),(()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'"))),xC("NWC"===r,(()=>"Error in conv1d: got dataFormat of ".concat(r," but only NWC is currently supported.")));const d=$P(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=$P(c,[c.shape[0],1,c.shape[1],c.shape[2]]),h=bF(p,d,[1,n],a,"NHWC",[1,o],i);return $P(h,u?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});const wF=ZT({conv2DBackpropInput_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0;xC(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let s=e,l=t,c=!1;3===t.rank&&(c=!0,l=$P(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),xC(4===s.length,(()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(s.length,"."))),xC(4===l.rank,(()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank))),xC(4===n.rank,(()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)));const u="NHWC"===o?s[3]:s[1],d="NHWC"===o?l.shape[3]:l.shape[1];xC(u===n.shape[2],(()=>"Error in conv2dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[2],"."))),xC(d===n.shape[3],(()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],"."))),QP("conv2dDerInput",r,i);const p={dy:l,filter:n},h={strides:a,pad:r,dataFormat:o,dimRoundingMode:i,inputShape:s},f=jT.runKernel(HE,p,h);return c?$P(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const kF=ZT({conv2dTranspose_:function(e,t,n,a,r,o){const i=YT(e,"x","conv2dTranspose"),s=YT(t,"filter","conv2dTranspose");return wF(n,i,s,a,r,"NHWC",o)}});const SF=ZT({conv3d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const i=YT(e,"x","conv3d"),s=YT(t,"filter","conv3d");let l=i,c=!1;4===i.rank&&(c=!0,l=$P(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),xC(5===l.rank,(()=>"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,"."))),xC(5===s.rank,(()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,"."))),xC(l.shape[4]===s.shape[3],(()=>"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],"."))),xC(KP(n,o),(()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'"))),xC("NDHWC"===r,(()=>"Error in conv3d: got dataFormat of ".concat(r," but only NDHWC is currently supported.")));const u={x:l,filter:s},d={strides:n,pad:a,dataFormat:r,dilations:o},p=jT.runKernel(qE,u,d);return c?$P(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const CF=ZT({conv3DBackpropInput_:function(e,t,n,a,r){xC(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let o=e,i=t,s=!1;4===t.rank&&(s=!0,i=$P(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],c=i.shape[4];xC(5===o.length,(()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,"."))),xC(5===i.rank,(()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(i.rank))),xC(5===n.rank,(()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank))),xC(l===n.shape[3],(()=>"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],"."))),xC(c===n.shape[4],(()=>"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],".")));const u={dy:i,filter:n},d={pad:r,strides:a,inputShape:o},p=jT.runKernel(KE,u,d);return s?$P(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const EF=ZT({conv3dTranspose_:function(e,t,n,a,r){const o=YT(e,"x","conv3dTranspose"),i=YT(t,"filter","conv3dTranspose");return CF(n,o,i,a,r)}});const _F=ZT({cos_:function(e){const t={x:YT(e,"x","cos","float32")};return jT.runKernel(YE,t)}});const IF=ZT({cosh_:function(e){const t={x:YT(e,"x","cosh","float32")};return jT.runKernel(QE,t)}});const NF=ZT({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={x:YT(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:a};return jT.runKernel($E,r,o)}});const TF=ZT({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={x:YT(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:a};return jT.runKernel(ZE,r,o)}});const OF=ZT({denseBincount_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=YT(e,"x","denseBincount"),o=YT(t,"weights","denseBincount");xC("int32"===r.dtype,(()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(r.dtype))),xC(r.rank<=2,(()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(r.rank,"."))),xC(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),xC(o.size===r.size||0===o.size,(()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(r.shape,", weights shape: ")+"".concat(o.shape,".")));const i={x:r,weights:o},s={size:n,binaryOutput:a};return jT.runKernel(e_,i,s)}});const RF=ZT({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const a=YT(e,"x","depthToSpace","float32"),r="NHWC"===n?a.shape[1]:a.shape[2],o="NHWC"===n?a.shape[2]:a.shape[3],i="NHWC"===n?a.shape[3]:a.shape[1];xC(t>1,(()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(t))),xC(r*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(r," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(a.shape))),xC(o*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(t," for depthToSpace with input shape\n        ").concat(a.shape))),xC(i%(t*t)===0,(()=>"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(i," for depthToSpace with input shape ").concat(a.shape)));const s={x:a},l={blockSize:t,dataFormat:n};return jT.runKernel(t_,s,l)}});const AF=ZT({depthwiseConv2d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0;const s=YT(e,"x","depthwiseConv2d","float32"),l=YT(t,"filter","depthwiseConv2d","float32");let c=s,u=!1;3===s.rank&&(u=!0,c=$P(s,[1,s.shape[0],s.shape[1],s.shape[2]])),xC(4===c.rank,(()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,"."))),xC(4===l.rank,(()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")));const d="NHWC"===r?c.shape[3]:c.shape[1];xC(d===l.shape[2],(()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],"."))),QP("depthwiseConv2d",a,i);const p={x:c,filter:l},h={strides:n,pad:a,dataFormat:r,dilations:o,dimRoundingMode:i},f=jT.runKernel(n_,p,h);return u?$P(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const PF=ZT({diag_:function(e){const t={x:YT(e,"x","diag")};return jT.runKernel(o_,t)}});const FF=ZT({dilation2d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const i=YT(e,"x","dilation2d"),s=YT(t,"filter","dilation2d");xC(3===i.rank||4===i.rank,(()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(i.rank,"."))),xC(3===s.rank,(()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(s.rank,"."))),xC("NHWC"===o,(()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o)));let l=i,c=!1;3===i.rank&&(l=$P(i,[1,i.shape[0],i.shape[1],i.shape[2]]),c=!0);const u={x:l,filter:s},d={strides:n,pad:a,dilations:r},p=jT.runKernel(i_,u,d);return c?$P(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const DF=ZT({equal_:function(e,t){let n=YT(e,"a","equal","string_or_numeric"),a=YT(t,"b","equal","string_or_numeric");[n,a]=OT(n,a),tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(f_,r)}});const MF=ZT({where_:function(e,t,n){const a=YT(t,"a","where"),r=YT(n,"b","where"),o=YT(e,"condition","where","bool"),i=tA(tA(o.shape,a.shape),r.shape),s={condition:pF(o,i),t:pF(a,i),e:pF(r,i)};return jT.runKernel(zI,s)}});const LF=ZT({divNoNan_:function(e,t){let n=YT(e,"a","div"),a=YT(t,"b","div");[n,a]=OT(n,a);const r=ZA(n,a),o=nP(r),i=DF(a,o);return MF(i,o,r)}});const zF=ZT({dot_:function(e,t){const n=YT(e,"t1","dot"),a=YT(t,"t2","dot");xC((1===n.rank||2===n.rank)&&(1===a.rank||2===a.rank),(()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(a.rank,".")));const r=1===n.rank?n.size:n.shape[1],o=1===a.rank?a.size:a.shape[0];if(xC(r===o,(()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(r," and ").concat(o,"."))),1===n.rank&&1===a.rank){const e=$P(n,[1,-1]),t=$P(a,[-1,1]),r=ER(e,t);return $P(r,[])}if(1===n.rank&&2===a.rank){const e=$P(n,[1,-1]),t=$P(a,[a.shape[0],a.shape[1]]),r=ER(e,t);return $P(r,[r.size])}if(2===n.rank&&1===a.rank){const e=$P(a,[-1,1]),t=ER(n,e);return $P(t,[t.size])}{const e=$P(a,[a.shape[0],a.shape[1]]);return ER(n,e)}}});const jF=ZT({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const r=n.map(((e,t)=>YT(e,"tensors".concat(t),"einsum"))),o={equation:e};return jT.runKernel(u_,r,o)}});const BF=ZT({elu_:function(e){const t={x:YT(e,"x","elu","float32")};return jT.runKernel(d_,t)}});const WF=ZT({erf_:function(e){let t=YT(e,"x","erf");xC("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=nR(t,"float32"));const n={x:t};return jT.runKernel(h_,n)}});function VF(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function UF(e,t,n){const a=e.length+t.length,r=[];let o=0,i=0;for(let s=0;s<a;s++)-1===n.indexOf(s)?r.push(e[o++]):r.push(t[i++]);return r}function GF(e,t){const n=[],a=e.length;for(let r=0;r<a;r++)-1===t.indexOf(r)&&n.push(e[r]);return[n,t.map((t=>e[t]))]}function HF(e,t){return UF(e,t.map((e=>1)),t)}function qF(e,t,n){xC(VF(t,n),(()=>"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")))}function XF(e,t){if(VF(e,t))return null;const n=[];for(let a=0;a<t;++a)-1===e.indexOf(a)&&n.push(a);return e.forEach((e=>n.push(e))),n}function KF(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function YF(e,t){const n=[];for(let a=t-e;a<t;++a)n.push(a);return n}const QF=ZT({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:YT(e,"x","max")},r={reductionIndices:t,keepDims:n};return jT.runKernel(K_,a,r)}});const $F=ZT({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:YT(e,"x","min")},r={axis:t,keepDims:n};return jT.runKernel(nI,a,r)}});const ZF=ZT({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=YT(e,"x","sum");"bool"===a.dtype&&(a=nR(a,"int32"));const r={x:a},o={axis:t,keepDims:n};return jT.runKernel(XI,r,o)}});function JF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return vP(e);if(1!==e.rank&&null===n)return JF($P(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return ZF(vP(e),n);if(t===1/0)return QF(vP(e),n);if(t===-1/0)return $F(vP(e),n);if("euclidean"===t||2===t)return eP(ZF(mP(vP(e),uP(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return QF(ZF(vP(e),n[0]),n[1]-1);if(t===1/0)return QF(ZF(vP(e),n[1]),n[0]);if(t===-1/0)return $F(ZF(vP(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return eP(ZF(tP(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}const eD=ZT({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=JF(e=YT(e,"x","norm"),t,n);let o=r.shape;if(a){const t=FC(n,e.shape);o=HF(r.shape,t)}return $P(r,o)}});const tD=ZT({euclideanNorm_:function(e){return eD(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const nD=ZT({exp_:function(e){const t={x:YT(e,"x","exp")};return jT.runKernel(m_,t)}});const aD=ZT({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=YT(e,"x","expandDims","string_or_numeric");xC(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const a={input:n},r={dim:t};return jT.runKernel(g_,a,r)}});const rD=ZT({expm1_:function(e){const t={x:YT(e,"x","expm1")};return jT.runKernel(y_,t)}});const oD=ZT({tile_:function(e,t){const n=YT(e,"x","tile","string_or_numeric");xC(n.rank===t.length,(()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")));const a={x:n},r={reps:t};return jT.runKernel(dN,a,r)}});const iD=ZT({eye_:function(e,t,n){null==t&&(t=e);const a=tR([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),r=e<=t?e:t;for(let i=0;i<r;++i)a.set(1,i,i);const o=$P(a.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return oD(aD(o,0),[n[0],1,1]);if(2===n.length)return oD(aD(aD(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return oD(aD(aD(aD(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});const sD=ZT({floor_:function(e){const t={x:YT(e,"x","floor","float32")};return jT.runKernel(w_,t)}});const lD=ZT({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r={x:YT(e,"x","gather"),indices:YT(t,"indices","gather","int32")},o={axis:n,batchDims:a};return jT.runKernel(C_,r,o)}});const cD=ZT({greater_:function(e,t){let n=YT(e,"a","greater","string_or_numeric"),a=YT(t,"b","greater","string_or_numeric");[n,a]=OT(n,a),tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(__,r)}});const uD=ZT({greaterEqual_:function(e,t){let n=YT(e,"a","greaterEqual","string_or_numeric"),a=YT(t,"b","greaterEqual","string_or_numeric");[n,a]=OT(n,a),tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(I_,r)}});const dD=ZT({isFinite_:function(e){const t={x:YT(e,"x","isFinite")};return jT.runKernel(R_,t)}});const pD=ZT({isInf_:function(e){const t={x:YT(e,"x","isInf")};return jT.runKernel(A_,t)}});const hD=ZT({isNaN_:function(e){const t={x:YT(e,"x","isNaN")};return jT.runKernel(P_,t)}});const fD=ZT({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:YT(e,"x","leakyRelu")},a={alpha:t};return jT.runKernel(F_,n,a)}});const mD=ZT({less_:function(e,t){let n=YT(e,"a","less","string_or_numeric"),a=YT(t,"b","less","string_or_numeric");[n,a]=OT(n,a),tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(D_,r)}});const gD=ZT({lessEqual_:function(e,t){let n=YT(e,"a","lessEqual","string_or_numeric"),a=YT(t,"b","lessEqual","string_or_numeric");[n,a]=OT(n,a),tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(M_,r)}});function yD(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const a={start:e,stop:t,num:n};return jT.runKernel(L_,{},a)}const vD=ZT({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const o=YT(e,"x","localResponseNormalization");xC(4===o.rank||3===o.rank,(()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,"."))),xC(IC(t),(()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")));let i=o,s=!1;3===o.rank&&(s=!0,i=$P(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:i},c={depthRadius:t,bias:n,alpha:a,beta:r},u=jT.runKernel(q_,l,c);return s?$P(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const bD=ZT({log_:function(e){const t={x:YT(e,"x","log","float32")};return jT.runKernel(z_,t)}});const xD=ZT({log1p_:function(e){const t={x:YT(e,"x","log1p")};return jT.runKernel(j_,t)}});const wD=ZT({softplus_:function(e){const t={x:YT(e,"x","softplus")};return jT.runKernel(HI,t)}});const kD=ZT({logSigmoid_:function(e){const t=YT(e,"x","logSigmoid"),n=lP((e=>({value:YR(wD(YR(e))),gradFunc:t=>JA(t,tF(YR(e)))})));return n(t)}});const SD=ZT({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=YT(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));const a=lP(((e,n)=>{const a=QF(e,t,!0),r=gP(e,a),o=gP(nR(r,"float32"),bD(ZF(nD(r),t,!0)));n([o]);return{value:o,gradFunc:(e,n)=>{const[a]=n,r=nD(a);return gP(e,JA(ZF(e,t,!0),r))}}}));return a(n)}});const CD=ZT({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=YT(e,"x","logSumExp"),r=FC(t,a.shape),o=QF(a,r,!0),i=gP(a,o),s=nD(i),l=ZF(s,r),c=bD(l),u=QA($P(o,c.shape),c);if(n){const e=HF(u.shape,r);return $P(u,e)}return u}});const ED=ZT({logicalAnd_:function(e,t){const n=YT(e,"a","logicalAnd","bool"),a=YT(t,"b","logicalAnd","bool");tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(B_,r)}});const _D=ZT({logicalNot_:function(e){const t={x:YT(e,"x","logicalNot","bool")};return jT.runKernel(W_,t)}});const ID=ZT({logicalOr_:function(e,t){const n=YT(e,"a","logicalOr","bool"),a=YT(t,"b","logicalOr","bool");tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(V_,r)}});const ND=ZT({logicalXor_:function(e,t){const n=YT(e,"a","logicalXor","bool"),a=YT(t,"b","logicalXor","bool");return tA(n.shape,a.shape),ED(ID(e,t),_D(ED(e,t)))}}),TD=2147483648;const OD=ZT({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const a=YT(e,"sortedSequence","searchSorted"),r=YT(t,"values","searchSorted"),o=a.shape[a.shape.length-1],i=r.shape[r.shape.length-1],s=$P(a,[-1,o]),l=$P(r,[-1,i]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(CC(l.shape)>=TD)throw new Error("values tensor size must less than ".concat(TD));if(s.shape[1]>=TD)throw new Error("trailing dim_size must less than ".concat(TD," for int32 output type, was ").concat(s.shape[1]));const c={sortedSequence:s,values:l},u={side:n};return jT.runKernel(LI,c,u)}});function RD(e,t){return OD(e,t,"left")}const AD=ZT({maxPool_:function(e,t,n,a,r){const o=YT(e,"x","maxPool");let i=o,s=!1;3===o.rank&&(s=!0,i=$P(o,[1,o.shape[0],o.shape[1],o.shape[2]])),xC(4===i.rank,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(i.rank,"."))),xC(KP(n,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'"))),QP("maxPool",a,r);const l={x:i},c={filterSize:t,strides:n,pad:a,dimRoundingMode:r},u=jT.runKernel(Q_,l,c);return s?$P(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const PD=ZT({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const i=YT(e,"x","maxPool3d");let s=i,l=!1;4===i.rank&&(l=!0,s=$P(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),xC(5===s.rank,(()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,"."))),xC("NDHWC"===o,(()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o))),QP("maxPool3d",a,r);const c={x:s},u={filterSize:t,strides:n,pad:a,dimRoundingMode:r,dataFormat:o},d=jT.runKernel(Z_,c,u);return l?$P(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const FD=ZT({maxPoolWithArgmax_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o={x:YT(e,"x","maxPoolWithArgmax")},i={filterSize:t,strides:n,pad:a,includeBatchInIndex:r},s=jT.runKernel(eI,o,i);return{result:s[0],indexes:s[1]}}});const DD=ZT({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:YT(e,"x","mean")},r={axis:t,keepDims:n};return jT.runKernel(tI,a,r)}});function MD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){const t=MD(e,"float32"),n=MD(e,"float32");return JT(t,n)}const n=eE(CC(e),t);return jT.makeTensor(n,e,t)}function LD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){const t=LD(e,"float32"),n=MD(e,"float32");return JT(t,n)}const n=JC(CC(e),t);return jT.makeTensor(n,e,t)}function zD(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(void 0===e)return[];let a=YT(e,"x","meshgrid",e instanceof xT?e.dtype:"float32");if(void 0===t)return[a];let r=YT(t,"y","meshgrid",t instanceof xT?t.dtype:"float32");const o=CC(a.shape),i=CC(r.shape);return"xy"===n?(a=$P(a,[1,-1]),r=$P(r,[-1,1]),[ER(LD([i,1],a.dtype),a),ER(r,LD([1,o],r.dtype))]):(a=$P(a,[-1,1]),r=$P(r,[1,-1]),[ER(a,LD([1,i],a.dtype)),ER(LD([o,1],r.dtype),r)])}const jD=ZT({minimum_:function(e,t){let n=YT(e,"a","minimum"),a=YT(t,"b","minimum");[n,a]=OT(n,a),"bool"===n.dtype&&(n=nR(n,"int32"),a=nR(a,"int32")),tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(aI,r)}});const BD=ZT({mirrorPad_:function(e,t,n){xC("reflect"===n||"symmetric"===n,(()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")));const a=YT(e,"x","mirrorPad");if(0===a.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");xC(t.length===a.rank,(()=>"Padding doesn't match input. Must be ".concat(a.rank,". ")+"Got ".concat(t.length,".")));const r="reflect"===n?1:0;for(let s=0;s<a.rank;s++)xC(2===t[s].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),xC(t[s][0]>=0&&t[s][0]<=a.shape[s]-r&&t[s][1]>=0&&t[s][1]<=a.shape[s]-r,(()=>"Padding in dimension ".concat(s," cannot be greater than or equal ")+"to ".concat(a.shape[s]-r," or less than 0 for input of ")+"shape ".concat(a.shape)));const o={paddings:t,mode:n},i={x:a};return jT.runKernel(rI,i,o)}});const WD=ZT({mod_:function(e,t){let n=YT(e,"a","mod"),a=YT(t,"b","mod");[n,a]=OT(n,a);const r={a:n,b:a};return jT.runKernel(oI,r)}});const VD=ZT({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=FC(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=YT(e,"x","moments")).shape),a=DD(e,n,t);let r=a.shape;t||(r=HF(a.shape,n));const o=tP(gP(nR(e,"float32"),$P(a,r)));return{mean:a,variance:DD(o,n,t)}}});const UD=ZT({multiRNNCell_:function(e,t,n,a){const r=YT(t,"data","multiRNNCell"),o=QT(n,"c","multiRNNCell"),i=QT(a,"h","multiRNNCell");let s=r;const l=[];for(let d=0;d<e.length;d++){const t=e[d](s,o[d],i[d]);l.push(t[0]),l.push(t[1]),s=t[1]}const c=[],u=[];for(let d=0;d<l.length;d+=2)c.push(l[d]),u.push(l[d+1]);return[c,u]}});const GD=ZT({multinomial_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=YT(e,"logits","multinomial"),o=r.size,i=r.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(i));n=n||Math.random();const s={logits:1===i?$P(r,[1,-1]):r},l={numSamples:t,seed:n,normalized:a},c=jT.runKernel(iI,s,l);return 1===i?$P(c,[c.size]):c}});const HD=ZT({notEqual_:function(e,t){let n=YT(e,"a","notEqual","string_or_numeric"),a=YT(t,"b","notEqual","string_or_numeric");[n,a]=OT(n,a),tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(cI,r)}});const qD=ZT({onesLike_:function(e){const t={x:YT(e,"x","onesLike")};return jT.runKernel(hI,t)}});const XD=ZT({outerProduct_:function(e,t){const n=YT(e,"v1","outerProduct"),a=YT(t,"v2","outerProduct");xC(1===n.rank&&1===a.rank,(()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(a.rank,".")));const r=$P(n,[-1,1]),o=$P(a,[1,-1]);return ER(r,o)}});const KD=ZT({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=YT(e,"x","pad");if(0===a.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:t,constantValue:n},o={x:a};return jT.runKernel(gI,o,r)}});const YD=ZT({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return xC(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),KD(e,[t],n)}});const QD=ZT({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return xC(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),KD(e,t,n)}});const $D=ZT({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return xC(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),KD(e,t,n)}});const ZD=ZT({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return xC(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),KD(e,t,n)}});const JD=ZT({spaceToBatchND_:function(e,t,n){const a=YT(e,"x","spaceToBatchND");xC(a.rank>=1+t.length,(()=>"input rank ".concat(a.rank," should be > than [blockShape] ").concat(t.length))),xC(n.length===t.length,(()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length))),xC(a.shape.reduce(((e,a,r)=>r>0&&r<=t.length?e&&(a+n[r-1][0]+n[r-1][1])%t[r-1]===0:e),!0),(()=>"input spatial dimensions ".concat(a.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())));const r={x:a},o={blockShape:t,paddings:n};return jT.runKernel(KI,r,o)}});const eM=ZT({pool_:function(e,t,n,a,r,o,i){null==r&&(r=[1,1]),null==o&&(o=1),0===a&&(a="valid");const s=YT(e,"x","maxPool");let l=s,c=!1;3===s.rank&&(c=!0,l=$P(s,[1,s.shape[0],s.shape[1],s.shape[2]])),xC(KP(o,r),(()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(r,"'")));const u=zP(l.shape,t,o,r,a),d=[u.dilationHeight,u.dilationWidth];let p;p="same"===a?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),a=n.map((e=>e-1)),r=a.map((e=>Math.floor(e/2))),o=a.map(((e,t)=>e-r[t]));return a.map(((e,t)=>[r[t],o[t]]))}([u.filterHeight,u.filterWidth],d):[[0,0],[0,0]];const h=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const a=n.map((e=>e[0])),r=n.map((e=>e[1])),o=e.concat(a,r),i=t.map(((e,t)=>(e-o[t]%e)%e)),s=r.map(((e,t)=>e+i[t])),l=t.map(((e,t)=>[a[t],s[t]])),c=t.map(((e,t)=>[0,i[t]]));return[l,c]}([u.inHeight,u.inWidth],d,p),g=h?a:"valid",y=h?l:JD(l,d,f),v=("avg"===n?()=>ZP(y,t,o,g,i):()=>AD(y,t,o,g,i))(),b=h?v:oF(v,d,m);return c?$P(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});const tM=ZT({prelu_:function(e,t){const n={x:YT(e,"x","prelu"),alpha:YT(t,"alpha","prelu")};return jT.runKernel(bI,n)}});const nM=ZT({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=YT(e,"x","prod");"bool"===a.dtype&&(a=nR(a,"int32"));const r={x:a},o={axis:t,keepDims:n};return jT.runKernel(xI,r,o)}});const aM=ZT({raggedGather_:function(e,t,n,a){const r=e.map(((e,t)=>YT(e,"tensors".concat(t),"raggedGather","int32"))),o={paramsNestedSplits:r,paramsDenseValues:YT(t,"paramsDenseValues","raggedGather"),indices:YT(n,"indices","raggedGather","int32")},i={outputRaggedRank:a},s=jT.runKernel(wI,o,i);return{outputNestedSplits:s.slice(0,s.length-1),outputDenseValues:s[s.length-1]}}});const rM=ZT({raggedTensorToTensor_:function(e,t,n,a,r){const o=YT(e,"shape","raggedTensorToTensor","int32"),i=YT(t,"values","raggedTensorToTensor"),s=YT(n,"defaultValue","raggedTensorToTensor",i.dtype),l=a.map(((e,t)=>YT(e,"tensors".concat(t),"raggedTensorToTensor","int32"))),c={shape:o,values:i,defaultValue:s,rowPartitionTensors:l},u={rowPartitionTypes:r};return jT.runKernel(kI,c,u)}});const oM=ZT({rand_:function(e,t,n){const a=CC(e);let r=null;if(null==n||"float32"===n)r=new Float32Array(a);else if("int32"===n)r=new Int32Array(a);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));r=new Uint8Array(a)}for(let o=0;o<a;o++)r[o]=t();return jT.makeTensor(r,e,n)}});var iM=n(4213);class sM{constructor(e,t,n,a,r){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=r||Math.random();this.random=iM.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let a,r,o;do{a=2*this.random()-1,r=2*this.random()-1,o=a*a+r*r}while(o>=1||0===o);const i=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*a*i,t=this.mean+this.stdDev*r*i,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class lM{constructor(e,t,n,a){this.alpha=e,this.beta=1/t,this.dtype=n;const r=a||Math.random();this.randu=iM.alea(r.toString()),this.randn=new sM(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,a,r,o;for(;;){do{a=this.randn.nextValue(),o=1+this.c*a}while(o<=0);if(o*=o*o,e=a*a,t=1-.331*e*e,n=.5*e+this.d*(1-o+Math.log(o)),r=this.randu(),r<t||Math.log(r)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class cM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==a&&(a=Math.random()),"number"===typeof a&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(t," <= 1 and dtype is not float"));this.random=iM.alea(a)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const uM=ZT({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",r=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==a&&(a="float32"),"float32"!==a&&"int32"!==a)throw new Error("Unsupported data type ".concat(a));const o=new lM(t,n,a,r),i=tR(e,a);for(let s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});const dM=ZT({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(null!=a&&"bool"===a)throw new Error("Unsupported data type ".concat(a));const o=new sM(t,n,a,!1,r),i=tR(e,a);for(let s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});const pM=ZT({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return dM(e,0,1,t,n)}});const hM=ZT({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>4?arguments[4]:void 0;const r=tR(e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),o=new cM(t,n,null,a);for(let i=0;i<r.values.length;i++)r.values[i]=o.nextValue();return r.toTensor()}});function fM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const r={start:e,stop:t,step:n,dtype:a};return jT.runKernel(SI,{},r)}const mM=ZT({reciprocal_:function(e){const t={x:YT(e,"x","reciprocal")};return jT.runKernel(EI,t)}});const gM=ZT({relu_:function(e){const t={x:YT(e,"x","relu")};return jT.runKernel(_I,t)}});const yM=ZT({relu6_:function(e){const t={x:YT(e,"x","relu6")};return jT.runKernel(AI,t)}});const vM=ZT({reverse_:function(e,t){const n={x:YT(e,"x","reverse")},a={dims:t};return jT.runKernel(PI,n,a)}});const bM=ZT({reverse1d_:function(e){const t=YT(e,"x","reverse");return xC(1===t.rank,(()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,"."))),vM(t,0)}});const xM=ZT({reverse2d_:function(e,t){const n=YT(e,"x","reverse");return xC(2===n.rank,(()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,"."))),vM(n,t)}});const wM=ZT({reverse3d_:function(e,t){const n=YT(e,"x","reverse");return xC(3===n.rank,(()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,"."))),vM(n,t)}});const kM=ZT({reverse4d_:function(e,t){const n=YT(e,"x","reverse");return xC(4===n.rank,(()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,"."))),vM(n,t)}});const SM=ZT({round_:function(e){const t={x:YT(e,"x","round")};return jT.runKernel(FI,t)}});const CM=ZT({rsqrt_:function(e){const t={x:YT(e,"x","rsqrt","float32")};return jT.runKernel(DI,t)}});const EM=ZT({selu_:function(e){const t={x:YT(e,"x","selu")};return jT.runKernel(jI,t)}});const _M=ZT({separableConv2d_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const s=YT(e,"x","separableConv2d"),l=YT(t,"depthwiseFilter","separableConv2d"),c=YT(n,"pointwiseFilter","separableConv2d");let u=s,d=!1;if(3===s.rank&&(d=!0,u=$P(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");xC(4===u.rank,(()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,"."))),xC(4===l.rank,(()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),xC(4===c.rank,(()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),xC(1===c.shape[0],(()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],"."))),xC(1===c.shape[1],(()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],".")));const p=l.shape[2],h=l.shape[3];xC(c.shape[2]===p*h,(()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(p*h,", ")+"but got ".concat(c.shape[2],".")));const f=AF(u,l,a,r,i,o),m=bF(f,c,1,"valid",i);return d?$P(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const IM=async function(e,t){const n=YT(e,"x","setdiff1d"),a=YT(t,"y","setdiff1d");xC(n.dtype===a.dtype,(()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(a.dtype,")."))),xC(1===n.rank,(()=>"x should be 1D tensor, but got x (".concat(n.shape,")."))),xC(1===a.rank,(()=>"y should be 1D tensor, but got y (".concat(a.shape,").")));const r=await n.data(),o=await a.data(),i=new Set(o);let s=0;for(let u=0;u<r.length;u++)i.has(r[u])||s++;const l=new gT([s],n.dtype),c=new gT([s],"int32");for(let u=0,d=0;u<r.length;u++)i.has(r[u])||(l.values[d]=r[u],c.values[d]=u,d++);return[l.toTensor(),c.toTensor()]};const NM=ZT({sign_:function(e){const t={x:YT(e,"x","sign")};return jT.runKernel(UI,t)}});const TM=ZT({sin_:function(e){const t={x:YT(e,"x","sin","float32")};return jT.runKernel(WI,t)}});const OM=ZT({sinh_:function(e){const t={x:YT(e,"x","sinh")};return jT.runKernel(VI,t)}});const RM=ZT({slice1d_:function(e,t,n){const a=YT(e,"x","slice1d");return xC(1===a.rank,(()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(a.rank," tensor"))),nF(a,[t],[n])}});const AM=ZT({slice2d_:function(e,t,n){const a=YT(e,"x","slice2d");return xC(2===a.rank,(()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(a.rank," tensor"))),nF(a,t,n)}});const PM=ZT({slice3d_:function(e,t,n){const a=YT(e,"x","slice3d");return xC(3===a.rank,(()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(a.rank," tensor"))),nF(a,t,n)}});const FM=ZT({slice4d_:function(e,t,n){const a=YT(e,"x","slice4d");return xC(4===a.rank,(()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(a.rank," tensor"))),nF(a,t,n)}});const DM=ZT({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=YT(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));const a={logits:n},r={dim:t};return jT.runKernel(QI,a,r)}});const MM=ZT({fft_:function(e){xC("complex64"===e.dtype,(()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return jT.runKernel(v_,t)}});const LM=ZT({ifft_:function(e){xC("complex64"===e.dtype,(()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return jT.runKernel(T_,t)}});const zM=ZT({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let a;if(t<=2){const r=$P(e,[n,t]);a=LM(r)}else{const r=[n,2*(t-1)],o=$P(QR(e),[n,t]),i=$P(KR(e),[n,t]),s=vM(nF(o,[0,1],[n,t-2]),1),l=JA(vM(nF(i,[0,1],[n,t-2]),1),uP(-1)),c=eF([o,s],1),u=eF([i,l],1),d=$P(JT(c,u),[r[0],r[1]]);a=LM(d)}if(a=QR(a),3===e.rank&&0!==e.shape[0]){const t=a,n=e.shape[0];a=$P(a,[n,a.shape[0]/n,a.shape[1]]),t.dispose()}return a}});const jM=ZT({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a={x:YT(e,"x","split")},r={numOrSizeSplits:t,axis:n};return jT.runKernel(YI,a,r)}});const BM=ZT({rfft_:function(e,t){xC("float32"===e.dtype,(()=>"The dtype for rfft() must be real value but got ".concat(e.dtype)));let n=e.shape[e.shape.length-1];const a=e.size/n;let r;if(null!=t&&t<n){const a=e.shape.map((e=>0)),o=e.shape.map((e=>e));o[e.shape.length-1]=t,r=nF(e,a,o),n=t}else if(null!=t&&t>n){const a=e.shape.map((e=>e));a[e.shape.length-1]=t-n,r=eF([e,MD(a)],e.shape.length-1),n=t}else r=e;const o=nP(r),i=$P(JT(r,o),[a,n]),s=MM(i),l=Math.floor(n/2)+1,c=QR(s),u=KR(s),d=jM(c,[l,n-l],c.shape.length-1),p=jM(u,[l,n-l],u.shape.length-1),h=r.shape.slice();return h[r.shape.length-1]=l,$P(JT(d[0],p[0]),h)}});const WM=ZT({squaredDifference_:function(e,t){let n=YT(e,"a","squaredDifference"),a=YT(t,"b","squaredDifference");[n,a]=OT(n,a),tA(n.shape,a.shape);const r={a:n,b:a};return jT.runKernel(nN,r,{})}});const VM=ZT({squeeze_:function(e,t){const n=YT(e,"x","squeeze","string_or_numeric");return $P(n,DC(n.shape,t).newShape)}});const UM=ZT({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=QT(e,"tensors","stack","string_or_numeric");xC(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&xC(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const a=n,r={axis:t};return jT.runKernel(mI,a,r)}});const GM=ZT({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:YT(e,"x","step")},a={alpha:t};return jT.runKernel(xN,n,a)}});const HM=ZT({stridedSlice_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const c={x:YT(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:a,beginMask:r,endMask:o,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};return jT.runKernel(rN,c,u)}});const qM=ZT({tan_:function(e){const t={x:YT(e,"x","tan","float32")};return jT.runKernel(cN,t)}});function XM(e,t){kC(e);const n=qT(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return eO(e,null,n,t)}function KM(e,t,n){if(kC(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const a=qT(e,n);if(2!==a.length&&1!==a.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return eO(e,t,a,n)}function YM(e,t,n){if(kC(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const a=qT(e,n);if(4!==a.length&&1!==a.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return eO(e,t,a,n)}function QM(e,t,n){if(kC(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const a=qT(e,n);if(5!==a.length&&1!==a.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return eO(e,t,a,n)}function $M(e,t,n){if(kC(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const a=qT(e,n);if(6!==a.length&&1!==a.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return eO(e,t=t||a,a,n)}const ZM=ZT({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=YT(e,"x","topk");if(0===a.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const r=a.shape[a.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>r)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(r,") ")+"but got ".concat(t));const o={x:a},i={k:t,sorted:n},[s,l]=jT.runKernel(pN,o,i);return{values:s,indices:l}}});const JM=ZT({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(null!=a&&"bool"===a)throw new Error("Unsupported data type $ { dtype }");const o=new sM(t,n,a,!0,r),i=tR(e,a);for(let s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});const eL=ZT({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=YT(e,"x","unique","string_or_numeric");xC(n.rank>0,(()=>"The input tensor must be at least 1D"));const a={x:n},r={axis:t},[o,i]=jT.runKernel(mN,a,r);return{values:o,indices:i}}});const tL=ZT({unsortedSegmentSum_:function(e,t,n){const a=YT(e,"x","unsortedSegmentSum"),r=YT(t,"segmentIds","unsortedSegmentSum","int32");xC(IC(n),(()=>"numSegments must be of dtype int"));const o={x:a,segmentIds:r},i={numSegments:n};return jT.runKernel(yN,o,i)}});const nL=ZT({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=YT(e,"x","unstack","string_or_numeric");xC(t>=-n.shape.length&&t<n.shape.length,(()=>"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")));const a={value:n},r={axis:t};return jT.runKernel(gN,a,r)}});function aL(e,t){return OD(e,t,"right")}function rL(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return jT.makeVariable(e,t,n,a)}function oL(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const a=tR(e,"int32"),r=tR([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const t=a.indexToLoc(n[o]),i=o*e.length;r.values.set(t,i)}return r.toTensor()}const iL=async function(e){const t=YT(e,"condition","whereAsync","bool"),n=await t.data(),a=oL(t.shape,n);return e!==t&&t.dispose(),a};const sL=async function(e,t,n){const a=YT(e,"tensor","boolMask"),r=YT(t,"mask","boolMask","bool"),o=null==n?0:n,i=r.rank,s=a.shape;xC(i>0,(()=>"mask cannot be scalar")),wC(s.slice(o,o+i),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+i;m++)l*=s[m];const c=s.slice(0,o).concat([l],s.slice(o+i)),u=$P(a,c),d=$P(r,[-1]),p=await iL(d),h=VM(p,[1]),f=lD(u,h,o);return e!==a&&a.dispose(),t!==r&&r.dispose(),h.dispose(),u.dispose(),d.dispose(),p.dispose(),f};const lL=ZT({movingAverage_:function(e,t,n,a){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const o=YT(e,"v","movingAverage"),i=YT(t,"x","movingAverage"),s=YT(n,"decay","movingAverage");RT(o,i),xC(_C(o.shape,i.shape),(()=>"Shape mismatch in v and x"));const l=uP(1),c=gP(l,s);let u=JA(gP(i,o),c);if(r){xC(null!=a,(()=>"When using zeroDebias: true, step is required."));const e=YT(a,"step","movingAverage");u=ZA(u,gP(l,mP(s,e)))}return QA(o,u)}});const cL=ZT({scatterND_:function(e,t,n){const a=YT(e,"indices","scatterND","int32"),r=YT(t,"updates","scatterND");dA(r,a,n);const o={indices:a,updates:r},i={shape:n};return jT.runKernel(MI,o,i)}});const uL=ZT({sparseToDense_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=YT(e,"sparseIndices","sparseToDense","int32"),o=YT(t,"sparseValues","sparseToDense","string_or_numeric"),i=YT(a,"defaultValue","sparseToDense",o.dtype);!function(e,t,n,a){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));const r=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));const i=t.size;if(0!==t.rank&&(1!==t.rank||i!==r))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(r,"]"));if(t.dtype!==a.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(r,o,n,i);const s={sparseIndices:r,sparseValues:o,defaultValue:i},l={outputShape:n};return jT.runKernel(tN,s,l)}});const dL=ZT({gatherND_:function(e,t){const n=YT(t,"indices","gatherND","int32"),a={params:YT(e,"x","gatherND","string_or_numeric"),indices:n};return jT.runKernel(E_,a)}});const pL=ZT({dropout_:function(e,t,n,a){const r=YT(e,"x","dropout");if(xC("float32"===r.dtype,(()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(r.dtype," tensor instead."))),xC(t>=0&&t<1,(()=>"rate must be a float in the range [0, 1), but got ".concat(t,"."))),0===t)return e instanceof xT?r.clone():r;const o=function(e,t){if(null==t)return e.shape.slice();if(_C(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let a=0;a<e.shape.length;a++)null==t[a]&&null!=e.shape[a]?n.push(e.shape[a]):n.push(t[a]);return n}return t}(r,n),i=1-t,s=ZA(sD(QA(hM(o,0,1,"float32",a),i)),i);return JA(r,s)}});function hL(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function fL(e,t,n){const a=1-e%2,r=new Float32Array(e);for(let o=0;o<e;++o){const i=2*Math.PI*o/(e+a-1);r[o]=t-n*Math.cos(i)}return XM(r,"float32")}const mL=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const a=YT(e,"predictions","inTopK"),r=YT(t,"targets","inTopK");xC(a.rank>1,(()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank))),xC(a.rank-1===r.rank,(()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(r.rank))),wC(a.shape.slice(0,a.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=a.shape[a.shape.length-1];xC(n>0&&n<=o,(()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(n)));const i=await a.data(),s=await r.data(),[l,c]=[i.length/o,o],u=MC("bool",l);for(let d=0;d<l;d++){const e=d*c,t=i.subarray(e,e+c),a=[];for(let n=0;n<t.length;n++)a.push({value:t[n],index:n});a.sort(((e,t)=>t.value-e.value)),u[d]=0;for(let r=0;r<n;r++)if(a[r].index===s[d]){u[d]=1;break}}return e!==a&&a.dispose(),t!==r&&r.dispose(),tO(u,r.shape,"bool")};const gL=ZT({conv2DBackpropFilter_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=$P(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=$P(t,[1,t.shape[0],t.shape[1],t.shape[2]])),xC(4===s.rank,(()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(s.shape,"."))),xC(4===l.rank,(()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,"."))),xC(4===n.length,(()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")));const c="NHWC"===o?s.shape[3]:s.shape[1],u="NHWC"===o?l.shape[3]:l.shape[1];xC(c===n[2],(()=>"Error in conv2dDerFilter: depth of input ".concat(c,") must ")+"match input depth in filter (".concat(n[2],"."))),xC(u===n[3],(()=>"Error in conv2dDerFilter: depth of dy (".concat(u,") must ")+"match output depth for filter (".concat(n[3],")."))),QP("conv2dDerFilter",r,i);const d={x:s,dy:l},p={strides:a,pad:r,dataFormat:o,dimRoundingMode:i,filterShape:n};return jT.runKernel(GE,d,p)}});function yL(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return JA(e,GM(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function vL(e,t){let n=t;const a=eA(e.shape,t.shape);return a.length>0&&(n=ZF(n,a)),$P(n,e.shape)}function bL(e,t,n,a){if("linear"===t)return e;if("relu"===t)return gM(e);if("elu"===t)return BF(e);if("relu6"===t)return yM(e);if("prelu"===t)return tM(e,n);if("leakyrelu"===t)return fD(e,a);if("sigmoid"===t)return tF(e);throw new Error("Unknown fused activation ".concat(t,"."))}const xL=(e,t)=>!(e>0)||"linear"===t;const wL=ZT({fusedConv2d_:function(e){let{x:t,filter:n,strides:a,pad:r,dataFormat:o="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:l,activation:c="linear",preluActivationWeights:u,leakyreluAlpha:d}=e;if(c=c||"linear",!1===xL(jT.state.gradientDepth,c)){xC("NHWC"===o,(()=>"Error in fused conv2d: got dataFormat of ".concat(o," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."));let e=bF(t,n,a,r,o,i,s);return null!=l&&(e=QA(e,l)),bL(e,c,u,d)}const p=YT(t,"x","conv2d","float32"),h=YT(n,"filter","conv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=$P(p,[1,p.shape[0],p.shape[1],p.shape[2]])),xC(4===f.rank,(()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(f.rank,"."))),xC(4===h.rank,(()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,"."))),QP("fused conv2d",r,s);const g="NHWC"===o?f.shape[3]:f.shape[1];xC(h.shape[2]===g,(()=>"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(h.shape[2],"."))),xC(KP(a,i),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(i,"'")));const y=BP(f.shape,h.shape,a,i,r,s);let v,b;if(null!=l&&(v=YT(l,"bias","fused conv2d"),[v]=OT(v,p),"NHWC"===o?tA(y.outShape,v.shape):(xC(v.shape.length<=1,(()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(v.shape.length,"."))),xC(0===v.shape.length||v.shape[0]===y.outChannels||1===v.shape[0],(()=>"Error in fused conv2d: bias shape (".concat(v.shape,") is not ")+"compatible with the number of output channels "+"(".concat(y.outChannels,")"))))),null!=u){const e=u.shape;if(xC(e.length<=1||3===e.length,(()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(e.length,"."))),1===e.length)xC(1===e[0]||e[0]===y.outChannels,(()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(e,") is not compatible with the number of output ")+"channels (".concat(y.outChannels,").")));else if(3===e.length)try{tA(e,y.outShape)}catch(k5){const n="Error in fused conv2d: PReLU activation weights (".concat(e,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(y.outShape,").");throw Error(n)}b=YT(u,"prelu weights","fused conv2d")}const x=(e,t)=>{xC("NHWC"===o,(()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(o," but only NHWC is currently supported.")));const[n,s,l,u]=t,d=yL(e,l,c);xC(XP(i),(()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(i,"'")));const p=[wF(s.shape,d,n,a,r),gL(s,d,n.shape,a,r)];if(null!=u){const e=vL(u,d);p.push(e)}return p},w={x:f,filter:h,bias:v,preluActivationWeights:b},k={strides:a,pad:r,dataFormat:o,dilations:i,dimRoundingMode:s,activation:c,leakyreluAlpha:d};if(null==l){const e=lP(((e,t,n)=>{let a=jT.runKernel(CN,w,k);return n([t,e,a]),m&&(a=$P(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:x}}));return e(f,h)}{const e=lP(((e,t,n,a)=>{let r=jT.runKernel(CN,w,k);return a([t,e,r,n]),m&&(r=$P(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:x}}));return e(f,h,v)}}});const kL=ZT({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=$P(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=$P(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={x:s,dy:l},u={strides:a,pad:r,dimRoundingMode:i,dilations:o,filterShape:n};return jT.runKernel(a_,c,u)}});const SL=ZT({depthwiseConv2dNativeBackpropInput_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=t,l=!1;3===t.rank&&(l=!0,s=$P(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={dy:s,filter:n},u={strides:a,pad:r,dimRoundingMode:i,dilations:o,inputShape:e},d=jT.runKernel(r_,c,u);return l?$P(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const CL=ZT({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:a,pad:r,dataFormat:o="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:l,activation:c="linear",preluActivationWeights:u,leakyreluAlpha:d}=e;if(!1===xL(jT.state.gradientDepth,c)){let e=AF(t,n,a,r,o,i,s);return null!=l&&(e=QA(e,l)),bL(e,c,u,d)}const p=YT(t,"x","depthwiseConv2d","float32"),h=YT(n,"filter","depthwiseConv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=$P(p,[1,p.shape[0],p.shape[1],p.shape[2]])),xC(4===f.rank,(()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(f.rank,"."))),xC(4===h.rank,(()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(h.rank,"."))),xC(f.shape[3]===h.shape[2],(()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(f.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],"."))),null==i&&(i=[1,1]),xC(KP(a,i),(()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(a," and dilations '").concat(i,"'"))),QP("fused depthwiseConv2d",r,s);const g=BP(f.shape,h.shape,a,i,r,s,!0);let y,v;null!=l&&(y=YT(l,"bias","fused conv2d"),[y]=OT(y,p),tA(g.outShape,y.shape)),null!=u&&(v=YT(u,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{xC(XP(i),(()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(i,"'")));const[n,o,l,u]=t,d=yL(e,l,c),p=SL(o.shape,d,n,a,r,i,s),h=kL(o,d,n.shape,a,r,i,s);if(null!=u){return[p,h,vL(y,d)]}return[p,h]},x={x:f,filter:h,bias:y,preluActivationWeights:v},w={strides:a,pad:r,dataFormat:o,dilations:i,dimRoundingMode:s,activation:c,leakyreluAlpha:d};if(null==l){const e=lP(((e,t,n)=>{let a=jT.runKernel(EN,x,w);return n([t,e,a]),m&&(a=$P(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}}));return e(f,h)}{const e=lP(((e,t,n,a)=>{let r=jT.runKernel(EN,x,w);return a([t,e,r,n]),m&&(r=$P(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(f,h,y)}}});const EL=ZT({fusedMatMul_:function(e){let{a:t,b:n,transposeA:a=!1,transposeB:r=!1,bias:o,activation:i="linear",preluActivationWeights:s,leakyreluAlpha:l=.2}=e;if(!1===xL(jT.state.gradientDepth,i)){let e=ER(t,n,a,r);return null!=o&&(e=QA(e,o)),bL(e,i,s,l)}let c=YT(t,"a","fused matMul"),u=YT(n,"b","fused matMul");[c,u]=OT(c,u);const d=a?c.shape[c.rank-2]:c.shape[c.rank-1],p=r?u.shape[u.rank-1]:u.shape[u.rank-2],h=a?c.shape[c.rank-1]:c.shape[c.rank-2],f=r?u.shape[u.rank-2]:u.shape[u.rank-1],m=c.shape.slice(0,-2),g=u.shape.slice(0,-2),y=CC(m),v=CC(g);xC(d===p,(()=>"Error in fused matMul: inner shapes (".concat(d,") and (")+"".concat(p,") of Tensors with shapes ").concat(c.shape," and ")+"".concat(u.shape," and transposeA=").concat(a)+" and transposeB=".concat(r," must match.")));const b=tA(c.shape.slice(0,-2),u.shape.slice(0,-2)).concat([h,f]),x=$P(c,a?[y,d,h]:[y,h,d]),w=$P(u,r?[v,f,p]:[v,p,f]);let k,S;null!=o&&(k=YT(o,"bias","fused matMul"),[k]=OT(k,c),tA(b,k.shape)),null!=s&&(S=YT(s,"prelu weights","fused matMul"));const C=(e,t)=>{const[n,s,l,c]=t,u=yL($P(e,l.shape),l,i);let d,p;if(a||r?!a&&r?(d=ER(u,s,!1,!1),p=ER(u,n,!0,!1)):a&&!r?(d=ER(s,u,!1,!0),p=ER(n,u,!1,!1)):(d=ER(s,u,!0,!0),p=ER(u,n,!0,!0)):(d=ER(u,s,!1,!0),p=ER(n,u,!0,!1)),null!=o){return[d,p,vL(c,u)]}return[d,p]},E={a:x,b:w,bias:k,preluActivationWeights:S},_={transposeA:a,transposeB:r,activation:i,leakyreluAlpha:l};if(null==o){const e=lP(((e,t,n)=>{const a=jT.runKernel(SN,E,_);return n([e,t,a]),{value:$P(a,b),gradFunc:C}}));return e(x,w)}{const e=lP(((e,t,n,a)=>{const r=jT.runKernel(SN,E,_);return a([e,t,r,n]),{value:$P(r,b),gradFunc:C}}));return e(x,w,k)}}});const _L=ZT({hammingWindow_:function(e){return fL(e,.54,.46)}});const IL=ZT({hannWindow_:function(e){return fL(e,.5,.5)}});const NL=ZT({frame_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0;const i=[];for(;o+t<=e.size;)i.push(nF(e,o,t)),o+=n;if(a)for(;o<e.size;){const a=o+t-e.size,s=eF([nF(e,o,t-a),hP([a],r)]);i.push(s),o+=n}return 0===i.length?KM([],[0,t]):$P(eF(i),[i.length,t])}});const TL=ZT({stft_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:IL;null==a&&(a=hL(t));const o=NL(e,t,n),i=JA(o,r(t));return BM(i,a)}});const OL=ZT({cropAndResize_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=YT(e,"image","cropAndResize"),s=YT(t,"boxes","cropAndResize","float32"),l=YT(n,"boxInd","cropAndResize","int32"),c=s.shape[0];xC(4===i.rank,(()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(i.rank,"."))),xC(2===s.rank&&4===s.shape[1],(()=>"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(s.shape,"."))),xC(1===l.rank&&l.shape[0]===c,(()=>"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(s.shape,"."))),xC(2===a.length,(()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(a.length,"."))),xC(a[0]>=1&&a[1]>=1,(()=>"cropSize must be atleast [1,1], but was ".concat(a))),xC("bilinear"===r||"nearest"===r,(()=>"method must be bilinear or nearest, but was ".concat(r)));const u={image:i,boxes:s,boxInd:l},d={method:r,extrapolationValue:o,cropSize:a};return jT.runKernel(JE,u,d)}});const RL=ZT({flipLeftRight_:function(e){const t=YT(e,"image","flipLeftRight","float32");xC(4===t.rank,(()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")));const n={image:t};return jT.runKernel(x_,n,{})}});const AL=ZT({grayscaleToRGB_:function(e){const t=YT(e,"image","grayscaleToRGB"),n=t.rank-1,a=t.shape[n];xC(t.rank>=2,(()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),xC(1===a,(()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(a,".")));const r=new Array(t.rank);return r.fill(1,0,n),r[n]=3,oD(t,r)}});const PL=ZT({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const r=YT(e,"image","rotateWithOffset","float32");xC(4===r.rank,(()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(r.rank,".")));const o={image:r},i={radians:t,fillValue:n,center:a};return jT.runKernel(kN,o,i)}});function FL(e,t,n,a,r,o){null==a&&(a=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==o&&(o=0);const i=e.shape[0];return n=Math.min(n,i),xC(0<=a&&a<=1,(()=>"iouThreshold must be in [0, 1], but was '".concat(a,"'"))),xC(2===e.rank,(()=>"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'"))),xC(4===e.shape[1],(()=>"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1]))),xC(1===t.rank,(()=>"scores must be a 1D tensor")),xC(t.shape[0]===i,(()=>"scores has incompatible shape with boxes. Expected ".concat(i,", ")+"but was ".concat(t.shape[0]))),xC(0<=o&&o<=1,(()=>"softNmsSigma must be in [0, 1], but was '".concat(o,"'"))),{maxOutputSize:n,iouThreshold:a,scoreThreshold:r,softNmsSigma:o}}const DL=ZT({nonMaxSuppression_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=YT(e,"boxes","nonMaxSuppression","float32"),i=YT(t,"scores","nonMaxSuppression","float32"),s=FL(o,i,n,a,r);n=s.maxOutputSize,a=s.iouThreshold,r=s.scoreThreshold;const l={maxOutputSize:n,iouThreshold:a,scoreThreshold:r};return jT.runKernel(uI,{boxes:o,scores:i},l)}});function ML(e,t,n){const a=function(e,t,n){return function(e,t,n){let a=0,r=e.length,o=0,i=!1;for(;a<r;){o=a+(r-a>>>1);const s=n(t,e[o]);s>0?a=o+1:(r=o,i=!s)}return i?a:-a-1}(e,t,n||LL)}(e,t,n),r=a<0?-(a+1):a;e.splice(r,0,t)}function LL(e,t){return e>t?1:e<t?-1:0}function zL(e,t,n,a,r){return WL(e,t,n,a,r,0)}function jL(e,t,n,a,r,o){return WL(e,t,n,a,r,0,!1,o,!0)}function BL(e,t,n,a,r,o){return WL(e,t,n,a,r,o,!0)}function WL(e,t,n,a,r,o){let i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const c=[];for(let g=0;g<t.length;g++)t[g]>r&&c.push({score:t[g],boxIndex:g,suppressBeginIndex:0});c.sort(GL);const u=o>0?-.5/o:0,d=[],p=[];for(;d.length<n&&c.length>0;){const t=c.pop(),{score:n,boxIndex:o,suppressBeginIndex:i}=t;if(n<r)break;let s=!1;for(let l=d.length-1;l>=i;--l){const n=VL(e,o,d[l]);if(n>=a){s=!0;break}if(t.score=t.score*UL(a,u,n),t.score<=r)break}t.suppressBeginIndex=d.length,s||(t.score===n?(d.push(o),p.push(t.score)):t.score>r&&ML(c,t,GL))}const h=d.length,f=n-h;s&&f>0&&(d.push(...new Array(f).fill(0)),p.push(...new Array(f).fill(0)));const m={selectedIndices:d};return i&&(m.selectedScores=p),l&&(m.validOutputs=h),m}function VL(e,t,n){const a=e.subarray(4*t,4*t+4),r=e.subarray(4*n,4*n+4),o=Math.min(a[0],a[2]),i=Math.min(a[1],a[3]),s=Math.max(a[0],a[2]),l=Math.max(a[1],a[3]),c=Math.min(r[0],r[2]),u=Math.min(r[1],r[3]),d=Math.max(r[0],r[2]),p=Math.max(r[1],r[3]),h=(s-o)*(l-i),f=(d-c)*(p-u);if(h<=0||f<=0)return 0;const m=Math.max(o,c),g=Math.max(i,u),y=Math.min(s,d),v=Math.min(l,p),b=Math.max(y-m,0)*Math.max(v-g,0);return b/(h+f-b)}function UL(e,t,n){const a=Math.exp(t*n*n);return n<=e?a:0}function GL(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const HL=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=YT(e,"boxes","nonMaxSuppressionAsync"),i=YT(t,"scores","nonMaxSuppressionAsync"),s=FL(o,i,n,a,r);n=s.maxOutputSize,a=s.iouThreshold,r=s.scoreThreshold;const l=await Promise.all([o.data(),i.data()]),c=l[0],u=l[1],{selectedIndices:d}=zL(c,u,n,a,r);return o!==e&&o.dispose(),i!==t&&i.dispose(),XM(d,"int32")};const qL=ZT({nonMaxSuppressionWithScore_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=YT(e,"boxes","nonMaxSuppression"),s=YT(t,"scores","nonMaxSuppression"),l=FL(i,s,n,a,r,o);n=l.maxOutputSize,a=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const c={boxes:i,scores:s},u={maxOutputSize:n,iouThreshold:a,scoreThreshold:r,softNmsSigma:o},d=jT.runKernel(pI,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}});const XL=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=YT(e,"boxes","nonMaxSuppressionAsync"),s=YT(t,"scores","nonMaxSuppressionAsync"),l=FL(i,s,n,a,r,o);n=l.maxOutputSize,a=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const c=await Promise.all([i.data(),s.data()]),u=c[0],d=c[1],{selectedIndices:p,selectedScores:h}=BL(u,d,n,a,r,o);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:XM(p,"int32"),selectedScores:XM(h)}};const KL=ZT({nonMaxSuppressionPadded_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=YT(e,"boxes","nonMaxSuppression"),s=YT(t,"scores","nonMaxSuppression"),l=FL(i,s,n,a,r,null),c={boxes:i,scores:s},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:o},d=jT.runKernel(dI,c,u);return{selectedIndices:d[0],validOutputs:d[1]}}});const YL=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=YT(e,"boxes","nonMaxSuppressionAsync"),s=YT(t,"scores","nonMaxSuppressionAsync"),l=FL(i,s,n,a,r,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[p,h]=await Promise.all([i.data(),s.data()]),{selectedIndices:f,validOutputs:m}=jL(p,h,c,u,d,o);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:XM(f,"int32"),validOutputs:uP(m,"int32")}};const QL=ZT({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=YT(e,"images","resizeBilinear");xC(3===r.rank||4===r.rank,(()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(r.rank,"."))),xC(2===t.length,(()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,"."))),xC(!1===a||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let o=r,i=!1;3===r.rank&&(i=!0,o=$P(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,s={images:o},l={alignCorners:n,halfPixelCenters:a,size:t},c=jT.runKernel(OI,s,l);return i?$P(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const $L=ZT({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=YT(e,"images","resizeNearestNeighbor");xC(3===r.rank||4===r.rank,(()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(r.rank,"."))),xC(2===t.length,(()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,"."))),xC("float32"===r.dtype||"int32"===r.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),xC(!1===a||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let o=r,i=!1;3===r.rank&&(i=!0,o=$P(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,s={images:o},l={alignCorners:n,halfPixelCenters:a,size:t},c=jT.runKernel(NI,s,l);return i?$P(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const ZL=ZT({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const r=YT(e,"image","threshold"),o=r.shape[0]*r.shape[1];let i,s,l,c,u=JA(XM([a]),255);if(xC(3===r.rank,(()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(r.rank,"."))),xC(3===r.shape[2]||1===r.shape[2],(()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(r.shape[2],"."))),xC("int32"===r.dtype||"float32"===r.dtype,(()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(r.dtype,"."))),xC("otsu"===t||"binary"===t,(()=>"Method must be binary or otsu, but was ".concat(t))),3===r.shape[2]){[i,s,l]=jM(r,[1,1,1],-1);const e=JA(i,.2989),t=JA(s,.587),n=JA(l,.114);c=QA(QA(e,t),n)}else c=e;if("otsu"===t){u=function(e,t){let n,a,r,o,i,s,l=XM([-1]),c=XM([0]),u=XM([0]);for(let d=0;d<e.size-1;d++){n=nF(e,0,d+1),a=nF(e,d+1),i=ZA(ZF(n),t),s=ZA(ZF(a),t);const p=ZF(JA(n,fM(0,n.size)));r=ZA(p,ZF(n));const h=hP(a.shape,n.size),f=QA(fM(0,a.size),h),m=JA(a,f);o=ZA(ZF(m),ZF(a));const g=gP(r,o),y=gP(r,o),v=JA(i,s);u=JA(JA(v,g),y);const b=cD(u,c);c=MF(b,u,c),l=MF(b,XM([d]),l)}return l}(uF(nR(SM(c),"int32"),tO([]),256),o)}const d=n?gD(c,u):cD(c,u);return nR(JA(d,255),"int32")}});const JL=ZT({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;const i=YT(e,"image","transform","float32"),s=YT(t,"transforms","transform","float32");xC(4===i.rank,(()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(i.rank,"."))),xC(2===s.rank&&(s.shape[0]===i.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),xC(null==o||2===o.length,(()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,".")));const l={image:i,transforms:s},c={interpolation:n,fillMode:a,fillValue:r,outputShape:o};return jT.runKernel(hN,l,c)}});const ez=ZT({bandPart_:function(e,t,n){xC(t%1===0,(()=>"bandPart(): numLower must be an integer, got ".concat(t,"."))),xC(n%1===0,(()=>"bandPart(): numUpper must be an integer, got ".concat(n,".")));const a=YT(e,"a","bandPart");xC(a.rank>=2,(()=>"bandPart(): Rank must be at least 2, got ".concat(a.rank,".")));const r=a.shape,[o,i]=a.shape.slice(-2);if(!(t<=o))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(o,")."));if(!(n<=i))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(i,")."));t<0&&(t=o),n<0&&(n=i);const s=$P(fM(0,o,1,"int32"),[-1,1]),l=fM(0,i,1,"int32"),c=gP(s,l),u=ED(gD(c,uP(+t,"int32")),uD(c,uP(-n,"int32"))),d=MD([o,i],a.dtype);return $P(UM(nL($P(a,[-1,o,i])).map((e=>MF(u,e,d)))),r)}});const tz=ZT({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,xC(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)xC(e[t].shape[0]===n,(()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")))}else t=!0,e=jM(e,e.shape[0],0).map((e=>VM(e,[0])));xC(e.length<=e[0].shape[0],(()=>"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")));const n=[],a=e;for(let r=0;r<e.length;++r)n.push(jT.tidy((()=>{let e=a[r];if(r>0)for(let t=0;t<r;++t){const a=JA(ZF(JA(n[t],e)),n[t]);e=gP(e,a)}return ZA(e,eD(e,"euclidean"))})));return t?UM(n,0):n}});function nz(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return jT.tidy((()=>{xC(2===e.shape.length,(()=>"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")));const n=e.shape[0],a=e.shape[1];let r=iD(n),o=aR(e);const i=KM([[1]],[1,1]);let s=aR(i);const l=n>=a?a:n;for(let e=0;e<l;++e){const t=o,l=s,c=r;[s,o,r]=jT.tidy((()=>{const t=nF(o,[e,e],[n-e,1]),l=eD(t),c=nF(o,[e,e],[1,1]),u=MF(cD(c,0),KM([[-1]]),KM([[1]])),d=gP(c,JA(u,l)),p=ZA(t,d);s=1===p.shape[0]?aR(i):eF([i,nF(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=YR(ZA(ER(u,d),l)),f=nF(o,[e,0],[n-e,a]),m=JA(h,s),g=$R(s);if(0===e)o=gP(f,ER(m,ER(g,f)));else{const t=gP(f,ER(m,ER(g,f)));o=eF([nF(o,[0,0],[e,a]),t],0)}const y=$R(m),v=nF(r,[0,e],[n,r.shape[1]-e]);if(0===e)r=gP(v,ER(ER(v,s),y));else{const t=gP(v,ER(ER(v,s),y));r=eF([nF(r,[0,0],[n,e]),t],1)}return[s,o,r]})),MR([t,l,c])}return!t&&n>a&&(r=nF(r,[0,0],[n,a]),o=nF(o,[0,0],[a,a])),[r,o]}))}const az=ZT({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(xC(e.rank>=2,(()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank))),2===e.rank)return nz(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),a=nL($P(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),r=[],o=[];a.forEach((e=>{const[n,a]=nz(e,t);r.push(n),o.push(a)}));return[$P(UM(r,0),e.shape),$P(UM(o,0),e.shape)]}}});var rz;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(rz||(rz={}));const oz=ZT({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rz.SUM_BY_NONZERO_WEIGHTS;const a=YT(e,"losses","computeWeightedLoss");let r=null;null!=t&&(r=YT(t,"weights","computeWeightedLoss"));const o=null==r?a:JA(a,r);if(n===rz.NONE)return o;if(n===rz.SUM)return ZF(o);if(n===rz.MEAN){if(null==r)return DD(o);{const e=a.size/r.size,t=ZA(ZF(o),ZF(r));return e>1?ZA(t,uP(e)):t}}if(n===rz.SUM_BY_NONZERO_WEIGHTS){if(null==r)return ZA(ZF(o),uP(a.size));{const e=JA(r,LD(a.shape)),t=nR(ZF(HD(e,uP(0))),"float32");return ZA(ZF(o),t)}}throw Error("Unknown reduction: ".concat(n))}});const iz=ZT({absoluteDifference_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rz.SUM_BY_NONZERO_WEIGHTS;const r=YT(e,"labels","absoluteDifference"),o=YT(t,"predictions","absoluteDifference");let i=null;null!=n&&(i=YT(n,"weights","absoluteDifference")),wC(r.shape,o.shape,"Error in absoluteDifference: ");const s=vP(gP(r,o));return oz(s,i,a)}});const sz=ZT({cosineDistance_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rz.SUM_BY_NONZERO_WEIGHTS;const o=YT(e,"labels","cosineDistance"),i=YT(t,"predictions","cosineDistance");let s=null;null!=a&&(s=YT(a,"weights","cosineDistance")),wC(o.shape,i.shape,"Error in cosineDistance: ");const l=uP(1),c=gP(l,ZF(JA(o,i),n,!0));return oz(c,s,r)}});const lz=ZT({hingeLoss_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rz.SUM_BY_NONZERO_WEIGHTS,r=YT(e,"labels","hingeLoss");const o=YT(t,"predictions","hingeLoss");let i=null;null!=n&&(i=YT(n,"weights","hingeLoss")),wC(r.shape,o.shape,"Error in hingeLoss: ");const s=uP(1);r=gP(JA(uP(2),r),s);const l=gM(gP(s,JA(r,o)));return oz(l,i,a)}});const cz=ZT({huberLoss_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rz.SUM_BY_NONZERO_WEIGHTS;const o=YT(e,"labels","huberLoss"),i=YT(t,"predictions","huberLoss");let s=null;null!=n&&(s=YT(n,"weights","huberLoss")),wC(o.shape,i.shape,"Error in huberLoss: ");const l=uP(a),c=vP(gP(i,o)),u=jD(c,l),d=gP(c,u),p=QA(JA(uP(.5),tP(u)),JA(l,d));return oz(p,s,r)}});const uz=ZT({logLoss_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rz.SUM_BY_NONZERO_WEIGHTS;const o=YT(e,"labels","logLoss"),i=YT(t,"predictions","logLoss");let s=null;null!=n&&(s=YT(n,"weights","logLoss")),wC(o.shape,i.shape,"Error in logLoss: ");const l=uP(1),c=uP(a),u=YR(JA(o,bD(QA(i,c)))),d=JA(gP(l,o),bD(QA(gP(l,i),c))),p=gP(u,d);return oz(p,s,r)}});const dz=ZT({meanSquaredError_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rz.SUM_BY_NONZERO_WEIGHTS;const r=YT(e,"labels","meanSquaredError"),o=YT(t,"predictions","meanSquaredError");let i=null;null!=n&&(i=YT(n,"weights","meanSquaredError")),wC(r.shape,o.shape,"Error in meanSquaredError: ");const s=WM(r,o);return oz(s,i,a)}});const pz=ZT({sigmoidCrossEntropy_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rz.SUM_BY_NONZERO_WEIGHTS,o=YT(e,"multiClassLabels","sigmoidCrossEntropy");const i=YT(t,"logits","sigmoidCrossEntropy");let s=null;if(null!=n&&(s=YT(n,"weights","sigmoidCrossEntropy")),wC(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),a>0){const e=uP(a),t=uP(1),n=uP(.5);o=QA(JA(o,gP(t,e)),JA(n,e))}const l=function(e,t){const n=YT(e,"labels","sigmoidCrossEntropyWithLogits"),a=YT(t,"logits","sigmoidCrossEntropyWithLogits");wC(n.shape,a.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=gM(a),o=JA(a,n),i=xD(nD(YR(vP(a))));return QA(gP(r,o),i)}(o,i);return oz(l,s,r)}});const hz=ZT({softmaxCrossEntropy_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rz.SUM_BY_NONZERO_WEIGHTS,o=YT(e,"onehotLabels","softmaxCrossEntropy");const i=YT(t,"logits","softmaxCrossEntropy");let s=null;if(null!=n&&(s=YT(n,"weights","softmaxCrossEntropy")),wC(o.shape,i.shape,"Error in softmaxCrossEntropy: "),a>0){const e=uP(a),t=uP(1),n=uP(o.shape[1]);o=QA(JA(o,gP(t,e)),ZA(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));const a=lP(((e,t,a)=>{const r=CD(t,[n],!0),o=gP(nR(t,"float32"),r);a([e,o]);const i=YR(JA(o,e));return{value:ZF(i,[n]),gradFunc:(e,t)=>{const[a,r]=t,o=HF(e.shape,[n]);return[JA($P(e,o),gP(nR(a,"float32"),nD(r))),JA($P(e,o),gP(nD(r),nR(a,"float32")))]}}}));return a(e,t)}(o,i);return oz(l,s,r)}});const fz=ZT({sparseFillEmptyRows_:function(e,t,n,a){const r=YT(e,"indices","sparseFillEmptyRows","int32"),o=YT(t,"values","sparseFillEmptyRows"),i=YT(n,"denseShape","sparseFillEmptyRows","int32"),s=YT(a,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==r.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==o.rank)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(1!==i.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(i.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));const l={indices:r,values:o,denseShape:i,defaultValue:s},c=jT.runKernel($I,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});const mz=ZT({sparseReshape_:function(e,t,n){const a=YT(e,"inputIndices","sparseReshape","int32"),r=YT(t,"inputShape","sparseReshape","int32"),o=YT(n,"newShape","sparseReshape","int32");if(2!==a.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==r.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(r.shape));if(1!==o.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));const i={inputIndices:a,inputShape:r,newShape:o},s=jT.runKernel(ZI,i);return{outputIndices:s[0],outputShape:s[1]}}});const gz=ZT({sparseSegmentMean_:function(e,t,n){const a=YT(e,"data","sparseSegmentMean"),r=YT(t,"indices","sparseSegmentMean","int32"),o=YT(n,"segmentIds","sparseSegmentMean","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(r.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));const i={data:a,indices:r,segmentIds:o};return jT.runKernel(JI,i)}});const yz=ZT({sparseSegmentSum_:function(e,t,n){const a=YT(e,"data","sparseSegmentSum"),r=YT(t,"indices","sparseSegmentSum","int32"),o=YT(n,"segmentIds","sparseSegmentSum","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(r.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));const i={data:a,indices:r,segmentIds:o};return jT.runKernel(eN,i)}});const vz=ZT({stringNGrams_:function(e,t,n,a,r,o,i,s){const l=YT(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error("Data must be a vector, saw: ".concat(l.shape));const c=YT(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:a,leftPad:r,rightPad:o,padWidth:i,preserveShortSequences:s},d={data:l,dataSplits:c},p=jT.runKernel(oN,d,u);return{nGrams:p[0],nGramsSplits:p[1]}}});const bz=ZT({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=YT(e,"input","stringSplit","string"),r=YT(t,"delimiter","stringSplit","string");if(1!==a.rank)throw new Error("Input should be Tensor1D but received shape ".concat(a.shape));if(0!==r.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(r.shape));const o={skipEmpty:n},i={input:a,delimiter:r},s=jT.runKernel(iN,i,o);return{indices:s[0],values:s[1],shape:s[2]}}});const xz=ZT({stringToHashBucketFast_:function(e,t){const n=YT(e,"input","stringToHashBucketFast","string"),a={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return jT.runKernel(sN,r,a)}}),wz={fft:MM,ifft:LM,rfft:BM,irfft:zM},kz={hammingWindow:_L,hannWindow:IL,frame:NL,stft:TL},Sz={flipLeftRight:RL,grayscaleToRGB:AL,resizeNearestNeighbor:$L,resizeBilinear:QL,rotateWithOffset:PL,cropAndResize:OL,nonMaxSuppression:DL,nonMaxSuppressionAsync:HL,nonMaxSuppressionWithScore:qL,nonMaxSuppressionWithScoreAsync:XL,nonMaxSuppressionPadded:KL,nonMaxSuppressionPaddedAsync:YL,threshold:ZL,transform:JL},Cz={bandPart:ez,gramSchmidt:tz,qr:az},Ez={absoluteDifference:iz,computeWeightedLoss:oz,cosineDistance:sz,hingeLoss:lz,huberLoss:cz,logLoss:uz,meanSquaredError:dz,sigmoidCrossEntropy:pz,softmaxCrossEntropy:hz},_z={sparseFillEmptyRows:fz,sparseReshape:mz,sparseSegmentMean:gz,sparseSegmentSum:yz},Iz={stringNGrams:vz,stringSplit:bz,stringToHashBucketFast:xz},Nz={sgd:CP.sgd,momentum:CP.momentum,adadelta:CP.adadelta,adagrad:CP.adagrad,rmsprop:CP.rmsprop,adamax:CP.adamax,adam:CP.adam},Tz="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function Oz(){return new Promise((e=>Tz((()=>e()))))}function Rz(e,t){const n=e[0].length;e.forEach(((e,t)=>{xC(e.length===n,(()=>"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")))})),xC(t>=0&&t<n,(()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")));const a=e[0];e.forEach(((e,r)=>{for(let o=0;o<n;o++)xC(o===t||e[o]===a[o],(()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(r,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(a,") ")+"along the non-concatenated axis ".concat(r,".")))}))}function Az(e,t){const n=e[0].slice();for(let a=1;a<e.length;a++)n[t]+=e[a][t];return n}var Pz;function Fz(e,t,n){let a=new Array;if(null==n&&null==t)return a;if(null==t)for(;a.length<e+n.length;)a.push(-1);else a=t.slice();if(null==n)return a;if(e+n.length!==a.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(a.length));for(let r=1;r<n.length;++r){const o=n[r],i=a[a.length-n.length+r],s=a[i];if(o>=0)if(s>=0){if(s!==o)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(r+e,"] = ").concat(o," but shape[").concat(r+e,"] = ").concat(s))}else a[i]=o}return a}function Dz(e){const t={FIRST_DIM_SIZE:Pz.FIRST_DIM_SIZE,VALUE_ROWIDS:Pz.VALUE_ROWIDS,ROW_LENGTHS:Pz.ROW_LENGTHS,ROW_SPLITS:Pz.ROW_SPLITS,ROW_LIMITS:Pz.ROW_LIMITS,ROW_STARTS:Pz.ROW_STARTS},n=[];for(const a of e){if(!(a in t))break;n.push(t[a])}return n}function Mz(e){return 0===e.length?0:e[0]===Pz.FIRST_DIM_SIZE?e.length-1:e.length}function Lz(e,t){if(null==e||null==t)return;const n=e.length,a=t.length;if(n>=a)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(a,")"));for(let r=0;r<Math.min(n,a-1);++r){const n=e[r],a=t[r+1];if(n>=0&&a>=0&&1!==n&&n!==a)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(r-e.length,"] = ").concat(n," but ragged tensor input.flatValues.shape[").concat(r-e.length,"] = ").concat(a))}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(Pz||(Pz={}));const zz=30;function jz(e){return e<=zz?e:YC(e,Math.floor(Math.sqrt(e)))}function Bz(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Wz(e,t,n){let a=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])a=a.concat(t.slice(0)),a.push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)a=a.concat([e[r+1]/t[r],t[r]]);a=a.concat(e.slice(n+1))}return a}function Vz(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let a=t+1;a<e;++a)a<=2*t?(n.push(a),n.push(a-(t+1))):n.push(a)}else{const a=[],r=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?r.push(n):a.push(n);n.push(...a),n.push(0),n.push(...r)}return n}function Uz(e,t,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=[];a?r.push(e[0]/n):r.push(e[0]*n);for(let o=1;o<e.length;++o)o<=t.length?a?r.push(t[o-1]*e[o]):r.push(e[o]/t[o-1]):r.push(e[o]);return r}function Gz(e,t){const n=[0];for(let a=0;a<t;++a)n.push(e[a][0]);return n}function Hz(e,t,n){const a=e.slice(0,1);for(let r=0;r<n;++r)a.push(e[r+1]-t[r][0]-t[r][1]);return a}const qz=1.7580993408473768,Xz=1.0507009873554805,Kz=.3275911,Yz=.254829592,Qz=-.284496736,$z=1.421413741,Zz=-1.453152027,Jz=1.061405429;function ej(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));const n=new Float32Array(2*e.length);for(let a=0;a<n.length;a+=2)n[a]=e[a/2],n[a+1]=t[a/2];return n}function tj(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let a=0;a<e.length;a+=2)t[a/2]=e[a],n[a/2]=e[a+1];return{real:t,imag:n}}function nj(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let r=0;r<e.length;r+=4)n[Math.floor(r/4)]=e[r],a[Math.floor(r/4)]=e[r+1];return{real:n,imag:a}}function aj(e){const t=Math.floor(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let r=2;r<e.length;r+=4)n[Math.floor(r/4)]=e[r],a[Math.floor(r/4)]=e[r+1];return{real:n,imag:a}}function rj(e,t){return{real:e[2*t],imag:e[2*t+1]}}function oj(e,t,n,a){e[2*a]=t,e[2*a+1]=n}function ij(e,t){const n=new Float32Array(e/2),a=new Float32Array(e/2);for(let r=0;r<Math.ceil(e/2);r++){const o=(t?2:-2)*Math.PI*(r/e);n[r]=Math.cos(o),a[r]=Math.sin(o)}return{real:n,imag:a}}function sj(e,t,n){const a=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(a),imag:Math.sin(a)}}const lj="->",cj=/->/g,uj=",",dj="...";function pj(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(cj,"").length)/lj.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(lj,'").'));const[a,r]=e.split(lj);xC(-1===a.indexOf(dj),(()=>'The ellipsis notation ("'.concat(dj,'") is not supported yet.')));const o=a.split(uj),i=o.length;if(t!==i)throw new Error("Expected ".concat(i," input tensors, received ").concat(t));if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<r.length;++d){const e=r[d];if(!o.some((t=>-1!==t.indexOf(e))))throw new Error("Output subscripts contain the label ".concat(e," ")+"not present in the input subscripts.");-1===s.indexOf(e)&&s.push(e)}for(let d=0;d<a.length;++d){const e=a[d];-1===s.indexOf(e)&&e!==uj&&s.push(e)}const l=new Array(o.length);for(let d=0;d<i;++d){if(new Set(o[d].split("")).size!==o[d].length)throw new Error("Found duplicate axes in input component ".concat(o[d],". ")+"Support for duplicate axes in input is not implemented yet.");l[d]=[];for(let e=0;e<o[d].length;++e)l[d].push(s.indexOf(o[d][e]))}const c=s.length,u=[];for(let d=r.length;d<c;++d)u.push(d);return{allDims:s,summedDims:u,idDims:l}}function hj(e,t){let n=new Array(e);n.fill(-1);for(let r=0;r<t.length;++r)n[t[r]]=r;const a=[];for(let r=0;r<e;++r)-1===n[r]&&a.push(r);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:a}}function fj(e,t,n){const a=new Array(e);for(let r=0;r<n.length;++r){const e=n[r].shape;for(let n=0;n<t[r].length;++n)void 0===a[t[r][n]]?a[t[r][n]]=e[n]:xC(a[t[r][n]]===e[n],(()=>"Expected dimension ".concat(a[t[r][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(e),", ")+"but got dimension ".concat(e[n])))}}function mj(e,t){const n=e,a=[];let r=0;0===e.length&&n.push(-1),r=e.length+1;for(let i=0;i<r;++i)a.push([]);const o=[];for(let i=0;i<n.length;++i){const e=yj(t,n[i]);for(const t of e)-1===o.indexOf(t)&&(a[i].push(t),o.push(t))}return{path:n,steps:a}}function gj(e){return e.every(((e,t)=>e===t))}function yj(e,t){const n=[];for(let a=0;a<e.length;++a)0!==e[a].length&&-1===e[a].indexOf(t)&&-1!==t||n.push(a);return n}function vj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=[];if("number"===typeof t)xC(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),a=new Array(t).fill(e.shape[n]/t);else{xC(t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0)<=1,(()=>"There should be only one negative value in split array."));const r=t.indexOf(-1);if(-1!==r){const a=t.reduce(((e,t)=>t>0?e+t:e));t[r]=e.shape[n]-a}xC(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),a=t}return a}function bj(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function xj(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function wj(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function kj(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function Sj(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function Cj(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Ej(e,t){const n=CC(e),a=CC(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(a,". inputShape=").concat(e," outputShape= ").concat(t)}function _j(e,t){const n=CC(e),a=CC(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(a,". inputShape=").concat(e," outputShape=").concat(t)}function Ij(){return"segment ids must be >= 0"}function Nj(){return"segment ids are not increasing"}function Tj(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function Oj(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function Rj(e,t){let n,a=!1;for(e<=zz?(n=e,a=!0):n=YC(e,Math.floor(Math.sqrt(e)));!a;)n>t||n===e?a=!0:n=YC(e,n+1);return n}function Aj(e,t,n){const a=[],r=e.length;for(let o=0;o<r;o++)o!==t?a.push(e[o]):a.push(n);return a}function Pj(e,t,n,a){const r=t.shape.length,o=e.shape.length;if(0!==a&&(a<-r||a>r))throw new Error("Expect batchDims in the range of [-".concat(r,", ").concat(r,"], but got ").concat(a));if(a<0&&(a+=r),a>o)throw new Error("batchDims (".concat(a,") must be less than rank(x) (\n    ").concat(o,")."));if(n<a)throw new Error("batchDims (".concat(a,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<a;++d)if(e.shape[d]!==t.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(e.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(t.shape[d],"."));const i=e.shape[n],s=[];let l=1,c=1,u=1;for(let d=0;d<a;++d)s.push(e.shape[d]),l*=e.shape[d];for(let d=a;d<n;d++)s.push(e.shape[d]),c*=e.shape[d];for(let d=a;d<r;d++)s.push(t.shape[d]);for(let d=n+1;d<o;d++)s.push(e.shape[d]),u*=e.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:i,outputShape:s}}function Fj(e){try{return e.map((e=>rT(e)))}catch(S5){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(S5))}}function Dj(e){return e.map((e=>aT(e)))}var Mj,Lj;cE().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(Mj||(Mj={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Lj||(Lj={}));const zj={};function jj(e){return zj[e]}function Bj(e,t,n,a,r){const o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){const e=o.inputIndexStart,i=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?e+1:o.inputIndexEnd;if("tensor"===o.type)return Wj(t.inputNames[o.inputIndexStart],n,a,r);if("tensors"===o.type){return t.inputNames.slice(e,i).map((e=>Wj(e,n,a,r)))}const s=Wj(t.inputNames.slice(e)[0],n,a,r),l=s.dataSync();return"number"===o.type?l[0]:ZC(s.shape,l)}const i=t.attrParams[e];return i&&i.value}function Wj(e,t,n,a){const[r,o]=Gj(e);if(null!=a){const e=a.getHashTableHandleByName(r);if(null!=e)return e}const i=n.currentContextIds.find((e=>!!t[Uj(r,e)]));return void 0!==i?t[Uj(r,i)][o]:void 0}function Vj(e,t){const[n,a,r]=Gj(e);return[Uj(n,t&&t.currentContextId),a,r]}function Uj(e,t){return t?"".concat(e,"-").concat(t):e}function Gj(e){const t=e.split(":");if(1===t.length)return[e,0,void 0];const n=t[0],a=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),a]}function Hj(e,t,n){let a=Bj("pad",e,t,n);if("explicit"===a){a=Bj("explicitPaddings",e,t,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)r[e][0]=a[2*e],r[e][1]=a[2*e+1];return r}return a}function qj(e){return e.kept?e:aR(e)}const Xj=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Kj=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Yj=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Qj=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],$j=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Zj=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Jj=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],eB=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],tB=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],nB=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],aB=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],rB=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],oB=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],iB=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],sB=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],lB=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],cB=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],uB=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],dB=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class pB{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[b,x,w,k,S,C,E,_,I,N,T,O,R,A,P,F,D,M,L].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,a=[],r=[],o=[],i=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?a.push(e[t.name]):"Const"===t.op?r.push(e[t.name]):null!=t.input&&0!==t.input.length||o.push(e[t.name]),e)),{});let s=[];const l=[];let c={},u={};null!=t&&(c=this.mapSignatureEntries(t.inputs),u=this.mapSignatureEntries(t.outputs));const d=Object.keys(i);d.forEach((e=>{const t=i[e];t.inputNames.forEach(((e,n)=>{const[a,,r]=Vj(e),o=i[a];if(null!=o.outputs){const e=o.outputs.indexOf(r);if(-1!==e){const r="".concat(a,":").concat(e);t.inputNames[n]=r}}t.inputs.push(o),o.children.push(t)}))})),0===Object.keys(u).length?d.forEach((e=>{const t=i[e];0===t.children.length&&l.push(t)})):Object.keys(u).forEach((e=>{const[t]=Vj(e),n=i[t];null!=n&&(n.signatureKey=u[e],l.push(n))})),Object.keys(c).length>0?Object.keys(c).forEach((e=>{const[t]=Vj(e),n=i[t];n&&(n.signatureKey=c[e],s.push(n))})):s=a;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:i,inputs:s,outputs:l,weights:r,placeholders:a,signature:t,functions:p};return o.length>0&&(h.initNodes=o),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=jj(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const a=n.type;let r;switch(n.type){case"string":r=fB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=fB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":r=CB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=CB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":r=gB(e.attr,n.tfName,n.defaultValue||0),void 0===r&&n.tfDeprecatedName&&(r=gB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":r=SB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=SB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":r=mB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=mB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":r=_B(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=_B(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":r=kB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=kB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":r=EB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=EB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":r=bB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=bB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":r=xB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=xB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":r=vB(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=vB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:r,type:a},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let a={};null!=t&&(a=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const r=[],o=[];e.signature.inputArg.forEach((e=>{const[t]=Vj(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:yB(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,r.push(n),a[t]=n}));Object.keys(a).forEach((e=>{const t=a[e];t.inputNames.forEach(((e,n)=>{const[r,,o]=Vj(e),i=a[r];if(null!=i.outputs){const e=i.outputs.indexOf(o);if(-1!==e){const a="".concat(r,":").concat(e);t.inputNames[n]=a}}t.inputs.push(i),i.children.push(t)}))}));const i=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=Vj(i[e.name]),r=a[t];null!=r&&(r.defaultOutput=n,o.push(r))}));const s=this.mapArgsToSignature(e);return{nodes:a,inputs:r,outputs:o,weights:n,placeholders:[],signature:s}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function hB(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=cE().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function fB(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e[t];return null!=r?hB(r.s,a):n}function mB(e,t,n){const a=e[t];return a?a.b:n}function gB(e,t,n){const a=e[t]||{},r=null!=a.i?a.i:null!=a.f?a.f:n;return"number"===typeof r?r:parseInt(r,10)}function yB(e){switch("string"===typeof e&&(e=Mj[e]),e){case Mj.DT_FLOAT:case Mj.DT_HALF:return"float32";case Mj.DT_INT32:case Mj.DT_INT64:case Mj.DT_INT8:case Mj.DT_UINT8:return"int32";case Mj.DT_BOOL:return"bool";case Mj.DT_DOUBLE:return"float32";case Mj.DT_STRING:return"string";default:return null}}function vB(e,t,n){const a=e[t];return a&&a.func?a.func.name:n}function bB(e,t,n){const a=e[t];return a&&a.type?yB(a.type):n}function xB(e,t,n){const a=e[t];return a&&a.list&&a.list.type?a.list.type.map((e=>yB(e))):n}function wB(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function kB(e,t,n){const a=e[t];return a&&a.shape?wB(a.shape):n}function SB(e,t,n){const a=e[t];return a?((a.list.f&&a.list.f.length?a.list.f:a.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function CB(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e[t];return r&&r.list&&r.list.s?r.list.s.map((e=>hB(e,a))):n}function EB(e,t,n){const a=e[t];return a&&a.list&&a.list.shape?a.list.shape.map((e=>wB(e))):n}function _B(e,t,n){const a=e[t];return a&&a.list&&a.list.b?a.list.b:n}class IB{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return Wj(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return Wj(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return gB(this.node.rawAttrs,e,t);if(null!=n.s)return fB(this.node.rawAttrs,e,t);if(null!=n.b)return mB(this.node.rawAttrs,e,t);if(null!=n.shape)return kB(this.node.rawAttrs,e,t);if(null!=n.type)return bB(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return SB(this.node.rawAttrs,e,t);if(null!=n.list.s)return CB(this.node.rawAttrs,e,t);if(null!=n.list.shape)return EB(this.node.rawAttrs,e,t);if(null!=n.list.b)return _B(this.node.rawAttrs,e,t);if(null!=n.list.type)return xB(this.node.rawAttrs,e,t)}return t}}function NB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){xC(e.length===t.length,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")));for(let a=0;a<e.length;a++){const r=e[a],o=t[a];xC(r<0||o<0||r===o,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}}}function TB(e){return"number"!==typeof e&&!e.some((e=>e<0))}function OB(e,t,n){let a=RB(e,n);const r=!TB(a);if(r&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(a));if(r&&t.forEach((e=>{a=RB(e.shape,a)})),!TB(a))throw new Error("Non-fully-defined elementShape: ".concat(a));return a}function RB(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));const n=[];for(let a=0;a<e.length;++a){const r=e[a],o=t[a];if(r>=0&&o>=0&&r!==o)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[a]=r>=0?r:o}return n}class AB{constructor(e,t,n,a,r,o,i){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=a,this.identicalElementShapes=r,this.dynamicSize=o,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=uP(0),LR(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),NB(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,LR(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return tO([],[0].concat(this.elementShape));const n=this.readMany(e);return NB(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),UM(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return tO([],[0].concat(this.elementShape));const t=[];for(let a=0;a<this.size();a++)t.push(a);const n=this.readMany(t);return NB(this.elementShape,n[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(n[0].shape,")")),eF(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,nL(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));let n=0;const a=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(n,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const r=0===n?0:t.size/n,o=[];DR((()=>{t=$P(t,[1,n,r]);for(let n=0;n<e.length;++n){const i=[0,0===n?0:a[n-1],0],s=[1,e[n],r];o[n]=$P(nF(t,i,s),this.elementShape)}return o}));const i=[];for(let s=0;s<e.length;s++)i[s]=s;this.writeMany(i,o)}}class PB{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(e.dtype));NB(t,e.shape,"TensorList shape mismatch: "),LR(e)})),this.idTensor=uP(0),this.maxNumElements=a,LR(this.idTensor)}get id(){return this.idTensor.id}copy(){return new PB([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==n&&this.tensors.length!==n)throw new Error("Operation expected a list with ".concat(n," elements but got a list with ").concat(this.tensors.length," elements."));NB(e,this.elementShape,"TensorList shape mismatch: ");const a=OB(this.elementShape,this.tensors,e);return DR((()=>{const e=this.tensors.map((e=>$P(e,a)));return UM(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=OB(this.elementShape,this.tensors,e),a=this.tensors.pop();return a.kept=!1,NB(a.shape,e,"TensorList shape mismatch: "),$P(a,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(NB(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");LR(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const t=new PB([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));NB(this.tensors[e].shape,t,"TensorList shape mismatch: ");const a=OB(this.elementShape,this.tensors,t);return $P(this.tensors[e],a)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));NB(this.elementShape,t.shape,"TensorList shape mismatch: "),LR(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));NB(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const a=OB(this.elementShape,this.tensors,n);return 0===e.length?tO([],[0].concat(a)):DR((()=>{const t=e.map((e=>$P(this.tensors[e],a)));return UM(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));NB(this.elementShape,t,"TensorList shape mismatch: ");const n=OB(this.elementShape,this.tensors,t);return 0===this.size()?tO([],[0].concat(n)):DR((()=>{const e=this.tensors.map((e=>$P(e,n)));return eF(e,0)}))}}const FB=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const a=Bj("thenBranch",e,t,n),r=Bj("elseBranch",e,t,n),o=Bj("cond",e,t,n),i=Bj("args",e,t,n);return(await o.data())[0]?n.functionMap[a].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const a=Bj("body",e,t,n),r=Bj("cond",e,t,n),o=Bj("args",e,t,n),i=await n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),s=o.map((e=>e.id));let l=await i[0].data();i.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||e.dispose()}));let c=o;for(;l[0];){const e=c;c=await n.functionMap[a].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const t=c.map((e=>e.id));e.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const o=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await o[0].data(),o.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return c}case"LoopCond":return[qj(Bj("pred",e,t,n))];case"Switch":{const a=Bj("pred",e,t,n);let r=Bj("data",e,t,n);return r.kept||(r=qj(r)),(await a.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const a=e.inputNames.find((e=>void 0!==Wj(e,t,n)));if(a){return[qj(Wj(a,t,n))]}return}case"Enter":{const a=Bj("frameName",e,t,n),r=Bj("tensor",e,t,n);return n.enterFrame(a),[qj(r)]}case"Exit":{const a=Bj("tensor",e,t,n);return n.exitFrame(),[qj(a)]}case"NextIteration":{const a=Bj("tensor",e,t,n);return n.nextIteration(),[qj(a)]}case"TensorArrayV3":{const a=Bj("size",e,t,n),r=Bj("dtype",e,t,n),o=Bj("elementShape",e,t,n),i=Bj("dynamicSize",e,t,n),s=Bj("clearAfterRead",e,t,n),l=Bj("identicalElementShapes",e,t,n),c=Bj("name",e,t,n),u=new AB(c,r,a,o,l,i,s);return n.addTensorArray(u),[u.idTensor,uP(1)]}case"TensorArrayWriteV3":{const a=Bj("tensorArrayId",e,t,n),r=Bj("index",e,t,n),o=Bj("tensor",e,t,n),i=n.getTensorArray(a.id);return i.write(r,o),[i.idTensor]}case"TensorArrayReadV3":{const a=Bj("tensorArrayId",e,t,n),r=Bj("index",e,t,n);return[n.getTensorArray(a.id).read(r)]}case"TensorArrayGatherV3":{const a=Bj("tensorArrayId",e,t,n),r=Bj("indices",e,t,n),o=Bj("dtype",e,t,n);return[n.getTensorArray(a.id).gather(r,o)]}case"TensorArrayScatterV3":{const a=Bj("tensorArrayId",e,t,n),r=Bj("indices",e,t,n),o=Bj("tensor",e,t,n),i=n.getTensorArray(a.id);return i.scatter(r,o),[i.idTensor]}case"TensorArrayConcatV3":{const a=Bj("tensorArrayId",e,t,n),r=n.getTensorArray(a.id),o=Bj("dtype",e,t,n);return[r.concat(o)]}case"TensorArraySplitV3":{const a=Bj("tensorArrayId",e,t,n),r=Bj("tensor",e,t,n),o=Bj("lengths",e,t,n),i=n.getTensorArray(a.id);return i.split(o,r),[i.idTensor]}case"TensorArraySizeV3":{const a=Bj("tensorArrayId",e,t,n);return[uP(n.getTensorArray(a.id).size(),"int32")]}case"TensorArrayCloseV3":{const a=Bj("tensorArrayId",e,t,n),r=n.getTensorArray(a.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const a=Bj("tensorListId",e,t,n),r=Bj("index",e,t,n),o=Bj("tensor",e,t,n),i=n.getTensorList(a.id);return i.setItem(r,o),[i.idTensor]}case"TensorListGetItem":{const a=Bj("tensorListId",e,t,n),r=Bj("index",e,t,n),o=Bj("elementShape",e,t,n),i=Bj("elementDType",e,t,n);return[n.getTensorList(a.id).getItem(r,o,i)]}case"TensorListScatterV2":case"TensorListScatter":{const a=Bj("indices",e,t,n),r=function(e,t,n,a){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));const r=Math.max(...t);if(null!=a&&-1!==a&&r>=a)throw new Error("Max index must be < array size (".concat(r,"  vs. ").concat(a,")"));const o=new PB([],n,e.dtype,a),i=nL(e,0);return t.forEach(((e,t)=>{o.setItem(e,i[t])})),o}(Bj("tensor",e,t,n),a,Bj("elementShape",e,t,n),Bj("numElements",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const a=Bj("elementShape",e,t,n),r=Bj("elementDType",e,t,n);let o;o="TensorListReserve"===e.op?"numElements":"maxNumElements";const i=Bj(o,e,t,n),s=function(e,t,n,a){return new PB([],e,t,a)}(a,r,0,"TensorListReserve"===e.op?-1:i);return n.addTensorList(s),[s.idTensor]}case"TensorListGather":{const a=Bj("tensorListId",e,t,n),r=Bj("indices",e,t,n),o=Bj("elementShape",e,t,n),i=Bj("elementDType",e,t,n);return[n.getTensorList(a.id).gather(r,i,o)]}case"TensorListStack":{const a=Bj("tensorListId",e,t,n),r=Bj("elementShape",e,t,n),o=Bj("elementDType",e,t,n),i=Bj("numElements",e,t,n);return[n.getTensorList(a.id).stack(r,o,i)]}case"TensorListFromTensor":{const a=function(e,t,n){const a=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));NB(e.shape.slice(1),t,"TensorList shape mismatch: ");const r=nL(e);return new PB(r,t,a)}(Bj("tensor",e,t,n),Bj("elementShape",e,t,n),Bj("elementDType",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const a=Bj("tensorListId",e,t,n),r=n.getTensorList(a.id),o=Bj("dtype",e,t,n),i=Bj("elementShape",e,t,n);return[r.concat(o,i)]}case"TensorListPushBack":{const a=Bj("tensorListId",e,t,n),r=Bj("tensor",e,t,n),o=n.getTensorList(a.id);return o.pushBack(r),[o.idTensor]}case"TensorListPopBack":{const a=Bj("tensorListId",e,t,n),r=Bj("elementShape",e,t,n),o=Bj("elementDType",e,t,n);return[n.getTensorList(a.id).popBack(r,o)]}case"TensorListSplit":{const a=Bj("tensor",e,t,n),r=Bj("elementShape",e,t,n),o=function(e,t,n){let a=0;const r=t.map((e=>(a+=e,a)));if(a!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(a,", and tensor's shape is: ").concat(e.shape));const o=RB(e.shape.slice(1),n),i=0===a?0:e.size/a,s=DR((()=>{const n=[];e=$P(e,[1,a,i]);for(let a=0;a<t.length;++a){const s=[0,0===a?0:r[a-1],0],l=[1,t[a],i];n[a]=$P(nF(e,s,l),o)}return e.dispose(),n})),l=new PB([],n,e.dtype,t.length);for(let c=0;c<s.length;c++)l.setItem(c,s[c]);return l}(a,Bj("lengths",e,t,n),r);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const a=Bj("tensorListId",e,t,n);return[uP(n.getTensorList(a.id).size(),"int32")]}case"TensorListResize":{const a=Bj("tensorListId",e,t,n),r=Bj("size",e,t,n),o=n.getTensorList(a.id).resize(r);return n.addTensorList(o),[o.idTensor]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function DB(e,t,n){const[a,r]=Bj("fusedOps",e,t,n),o="biasadd"===a,i=!o,s="prelu"===r,l="fusedbatchnorm"===a,c=Bj("numArgs",e,t,n);if(o){if(s&&2!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&o&&1!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=Bj("strides",e,t,n),d=Hj(e,t,n),p=Bj("dataFormat",e,t,n).toUpperCase(),h=Bj("dilations",e,t,n);let[f,m]=Bj("args",e,t,n);i&&(m=f,f=void 0);return{stride:u,pad:d,dataFormat:p,dilations:h,biasArg:f,preluArg:m,activationFunc:r,leakyreluAlpha:Bj("leakyreluAlpha",e,t,n)}}function MB(e,t,n){return{boxes:Bj("boxes",e,t,n),scores:Bj("scores",e,t,n),maxOutputSize:Bj("maxOutputSize",e,t,n),iouThreshold:Bj("iouThreshold",e,t,n),scoreThreshold:Bj("scoreThreshold",e,t,n),softNmsSigma:Bj("softNmsSigma",e,t,n)}}class LB{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=uP(0),this.tensorMap=new Map,LR(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return uP(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),DR((()=>{const e=nL(t),a=n.length,r=e.length;xC(a===r,(()=>"The number of elements doesn't match, keys has "+"".concat(a," elements, the values has ").concat(r," ")+"elements."));for(let t=0;t<a;t++){const a=n[t],r=e[t];LR(r),this.tensorMap.set(a,r)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return DR((()=>{const e=[];for(let a=0;a<n.length;a++){const r=n[a],o=this.findWithDefault(r,t);e.push(o)}return UM(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}function zB(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:DR;const o=((e,t,n)=>{switch(e.category){case"arithmetic":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[a.add(Bj("a",e,t,n),Bj("b",e,t,n))];case"AddN":return[a.addN(Bj("tensors",e,t,n))];case"FloorMod":case"Mod":return[a.mod(Bj("a",e,t,n),Bj("b",e,t,n))];case"Mul":return[a.mul(Bj("a",e,t,n),Bj("b",e,t,n))];case"RealDiv":case"Div":return[a.div(Bj("a",e,t,n),Bj("b",e,t,n))];case"DivNoNan":return[a.divNoNan(Bj("a",e,t,n),Bj("b",e,t,n))];case"FloorDiv":return[a.floorDiv(Bj("a",e,t,n),Bj("b",e,t,n))];case"Sub":return[a.sub(Bj("a",e,t,n),Bj("b",e,t,n))];case"Minimum":return[a.minimum(Bj("a",e,t,n),Bj("b",e,t,n))];case"Maximum":return[a.maximum(Bj("a",e,t,n),Bj("b",e,t,n))];case"Pow":return[a.pow(Bj("a",e,t,n),Bj("b",e,t,n))];case"SquaredDifference":return[a.squaredDifference(Bj("a",e,t,n),Bj("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"basic_math":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"Abs":case"ComplexAbs":return[a.abs(Bj("x",e,t,n))];case"Acos":return[a.acos(Bj("x",e,t,n))];case"Acosh":return[a.acosh(Bj("x",e,t,n))];case"Asin":return[a.asin(Bj("x",e,t,n))];case"Asinh":return[a.asinh(Bj("x",e,t,n))];case"Atan":return[a.atan(Bj("x",e,t,n))];case"Atan2":return[a.atan2(Bj("x",e,t,n),Bj("y",e,t,n))];case"Atanh":return[a.atanh(Bj("x",e,t,n))];case"Ceil":return[a.ceil(Bj("x",e,t,n))];case"Complex":return[a.complex(Bj("real",e,t,n),Bj("imag",e,t,n))];case"Cos":return[a.cos(Bj("x",e,t,n))];case"Cosh":return[a.cosh(Bj("x",e,t,n))];case"Elu":return[a.elu(Bj("x",e,t,n))];case"Erf":return[a.erf(Bj("x",e,t,n))];case"Exp":return[a.exp(Bj("x",e,t,n))];case"Expm1":return[a.expm1(Bj("x",e,t,n))];case"Floor":return[a.floor(Bj("x",e,t,n))];case"Log":return[a.log(Bj("x",e,t,n))];case"Log1p":return[a.log1p(Bj("x",e,t,n))];case"Imag":return[a.imag(Bj("x",e,t,n))];case"Neg":return[a.neg(Bj("x",e,t,n))];case"Reciprocal":return[a.reciprocal(Bj("x",e,t,n))];case"Real":return[a.real(Bj("x",e,t,n))];case"Relu":return[a.relu(Bj("x",e,t,n))];case"Round":return[a.round(Bj("x",e,t,n))];case"Selu":return[a.selu(Bj("x",e,t,n))];case"Sigmoid":return[a.sigmoid(Bj("x",e,t,n))];case"Sin":return[a.sin(Bj("x",e,t,n))];case"Sign":return[a.sign(Bj("x",e,t,n))];case"Sinh":return[a.sinh(Bj("x",e,t,n))];case"Softplus":return[a.softplus(Bj("x",e,t,n))];case"Sqrt":return[a.sqrt(Bj("x",e,t,n))];case"Square":return[a.square(Bj("x",e,t,n))];case"Tanh":return[a.tanh(Bj("x",e,t,n))];case"Tan":return[a.tan(Bj("x",e,t,n))];case"ClipByValue":return[a.clipByValue(Bj("x",e,t,n),Bj("clipValueMin",e,t,n),Bj("clipValueMax",e,t,n))];case"Relu6":return[a.relu6(Bj("x",e,t,n))];case"Rsqrt":return[a.rsqrt(Wj(e.inputNames[0],t,n))];case"Prod":return[a.prod(Bj("x",e,t,n),Bj("axes",e,t,n))];case"LeakyRelu":return[a.leakyRelu(Bj("x",e,t,n),Bj("alpha",e,t,n))];case"Prelu":return[a.prelu(Bj("x",e,t,n),Bj("alpha",e,t,n))];case"IsNan":return[a.isNaN(Wj(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"control":return FB(e,t,n);case"convolution":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"Conv1D":{const r=Bj("stride",e,t,n),o=Bj("pad",e,t,n),i=Bj("dataFormat",e,t,n).toUpperCase(),s=Bj("dilation",e,t,n);return[a.conv1d(Bj("x",e,t,n),Bj("filter",e,t,n),r,o,i,s)]}case"Conv2D":{const r=Bj("strides",e,t,n),o=Hj(e,t,n),i=Bj("dataFormat",e,t,n).toUpperCase(),s=Bj("dilations",e,t,n);return[a.conv2d(Bj("x",e,t,n),Bj("filter",e,t,n),[r[1],r[2]],o,i,[s[1],s[2]])]}case"_FusedConv2D":{const{stride:r,pad:o,dataFormat:i,dilations:s,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=DB(e,t,n);return[a.fused.conv2d({x:Bj("x",e,t,n),filter:Bj("filter",e,t,n),strides:[r[1],r[2]],pad:o,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:o,dataFormat:i,dilations:s,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=DB(e,t,n);return[a.fused.depthwiseConv2d({x:Bj("x",e,t,n),filter:Bj("filter",e,t,n),strides:[r[1],r[2]],pad:o,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=Bj("outputShape",e,t,n),o=Bj("strides",e,t,n),i=Hj(e,t,n);return[a.conv2dTranspose(Bj("x",e,t,n),Bj("filter",e,t,n),r,[o[1],o[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=Bj("strides",e,t,n),o=Hj(e,t,n),i=Bj("dilations",e,t,n),s=Bj("dataFormat",e,t,n).toUpperCase();return[a.depthwiseConv2d(Bj("input",e,t,n),Bj("filter",e,t,n),[r[1],r[2]],o,s,[i[1],i[2]])]}case"Conv3D":{const r=Bj("strides",e,t,n),o=Bj("pad",e,t,n),i=Bj("dataFormat",e,t,n).toUpperCase(),s=Bj("dilations",e,t,n);return[a.conv3d(Bj("x",e,t,n),Bj("filter",e,t,n),[r[1],r[2],r[3]],o,i,[s[1],s[2],s[3]])]}case"AvgPool":{const r=Bj("strides",e,t,n),o=Bj("pad",e,t,n),i=Bj("kernelSize",e,t,n);return[a.avgPool(Bj("x",e,t,n),[i[1],i[2]],[r[1],r[2]],o)]}case"MaxPool":{const r=Bj("strides",e,t,n),o=Bj("pad",e,t,n),i=Bj("kernelSize",e,t,n);return[a.maxPool(Bj("x",e,t,n),[i[1],i[2]],[r[1],r[2]],o)]}case"MaxPoolWithArgmax":{const r=Bj("strides",e,t,n),o=Bj("pad",e,t,n),i=Bj("kernelSize",e,t,n),s=Bj("includeBatchInIndex",e,t,n),{result:l,indexes:c}=a.maxPoolWithArgmax(Bj("x",e,t,n),[i[1],i[2]],[r[1],r[2]],o,s);return[l,c]}case"AvgPool3D":{const r=Bj("strides",e,t,n),o=Bj("pad",e,t,n),i=Bj("kernelSize",e,t,n);return[a.avgPool3d(Bj("x",e,t,n),[i[1],i[2],i[3]],[r[1],r[2],r[3]],o)]}case"MaxPool3D":{const r=Bj("strides",e,t,n),o=Bj("pad",e,t,n),i=Bj("kernelSize",e,t,n);return[a.maxPool3d(Bj("x",e,t,n),[i[1],i[2],i[3]],[r[1],r[2],r[3]],o)]}case"Dilation2D":{const r=Bj("strides",e,t,n),o=Bj("pad",e,t,n),i=Bj("dilations",e,t,n),s=r[1],l=r[2],c=i[1],u=i[2];return[a.dilation2d(Bj("x",e,t,n),Bj("filter",e,t,n),[s,l],o,[c,u],"NHWC")]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"creation":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"Fill":{const r=Bj("shape",e,t,n),o=Bj("dtype",e,t,n),i=Bj("value",e,t,n);return[a.fill(r,i,o)]}case"LinSpace":{const r=Bj("start",e,t,n),o=Bj("stop",e,t,n),i=Bj("num",e,t,n);return[a.linspace(r,o,i)]}case"Multinomial":{const r=Bj("logits",e,t,n),o=Bj("numSamples",e,t,n),i=Bj("seed",e,t,n);return[a.multinomial(r,o,i)]}case"OneHot":{const r=Bj("indices",e,t,n),o=Bj("depth",e,t,n),i=Bj("onValue",e,t,n),s=Bj("offValue",e,t,n),l=Bj("dtype",e,t,n);return[a.oneHot(r,o,i,s,l)]}case"Ones":return[a.ones(Bj("shape",e,t,n),Bj("dtype",e,t,n))];case"OnesLike":return[a.onesLike(Bj("x",e,t,n))];case"RandomStandardNormal":return[a.randomStandardNormal(Bj("shape",e,t,n),Bj("dtype",e,t,n),Bj("seed",e,t,n))];case"RandomUniform":return[a.randomUniform(Bj("shape",e,t,n),Bj("minval",e,t,n),Bj("maxval",e,t,n),Bj("dtype",e,t,n))];case"Range":{const r=Bj("start",e,t,n),o=Bj("stop",e,t,n),i=Bj("step",e,t,n);return[a.range(r,o,i,Bj("dtype",e,t,n))]}case"TruncatedNormal":{const r=Bj("shape",e,t,n),o=Bj("mean",e,t,n),i=Bj("stdDev",e,t,n),s=Bj("seed",e,t,n);return[a.truncatedNormal(r,o,i,Bj("dtype",e,t,n),s)]}case"Zeros":return[a.zeros(Bj("shape",e,t,n),Bj("dtype",e,t,n))];case"ZerosLike":return[a.zerosLike(Bj("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"dynamic":return async function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:z;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:a,scores:o,maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:c}=MB(e,t,n),u=await r.image.nonMaxSuppressionWithScoreAsync(a,o,i,s,l,c);return[u.selectedIndices,u.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:a,scores:o,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=MB(e,t,n),c=Bj("padToMaxOutputSize",e,t,n),u=await r.image.nonMaxSuppressionPaddedAsync(a,o,i,s,l,c);return[u.selectedIndices,u.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:a,scores:o,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=MB(e,t,n);return[await r.image.nonMaxSuppressionAsync(a,o,i,s,l)]}case"Where":{const a=r.cast(Bj("condition",e,t,n),"bool"),o=[await r.whereAsync(a)];return a.dispose(),o}case"ListDiff":return r.setdiff1dAsync(Bj("x",e,t,n),Bj("y",e,t,n));default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n);case"evaluation":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"LowerBound":{const r=Bj("sortedSequence",e,t,n),o=Bj("values",e,t,n);return[a.lowerBound(r,o)]}case"TopKV2":{const r=Bj("x",e,t,n),o=Bj("k",e,t,n),i=Bj("sorted",e,t,n),s=a.topk(r,o,i);return[s.values,s.indices]}case"UpperBound":{const r=Bj("sortedSequence",e,t,n),o=Bj("values",e,t,n);return[a.upperBound(r,o)]}case"Unique":{const r=Bj("x",e,t,n),o=a.unique(r);return[o.values,o.indices]}case"UniqueV2":{const r=Bj("x",e,t,n),o=Bj("axis",e,t,n),i=a.unique(r,o);return[i.values,i.indices]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"image":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"ResizeBilinear":{const r=Bj("images",e,t,n),o=Bj("size",e,t,n),i=Bj("alignCorners",e,t,n),s=Bj("halfPixelCenters",e,t,n);return[a.image.resizeBilinear(r,[o[0],o[1]],i,s)]}case"ResizeNearestNeighbor":{const r=Bj("images",e,t,n),o=Bj("size",e,t,n),i=Bj("alignCorners",e,t,n),s=Bj("halfPixelCenters",e,t,n);return[a.image.resizeNearestNeighbor(r,[o[0],o[1]],i,s)]}case"CropAndResize":{const r=Bj("image",e,t,n),o=Bj("boxes",e,t,n),i=Bj("boxInd",e,t,n),s=Bj("cropSize",e,t,n),l=Bj("method",e,t,n),c=Bj("extrapolationValue",e,t,n);return[a.image.cropAndResize(r,o,i,s,l,c)]}case"ImageProjectiveTransformV3":{const r=Bj("images",e,t,n),o=Bj("transforms",e,t,n),i=Bj("outputShape",e,t,n),s=Bj("fillValue",e,t,n),l=Bj("interpolation",e,t,n),c=Bj("fillMode",e,t,n);return[a.image.transform(r,o,l.toLowerCase(),c.toLowerCase(),s,i)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"graph":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const r=Bj("default",e,t,n);return[Wj(e.name,t,n)||r];case"Placeholder":return[Wj(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[qj(Bj("x",e,t,n))];case"IdentityN":return Bj("x",e,t,n).map((e=>qj(e)));case"Shape":return[a.tensor1d(Bj("x",e,t,n).shape,"int32")];case"ShapeN":return Bj("x",e,t,n).map((e=>a.tensor1d(e.shape)));case"Size":return[a.scalar(Bj("x",e,t,n).size,"int32")];case"Rank":return[a.scalar(Bj("x",e,t,n).rank,"int32")];case"NoOp":return[a.scalar(1)];case"Print":const o=Bj("x",e,t,n),i=Bj("data",e,t,n),s=Bj("message",e,t,n),l=Bj("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<i.length;e++)console.log(Array.prototype.slice.call(i[e].dataSync()).slice(0,l));return[o];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"logical":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"Equal":return[a.equal(Bj("a",e,t,n),Bj("b",e,t,n))];case"NotEqual":return[a.notEqual(Bj("a",e,t,n),Bj("b",e,t,n))];case"Greater":return[a.greater(Bj("a",e,t,n),Bj("b",e,t,n))];case"GreaterEqual":return[a.greaterEqual(Bj("a",e,t,n),Bj("b",e,t,n))];case"Less":return[a.less(Bj("a",e,t,n),Bj("b",e,t,n))];case"LessEqual":return[a.lessEqual(Bj("a",e,t,n),Bj("b",e,t,n))];case"LogicalAnd":return[a.logicalAnd(Bj("a",e,t,n),Bj("b",e,t,n))];case"LogicalNot":return[a.logicalNot(Bj("a",e,t,n))];case"LogicalOr":return[a.logicalOr(Bj("a",e,t,n),Bj("b",e,t,n))];case"Select":case"SelectV2":return[a.where(Bj("condition",e,t,n),Bj("a",e,t,n),Bj("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"matrices":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[a.matMul(Bj("a",e,t,n),Bj("b",e,t,n),Bj("transposeA",e,t,n),Bj("transposeB",e,t,n))];case"Einsum":return[a.einsum(Bj("equation",e,t,n),...Bj("tensors",e,t,n))];case"Transpose":return[a.transpose(Bj("x",e,t,n),Bj("perm",e,t,n))];case"_FusedMatMul":const[r,o]=Bj("fusedOps",e,t,n),i="biasadd"===r,s="prelu"===o,l=Bj("numArgs",e,t,n),c=Bj("leakyreluAlpha",e,t,n);if(i){if(s&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=Bj("args",e,t,n);return[a.fused.matMul({a:Bj("a",e,t,n),b:Bj("b",e,t,n),transposeA:Bj("transposeA",e,t,n),transposeB:Bj("transposeB",e,t,n),bias:u,activation:o,preluActivationWeights:d,leakyreluAlpha:c})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"normalization":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"EuclideanNorm":return[a.euclideanNorm(Bj("x",e,t,n),Bj("axis",e,t,n),Bj("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[a.batchNorm(Bj("x",e,t,n),Bj("mean",e,t,n),Bj("variance",e,t,n),Bj("offset",e,t,n),Bj("scale",e,t,n),Bj("epsilon",e,t,n))];case"LRN":return[a.localResponseNormalization(Bj("x",e,t,n),Bj("radius",e,t,n),Bj("bias",e,t,n),Bj("alpha",e,t,n),Bj("beta",e,t,n))];case"Softmax":return[a.softmax(Bj("x",e,t,n))];case"LogSoftmax":return[a.logSoftmax(Bj("x",e,t,n))];case"SparseToDense":return[a.sparseToDense(Bj("sparseIndices",e,t,n),Bj("outputShape",e,t,n),Bj("sparseValues",e,t,n),Bj("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"reduction":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"Max":{const r=Bj("axis",e,t,n),o=Bj("keepDims",e,t,n);return[a.max(Bj("x",e,t,n),r,o)]}case"Mean":{const r=Bj("axis",e,t,n),o=Bj("keepDims",e,t,n);return[a.mean(Bj("x",e,t,n),r,o)]}case"Min":{const r=Bj("axis",e,t,n),o=Bj("keepDims",e,t,n);return[a.min(Bj("x",e,t,n),r,o)]}case"Sum":{const r=Bj("axis",e,t,n),o=Bj("keepDims",e,t,n);return[a.sum(Bj("x",e,t,n),r,o)]}case"All":{const r=Bj("axis",e,t,n),o=Bj("keepDims",e,t,n);return[a.all(Bj("x",e,t,n),r,o)]}case"Any":{const r=Bj("axis",e,t,n),o=Bj("keepDims",e,t,n);return[a.any(Bj("x",e,t,n),r,o)]}case"ArgMax":{const r=Bj("axis",e,t,n);return[a.argMax(Bj("x",e,t,n),r)]}case"ArgMin":{const r=Bj("axis",e,t,n);return[a.argMin(Bj("x",e,t,n),r)]}case"Prod":{const r=Bj("axis",e,t,n),o=Bj("keepDims",e,t,n);return[a.prod(Bj("x",e,t,n),r,o)]}case"Cumprod":{const r=Bj("axis",e,t,n),o=Bj("exclusive",e,t,n),i=Bj("reverse",e,t,n);return[a.cumprod(Bj("x",e,t,n),r,o,i)]}case"Cumsum":{const r=Bj("axis",e,t,n),o=Bj("exclusive",e,t,n),i=Bj("reverse",e,t,n);return[a.cumsum(Bj("x",e,t,n),r,o,i)]}case"Bincount":const r=Bj("x",e,t,n),o=Bj("weights",e,t,n),i=Bj("size",e,t,n);return[a.bincount(r,o,i)];case"DenseBincount":{const r=Bj("x",e,t,n),o=Bj("weights",e,t,n),i=Bj("size",e,t,n),s=Bj("binaryOutput",e,t,n);return[a.denseBincount(r,o,i,s)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"slice_join":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"ConcatV2":case"Concat":{const r=Bj("n",e,t,n),o=Bj("axis",e,t,n);let i=Bj("tensors",e,t,n);return i=i.slice(0,r),[a.concat(i,o)]}case"Gather":{const r=Bj("x",e,t,n),o=Bj("indices",e,t,n);return[a.gather(r,a.cast(o,"int32"),0)]}case"GatherV2":{const r=Bj("axis",e,t,n),o=Bj("batchDims",e,t,n),i=Bj("x",e,t,n),s=Bj("indices",e,t,n);return[a.gather(i,a.cast(s,"int32"),r,o)]}case"Reverse":{const r=Bj("dims",e,t,n),o=[];for(let e=0;e<r.length;e++)r[e]&&o.push(e);const i=Bj("x",e,t,n);return[a.reverse(i,o)]}case"ReverseV2":{const r=Bj("axis",e,t,n),o=Bj("x",e,t,n);return[a.reverse(o,r)]}case"Slice":{const r=Bj("begin",e,t,n),o=Bj("size",e,t,n);return[a.slice(Bj("x",e,t,n),r,o)]}case"StridedSlice":{const r=Bj("begin",e,t,n),o=Bj("end",e,t,n),i=Bj("strides",e,t,n),s=Bj("beginMask",e,t,n),l=Bj("endMask",e,t,n),c=Bj("ellipsisMask",e,t,n),u=Bj("newAxisMask",e,t,n),d=Bj("shrinkAxisMask",e,t,n),p=Bj("x",e,t,n);return[a.stridedSlice(p,r,o,i,s,l,c,u,d)]}case"Pack":return DR((()=>{const r=Bj("axis",e,t,n),o=Bj("tensors",e,t,n),i=o[0].shape,s=a.squeeze(o[0]).shape,l=o.map((e=>{const t=_C(e.shape,i);if(!t&&!_C(a.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:a.reshape(e,i)}));return[a.stack(l,r)]}));case"Unpack":{const r=Bj("axis",e,t,n),o=Bj("tensor",e,t,n);return a.unstack(o,r)}case"Tile":{const r=Bj("reps",e,t,n);return[a.tile(Bj("x",e,t,n),r)]}case"Split":case"SplitV":{const r=Bj("axis",e,t,n),o=Bj("numOrSizeSplits",e,t,n),i=Bj("x",e,t,n);return a.split(i,o,r)}case"ScatterNd":{const r=Bj("indices",e,t,n),o=Bj("values",e,t,n),i=Bj("shape",e,t,n);return[a.scatterND(r,o,i)]}case"GatherNd":{const r=Bj("x",e,t,n),o=Bj("indices",e,t,n);return[a.gatherND(r,o)]}case"SparseToDense":{const r=Bj("sparseIndices",e,t,n),o=Bj("outputShape",e,t,n),i=Bj("sparseValues",e,t,n),s=Bj("defaultValue",e,t,n);return[a.sparseToDense(r,i,o,i.dtype===s.dtype?s:a.cast(s,i.dtype))]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"sparse":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:o,emptyRowIndicator:i,reverseIndexMap:s}=a.sparse.sparseFillEmptyRows(Bj("indices",e,t,n),Bj("values",e,t,n),Bj("denseShape",e,t,n),Bj("defaultValue",e,t,n));return[r,o,i,s]}case"SparseReshape":{const{outputIndices:r,outputShape:o}=a.sparse.sparseReshape(Bj("inputIndices",e,t,n),Bj("inputShape",e,t,n),Bj("newShape",e,t,n));return[r,o]}case"SparseSegmentMean":return[a.sparse.sparseSegmentMean(Bj("data",e,t,n),Bj("indices",e,t,n),Bj("segmentIds",e,t,n))];case"SparseSegmentSum":return[a.sparse.sparseSegmentSum(Bj("data",e,t,n),Bj("indices",e,t,n),Bj("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"spectral":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"FFT":return[a.fft(Bj("x",e,t,n))];case"IFFT":return[a.ifft(Bj("x",e,t,n))];case"RFFT":return[a.rfft(Bj("x",e,t,n))];case"IRFFT":return[a.irfft(Bj("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"string":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"StringNGrams":{const{nGrams:r,nGramsSplits:o}=a.string.stringNGrams(Bj("data",e,t,n),Bj("dataSplits",e,t,n),Bj("separator",e,t,n),Bj("nGramWidths",e,t,n),Bj("leftPad",e,t,n),Bj("rightPad",e,t,n),Bj("padWidth",e,t,n),Bj("preserveShortSequences",e,t,n));return[r,o]}case"StringSplit":{const{indices:r,values:o,shape:i}=a.string.stringSplit(Bj("input",e,t,n),Bj("delimiter",e,t,n),Bj("skipEmpty",e,t,n));return[r,o,i]}case"StringToHashBucketFast":return[a.string.stringToHashBucketFast(Bj("input",e,t,n),Bj("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"transformation":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;switch(e.op){case"Cast":return[a.cast(Bj("x",e,t,n),Bj("dtype",e,t,n))];case"ExpandDims":{const r=Bj("axis",e,t,n);return[a.expandDims(Bj("x",e,t,n),r)]}case"Squeeze":{const r=Bj("axis",e,t,n);return[a.squeeze(Bj("x",e,t,n),r)]}case"Reshape":return[a.reshape(Bj("x",e,t,n),Bj("shape",e,t,n))];case"MirrorPad":return[a.mirrorPad(Bj("x",e,t,n),Bj("padding",e,t,n),Bj("mode",e,t,n))];case"PadV2":case"Pad":return[a.pad(Bj("x",e,t,n),Bj("padding",e,t,n),Bj("constantValue",e,t,n))];case"SpaceToBatchND":{const r=Bj("blockShape",e,t,n),o=Bj("paddings",e,t,n);return[a.spaceToBatchND(Bj("x",e,t,n),r,o)]}case"BatchToSpaceND":{const r=Bj("blockShape",e,t,n),o=Bj("crops",e,t,n);return[a.batchToSpaceND(Bj("x",e,t,n),r,o)]}case"DepthToSpace":{const r=Bj("blockSize",e,t,n),o=Bj("dataFormat",e,t,n).toUpperCase();return[a.depthToSpace(Bj("x",e,t,n),r,o)]}case"BroadcastTo":return[a.broadcastTo(Bj("x",e,t,n),Bj("shape",e,t,n))];case"BroadcastArgs":return[a.broadcastArgs(Bj("s0",e,t,n),Bj("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"hash_table":return(async(e,t,n,a)=>{switch(e.op){case"HashTable":case"HashTableV2":{const r=Bj("keyDType",e,t,n),o=Bj("valueDType",e,t,n),i=new LB(r,o);return a.addHashTable(e.name,i),[i.handle]}case"LookupTableImport":case"LookupTableImportV2":{const r=Bj("tableHandle",e,t,n,a),o=Bj("keys",e,t,n),i=Bj("values",e,t,n),s=a.getHashTableById(r.id);return[await s.import(o,i)]}case"LookupTableFind":case"LookupTableFindV2":{const r=Bj("tableHandle",e,t,n,a),o=Bj("keys",e,t,n),i=Bj("defaultValue",e,t,n),s=a.getHashTableById(r.id);return[await s.find(o,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=Bj("tableHandle",e,t,n,a);return[a.getHashTableById(r.id).tensorSize()]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}})(e,t,n,a);case"custom":const o=jj(e.op);if(o&&o.customExecutor)return o.customExecutor(new IB(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(e,t,n);return oE(o)?o.then((e=>[].concat(e))):[].concat(o)}class jB{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId))).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function BB(e,t,n,a){const r=new Set,o=[];let i=null,s=null;const l=new Set,c=Object.keys(e).map((e=>Gj(e)[0]));let u=[];null!=a&&(u=a.map((e=>Gj(e.name)[0])));const d=[...t];for(;d.length>0;){const e=d.pop();(GB(e)||HB(e)||qB(e))&&null==i&&(i=e,s=i.children.map((e=>e.name)).filter((e=>r.has(e)))),r.add(e.name),null==n[e.name]&&(-1===c.indexOf(e.name)&&-1===u.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):o.push(e.name)))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:o,dynamicNode:i,syncInputs:s}}const WB=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],VB=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],UB=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function GB(e){return WB.indexOf(e.op)>=0}function HB(e){return VB.indexOf(e.op)>=0}function qB(e){return UB.indexOf(e.op)>=0}class XB{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new XB(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),a=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+a.join(this.SEPERATOR)}compile(e,t){const n=BB(e,t,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:r,syncInputs:o}=n;if(null!=r)throw new Error("This execution contains the node '".concat(r.name,"', which has ")+"the dynamic op '".concat(r.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(a.length>0){const n=t.map((e=>e.name)),r=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(n,"] from the provided inputs ")+"[".concat(r,"]. Missing the following inputs: [").concat(a,"]"))}return function(e,t,n){const{usedNodes:a,inputs:r}=n,o=[],i=Object.keys(r).map((e=>Gj(e)[0])).map((t=>e.nodes[t])),s=e.initNodes;i.forEach((e=>{a.has(e.name)&&o.push(e)})),e.weights.forEach((e=>{a.has(e.name)&&o.push(e)})),null!=s&&s.forEach((e=>{a.has(e.name)&&o.push(e)}));const l=new Set,c=[];for(;o.length>0;){const e=o.pop();l.add(e.name),t[e.name]||c.push(e),e.children.forEach((e=>{!l.has(e.name)&&a.has(e.name)&&e.inputs.every((e=>l.has(e.name)))&&o.push(e)}))}return c}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const a=n.map((e=>this.graph.nodes[Gj(e)[0]])),r=t.map((e=>Gj(e)[0]));let o=r.map((e=>this.graph.nodes[e]));this.resetIntermediateTensors(),0===o.length&&(o=this._outputs);const i=this.getCompilationKey(a,o);let s=this.compiledMap.get(i);null==s&&(s=this.compile(e,o),this.compiledMap.set(i,s));const l={},c={};return DR((()=>{const n=new jB(this.weightMap,l,c,this.functionExecutorMap),a=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=Gj(t),o=[];o[r]=e[t],a[n]=o}));const o=this.getFrozenTensorIds(a),i={};for(let e=0;e<s.length;e++){const t=s[e];if(!a[t.name]){const e=zB(t,a,n,this._resourceManager);if(oE(e))throw new Error("The execution of the op '".concat(t.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");a[t.name]=e,this.checkTensorForDisposal(t.name,t,a,n,o,r,i)}}return null==this.parent&&n.dispose(o),t.map((e=>Wj(e,a,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,a,r,o,i){"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(i[e.id]=(i[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const o=function(e,t,n){return t[Uj(e,n.currentContextId)]}(e.name,n,a);null!=o&&o.forEach((e=>{if(e&&!e.kept&&!r.has(e.id)){const n=i[e.id];if(1===n){if(this.keepTensorForDebug){const[n,r]=Vj(t.name,a);this.intermediateTensors[n]||(this.intermediateTensors[n]=[]),this.intermediateTensors[n][r]=e}else e.dispose();delete i[e.id]}else null!=n&&i[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((e=>this.intermediateTensors[e].forEach((e=>e.dispose())))),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach((e=>{this.tensorsMap[e].forEach((e=>{!e||e.kept||e.isDisposed||this.keepIds.has(e.id)||e.dispose()}))}))}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach((e=>e.dispose())),delete this.intermediateTensors[e]}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepTensorForDebug=cE().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(k5){console.warn(k5.message)}this.resetIntermediateTensors();const o=new jB(this.weightMap,a,r,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,o,t,n);const i=t.map((e=>Wj(e,this.tensorsMap,o))),s=i.map((e=>e.id)),l=Object.keys(e).map((t=>e[t].id));return this.keepIds=new Set([...s,...l,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),i}async executeFunctionAsync(e,t,n){const a=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(a,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,a){const r=Object.keys(e),o=r.map((e=>this.graph.nodes[Gj(e)[0]])),i=n.map((e=>Gj(e)[0]));let s=i.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const{usedNodes:l,missingInputs:c,dynamicNode:u,syncInputs:d}=BB(e,s,this.weightMap,this._initNodes),p=[...o,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),h=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,a]=Gj(t),r=[];r[a]=e[t],h[n]=r}));const f={},m=this.getFrozenTensorIds(h),g={};for(;p.length>0;){const e=this.processStack(o,p,t,h,g,m,i,f,l);await Promise.all(e)}null!=u||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const y=s.filter((e=>!GB(e)&&!Wj(e.name,h,t))).map((e=>e.name));if(y.length>0){let e="";throw null!=u&&(e="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(d,"]")),new Error("Cannot compute the outputs [".concat(y,"] from the provided ")+"inputs [".concat(r,"]. Consider providing the following inputs: ")+"[".concat(c,"]. ").concat(e))}return h}processStack(e,t,n,a,r,o,i,s,l){const c=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let u="";if("Enter"===e.node.op&&Bj("isConstant",e.node,a,n)&&([u]=Vj(e.node.name,n)),null==a[e.node.name]){const d=zB(e.node,a,n,this._resourceManager);u||([u]=Vj(e.node.name,n));const p=n.currentContext;oE(d)?c.push(d.then((c=>(a[u]=c,n.currentContext=p,this.checkTensorForDisposal(u,e.node,a,n,o,i,s),this.processChildNodes(e.node,t,n,a,r,l),c)))):(a[u]=d,this.checkTensorForDisposal(u,e.node,a,n,o,i,s),this.processChildNodes(e.node,t,n,a,r,l))}else this.processChildNodes(e.node,t,n,a,r,l)}return c}processChildNodes(e,t,n,a,r,o){e.children.forEach((e=>{const[i]=Vj(e.name,n);!r[i]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!Wj(e,a,n)))&&(r[i]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!Wj(e,a,n)))&&(r[i]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[a]=Gj(t),r=this.graph.nodes[a];if(r.attrParams.shape&&r.attrParams.shape.value){const e=r.attrParams.shape.value;xC(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>"The shape of dict['".concat(r.name,"'] provided in ")+"model.execute(dict) must be [".concat(e,"], but was ")+"[".concat(n.shape,"]")))}r.attrParams.dtype&&r.attrParams.dtype.value&&xC(n.dtype===r.attrParams.dtype.value,(()=>"The dtype of dict['".concat(r.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(r.attrParams.dtype.value,", but was ").concat(n.dtype)))}))}mapInputs(e){const t={};for(const n in e)if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]){t[this._signature.inputs[n].name]=e[n]}else t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=Gj(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(t,"] that are not part of graph"))}mapOutputs(e){return e.map((e=>{if(null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]){return this._signature.outputs[e].name}return e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=Gj(e);if(!this.graph.nodes[t])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}class KB{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const YB="?tfjs-format=file",QB="model.json";class $B{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;this.modelUrl=e,this.loadOptions=t,this.version="n/a",this.io=n,null==t&&(this.loadOptions={}),this.resourceManager=new KB}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return oE(e)?e.then((e=>this.loadSync(e))):this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(n=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}this.signature=n,this.version="".concat(t.versions.producer,".").concat(t.versions.minConsumer);const a=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new XB(pB.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=pB.Instance.transformGraph(e.modelInitializer);this.initializer=new XB(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new Error("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){const n=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){const e={};return(n instanceof xT?[n]:n).forEach(((t,n)=>e[this.structuredOutputKeys[n]]=t)),e}return n}normalizeInputs(e){if(!(e instanceof xT)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce(((t,n,a)=>(t[n]=e[a],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function ZB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return"".concat(e).concat(QB).concat(YB)}(e));const a=new $B(e,t,n);return await a.load(),a}function JB(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(i,s)}l((a=a.apply(e,t||[])).next())}))}function eW(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var tW="https://tfhub.dev/tensorflow/tfjs-model/deeplab",nW=[[0,0,0],[120,120,120],[180,120,120],[6,230,230],[80,50,50],[4,200,3],[120,120,80],[140,140,140],[204,5,255],[230,230,230],[4,250,7],[224,5,255],[235,255,7],[150,5,61],[120,120,70],[8,255,51],[255,6,82],[143,255,140],[204,255,4],[255,51,7],[204,70,3],[0,102,200],[61,230,250],[255,6,51],[11,102,255],[255,7,71],[255,9,224],[9,7,230],[220,220,220],[255,9,92],[112,9,255],[8,255,214],[7,255,224],[255,184,6],[10,255,71],[255,41,10],[7,255,255],[224,255,8],[102,8,255],[255,61,6],[255,194,7],[255,122,8],[0,255,20],[255,8,41],[255,5,153],[6,51,255],[235,12,255],[160,150,20],[0,163,255],[140,140,140],[250,10,15],[20,255,0],[31,255,0],[255,31,0],[255,224,0],[153,255,0],[0,0,255],[255,71,0],[0,235,255],[0,173,255],[31,0,255],[11,200,200],[255,82,0],[0,255,245],[0,61,255],[0,255,112],[0,255,133],[255,0,0],[255,163,0],[255,102,0],[194,255,0],[0,143,255],[51,255,0],[0,82,255],[0,255,41],[0,255,173],[10,0,255],[173,255,0],[0,255,153],[255,92,0],[255,0,255],[255,0,245],[255,0,102],[255,173,0],[255,0,20],[255,184,184],[0,31,255],[0,255,61],[0,71,255],[255,0,204],[0,255,194],[0,255,82],[0,10,255],[0,112,255],[51,0,255],[0,194,255],[0,122,255],[0,255,163],[255,153,0],[0,255,10],[255,112,0],[143,255,0],[82,0,255],[163,255,0],[255,235,0],[8,184,170],[133,0,255],[0,255,92],[184,0,255],[255,0,31],[0,184,255],[0,214,255],[255,0,112],[92,255,0],[0,224,255],[112,224,255],[70,184,160],[163,0,255],[153,0,255],[71,255,0],[255,0,163],[255,204,0],[255,0,143],[0,255,235],[133,255,0],[255,0,235],[245,0,255],[255,0,122],[255,245,0],[10,190,212],[214,255,0],[0,204,255],[20,0,255],[255,255,0],[0,153,255],[0,41,255],[0,255,204],[41,0,255],[41,255,0],[173,0,255],[0,245,255],[71,0,255],[122,0,255],[0,255,184],[0,92,255],[184,255,0],[0,133,255],[255,214,0],[25,194,194],[102,255,0],[92,0,255]],aW=[[128,64,128],[244,35,232],[70,70,70],[102,102,156],[190,153,153],[153,153,153],[250,170,30],[220,220,0],[107,142,35],[152,251,152],[70,130,180],[220,20,60],[255,0,0],[0,0,142],[0,0,70],[0,60,100],[0,80,100],[0,0,230],[119,11,32]],rW=[[0,0,0],[128,0,0],[0,128,0],[128,128,0],[0,0,128],[128,0,128],[0,128,128],[128,128,128],[64,0,0],[192,0,0],[64,128,0],[192,128,0],[64,0,128],[192,0,128],[64,128,128],[192,128,128],[0,64,0],[128,64,0],[0,192,0],[128,192,0],[0,64,128],[128,64,128],[0,192,128],[128,192,128],[64,64,0],[192,64,0],[64,192,0],[192,192,0],[64,64,128],[192,64,128],[64,192,128],[192,192,128],[0,0,64],[128,0,64],[0,128,64],[128,128,64],[0,0,192],[128,0,192],[0,128,192],[128,128,192],[64,0,64],[192,0,64],[64,128,64],[192,128,64],[64,0,192],[192,0,192],[64,128,192],[192,128,192],[0,64,64],[128,64,64],[0,192,64],[128,192,64],[0,64,192],[128,64,192],[0,192,192],[128,192,192],[64,64,64],[192,64,64],[64,192,64],[192,192,64],[64,64,192],[192,64,192],[64,192,192],[192,192,192],[32,0,0],[160,0,0],[32,128,0],[160,128,0],[32,0,128],[160,0,128],[32,128,128],[160,128,128],[96,0,0],[224,0,0],[96,128,0],[224,128,0],[96,0,128],[224,0,128],[96,128,128],[224,128,128],[32,64,0],[160,64,0],[32,192,0],[160,192,0],[32,64,128],[160,64,128],[32,192,128],[160,192,128],[96,64,0],[224,64,0],[96,192,0],[224,192,0],[96,64,128],[224,64,128],[96,192,128],[224,192,128],[32,0,64],[160,0,64],[32,128,64],[160,128,64],[32,0,192],[160,0,192],[32,128,192],[160,128,192],[96,0,64],[224,0,64],[96,128,64],[224,128,64],[96,0,192],[224,0,192],[96,128,192],[224,128,192],[32,64,64],[160,64,64],[32,192,64],[160,192,64],[32,64,192],[160,64,192],[32,192,192],[160,192,192],[96,64,64],[224,64,64],[96,192,64],[224,192,64],[96,64,192],[224,64,192],[96,192,192],[224,192,192],[0,32,0],[128,32,0],[0,160,0],[128,160,0],[0,32,128],[128,32,128],[0,160,128],[128,160,128],[64,32,0],[192,32,0],[64,160,0],[192,160,0],[64,32,128],[192,32,128],[64,160,128],[192,160,128],[0,96,0],[128,96,0],[0,224,0],[128,224,0],[0,96,128],[128,96,128],[0,224,128],[128,224,128],[64,96,0],[192,96,0],[64,224,0],[192,224,0],[64,96,128],[192,96,128],[64,224,128],[192,224,128],[0,32,64],[128,32,64],[0,160,64],[128,160,64],[0,32,192],[128,32,192],[0,160,192],[128,160,192],[64,32,64],[192,32,64],[64,160,64],[192,160,64],[64,32,192],[192,32,192],[64,160,192],[192,160,192],[0,96,64],[128,96,64],[0,224,64],[128,224,64],[0,96,192],[128,96,192],[0,224,192],[128,224,192],[64,96,64],[192,96,64],[64,224,64],[192,224,64],[64,96,192],[192,96,192],[64,224,192],[192,224,192],[32,32,0],[160,32,0],[32,160,0],[160,160,0],[32,32,128],[160,32,128],[32,160,128],[160,160,128],[96,32,0],[224,32,0],[96,160,0],[224,160,0],[96,32,128],[224,32,128],[96,160,128],[224,160,128],[32,96,0],[160,96,0],[32,224,0],[160,224,0],[32,96,128],[160,96,128],[32,224,128],[160,224,128],[96,96,0],[224,96,0],[96,224,0],[224,224,0],[96,96,128],[224,96,128],[96,224,128],[224,224,128],[32,32,64],[160,32,64],[32,160,64],[160,160,64],[32,32,192],[160,32,192],[32,160,192],[160,160,192],[96,32,64],[224,32,64],[96,160,64],[224,160,64],[96,32,192],[224,32,192],[96,160,192],[224,160,192],[32,96,64],[160,96,64],[32,224,64],[160,224,64],[32,96,192],[160,96,192],[32,224,192],[160,224,192],[96,96,64],[224,96,64],[96,224,64],[224,224,64],[96,96,192],[224,96,192],[96,224,192],[224,224,192]],oW=["background","aeroplane","bicycle","bird","boat","bottle","bus","car","cat","chair","cow","dining table","dog","horse","motorbike","person","potted plant","sheep","sofa","train","TV"],iW=["road","sidewalk","building","wall","fence","pole","traffic light","traffic sign","vegetation","terrain","sky","person","rider","car","truck","bus","train","motorcycle","bicycle"],sW=["background","wall","building","sky","floor","tree","ceiling","road","bed","windowpane","grass","cabinet","sidewalk","person","earth","door","table","mountain","plant","curtain","chair","car","water","painting","sofa","shelf","house","sea","mirror","rug","field","armchair","seat","fence","desk","rock","wardrobe","lamp","bathtub","railing","cushion","base","box","column","signboard","chest","counter","sand","sink","skyscraper","fireplace","refrigerator","grandstand","path","stairs","runway","case","pool","pillow","screen","stairway","river","bridge","bookcase","blind","coffee","toilet","flower","book","hill","bench","countertop","stove","palm","kitchen","computer","swivel","boat","bar","arcade","hovel","bus","towel","light","truck","tower","chandelier","awning","streetlight","booth","television","airplane","dirt","apparel","pole","land","bannister","escalator","ottoman","bottle","buffet","poster","stage","van","ship","fountain","conveyer","canopy","washer","plaything","swimming","stool","barrel","basket","waterfall","tent","bag","minibike","cradle","oven","ball","food","step","tank","trade","microwave","pot","animal","bicycle","lake","dishwasher","screen","blanket","sculpture","hood","sconce","vase","traffic","tray","ashcan","fan","pier","screen","plate","monitor","bulletin","shower","radiator","glass","clock","flag"];function lW(e,t){return tW+"/"+(4===t?e+"/1/default/1/model.json":e+"/1/quantized/"+t+"/1/model.json")+"?tfjs-format=file"}function cW(e,t,n,a){return JB(this,void 0,void 0,(function(){var r,o,i,s,l,c,u,d,p,h,f,m,g,y;return eW(this,(function(v){switch(v.label){case 0:if(e.length<t.length)throw new Error("The colormap must be expansive enough to encode each label. Aborting, since the given colormap has length "+e.length+", but there are "+t.length+" labels.");return r=n.shape,o=r[0],i=r[1],s=tR([o,i,3],"int32"),[4,n.array()];case 1:for(l=v.sent(),c=new Set,u=0;u<o;++u)for(d=0;d<i;++d)y=l[u][d],c.add(y),s.set(e[y][0],u,d,0),s.set(e[y][1],u,d,1),s.set(e[y][2],u,d,2);return[4,sA(p=s.toTensor(),a)];case 2:for(h=v.sent(),MR(p),f={},m=0,g=Array.from(c);m<g.length;m++)y=g[m],f[t[y]]=e[y];return[2,{legend:f,segmentationMap:h}]}}))}))}var uW=function(){function e(e,t){this.model=e,this.base=t}return e.prototype.predict=function(e){var t=this;return DR((function(){var n=nR(function(e){return DR((function(){var t=e instanceof xT?e:lA(e),n=t.shape,a=n[0],r=n[1],o=513/Math.max(r,a),i=Math.round(a*o),s=Math.round(r*o);return aD(Sz.resizeBilinear(t,[i,s]))}))}(e),"int32");return VM(t.model.execute(n))}))},e.prototype.segment=function(e,t){return void 0===t&&(t={}),JB(this,void 0,void 0,(function(){var n,a,r,o,i,s,l,c,u,d,p=this;return eW(this,(function(h){switch(h.label){case 0:if(!(t.colormap&&t.labels||this.base))throw new Error("Calling the 'segment' method requires either the 'base' attribute to be defined (e.g. 'pascal', 'cityscapes' or'ade20k'), or 'colormap' and 'labels' options to be set. Aborting, since neither has been provided.");return t.colormap&&t.labels||(t.colormap=function(e){if("pascal"===e)return rW;if("ade20k"===e)return nW;if("cityscapes"===e)return aW;throw new Error("SemanticSegmentation cannot be constructed with an invalid base model "+e+". Try one of 'pascal', 'cityscapes' and 'ade20k'.")}(this.base),t.labels=function(e){if("pascal"===e)return oW;if("ade20k"===e)return sW;if("cityscapes"===e)return iW;throw new Error("SemanticSegmentation cannot be constructed with an invalid base model "+e+". Try one of 'pascal', 'cityscapes' and 'ade20k'.")}(this.base)),n=t.colormap,a=t.labels,r=t.canvas,o=DR((function(){return p.predict(e)})),i=o.shape,s=i[0],l=i[1],[4,cW(n,a,o,r)];case 1:return c=h.sent(),u=c.legend,d=c.segmentationMap,MR(o),[2,{legend:u,height:s,width:l,segmentationMap:d}]}}))}))},e.prototype.dispose=function(){return JB(this,void 0,void 0,(function(){return eW(this,(function(e){return this.model&&this.model.dispose(),[2]}))}))},e}();const dW={},pW={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function hW(e,t){if(!(e in dW)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete dW[e]}),!1),cE().getBool("SOFTWARE_WEBGL_ENABLED")&&(pW.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",pW)||n.getContext("experimental-webgl",pW);return n.getContext("webgl2",pW)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;dW[e]=n}const n=dW[e];return null==n||n.isContextLost()?(delete dW[e],hW(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),dW[e])}var fW,mW,gW;function yW(e,t){return[t,e]}function vW(e){const t=CC(e);return TC(Math.ceil(t/4))}function bW(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function xW(e,t){const n=e;let a,r,o,i,s,l,c,u,d,p;return 2===cE().getNumber("WEBGL_VERSION")?(a=n.R32F,r=n.R16F,o=n.RGBA16F,i=n.RGBA32F,s=n.RED,c=4,u=1,d=n.HALF_FLOAT,p=n.FLOAT,l=n.RGBA8):(a=e.RGBA,r=e.RGBA,o=e.RGBA,i=n.RGBA,s=e.RGBA,c=4,u=4,d=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,l=e.RGBA),{internalFormatFloat:a,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:s,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:p}}function wW(e,t){const n=t();return cE().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(fW||(fW={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(mW||(mW={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(gW||(gW={}));function kW(e){return!!(cE().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function SW(e,t){return AW(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const CW=/ERROR: [0-9]+:([0-9]+):/g;function EW(e,t){const n=CW.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);const a=+n[1],r=e.split("\n"),o=r.length.toString().length+2,i=r.map(((e,t)=>RC((t+1).toString(),o)+e));let s=0;for(let d=0;d<i.length;d++)s=Math.max(i[d].length,s);const l=i.slice(0,a-1),c=i.slice(a-1,a),u=i.slice(a);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(RC(c[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function _W(e,t){if(wW(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function IW(e,t,n,a,r,o,i){const s=e.getAttribLocation(t,n);return-1!==s&&(wW(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,a))),wW(e,(()=>e.vertexAttribPointer(s,r,e.FLOAT,!1,o,i))),wW(e,(()=>e.enableVertexAttribArray(s))),!0)}function NW(e,t,n,a){wW(e,(()=>function(e,t,n){PW(e,n),wW(e,(()=>e.activeTexture(e.TEXTURE0+n))),wW(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,a))),wW(e,(()=>e.uniform1i(n,a)))}function TW(e,t,n){wW(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),wW(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function OW(e,t){wW(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),wW(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function RW(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function AW(e,t,n){const a=wW(e,(()=>t()));if(null==a)throw new Error(n);return a}function PW(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,a=t+e.TEXTURE0;if(a<e.TEXTURE0||a>n){const e="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(e,"."))}}function FW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return CC(e.slice(0,e.length-t))}function DW(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function MW(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[FW(e),...DW(e)]),t}function LW(e){return e%2===0}function zW(e,t){if(_C(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e.slice(-1)[0],a=t.slice(-1)[0];if(n===a)return!0;if(LW(n)&&LW(a)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&LW(e[0])&&LW(t[0])}let jW,BW;function WW(e,t){return null!=e.getExtension(t)}function VW(e){try{if(null!=hW(e))return!0}catch(k5){return console.log("Error when getting WebGL context: ",k5),!1}return!1}function UW(e){if(0===e)return!1;const t=hW(e);if(1!==e){if(WW(t,"EXT_color_buffer_float"))return GW(t);const e="EXT_color_buffer_half_float";if(WW(t,e)){const n=t.getExtension(e);return function(e,t){const n=xW(e,t),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a);const r=1,o=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,r,o,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(a),e.deleteFramebuffer(i),s}(t,n)}return!1}if(!WW(t,"OES_texture_float"))return!1;if(!WW(t,"WEBGL_color_buffer_float"))return!1;return GW(t)}function GW(e){const t=xW(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(a),r}function HW(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&xC("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."))}))}const qW=cE();function XW(){let e,t,n,a,r,o,i,s,l,c;return 2===cE().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",a="in",r="texture",o="outputColor",i="out vec4 outputColor;",s=cE().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",a="varying",r="texture2D",o="gl_FragColor",i="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:a,texture2D:r,output:o,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:l,defineRound:c}}function KW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const a=QC(t);return a.map(((t,r)=>{const o="int ".concat(e[r]," = ").concat(n," / ").concat(t),i=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(t):"index -= ".concat(e[r]," * ").concat(t);return"".concat(o,"; ").concat(i,";")})).join("")}function YW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const a=QC(t);return a.map(((t,r)=>{const o="int ".concat(e[r]," = ").concat(n," / outShapeStrides[").concat(r,"]"),i=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * outShapeStrides[").concat(r,"]"):"index -= ".concat(e[r]," * outShapeStrides[").concat(r,"]");return"".concat(o,"; ").concat(i,";")})).join("")}function QW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const a=e.map(((e,t)=>t)),r=function(e,t){const n=e.length,a=e.map((e=>"".concat(t,"[").concat(e,"]"))),r=new Array(n-1);r[n-2]=a[n-1];for(let o=n-3;o>=0;--o)r[o]="(".concat(r[o+1]," * ").concat(a[o+1],")");return r}(a,t);return r.map(((t,a)=>{const o="int ".concat(e[a]," = ").concat(n," / ").concat(r[a]),i=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(r[a]):"index -= ".concat(e[a]," * ").concat(r[a]);return"".concat(o,"; ").concat(i,";")})).join("")}function $W(e){const t=QC(e).map((e=>e.toString()));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}qW.registerFlag("HAS_WEBGL",(()=>qW.getNumber("WEBGL_VERSION")>0)),qW.registerFlag("WEBGL_VERSION",(()=>VW(2)?2:VW(1)?1:0)),qW.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),qW.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===qW.get("WEBGL_VERSION"))),qW.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),qW.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),qW.registerFlag("WEBGL_PACK",(()=>qW.getBool("HAS_WEBGL"))),qW.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_PACK_CLIP",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_PACK_REDUCE",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_LAZILY_UNPACK",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_CONV_IM2COL",(()=>qW.getBool("WEBGL_PACK"))),qW.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==jW){const t=hW(e);jW=t.getParameter(t.MAX_TEXTURE_SIZE)}return jW}(qW.getNumber("WEBGL_VERSION")))),qW.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==BW){const t=hW(e);BW=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,BW)}(qW.getNumber("WEBGL_VERSION")))),qW.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=qW.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=hW(e);return t=WW(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:WW(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),qW.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>qW.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!UT())),qW.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=hW(e);if(1===e){if(!WW(t,"OES_texture_float"))return!1}else if(!WW(t,"EXT_color_buffer_float"))return!1;return GW(t)}(qW.getNumber("WEBGL_VERSION")))),qW.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!qW.getBool("WEBGL_FORCE_F16_TEXTURES")&&qW.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),qW.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>UW(qW.getNumber("WEBGL_VERSION")))),qW.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=qW.getNumber("WEBGL_VERSION"))&&null!=hW(e).fenceSync;var e})),qW.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>qW.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),qW.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),qW.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>UT()?1:-1),(e=>{if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),qW.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),qW.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),qW.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),qW.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),qW.registerFlag("WEBGL_EXP_CONV",(()=>!1)),qW.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>qW.getBool("IS_TEST"))),qW.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),qW.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),qW.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1));const ZW="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:JW}=g;function eV(e,t,n){const a=[];if(e.forEach((e=>{const t=CC(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?a.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(a.push("uniform sampler2D ".concat(e.name,";")),a.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){const{uniformShape:t}=uV(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:a.push("uniform int ".concat(e.name,"Shape;"));break;case 2:a.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:a.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:a.push("uniform ivec4 ".concat(e.name,"Shape;"))}a.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:a.push("uniform int outShape;");break;case 2:a.push("uniform ivec2 outShape;"),a.push("uniform int outShapeStrides;");break;case 3:a.push("uniform ivec3 outShape;"),a.push("uniform ivec2 outShapeStrides;");break;case 4:a.push("uniform ivec4 outShape;"),a.push("uniform ivec3 outShapeStrides;")}a.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{a.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));const r=a.join("\n"),o=e.map((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,r="";r+=n?nV(e,a):tV(e,a);const o=e.shapeInfo.logicalShape,i=t.logicalShape;o.length<=i.length&&(r+=n?function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",o=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,s=JW(e.shapeInfo.logicalShape,t.logicalShape),l=cV(i),c=i-o;let u;const d=["x","y","z","w","u","v"];u=0===o?"":i<2&&s.length>=1?"coords = 0;":s.map((e=>"coords.".concat(d[e+c]," = 0;"))).join("\n");let p="";p=i<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(d[t+c]))).join(", ");let h="return outputValue;";const f=1===CC(e.shapeInfo.logicalShape),m=CC(t.logicalShape),g=1===m;if(1!==o||f||g){if(f&&!g)h=1===i?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(s.length){const e=o-2,t=o-1;s.indexOf(e)>-1&&s.indexOf(t)>-1?h="return vec4(outputValue.x);":s.indexOf(e)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(t)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(r,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(u,"\n      vec4 outputValue = get").concat(a,"(").concat(p,");\n      ").concat(h,"\n    }\n  ")}(e,t):function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",o=t.texShape,i=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&_C(i,o))return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");const c=cV(l),u=JW(e.shapeInfo.logicalShape,t.logicalShape),d=l-s;let p;const h=["x","y","z","w","u","v"];p=0===s?"":l<2&&u.length>=1?"coords = 0;":u.map((e=>"coords.".concat(h[e+d]," = 0;"))).join("\n");let f="";f=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(h[t+d]))).join(", ");return"\n    float ".concat(r,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(p,"\n      return get").concat(a,"(").concat(f,");\n    }\n  ")}(e,t));return r}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),i=t.texShape,s=XW(),l=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(s);let c,u,d=function(e){const t="".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(aV,"\n    ").concat(rV,"\n    ").concat(oV,"\n  ");return t}(s);t.isPacked?(c=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===a[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(a[1],".0);\n      }\n    ");if(1===a[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(a[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(a[0],", ").concat(a[1],"));\n      return 2 * (resTexRC.x * ").concat(a[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(_C(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(a[0],", ").concat(a[1],"));\n      }\n    ");const r=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(a[0],", ").concat(a[1],"));\n\n      int index = resTexRC.x * ").concat(a[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[2]/2),o=r*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(a[0],", ").concat(a[1],"));\n      int index = resTexRC.x * ").concat(a[1]," + resTexRC.y;\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2);let i=o,s="",l="b, r, c";for(let c=2;c<e.length-1;c++)i*=e[e.length-c-1],s="\n      int b".concat(c," = index / ").concat(i,";\n      index -= b").concat(c," * ").concat(i,";\n    ")+s,l="b".concat(c,", ")+l;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(a[0],", ").concat(a[1],"));\n      int index = resTexRC.x * ").concat(a[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec").concat(e.length,"(").concat(l,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,i,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(s)):(c=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(_C(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){const t=YW(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(t,"\n    return ivec3(r, c, d);\n  }\n")}const a=KW(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){const t=YW(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(t,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}const a=KW(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){const n=KW(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){const n=KW(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,i,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(s)),n.packedInputs&&(d+=iV);return[d,l,u,r,c,o,n.userCode].join("\n")}function tV(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(a,"() {return ").concat(n,";}");const[r,o]=e.shapeInfo.texShape;if(1===r&&1===o)return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const i=sV(n);if(t)return"\n    float ".concat(a,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(i,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");const[s,l]=e.shapeInfo.texShape;return"\n    float ".concat(a,"() {\n      vec2 uv = uvFromFlat(").concat(s,", ").concat(l,", ").concat(i,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 1:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int index) {\n        ").concat(lV(e),"\n      }\n    ");const r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===i&&1===o)return"\n      float ".concat(a,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const s=sV(n);if(1===i)return t?"\n      float ".concat(a,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(a,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(o,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(1===o)return t?"\n      float ".concat(a,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(a,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(i,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(t)return"\n    float ".concat(a,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n    float ".concat(a,"(int index) {\n      vec2 uv = uvFromFlat(").concat(o,", ").concat(i,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape;if(null!=o&&_C(n,o)){if(t)return"\n      float ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");const e=o[0],n=o[1];return"\n    float ".concat(r,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(n,".0, ").concat(e,".0);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ")}const{newShape:i,keptDims:s}=DC(n),l=i;if(l.length<n.length){const n=dV(e,l),a=["row","col"];return"\n      ".concat(tV(n,t),"\n      float ").concat(r,"(int row, int col) {\n        return ").concat(r,"(").concat(pV(a,s),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(lV(e),"\n      }\n    ");const c=o[0],u=o[1],d=sV(a);if(1===u)return t?"\n      float ".concat(r,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(a,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(a,"TexShape[0]));\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(c,".0);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");if(1===c)return t?"\n      float ".concat(r,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(a,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(a,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(u,".0, 0.5);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");if(t)return"\n      float ".concat(r,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a,"Shape[1] + col + ").concat(d,";\n        vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");return"\n  float ".concat(r,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(d,";\n    vec2 uv = uvFromFlat(").concat(c,", ").concat(u,", index);\n    return sampleTexture(").concat(a,", uv);\n  }\n")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n[1]*n[2],i=n[2],{newShape:s,keptDims:l}=DC(n),c=s;if(c.length<n.length){const n=dV(e,c),a=["row","col","depth"];return"\n        ".concat(tV(n,t),"\n        float ").concat(r,"(int row, int col, int depth) {\n          return ").concat(r,"(").concat(pV(a,l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(o,", ").concat(i,", 1)));\n        ").concat(lV(e),"\n      }\n    ");const u=e.shapeInfo.texShape,d=u[0],p=u[1],h=e.shapeInfo.flatOffset;if(p===o&&null==h)return t?"\n      float ".concat(r,"(int row, int col, int depth) {\n        int stride1 = ").concat(a,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n        float ".concat(r,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(i,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(p,".0, ").concat(d,".0);\n          return sampleTexture(").concat(a,", uv);\n        }\n      ");if(p===i&&null==h)return t?"\n      float ".concat(r,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(a,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n    float ".concat(r,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(p,".0, ").concat(d,".0);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");const f=sV(a);if(t)return"\n    float ".concat(r,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(a,"Shape[1] * ").concat(a,"Shape[2];\n      int stride1 = ").concat(a,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n      return sampleTexture(").concat(a,", uv);\n    }\n    ");return"\n      float ".concat(r,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(o," + col * ").concat(i," + depth + ").concat(f,";\n        vec2 uv = uvFromFlat(").concat(d,", ").concat(p,", index);\n        return sampleTexture(").concat(a,", uv);\n      }\n  ")}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n[3],i=n[2]*o,s=n[1]*i,{newShape:l,keptDims:c}=DC(n);if(l.length<n.length){const n=dV(e,l),a=["row","col","depth","depth2"];return"\n      ".concat(tV(n,t),"\n      float ").concat(r,"(int row, int col, int depth, int depth2) {\n        return ").concat(r,"(").concat(pV(a,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(i,", ").concat(o,", 1)));\n        ").concat(lV(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1],f="int stride2 = ".concat(a,"Shape[3];"),m="int stride1 = ".concat(a,"Shape[2] * stride2;"),g="int stride0 = ".concat(a,"Shape[1] * stride1;");if(h===s&&null==u)return t?"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        ").concat(f,"\n        ").concat(m,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(i,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(h,".0, ").concat(p,".0);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");if(h===o&&null==u)return t?"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(a,"Shape[1] * ").concat(a,"Shape[2], ").concat(a,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(h,".0, ").concat(p,".0);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");const y=sV(a);if(t)return"\n    float ".concat(r,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(f,"\n      ").concat(m,"\n      ").concat(g,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index + ").concat(y,");\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");return"\n    float ".concat(r,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(i," +\n          depth * ").concat(o," + depth2;\n      vec2 uv = uvFromFlat(").concat(p,", ").concat(h,", index + ").concat(y,");\n      return sampleTexture(").concat(a,", uv);\n    }\n  ")}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t[4],o=t[3]*r,i=t[2]*o,s=t[1]*i,{newShape:l,keptDims:c}=DC(t);if(l.length<t.length){const t=dV(e,l),n=["row","col","depth","depth2","depth3"];return"\n      ".concat(tV(t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(a,"(").concat(pV(n,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(i,", ").concat(o,", ").concat(r,")) +\n          depth3;\n        ").concat(lV(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1];if(h===s&&null==u)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(i,", ").concat(o,", ").concat(r,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(h,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(h===r&&null==u)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(h,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const f=sV(n);return"\n    float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(i," + depth * ").concat(o," +\n          depth2 * ").concat(r," + depth3 + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(p,", ").concat(h,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:o}=DC(t);if(r.length<t.length){const t=dV(e,r),n=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(tV(t),"\n      float ").concat(a,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(a,"(").concat(pV(n,o),");\n      }\n    ")}const i=t[5],s=t[4]*i,l=t[3]*s,c=t[2]*l,u=t[1]*c;if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(c,", ").concat(l,", ").concat(s,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(i,", 1)));\n        ").concat(lV(e),"\n      }\n    ");const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],f=p[1];if(f===u&&null==d)return"\n      float ".concat(a,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(c,", ").concat(l,", ").concat(s,", ").concat(i,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(f,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(f===i&&null==d)return"\n      float ".concat(a,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(f,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const m=sV(n);return"\n    float ".concat(a,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(l," +\n          depth2 * ").concat(s," + depth3 * ").concat(i," + depth4 + ").concat(m,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(f,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function nV(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),a=XW();return"\n    vec4 ".concat(n,"() {\n      return ").concat(a.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e.shapeInfo.texShape,o=XW();if(t)return"\n    vec4 ".concat(a,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ");const i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return"\n    vec4 ".concat(a,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(i[0],", ").concat(i[1],", index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape,i=o[0],s=o[1],l=XW();if(null!=o&&_C(n,o))return t?"\n      vec4 ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n\n        return ").concat(l.texture2D,"(").concat(a,", uv);\n      }\n    "):"\n      vec4 ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(i,".0);\n\n        return ").concat(l.texture2D,"(").concat(a,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(r,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(a,"TexShape[0]) / 2.0), ceil(float(").concat(a,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(a,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(l.texture2D,"(").concat(a,", uv);\n    }\n  ");const c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=Math.ceil(n[1]/2);return"\n    vec4 ".concat(r,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(u,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(l.texture2D,"(").concat(a,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){const a=[1,2],o=dV(e,n.slice(1)),i=["b","row","col"];return"\n        ".concat(nV(o,t),"\n        vec4 ").concat(r,"(int b, int row, int col) {\n          return ").concat(r,"(").concat(pV(i,a),");\n        }\n      ")}const s=XW();if(t)return"\n    vec4 ".concat(r,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(a,"TexShape[0]) / 2.0), ceil(float(").concat(a,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(a,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(a,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(s.texture2D,"(").concat(a,", uv);\n    }\n  ");const l=i[0],c=i[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return"\n    vec4 ".concat(r,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(l,", ").concat(c,", ").concat(d,", ").concat(u,", b, row, col);\n      return ").concat(s.texture2D,"(").concat(a,", uv);\n    }\n  ")}(e,t);default:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=XW();if(t)return"\n    vec4 ".concat(a,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(r.texture2D,"(").concat(n,", uv);\n    }\n  ");const o=e.shapeInfo.logicalShape,i=o.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=l[0],u=l[1],d=Math.ceil(o[i-1]/2);let p=d*Math.ceil(o[i-2]/2),h="int b, int row, int col",f="b * ".concat(p," + (row / 2) * ").concat(d," + (col / 2)");for(let m=2;m<i-1;m++)h="int b".concat(m,", ")+h,p*=o[i-m-1],f="b".concat(m," * ").concat(p," + ")+f;return"\n    vec4 ".concat(a,"(").concat(h,") {\n      int index = ").concat(f,";\n      int texR = index / ").concat(u,";\n      int texC = index - texR * ").concat(u,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(u,", ").concat(c,");\n      return ").concat(r.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}const aV="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",rV="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",oV="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",iV="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function sV(e){return"offset".concat(e)}function lV(e){const t=e.name,n=CC(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function cV(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function uV(e,t,n){const{newShape:a,keptDims:r}=DC(t),o=t.length,i=e&&3===o&&1===t[0],s=i?t.slice(1):a,l=!e&&o>1&&!_C(t,n)&&a.length<o||i;return{useSqueezeShape:l,uniformShape:l?s:t,keptDims:r}}function dV(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function pV(e,t){return t.map((t=>e[t])).join(", ")}function hV(e,t,n,a){const r=n.map(((e,n)=>{const a={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(a.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:a}})),o=r.map((e=>e.shapeInfo)),i={logicalShape:a.shape,texShape:a.texData.texShape,isUniform:!1,isPacked:a.texData.isPacked,flatOffset:null},s=eV(r,i,t),l=function(e,t){const n=AW(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(wW(e,(()=>e.shaderSource(n,t))),wW(e,(()=>e.compileShader(n))),cE().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw EW(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,s),c=e.createProgram(l);return cE().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:c,inShapeInfos:o,outShapeInfo:i,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:c,inShapeInfos:o,outShapeInfo:i},fV(e,t,c))}function fV(e,t,n){const a={},r={},o={},i=[];let s,l,c,u=null,d=null;d=e.getUniformLocation(n,"NAN",!1),1===cE().getNumber("WEBGL_VERSION")&&(u=e.getUniformLocation(n,"INFINITY",!1));const p=!1;for(let h=0;h<t.variableNames.length;h++){const i=t.variableNames[h];a[i]=e.getUniformLocation(n,i,p),a["offset".concat(i)]=e.getUniformLocation(n,"offset".concat(i),p),t.enableShapeUniforms&&(r["".concat(i,"Shape")]=e.getUniformLocation(n,"".concat(i,"Shape"),p),o["".concat(i,"TexShape")]=e.getUniformLocation(n,"".concat(i,"TexShape"),p))}return t.enableShapeUniforms&&(s=e.getUniformLocation(n,"outShape",p),c=e.getUniformLocation(n,"outShapeStrides",p),l=e.getUniformLocation(n,"outTexShape",p)),t.customUniforms&&t.customUniforms.forEach(((t,a)=>{i[a]=e.getUniformLocation(n,t.name,p)})),{uniformLocations:a,customUniformLocations:i,infLoc:u,nanLoc:d,inShapesLocations:r,inTexShapesLocations:o,outShapeLocation:s,outShapeStridesLocation:c,outTexShapeLocation:l}}function mV(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach(((e,n)=>{const a=e.logicalShape,r=t[n],o=r.shape;if(!_C(a,o))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(a," and ").concat(o," must match"));if(e.isUniform&&r.isUniform)return;const i=e.texShape,s=r.isUniform?null:r.texData.texShape;if(!_C(i,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(i," and ").concat(s," must match"))}))}function gV(e){return cE().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class yV{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=fW.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=XW();this.outputShape=e,this.enableShapeUniforms=gV(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?YW(["r","c","d"],e):KW(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class vV{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=fW.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=XW();this.outputShape=e,this.enableShapeUniforms=gV(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?YW(["r","c","d"],e):KW(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class bV{constructor(e){this.variableNames=["A"],this.outTexUsage=mW.DOWNLOAD;const t=XW();this.outputShape=e,this.userCode="\n      ".concat(ZW,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}class xV{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=mW.DOWNLOAD;const t=XW();this.outputShape=e,this.userCode="\n      ".concat(ZW,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}class wV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=XW();this.outputShape=e,this.enableShapeUniforms=gV(this.outputShape.length);let a="result";t&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":$W(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(n.output," = vec4(").concat(a,", 0., 0., 0.);\n      }\n    ")}}class kV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=XW();this.outputShape=e,this.enableShapeUniforms=gV(this.outputShape.length);let a="",r="result";t&&(r="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let t=0;t<=1;t++){const r=2*o+t;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(t," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(e[2]),") {\n          localCoords[2] += ").concat(t,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(e[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(n.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(r,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(r,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(r,"] = values[2];\n            } else {\n              result[").concat(r,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":$W(e),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(n.output," = ").concat(r,";\n        }\n    ")}}function SV(e){const t=XW();return function(e,t){const n=AW(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(wW(e,(()=>e.shaderSource(n,t))),wW(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function CV(e){return function(e,t){const n=AW(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return wW(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),wW(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function EV(e){return function(e,t){const n=AW(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return wW(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),wW(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function _V(e,t,n,a,r,o){!function(e,t){const n=cE().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const n="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+n+" is invalid.")}if(e>n||t>n){const a="[".concat(e,"x").concat(t,"]"),r="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+r+".")}}(t,n);const i=function(e){return AW(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return wW(e,(()=>e.bindTexture(s,i))),wW(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),wW(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),wW(e,(()=>e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST))),wW(e,(()=>e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===cE().getNumber("WEBGL_VERSION")?wW(e,(()=>e.texImage2D(s,0,a,t,n,0,r,o,null))):wW(e,(()=>e.texStorage2D(s,1,a,t,n))),wW(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:i,texShape:[n,t]}}function IV(e){return e.internalFormatFloat}function NV(e){return e.internalFormatHalfFloat}function TV(e){return e.downloadTextureFormat}function OV(e){return e.internalFormatPackedFloat}function RV(e){return e.internalFormatPackedHalfFloat}function AV(e,t,n,a,r,o,i,s){const l=e,c=new Float32Array(function(e,t){const[n,a]=bW(e,t);return n*a*4}(o,i));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}class PV{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=cE().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,function(e,t){dW[e]=t}(t,e)):this.gl=hW(t);let n="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===cE().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=SW(this.gl,e),WW(this.gl,t))this.textureHalfFloatExtension=SW(this.gl,t);else if(cE().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),WW(this.gl,a))this.colorBufferHalfFloatExtension=SW(this.gl,a);else if(cE().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",WW(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!WW(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=CV(this.gl),this.indexBuffer=EV(this.gl),this.framebuffer=function(e){return AW(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=xW(this.gl,this.textureHalfFloatExtension)}get debug(){return cE().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;wW(e,(()=>e.finish())),wW(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),wW(e,(()=>e.deleteFramebuffer(this.framebuffer))),wW(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),wW(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),wW(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=yW(t,n);return _V(e,r,o,IV(a),a.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=yW(t,n);return _V(e,r,o,NV(a),a.textureFormatFloat,a.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=yW(t,n);return _V(e,r,o,TV(a),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){wW(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===cE().getNumber("WEBGL_VERSION")?wW(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):wW(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===cE().getNumber("WEBGL_VERSION")?wW(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):wW(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),wW(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,a){this.throwIfDisposed(),function(e,t,n,a,r,o){let i,s,l;wW(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),r instanceof Uint8Array?(i=new Uint8Array(n*a*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(i=new Float32Array(n*a*4),s=e.FLOAT,l=o.internalFormatPackedFloat),i.set(r),2===cE().getNumber("WEBGL_VERSION")?wW(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,a,e.RGBA,s,i))):wW(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,a,0,e.RGBA,s,i))),wW(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,a,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=bW(t,n);return _V(e,r,o,RV(a),e.RGBA,a.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=bW(t,n);return _V(e,r,o,OV(a),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(OW(this.gl,this.framebuffer),this.outputTexture=null),wW(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,a){const[r,o]=yW(t,n),i=new Uint8Array(t*n*4);return wW(e,(()=>e.readPixels(0,0,r,o,a.downloadTextureFormat,e.UNSIGNED_BYTE,i))),new Float32Array(i.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,a,r,o){return AV(this.gl,e,0,0,0,r,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const a=e,r=new Float32Array(n);return a.bindBuffer(a.PIXEL_PACK_BUFFER,t),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,r),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),r}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const a=function(e,t,n,a){const r=e.createBuffer();wW(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const o=16*t*n;return wW(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ))),wW(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),wW(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(cE().getBool("WEBGL_FENCE_API_ENABLED")){const a=e,r=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=a.clientWaitSync(r,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=r}else cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const a=new Float32Array(t*n*4);return wW(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,a))),a}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=SV(t));const n=function(e){return AW(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);return wW(t,(()=>t.attachShader(n,this.vertexShader))),wW(t,(()=>t.attachShader(n,e))),function(e,t){if(wW(e,(()=>e.linkProgram(t))),!cE().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n),this.debug&&_W(t,n),this.vertexAttrsAreBound||(this.setProgram(n),this.vertexAttrsAreBound=function(e,t,n){return wW(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),IW(e,t,"clipSpacePos",n,3,20,0)&&IW(e,t,"uv",n,2,20,12)}(t,this.program,this.vertexBuffer)),n}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&wW(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&_W(this.gl,this.program),wW(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return AW(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),wW(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),NW(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[a,r]=bW(t,n);this.setOutputMatrixTextureDriver(e,a,r)}setOutputMatrixWriteRegion(e,t,n,a){this.setOutputMatrixWriteRegionDriver(n,e,a,t)}setOutputPackedMatrixWriteRegion(e,t,n,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&_W(this.gl,this.program),RW(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),wW(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),wW(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=SW(this.gl,2===cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await AC((()=>this.disposed||this.isQueryAvailable(e,cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),a=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),a&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in cE().platform&&(n=cE().platform.setTimeoutCustom.bind(cE().platform)),AC((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),TW(this.gl,e,this.framebuffer),this.debug&&RW(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(TW(this.gl,this.outputTexture,this.framebuffer),this.debug&&RW(this.gl)):OW(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const a=this.gl;TW(a,e,this.framebuffer),this.debug&&RW(a),this.outputTexture=e,wW(a,(()=>a.viewport(0,0,t,n))),wW(a,(()=>a.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,a){this.throwIfDisposed(),wW(this.gl,(()=>this.gl.scissor(e,t,n,a)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}function FV(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&xC("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors in the CPU backend.")))}))}function DV(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const MV={kernelName:fE,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;FV(t,"abs");let a=new Float32Array(CC(t.shape));return a=DV(n.data.get(t.dataId).values),n.makeOutput(a,t.shape,t.dtype)}};function LV(e){return(t,n,a,r,o)=>{const i=tA(t,n),s=i.length,l=QC(i),c=MC(o,CC(i)),u=t.length,d=n.length,p=QC(t),h=QC(n),f=JR(t,i),m=JR(n,i);if(f.length+m.length===0)for(let g=0;g<c.length;++g)c[g]=e(a[g%a.length],r[g%r.length]);else for(let g=0;g<c.length;++g){const t=rE(g,s,l),n=t.slice(-u);f.forEach((e=>n[e]=0));const o=aE(n,u,p),i=t.slice(-d);m.forEach((e=>i[e]=0));const y=aE(i,d,h);c[g]=e(a[o],r[y])}return[c,i]}}function zV(e){const{inputs:t,backend:n}=e,{real:a,imag:r}=t,o=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,s=n.makeTensorInfo(a.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(a.shape,"float32",o),imag:n.makeTensorInfo(r.shape,"float32",i)},s}const jV={kernelName:BE,backendName:"cpu",kernelFunc:zV};function BV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return zV({inputs:{real:BV(e,t,"float32"),imag:BV(e,t,"float32")},backend:e})}const a=eE(CC(t),n);return e.makeTensorInfo(t,n,a)}function WV(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const VV={kernelName:N_,backendName:"cpu",kernelFunc:WV};function UV(e){const{inputs:t,backend:n}=e,{input:a}=t,r=n.data.get(a.dataId).complexTensorInfos.real,o=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,o)}const GV={kernelName:CI,backendName:"cpu",kernelFunc:UV};function HV(e,t,n,a){if("int32"===a){return[t,"int32",Int32Array.from(e)]}if("bool"===a){const a=eT([0],n),[r,o]=LV(((e,t)=>e!==t?1:0))(t,[],e,a,"bool");return[o,"bool",r]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(a))}function qV(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dtype:o}=a;if("complex64"===o){if("complex64"===r.dtype)return WV({inputs:{x:r},backend:n});const e=BV(n,r.shape,r.dtype),t=qV({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),a=zV({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),a}if("complex64"===r.dtype){const e=UV({inputs:{input:r},backend:n}),t=qV({inputs:{x:e},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(e),t}if(!BC(r.dtype,o)){const e=WV({inputs:{x:r},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:o}}const i=n.data.get(r.dataId).values,[s,l,c]=HV(i,r.shape,r.dtype,o);return n.makeTensorInfo(s,l,c)}const XV={kernelName:LE,backendName:"cpu",kernelFunc:qV};function KV(e,t,n,a){return null==n?n=>{let{inputs:r,backend:o}=n;const{a:i,b:s}=r,l=o;FV([i,s],e);const c=l.data.get(i.dataId).values,u=l.data.get(s.dataId).values,d="string"===i.dtype?Fj(c):c,p="string"===i.dtype?Fj(u):u,h=a||i.dtype,[f,m]=t(i.shape,s.shape,d,p,h);return l.makeTensorInfo(m,h,f)}:e=>{let{inputs:r,backend:o}=e;const{a:i,b:s}=r,l=o;if("complex64"===i.dtype||"complex64"===s.dtype){const e=qV({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),a=t.complexTensorInfos.real,r=t.complexTensorInfos.imag,o=l.data.get(a.dataId).values,c=l.data.get(r.dataId).values,u=qV({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(u.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=l.data.get(p.dataId).values,m=l.data.get(h.dataId).values,[g,y,v]=n(i.shape,s.shape,o,c,f,m),b=l.makeTensorInfo(v,"float32",g),x=l.makeTensorInfo(v,"float32",y),w=zV({inputs:{real:b,imag:x},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(b),l.disposeIntermediateTensorInfo(x),w}{const e=l.data.get(i.dataId).values,n=l.data.get(s.dataId).values,r=a||i.dtype,[o,c]=t(i.shape,s.shape,e,n,r);return l.makeTensorInfo(c,r,o)}}}function YV(e){return(t,n,a,r,o,i)=>{const s=tA(t,n),l=CC(s),c=s.length,u=QC(s),d=MC("float32",l),p=MC("float32",l),h=JR(t,s),f=JR(n,s),m=ej(a,r),g=ej(o,i),y=t.length,v=QC(t),b=n.length,x=QC(n);if(h.length+f.length===0)for(let w=0;w<d.length;w++){const t=w%m.length,n=w%g.length,a=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[w]=a.real,p[w]=a.imag}else for(let w=0;w<d.length;w++){const t=rE(w,c,u),n=t.slice(-y);h.forEach((e=>n[e]=0));const a=aE(n,y,v),r=t.slice(-b);f.forEach((e=>r[e]=0));const o=aE(r,b,x),i=e(m[2*a],m[2*a+1],g[2*o],g[2*o+1]);d[w]=i.real,p[w]=i.imag}return[d,p,s]}}const QV=LV(((e,t)=>e+t)),$V=YV(((e,t,n,a)=>({real:e+n,imag:t+a}))),ZV=KV(yE,QV,$V),JV={kernelName:yE,backendName:"cpu",kernelFunc:ZV};function eU(e,t,n,a,r){const o=CC(a),i=eE(r,n);for(let s=0;s<e.length;s++){const n=e[s];if(n<0)throw new Error("Input x must be non-negative!");n>=r||(i[n]+=o>0?t[s]:1)}return i}function tU(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.shape[0],o=e.shape[1],i=tR([r,n],t.dtype);for(let s=0;s<r;s++)for(let r=0;r<o;r++){const o=e.get(s,r);if(o<0)throw new Error("Input x must be non-negative!");o>=n||(a?i.set(1,s,o):t.size>0?i.set(i.get(s,o)+t.get(s,r),s,o):i.set(i.get(s,o)+1,s,o))}return i}function nU(e){return(t,n,a)=>{const r=MC(n,t.length);for(let o=0;o<t.length;++o)r[o]=e(t[o],a);return r}}function aU(e,t,n){return a=>{let{inputs:r,attrs:o,backend:i}=a;const{x:s}=r;if(FV(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const l=i,c=l.data.get(s.dataId).values,u=CC(s.shape),d=n||s.dtype,p=LC(d,u);for(let e=0;e<u;++e)p[e]=t(c[e],o);return l.makeTensorInfo(s.shape,d,p)}}function rU(e,t,n){return a=>{let{inputs:r,attrs:o,backend:i}=a;const{x:s}=r;if(FV(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const l=i,c=l.data.get(s.dataId).values,u=n||s.dtype,d=t(c,u,o);return l.makeTensorInfo(s.shape,u,d)}}const oU=nU((e=>Math.ceil(e))),iU=rU(zE,oU),sU={kernelName:zE,backendName:"cpu",kernelFunc:iU};function lU(e,t,n,a){const r=LC(n,CC(t));if(a&&"string"!==n){let t=0;e.forEach((e=>{const n=CC(e.shape);r.set(e.vals,t),t+=n}))}else{let a=0;e.forEach((e=>{const o="string"===n?Fj(e.vals):e.vals;let i=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+a;for(let t=0;t<e.shape[1];++t)r[s+t]=o[i++]}a+=e.shape[1]}))}return r}const cU=LV(((e,t)=>e===t?1:0)),uU=KV(f_,cU,null,"bool"),dU={kernelName:f_,backendName:"cpu",kernelFunc:uU},pU=nU((e=>Math.exp(e))),hU=rU(m_,pU,"float32"),fU={kernelName:m_,backendName:"cpu",kernelFunc:hU},mU=nU((e=>Math.expm1(e))),gU=rU(y_,mU),yU={kernelName:y_,backendName:"cpu",kernelFunc:gU},vU=nU((e=>Math.floor(e))),bU=rU(w_,vU),xU={kernelName:w_,backendName:"cpu",kernelFunc:bU};function wU(e,t,n,a,r,o,i,s,l){const c=tR([a,o],n);for(let u=0;u<a;u++){const n=[];let a=0;for(let t=0;t<r;t++){const o=e[u*r+t];a+=o*i[t],n.push(o)}if(a<0||a>=l/o)throw new Error("Invalid indices: ".concat(n," does not index into ").concat(s));for(let e=0;e<o;e++)c.values[u*o+e]=t.get(...t.indexToLoc(a*o+e))}return c}function kU(e,t,n){const a=tR(n,e.dtype);for(let r=0;r<a.size;++r){const n=a.indexToLoc(r).slice(),o=n[0],i=n[2],s=t.locToIndex([o,i]);n[2]=t.values[s];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(a.values[r]=e.values[l])}return a}const SU=LV(((e,t)=>e>t?1:0)),CU=KV(__,SU,null,"bool"),EU={kernelName:__,backendName:"cpu",kernelFunc:CU},_U=LV(((e,t)=>e>=t?1:0)),IU=KV(I_,_U,null,"bool"),NU={kernelName:I_,backendName:"cpu",kernelFunc:IU},TU=LV(((e,t)=>e<t?1:0)),OU=KV(D_,TU,null,"bool"),RU={kernelName:D_,backendName:"cpu",kernelFunc:OU},AU=LV(((e,t)=>e<=t?1:0)),PU=KV(M_,AU,null,"bool"),FU={kernelName:M_,backendName:"cpu",kernelFunc:PU};function DU(e,t,n){const a=(t-e)/(n-1),r=eE(n,"float32");r[0]=e;for(let o=1;o<r.length;o++)r[o]=r[o-1]+a;return r}const MU=nU((e=>Math.log(e))),LU=rU(z_,MU),zU={kernelName:z_,backendName:"cpu",kernelFunc:LU};function jU(e,t,n,a){const r=MC(a,CC(n));for(let o=0;o<r.length;++o){const n=o*t;let a=e[n];for(let r=0;r<t;++r){const t=e[n+r];(Number.isNaN(t)||t>a)&&(a=t)}r[o]=a}return r}const BU=LV(((e,t)=>Math.max(e,t))),WU=KV(Y_,BU),VU={kernelName:Y_,backendName:"cpu",kernelFunc:WU},UU=LV(((e,t)=>Math.min(e,t))),GU=KV(aI,UU),HU={kernelName:aI,backendName:"cpu",kernelFunc:GU},qU=LV(((e,t)=>e*t)),XU=YV(((e,t,n,a)=>({real:e*n-t*a,imag:e*a+t*n}))),KU=KV(sI,qU,XU),YU={kernelName:sI,backendName:"cpu",kernelFunc:KU};function QU(e,t,n){const a=JN(-1,n);return qU([],t,a,e,n)}const $U={kernelName:lI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;FV(a,"neg");const r=n.data.get(a.dataId).values,[o,i]=QU(r,a.shape,a.dtype);return n.makeTensorInfo(i,a.dtype,o)}},ZU=LV(((e,t)=>e!==t?1:0)),JU=KV(cI,ZU,null,"bool"),eG={kernelName:cI,backendName:"cpu",kernelFunc:JU};function tG(e,t,n,a,r){const o=t.length,i=CC(t),s=QC(t),l=QC(r),c=MC(n,CC(r));for(let u=0;u<i;++u){const t=rE(u,o,s),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[a[e]];c[aE(n,o,l)]=e[u]}return c}function nG(e){const{inputs:t,attrs:n,backend:a}=e,{x:r}=t,{perm:o}=n;FV(r,"transpose");const i=r.shape.length,s=new Array(i);for(let c=0;c<s.length;c++)s[c]=r.shape[o[c]];const l=tG(a.data.get(r.dataId).values,r.shape,r.dtype,o,s);return{dataId:a.write(l,s,r.dtype),shape:s,dtype:r.dtype}}const aG={kernelName:fN,backendName:"cpu",kernelFunc:nG};function rG(e,t,n,a){const[r,o]=GF(e,a),i=NT(t,"int32"),s=eE(CC(r),i),l=CC(o);for(let c=0;c<s.length;++c){const e=c*l;let t=1;for(let a=0;a<l;++a)t*=n[e+a];s[c]=t}return{outVals:s,outShape:r,outDtype:i}}const oG={kernelName:xI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a;FV(r,"prod");const s=r.shape.length,l=FC(o,r.shape),c=XF(l,s);let u=l,d=r;const p=[];null!=c&&(d=nG({inputs:{x:r},backend:n,attrs:{perm:c}}),p.push(d),u=YF(u.length,s));const h=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=rG(d.shape,d.dtype,h,u);let y=m;return i&&(y=HF(m,l)),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,g,f)}};function iG(e,t,n,a){const r=[];let o=0;const i=t.length-1+n.length,s=new Array(i).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const a=e[n],r=n===e.length-1?t:e[n+1].length;if(0===a.length)throw new Error("Ragged splits may not be empty");if(a[0]<0)throw new Error("Ragged splits must be non-negative");if(a[a.length-1]>r)throw new Error("Ragged splits must not point past values");for(let e=1;e<a.length;++e)if(a[e-1]>a[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,a);let l=1;for(let c=0;c<t.length-1;++c){l*=t[c];const e=t[c+1];for(let t=1;t<l+1;++t)s[c].push(t*e)}for(let c=0;c<e.length;++c){let a=e[c],i=e[c]+1;for(let e=0;e<n.length;++e){const r=n[e],o=e+t.length-1;if(o>=0){const e=s[o],t=e[e.length-1]-r[a];for(let n=a;n<i;++n)s[o].push(r[n+1]+t)}a=r[a],i=r[i]}i!==a&&(r.push([a,i]),o+=i-a)}return{outSplits:s,valueSlices:r,numValues:o}}function sG(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let a=t;a<e.length;a++)n[t-1]*=e[a];return n}function lG(e,t,n,a,r){const o=t.slice();o[0]=r;const i=LC(n,CC(o)),s=e.length;return function(e,t,n,a,r,o){const i=sG(t,2)[1],s=sG(o,2)[1];let l=0;for(const c of n)for(let t=c[0];t<c[1];++t){for(let n=0;n<a;++n)r[l*s+n]=e[t*i+n];++l}}(e,t,a,0===s?0:s/t[0],i,o),[i,o]}function cG(e,t,n,a,r,o,i,s){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,a)=>{if(e<0||e>=n){const r=rE(a,t.length,QC(t)).join(",");throw new Error("indices[".concat(r,"] = ").concat(e," is not in [0, ").concat(n,")"))}}))}(o,i,t[0][0]-1),0===a.length)throw new Error("params.rank must be nonzero");const l=a[0],{outSplits:c,valueSlices:u,numValues:d}=iG(o,i,e,l),p=function(e){const t=[];for(let n=0;n<e.length;++n){const a=LC("int32",e[n].length);t.push(a),e[n].forEach(((e,t)=>a[t]=e))}return t}(c),h=lG(n,a,r,u,d);return[p,h[0],h[1]]}var uG=Pz;class dG{constructor(e,t,n,a,r,o,i,s,l,c){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=a,this.valuesDType=r,this.defaultValue=o,this.defaultValueShape=i,this.rowPartitionValues=s,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=Dz(c),this.raggedRank=Mz(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===uG.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===uG.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case uG.VALUE_ROWIDS:return dG.getMaxWidthValueRowID(t);case uG.ROW_SPLITS:return dG.getMaxWidthRowSplit(t);default:throw new Error("Cannot handle partition type ".concat(uG[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let a=0;a<t-1;++a){const t=e[a+1]-e[a];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,a=e[0],r=0;for(let o=1;o<t;++o){const t=e[o];t!==a&&(a=t,r=Math.max(o-n,r),n=o)}return Math.max(t-n,r)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return hG(e,n)}calculateOutputSize(e){const t=this.valuesShape;Lz(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=Fz(this.raggedRank,n,t);a[0]<0&&(a[0]=e);for(let r=1;r<=this.raggedRank;++r)a[r]<0&&(a[r]=this.getMaxWidth(r));return a}calculateFirstParentOutputIndex(e,t,n){const a=Math.min(e,n),r=[];let o=0;for(let i=0;i<a;++i,o+=t)r.push(o);for(let i=a;i<e;++i)r.push(-1);return xC(r.length===e,(()=>"Final length of result must be equal to firstDimension.")),r}calculateOutputIndexRowSplit(e,t,n,a){const r=e.length,o=[];for(let i=0;i<r-1;++i){const r=e[i+1]-e[i];let s=Math.min(a,r),l=t[i];-1===l&&(s=0);for(let e=0;e<s;++e)o.push(l),l+=n;for(let e=0;e<r-s;++e)o.push(-1)}if(r>0&&o.length!==e[r-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,t,n,a){const r=e.length,o=[];if(0===r)return[];let i=0,s=e[0];if(s>=t.length)throw new Error("Got currentValueRowId=".concat(s,", which is not less than ").concat(t.length));let l=t[s];o.push(l);for(let c=1;c<r;++c){const r=e[c];if(r===s)l>=0&&(++i,i<a?l+=n:l=-1);else{if(i=0,s=r,r>=t.length)throw new Error("Got nextValueRowId=".concat(r," which is not less than ").concat(t.length));l=t[r]}o.push(l)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,t,n,a){const r=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case uG.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(r,t,n,a);case uG.ROW_SPLITS:if(r.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(r.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(r,t,n,a);default:throw new Error("Unsupported partition type: ".concat(uG[o]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case uG.FIRST_DIM_SIZE:return e[0];case uG.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case uG.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(uG[t]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let o=n.length-2;o>=0;--o)n[o]=n[o+1]*t[o+1];const a=hG(t,!1),r=LC(this.valuesDType,CC(a));if(n[0]*t[0]>0){let o=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){o=this.calculateOutputIndex(e-1,o,n[e],t[e])}this.setOutput(this.raggedRank,o,r,a)}return[a,r]}setOutput(e,t,n,a){if(0===n.length)return;const r=this.values,o=n;let i=a.slice();i=i.slice(e+1);const s=CC(i),l=t.length;let c=this.defaultValue;if(c.length!==s&&1!==c.length){const e=this.defaultValueShape;DR((()=>{const t=$P(c,e),n=pF(t,i);c=n.dataSync()}))}let u=0,d=0,p=0;for(let h=0;h<=l;++h){let e=h<l?t[h]:-1;if(e!==p){if(d<p){const e=r.subarray(u*s);pG(o.subarray(d*s),e,(p-d)*s)}if(h>=l){const t=n.length;e=Math.floor(t/s)}if(e>p)if(1===this.defaultValue.length)o.subarray(p*s,e*s).fill(this.defaultValue[0]),p=e;else for(;e>p;){pG(o.slice(p*s),c,s),++p}e<0?(u=h+1,d=p):(u=h,d=p,p=d+1)}else++p}}}function pG(e,t,n){for(let a=0;a<n;a++)e[a]=t[a]}function hG(e,t){const n=[];for(let a of e){if(a<0){if(!t)throw new Error("Dimension ".concat(a," must be >= 0"));if(a<-1)throw new Error("Dimension ".concat(a," must be >= -1"));a=-1}n.push(a)}return n}function fG(e,t,n,a,r,o,i,s,l,c){return new dG(e,t,n,a,r,o,i,s,l,c).compute()}function mG(e,t,n,a){if(e===t||e<t&&n<0||t<e&&n>1)return eE(0,a);const r=eE(Math.abs(Math.ceil((t-e)/n)),a);t<e&&1===n&&(n=-1),r[0]=e;for(let o=1;o<r.length;o++)r[o]=r[o-1]+n;return r}const gG=nU((e=>1/Math.sqrt(e))),yG=rU(DI,gG),vG={kernelName:DI,backendName:"cpu",kernelFunc:yG};function bG(e,t,n,a,r,o,i,s,l,c){const u=[a/r,r],d=e.values,p=t.values;if(0===a)return tR(n,t.dtype);const h=tR(u,t.dtype);"string"===typeof l||"number"===typeof l?h.values.fill(l):"boolean"===typeof l&&h.values.fill(+l);for(let f=0;f<o;f++){const e=[];let o=0;for(let t=0;t<i;t++){const n=d[f*i+t];e.push(n),o+=n*s[t]}if(o<0||o>=a/r)throw new Error("Invalid indices: ".concat(e," does not index into ").concat(n));for(let n=0;n<r;n++)c?h.values[o*r+n]+=p[f*r+n]:h.values[o*r+n]=0===t.rank?p[0]:p[f*r+n]}return h}const xG=nU((e=>1/(1+Math.exp(-e)))),wG=aU(GI,(e=>1/(1+Math.exp(-e)))),kG={kernelName:GI,backendName:"cpu",kernelFunc:wG};function SG(e,t,n,a,r){const o=IA(a,t,n),i=CC(n),s=QC(a);if(o){const n=NA(t,s);return"string"===r?e.slice(n,n+i):e.subarray(n,n+i)}const l=tR(a,r,"string"===r?Fj(e):e),c=tR(n,r);for(let u=0;u<c.size;++u){const e=c.indexToLoc(u),n=e.map(((e,n)=>e+t[n]));c.set(l.get(...n),...e)}return"string"===r?Dj(c.values):c.values}function CG(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,size:i}=a;FV(r,"slice");const[s,l]=TA(r,o,i);mA(r,s,l);const c=SG(n.data.get(r.dataId).values,s,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,c)}const EG={kernelName:BI,backendName:"cpu",kernelFunc:CG};function _G(e,t,n,a,r,o,i){const s=t[0],l=o[0],c=new Array(l),u=new Array(s),d=t[1];if(0===l){if(0!==s)throw new Error(bj(s));return[LC(n,0),[0,d],LC(r,0),c,u]}let p=!0,h=0;const f=new Array(l).fill(0);for(let g=0;g<s;++g){const t=e[g*d];if(t<0)throw new Error(xj(g,t));if(t>=l)throw new Error(wj(g,t,l));++f[t],p=p&&t>=h,h=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];c[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&p){const t=e,n=a;for(let e=0;e<s;++e)u[e]=e;return[t,[s,d],n,c,u]}{const t=f[l-1],o=LC(n,t*d),p=LC(r,t),h=new Array(l).fill(0);for(let n=0;n<s;++n){const t=e[n*d],r=h[t],i=(0===t?0:f[t-1])+r;h[t]++;for(let a=0;a<d;++a)o[i*d+a]=e[n*d+a];p[i]=a[n],u[n]=i}for(let e=0;e<l;++e){if(0===h[e]){const t=0===e?0:f[e-1];o[t*d+0]=e;for(let e=1;e<d;++e)o[t*d+e]=0;p[t]=i}}return[o,[t,d],p,c,u]}}function IG(e,t,n,a,r){const o=CC(a),i=t[0],s=r.length,l=[];let c=1,u=-1;for(let m=0;m<s;++m){const e=r[m];if(-1===e){if(-1!==u)throw new Error(kj(u,m));u=m,l.push(1)}else{if(e<0)throw new Error(Sj(m,e));c*=e,l.push(e)}}if(-1!==u){if(c<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(o/c);if(c*e!==o)throw new Error(Ej(a,l));l[u]=e}if(CC(l)!==o)throw new Error(_j(a,l));const d=a.length,p=[];if(d>0){p[d-1]=1;for(let e=d-2;e>=0;--e)p[e]=p[e+1]*a[e+1]}const h=[];if(s>0){h[s-1]=1;for(let e=s-2;e>=0;--e)h[e]=h[e+1]*l[e+1]}const f=LC(n,i*s);for(let m=0;m<i;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*p[n];for(let e=0;e<s;++e)f[m*s+e]=Math.trunc(t/h[e]),t%=h[e]}return[f,[i,s],l]}function NG(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const s=a.length,l=[t[0],e.length/t[0]],c=l[1],u=s>0?r[s-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=u;const p=LC(n,d.reduce(((e,t)=>e*t),1));if(0===s)return u>0&&p.fill(i),[p,d];if(u<=0)throw new Error("segment ids must be >= 0");let h=0,f=1,m=0,g=r[h];for(;;){let t=0;if(f<s){if(t=r[f],g===t){++f;continue}if(g>=t)throw new Error("segment ids are not increasing")}if(g<0||g>=u)throw new Error(Tj(g,u));g>m&&p.fill(i,m*c,g*c);for(let n=h;n<f;++n){const t=a[n];if(t<0||t>=l[0])throw new Error(Oj(n,a[n],l[0]));for(let n=0;n<c;n++)p[g*c+n]+=e[t*c+n]}if(o)for(let e=0;e<c;e++)p[g*c+e]/=f-h;if(h=f,++f,m=g+1,g=t,f>s)break}return m<u&&p.fill(i,m*c,u*c),[p,d]}const TG=nU((e=>Math.sqrt(e))),OG=aU(qI,(e=>Math.sqrt(e))),RG={kernelName:qI,backendName:"cpu",kernelFunc:OG};function AG(e,t,n,a){const r=tR(e,t.dtype);for(let o=0;o<r.size;o++){const e=r.indexToLoc(o),i=new Array(e.length);for(let t=0;t<i.length;t++)i[t]=e[t]*n[t]+a[t];r.set(t.get(...i),...e)}return r}class PG{constructor(e,t,n,a,r,o){this.separator=aT(e),this.nGramWidths=t,this.leftPad=aT(n),this.rightPad=aT(a),this.padWidth=r,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,a,r,o){for(let i=0;i<r;++i){const s=this.getPadWidth(o),l=Math.max(0,s-i),c=Math.max(0,s-(r-(i+1))),u=o-(l+c),d=t+(l>0?0:i-s);let p=0;p+=l*this.leftPad.length;for(let t=0;t<u;++t)p+=e[d+t].length;p+=c*this.rightPad.length;p+=(l+c+u-1)*this.separator.length,n[a+i]=new Uint8Array(p);const h=n[a+i];let f=0;const m=e=>e.forEach((e=>h[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[d+t]),m(this.separator);if(u>0){m(e[d+u-1]);for(let e=0;e<c;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<c-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,a=t.length;if(a>0){let e=t[0];if(0!==e)throw new Error("First split value must be 0, got ".concat(e));for(let r=1;r<a;++r){let a=t[r]>=e;if(a=a&&t[r]<=n,!a)throw new Error("Invalid split value ".concat(t[r],", must be in [").concat(e,", ").concat(n,"]"));e=t[r]}if(e!==n)throw new Error("Last split value must be data size. Expected ".concat(n,", got ").concat(e))}const r=a-1,o=LC("int32",a);if(0===n||0===a){const e=new Array(n);for(let t=0;t<=r;++t)o[t]=0;return[e,o]}o[0]=0;for(let s=1;s<=r;++s){const e=t[s]-t[s-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),o[s]=o[s-1]+n}const i=new Array(o[r]);for(let s=0;s<r;++s){const n=t[s];let a=o[s];if(this.nGramWidths.forEach((r=>{const o=t[s+1]-t[s],l=this.getNumNGrams(o,r);this.createNGrams(e,n,i,a,l,r),a+=l})),this.preserveShort&&a===o[s]){const r=t[s+1]-t[s];if(0===r)continue;const o=r+2*this.padWidth,l=1;this.createNGrams(e,n,i,a,l,o)}}return[i,o]}}function FG(e,t,n,a,r,o,i,s){return new PG(n,a,r,o,i,s).compute(e,t)}function DG(e,t,n,a){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)a.push(e.subarray(t,t+1));return}if(1===t.length){const r=t[0];let o=e.indexOf(r);for(;-1!==o;){const t=e.subarray(0,o);n&&0===t.length||a.push(t),o=(e=e.subarray(o+1)).indexOf(r)}return void(n&&0===e.length||a.push(e))}let r=0;for(let o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){const t=e.subarray(r,o);n&&0===t.length||a.push(t),r=o+1}}function MG(e,t,n){const a=e.length,r=[];let o=0,i=0;const s=new Array(a);for(let p=0;p<a;++p){const a=r.length;DG(e[p],t,n,r);const l=r.length-a;s[p]=l,o+=l,i=Math.max(i,l)}const l=LC("int32",2*o),c=new Array(o),u=[a,i];let d=0;for(let p=0;p<a;++p)for(let e=0;e<s[p];++e)l[2*d]=p,l[2*d+1]=e,c[d]=r[d],++d;return[l,c,u]}function LG(e,t){const n=LC("int32",e.length);for(let a=0;a<e.length;++a)n[a]=ZN(e[a]).modulo(t).getLowBitsUnsigned();return n}const zG=LV(((e,t)=>e-t)),jG=YV(((e,t,n,a)=>({real:e-n,imag:t-a}))),BG=KV(lN,zG,jG),WG={kernelName:lN,backendName:"cpu",kernelFunc:BG};function VG(e,t){const n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];const a=tR(n,e.dtype);for(let r=0;r<a.values.length;++r){const t=a.indexToLoc(r),n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=t[a]%e.shape[a];const o=e.locToIndex(n);a.values[r]=e.values[o]}return a}const UG=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function GG(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;a>n;){if(a-n>600){const r=a-n+1,o=t-n+1,i=Math.log(r),s=.5*Math.exp(2*i/3),l=.5*Math.sqrt(i*s*(r-s)/r)*Math.sign(o-r/2);GG(e,t,Math.max(n,Math.floor(t-o*s/r+l)),Math.min(a,Math.floor(t+(r-o)*s/r+l)))}const r=e[t];let o=n,i=a;for(gC(e,n,t),UG(e[a],r)>0&&gC(e,n,a);o<i;){for(gC(e,o,i),o++,i--;UG(e[o],r)<0;)o+=1;for(;UG(e[i],r)>0;)i-=1}0===UG(e[n],r)?gC(e,n,i):(i+=1,gC(e,i,a)),i<=t&&(n=i+1),t<=i&&(a=i-1)}}function HG(e,t,n,a,r){const o=t[t.length-1],[i,s]=[e.length/o,o],l=MC(n,i*a),c=MC("int32",i*a);for(let d=0;d<i;d++){const t=d*s,n=e.subarray(t,t+s);let o=new Array(n.length);n.forEach(((e,t)=>o[t]={value:e,index:t})),a<o.length&&(GG(o,a),o=o.slice(0,a)),r&&o.sort(UG);const i=d*a,u=l.subarray(i,i+a),p=c.subarray(i,i+a);for(let e=0;e<a;e++)u[e]=o[e].value,p[e]=o[e].index}const u=t.slice();return u[u.length-1]=a,[tR(u,n,l),tR(u,"int32",c)]}function qG(e,t,n,a){const r=FC(t,n)[0],o=[1,n[0],1];for(let f=0;f<r;f++)o[0]*=n[f];o[1]=n[r];for(let f=r+1;f<n.length;f++)o[2]*=n[f];const i={},s=new Int32Array(n[r]),l=new gT(o,a,e),c=[],u=1===o[0]&&1===o[2];for(let f=0;f<n[r];f++){let t;if(u)t=e[f].toString();else{const e=[];for(let t=0;t<o[0];t++)for(let n=0;n<o[2];n++)e.push(l.get(t,f,n));t=e.join(",")}if(void 0!==i[t])s[f]=i[t];else{const e=Object.keys(i).length;i[t]=e,s[f]=e,c.push(f)}}const d=o.slice();d[1]=Object.keys(i).length;const p=new gT(d,a);c.forEach(((e,t)=>{for(let n=0;n<o[0];n++)for(let a=0;a<o[2];a++)p.set(l.get(n,e,a),n,t,a)}));const h=n.slice();return h[r]=d[1],{outputValues:p.values,outputShape:h,indices:s}}const{addImpl:XG,bincountImpl:KG,bincountReduceImpl:YG,castImpl:QG,ceilImpl:$G,concatImpl:ZG,equalImpl:JG,expImpl:eH,expm1Impl:tH,floorImpl:nH,gatherNdImpl:aH,gatherV2Impl:rH,greaterImpl:oH,greaterEqualImpl:iH,lessImpl:sH,lessEqualImpl:lH,linSpaceImpl:cH,logImpl:uH,maxImpl:dH,maximumImpl:pH,minimumImpl:hH,multiplyImpl:fH,negImpl:mH,notEqualImpl:gH,prodImpl:yH,raggedGatherImpl:vH,raggedTensorToTensorImpl:bH,rangeImpl:xH,rsqrtImpl:wH,scatterImpl:kH,sigmoidImpl:SH,simpleAbsImpl:CH,sliceImpl:EH,sparseFillEmptyRowsImpl:_H,sparseReshapeImpl:IH,sparseSegmentReductionImpl:NH,sqrtImpl:TH,stridedSliceImpl:OH,stringNGramsImpl:RH,stringSplitImpl:AH,stringToHashBucketFastImpl:PH,subImpl:FH,tileImpl:DH,topKImpl:MH,transposeImpl:LH,uniqueImpl:zH}=j;function jH(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>"".concat(e,".").concat(t)))}function BH(e,t){return 1===t?[e]:jH(e,t)}class WH{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=gV(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=BH("rc",this.rank),t=cV(this.rank),n=this.getOutOfBoundsCondition(e),a=this.getSetup(e),r=this.getOutput(e);this.userCode="\n        void main() {\n          ".concat(t," rc = getOutputCoords();\n\n          if(").concat(n,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(a,"\n\n            setOutput(vec4(").concat(r,"));\n          }\n        }\n      ")}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let a=0;a<=1;a++){let r="".concat(0===n?"r":"rp1",", ").concat(0===a?"c":"cp1");for(let t=2;t<this.rank;t++)r="".concat(e[e.length-1-t],",")+r;t.push(r)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);let t="";for(let n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],a=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(a,";\n    ")}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){const e=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(e," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}class VH{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=gV(this.outputShape.length);let n="";for(let a=0;a<4;a++){let e="thisRC = rc;";a%2===1&&(e+="thisRC.z += 1;"),a>1&&(e+="thisRC.y += 1;"),n+="\n        ".concat(e,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){const n=t?QW(["r","c","d"],"inputShape"):KW(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(t,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":$W(e),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":e[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":e[2],";\n\n        ").concat(n,"\n\n        setOutput(result);\n      }\n    ")}}class UH{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,n){const a=HH(t,n),r=qH(e,a,n);r in this.freeTextures||(this.freeTextures[r]=[]),r in this.usedTextures||(this.usedTextures[r]=[]);const o=GH(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[r].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const e=this.freeTextures[r].shift();return this.usedTextures[r].push(e),e}let i;return a===gW.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===gW.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===gW.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===gW.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===gW.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[r].push(i),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),i}releaseTexture(e,t,n,a){if(null==this.freeTextures)return;const r=HH(n,a),o=qH(t,r,a);o in this.freeTextures||(this.freeTextures[o]=[]);const i=GH(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,a),s=cE().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=i):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;const l=this.usedTextures[o],c=l.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(c,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));const t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function GH(e,t,n,a,r){const o=function(e,t){switch(e){case gW.PACKED_2X2_FLOAT32:return OV(t);case gW.PACKED_2X2_FLOAT16:return RV(t);case gW.UNPACKED_FLOAT32:return IV(t);case gW.UNPACKED_FLOAT16:return NV(t);case gW.PACKED_4X1_UNSIGNED_BYTE:return TV(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,a);let i;if(r){const[t,n]=bW(e[0],e[1]);i=t*n}else{const[t,n]=yW(e[0],e[1]);i=t*n}const s=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,o);return i*s}function HH(e,t){if(e===mW.UPLOAD)return gW.PACKED_2X2_FLOAT32;if(e===mW.RENDER||null==e)return function(e){return cE().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?gW.PACKED_2X2_FLOAT32:gW.UNPACKED_FLOAT32:e?gW.PACKED_2X2_FLOAT16:gW.UNPACKED_FLOAT16}(t);if(e===mW.DOWNLOAD||e===mW.PIXELS)return gW.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function qH(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}class XH{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=gV(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}const KH="if (isnan(x)) return x;",YH="return x;",QH="return abs(x);";const $H="return (x >= 0.0) ? x : (exp(x) - 1.0);",ZH=KH+"\n  return (x < 0.0) ? 0.0 : x;\n",JH=KH+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",eq="return x;",tq="return 1.0 / (1.0 + exp(-1.0 * x));",nq="return x;",aq="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",rq="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",oq="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",iq="return 1.0 / (1.0 + exp(-1.0 * x));";class sq{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=gV(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}class lq{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=gV(this.outputShape.length);const t=e.length,n=BH("rc",t),a=cV(t),r=function(e,t){if(1===e)return"rc";let n="";for(let a=0;a<e;a++)n+=t[a],a<e-1&&(n+=",");return n}(t,n),o=n.slice(-2),i=t<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(r,");\n\n        setOutput(getChannel(packedInput, ").concat(i,"));\n      }\n    ")}}const cq=oL,uq={};const dq=cE().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class pq extends uC{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!cE().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof PV)t=e;else{const n=hW(cE().getNumber("WEBGL_VERSION"),e);t=new PV(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=hW(cE().getNumber("WEBGL_VERSION"));t=new PV(e),this.binaryCache=((n=cE().getNumber("WEBGL_VERSION"))in uq||(uq[n]={}),uq[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new UH(this.gpgpu),this.numMBBeforeWarning=null==cE().global.screen?1024:cE().global.screen.height*cE().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new cC(this,AR())}nextDataId(){return pq.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,t,n){if((cE().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||cE().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:t,dtype:n,values:e,usage:mW.UPLOAD,refCount:1}),a}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,a,r){if(cE().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:a,values:t,usage:mW.UPLOAD,refCount:r})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:a,complexTensorInfos:r,slice:o,shape:i,isPacked:s}=t;if(null!=o){let t;t=s?new sq(i,eq):new XH(i,eq);const n=this.runWebGLProgram(t,[{dataId:e,shape:i,dtype:a}],a),r=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===a)return n;const l=null!=this.activeTimers;let c,u;if(l&&(c=tT()),"complex64"===a){u=ej(this.readSync(r.real.dataId),this.readSync(r.imag.dataId))}else u=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=tT()-c),this.convertAndCacheOnCPU(e,u)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:a,slice:r,dtype:o,complexTensorInfos:i,isPacked:s}=t;if(null!=r){let t;t=s?new sq(a,eq):new XH(a,eq);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:o}],o),r=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if(cE().getBool("DEBUG")&&!cE().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===cE().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,c,u=null;if("complex64"!==o&&cE().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);u=this.gpgpu.createBufferFromTexture(t.texture.texture,...vW(a))}if(this.pendingRead.set(e,[]),"complex64"!==o&&await this.gpgpu.createAndWaitForFence(),"complex64"===o){const e=await Promise.all([this.read(i.real.dataId),this.read(i.imag.dataId)]);c=ej(e[0],e[1])}else if(null==u)c=this.getValuesFromTexture(e);else{const e=CC(a);c=this.gpgpu.downloadFloat32MatrixFromBuffer(u,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=u){const e=this.gpgpu.gl;wW(e,(()=>e.deleteBuffer(u)))}const d=this.convertAndCacheOnCPU(e,c),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach((e=>e(d))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&AR().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.texData.get(e),{values:a,shape:r,slice:o,dtype:i,isPacked:s,texture:l}=n;if("complex64"===i)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=o){let n;n=s?new sq(r,eq):new XH(r,eq);const a=this.runWebGLProgram(n,[{dataId:e,shape:r,dtype:i}],i),o=this.readToGPU(a,t);return this.disposeIntermediateTensorInfo(a),o}if(null==l)throw null!=a?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,t.customTexShape),u=AR().makeTensorFromTensorInfo(c),d=this.texData.get(c.dataId);return Object.assign({tensorRef:u},d.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>rT(e)));return tR(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return tR(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!kW(n)){if(cE().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:a}=this.texData.get(e),r=CC(t);if(cE().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),a=this.texData.get(n.dataId),o=this.gpgpu.downloadMatrixFromPackedTexture(a.texture.texture,...vW(t)).subarray(0,r);return this.disposeIntermediateTensorInfo(n),o}const o=cE().getBool("WEBGL_PACK")&&!0===a,i=o?MW(t):t,s=o?new xV(i):new bV(i),l=this.runWebGLProgram(s,[{shape:i,dtype:n,dataId:e}],"float32"),c=this.texData.get(l.dataId),u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,r);return this.disposeIntermediateTensorInfo(l),u}timerAvailable(){return cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let a=!1;null==this.programTimersStack?(this.programTimersStack=n,a=!0):this.activeTimers.push(n),this.activeTimers=n,e();const r=SC(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),o=SC(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,a&&(this.programTimersStack=null);const i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(r);i.kernelMs=yC(e),i.getExtraProfileInfo=()=>e.map(((e,t)=>({name:o[t],ms:e}))).map((e=>"".concat(e.name,": ").concat(e.ms))).join(", ")}else i.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,i})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:tT(),endMs:null}}endTimer(e){return cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=tT(),e)}async getQueryTime(e){if(cE().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:a,usage:r,isPacked:o,slice:i}=this.texData.get(e),s=i&&i.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(a,n),this.textureManager.releaseTexture(t,a,r,o)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dq;return cE().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&CC(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){_N("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return cq(e.shape,t)}packedUnaryOp(e,t,n){const a=new sq(e.shape,t),r=this.compileAndRun(a,[e],n);return AR().makeTensorFromTensorInfo(r)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=CH(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(cE().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,QH,e.dtype);const t=new XH(e.shape,QH),n=this.compileAndRun(t,[e]);return AR().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let a;if("string"===t&&null!=n&&n.length>0&&GC(n[0])){const r=n.map((e=>aT(e)));a=this.write(r,e,t)}else a=this.write(n,e,t);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:t}}makeOutput(e,t,n){return AR().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new lq(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new WH(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[FW(e.shape),...DW(e.shape)],a={dtype:e.dtype,shape:n,dataId:e.dataId},r=[FW(t),...DW(t)],o=new VH(r,n),i=[n],s=this.runWebGLProgram(o,[a],e.dtype,i,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:a,shape:r,dtype:o}=n;if(null!=t){xC(CC(r)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const i=MW(r);let s;s=a?new vV(i):new yV(i);const l=[null!=t?t:vW(i)];return{dtype:o,shape:r,dataId:this.runWebGLProgram(s,[{shape:i,dtype:o,dataId:e}],o,l,!0,t).dataId}}runWebGLProgram(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;const i=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(i.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===fW.DENSE){const t=null!=o?o:vW(e.outputShape);s.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===CC(i.shape))return s.values=MC(i.dtype,0),i;const l=[],c=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&CC(t.shape)<=cE().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!zW(n.shape,t.shape)){const e=t,a=t.shape;t.shape=n.shape,t=this.packedReshape(t,a),l.push(t),n=this.texData.get(t.dataId),e.shape=a}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(i.dataId);const u={shape:i.shape,texData:s,isUniform:!1},d=function(e,t,n){let a="";t.concat(n).forEach((t=>{const r=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const o=t.texData.texShape,{useSqueezeShape:i,uniformShape:s,keptDims:l}=uV(e.packedInputs,t.shape,o);let c="",u="",d="";if(1===s.length&&e.packedInputs){const e=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];c="".concat(e[0]>1,"_").concat(e[1]>1)}else if(2!==s.length||e.packedInputs){if(s.length>2&&!e.packedInputs){const e=QC(s);d="".concat(e[0]===o[1],"_").concat(e[e.length-1]===o[1])}}else u="".concat(s[0]>1,"_").concat(s[1]>1);const p=t.shape.length,h=2===s.length&&_C(t.shape,o),f=1===CC(t.shape),m=JR(t.shape,n.shape),g=!e.packedInputs&&p===n.shape.length&&_C(o,n.texData.texShape),y=e.packedInputs||s.length>2?"":"".concat(o[0]>1,"_").concat(o[1]>1);a+="".concat(p,"_").concat(g,"_").concat(i?l:"","_").concat(s.length,"_").concat(f,"_").concat(m,"_").concat(h,"_").concat(c,"_").concat(u,"_").concat(d,"_").concat(y,"_").concat(r)}else{const e=t.isUniform?"uniform":t.texData.texShape;a+="".concat(t.shape,"_").concat(e,"_").concat(r)}}));const r=e.userCode;let o=e.constructor.name;return o+="_"+a+"_"+r+"".concat(cE().getNumber("WEBGL_VERSION")),o}(e,c,u),p=this.getAndSaveBinary(d,(()=>hV(this.gpgpu,e,c,u))),h=null!=this.activeTimers;let f;h&&(f=this.startTimer()),cE().get("ENGINE_COMPILE_ONLY")||function(e,t,n,a,r){t.program.enableShapeUniforms||(mV(t.inShapeInfos,n),mV([t.outShapeInfo],[a]));const o=a.texData.texture,i=a.texData.texShape;a.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,i[0],i[1]):e.setOutputMatrixTexture(o.texture,i[0],i[1]),e.setProgram(t.webGLProgram),1===cE().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(((n,a)=>{const r=t.program.variableNames[a],o=t.uniformLocations[r],i=t.uniformLocations["offset".concat(r)],s=t.inShapesLocations["".concat(r,"Shape")],l=t.inTexShapesLocations["".concat(r,"TexShape")];if(s){const{uniformShape:a}=uV(t.program.packedInputs,n.shape,n.texData.texShape);switch(a.length){case 1:e.gl.uniform1iv(s,new Int32Array(a));break;case 2:e.gl.uniform2iv(s,new Int32Array(a));break;case 3:e.gl.uniform3iv(s,new Int32Array(a));break;case 4:e.gl.uniform4iv(s,new Int32Array(a))}}if(l&&e.gl.uniform2i(l,n.texData.texShape[0],n.texData.texShape[1]),null!=o)if(n.isUniform)if(CC(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(o,t)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,o,a)}));const s=t.outShapeLocation;if(s)switch(a.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(a.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(a.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(a.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(a.shape))}if(t.outShapeStridesLocation){const n=QC(a.shape);switch(a.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,a.texData.texShape[0],a.texData.texShape[1]),t.program.customUniforms&&r&&t.program.customUniforms.forEach(((n,a)=>{const o=t.customUniformLocations[a],i=r[a];if("float"===n.type)e.gl.uniform1fv(o,i);else if("vec2"===n.type)e.gl.uniform2fv(o,i);else if("vec3"===n.type)e.gl.uniform3fv(o,i);else if("vec4"===n.type)e.gl.uniform4fv(o,i);else if("int"===n.type)e.gl.uniform1iv(o,i);else if("ivec2"===n.type)e.gl.uniform2iv(o,i);else if("ivec3"===n.type)e.gl.uniform3iv(o,i);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(o,i)}})),e.executeProgram()}(this.gpgpu,p,c,u,a),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),h&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=cE().get("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=tT();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!cE().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===r){const e=this.unpackTensor(i);return this.disposeIntermediateTensorInfo(i),e}return i}compileAndRun(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,a,r)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!cE().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=DR((()=>{if(!cE().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=cE().getBool("DEBUG");cE().set("DEBUG",!1);const t=this.abs(uP(1e-8)).dataSync()[0];if(cE().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:a,values:r,texture:o,usage:i,isPacked:s}=t;if(null!=o)return;const l=null!=this.activeTimers;let c;l&&(c=tT());let u=t.texShape;if(null==u&&(u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=cE().getNumber("WEBGL_MAX_TEXTURE_SIZE"),a=cE().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(a===1/0&&cE().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(a=n/2),t&&(n*=2,a*=2,e=e.map(((t,n)=>n>=e.length-2?mC(e[n]):e[n])),1===e.length&&(e=[2,e[0]])),2!==e.length){const t=DC(e);e=t.newShape}let r=CC(e),o=null;e.length<=1&&r<=n?o=[1,r]:2===e.length&&e[0]<=n&&e[1]<=n?o=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?o=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?o=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?o=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(o=[e[0],e[1]*e[2]*e[3]]);const i=null!=o&&Math.max(...o)>a&&Math.min(...o)<=(t?2:1)&&Math.min(...o)>0;if(null==o||i)if(t){const t=FW(e);let n=2,a=2;e.length&&([n,a]=DW(e)),r=t*(n/2)*(a/2),o=TC(r).map((e=>2*e))}else o=TC(r);return o}(n,s),t.texShape=u),null!=r){const e=MW(n);let o,i=u[1],d=u[0];const p=r instanceof Uint8Array||r instanceof Uint8ClampedArray;!s&&p||([i,d]=bW(u[0],u[1])),o=s?new kV(e,p):new wV(e,p);const h=p?[d,i]:u,f=this.makeTensorInfo(h,a),m=this.texData.get(f.dataId);m.usage=p?mW.PIXELS:mW.UPLOAD,m.texShape=h,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),i,d,r);const g=[[d,i]],y=!0,v=this.runWebGLProgram(o,[f],a,g,y),b=this.texData.get(v.dataId);t.texShape=b.texShape,t.isPacked=b.isPacked,t.usage=b.usage,cE().get("ENGINE_COMPILE_ONLY")?this.disposeData(v.dataId):(t.texture=b.texture,t.values=null,this.texData.delete(v.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=tT()-c)}else{const e=this.acquireTexture(u,i,a,s);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:a}=n;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error("Unknown dtype ".concat(t))}(t,a)),n.values}acquireTexture(e,t,n,a){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(e," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,a)}computeBytes(e,t){return e[0]*e[1]*VC(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await Oz(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw EW(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:t,customUniformLocations:n,infLoc:a,nanLoc:r,inShapesLocations:o,inTexShapesLocations:i,outShapeLocation:s,outShapeStridesLocation:l,outTexShapeLocation:c}=fV(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=t,e.customUniformLocations=n,e.infLoc=a,e.nanLoc=r,e.inShapesLocations=o,e.inTexShapesLocations=i,e.outShapeLocation=s,e.outShapeStridesLocation=l,e.outTexShapeLocation=c}}}pq.nextDataId=0,GT()&&HR("webgl",(()=>new pq),2);const hq="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class fq{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=tA(t,n),this.enableShapeUniforms=gV(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")}}const mq="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class gq{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=tA(t,n);const r=this.outputShape.length;this.enableShapeUniforms=gV(r);let o="";if(a)if(0===r||1===CC(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{const e=cV(r);if(o="\n          ".concat(e," coords = getOutputCoords();\n        "),1===r)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{const e=BH("coords",r);this.enableShapeUniforms?o+="\n            bool nextRowOutOfBounds =\n              (".concat(e[r-2]," + 1) >= outShape[").concat(r," - 2];\n            bool nextColOutOfBounds =\n              (").concat(e[r-1]," + 1) >= outShape[").concat(r," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):o+="\n            bool nextRowOutOfBounds =\n              (".concat(e[r-2]," + 1) >= ").concat(this.outputShape[r-2],";\n            bool nextColOutOfBounds =\n              (").concat(e[r-1]," + 1) >= ").concat(this.outputShape[r-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(o,"\n\n        setOutput(result);\n      }\n    ")}}function yq(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const vq={kernelName:N_,backendName:"webgl",kernelFunc:yq};function bq(e){const{inputs:t,backend:n}=e,{real:a,imag:r}=t,o=n.makeTensorInfo(a.shape,"complex64"),i=n.texData.get(o.dataId),s=yq({inputs:{x:a},backend:n}),l=yq({inputs:{x:r},backend:n});return i.complexTensorInfos={real:s,imag:l},o}const xq={kernelName:BE,backendName:"webgl",kernelFunc:bq},wq="return (a < 0.) ? b * a : a;",kq="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const Sq={kernelName:F_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{alpha:o}=a,i=n.makeTensorInfo([],"float32",JN(o,"float32")),s=cE().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new gq(kq,r.shape,i.shape):new fq(wq,r.shape,i.shape),l=n.runWebGLProgram(s,[r,i],"float32");return n.disposeIntermediateTensorInfo(i),l}},Cq="return (a < 0.) ? b * a : a;",Eq="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const _q={kernelName:bI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a,alpha:r}=t,o=cE().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new gq(Eq,a.shape,r.shape):new fq(Cq,a.shape,r.shape);return n.runWebGLProgram(o,[a,r],"float32")}},Iq="if (isnan(x)) return x;";function Nq(e){let{opSnippet:t,packedOpSnippet:n,cpuKernelImpl:a,dtype:r}=e;return e=>{let{inputs:o,backend:i}=e;const{x:s}=o,l=i,c=r||s.dtype;if(l.shouldExecuteOnCPU([s])&&null!=a){const e=l.texData.get(s.dataId),t=a(e.values,c);return l.makeTensorInfo(s.shape,c,t)}let u;return u=cE().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new sq(s.shape,n):new XH(s.shape,t),l.runWebGLProgram(u,[s],c)}}function Tq(e){let{opSnippet:t,packedOpSnippet:n,checkOutOfBounds:a=!1,supportsComplex:r=!1,cpuKernelImpl:o,dtype:i}=e;return e=>{let{inputs:s,backend:l}=e;const{a:c,b:u}=s,d=l;if(r&&"complex64"===c.dtype){const e=d.texData.get(c.dataId),n=d.texData.get(u.dataId),[a,r]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,a]=e,r={dataId:n.dataId,dtype:n.dtype,shape:c.shape},o={dataId:a.dataId,dtype:a.dtype,shape:u.shape},i=new fq(t,c.shape,u.shape);return d.runWebGLProgram(i,[r,o],NT(n.dtype,a.dtype))})),o=bq({inputs:{real:a,imag:r},backend:d});return d.disposeIntermediateTensorInfo(a),d.disposeIntermediateTensorInfo(r),o}const p=i||NT(c.dtype,u.dtype);if(("string"===c.dtype||"string"===u.dtype||d.shouldExecuteOnCPU([c,u]))&&null!=o){const e=d.texData.get(c.dataId).values,t=d.texData.get(u.dataId).values,n="string"===c.dtype?Fj(e):e,a="string"===c.dtype?Fj(t):t,[r,i]=o(c.shape,u.shape,n,a,p),s=d.makeTensorInfo(i,p);return d.texData.get(s.dataId).values=r,s}let h;return h=cE().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new gq(n,c.shape,u.shape,a):new fq(t,c.shape,u.shape),d.runWebGLProgram(h,[c,u],p)}}function Oq(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?nq:YH;if("relu"===e)return t?rq:ZH;if("elu"===e)return t?aq:$H;if("relu6"===e)return t?oq:JH;if("prelu"===e)return t?Eq:Cq;if("leakyrelu"===e)return t?kq:wq;if("sigmoid"===e)return t?iq:tq;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}class Rq{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=gV(this.outputShape.length);const c=a?e[1]:e[2],u=Math.ceil(c/2),d=a?"i * 2, rc.y":"rc.y, i * 2",p=r?"rc.z, i * 2":"i * 2, rc.z",h=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";i&&(m=s?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(i,"\n        }"):l?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(i,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(i,"\n        }"),g="result = activation(result);");const y=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let v="rc.x",b="rc.x";e[0]<t[0]?v="int(min(float(rc.x), ".concat(e[0]-1,".))"):t[0]<e[0]&&(b="int(min(float(rc.x), ".concat(t[0]-1,".))")),this.userCode="\n      ".concat(m,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(u,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(u,"; i++) {\n          int batchA = ").concat(v,";\n          int batchB = ").concat(b,";\n          vec4 a = getMatrixA(batchA, ").concat(d,");\n          vec4 b = getMatrixB(batchB, ").concat(p,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(h[0]," * ").concat(f[0],");\n          result += (").concat(h[1]," * ").concat(f[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(y,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")}}const Aq={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Pq{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=tA(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")}}const Fq="return a * b;";function Dq(e){const{inputs:t,backend:n}=e,{a:a,b:r}=t,o=NT(a.dtype,r.dtype);if("complex64"===a.dtype){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),o=new Pq(Aq.REAL,a.shape,r.shape),i=new Pq(Aq.IMAG,a.shape,r.shape),s=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:a.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:r.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:r.shape}],l=n.runWebGLProgram(o,s,"float32"),c=n.runWebGLProgram(i,s,"float32"),u=bq({inputs:{real:l,imag:c},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}if(n.shouldExecuteOnCPU([a,r])){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),[i,s]=fH(a.shape,r.shape,e.values,t.values,o),l=n.makeTensorInfo(s,o);return n.texData.get(l.dataId).values=i,l}let i;return i=cE().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new gq(Fq,a.shape,r.shape):new fq(Fq,a.shape,r.shape),n.runWebGLProgram(i,[a,r],o)}const Mq={kernelName:sI,backendName:"webgl",kernelFunc:Dq};function Lq(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{shape:o}=a,i=n,s=CC(r.shape),l=PC(o,s),c=CC(l);xC(s===c,(()=>"The new shape (".concat(l,") has ").concat(c," elements and the old ")+"shape (".concat(r.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."));const u=i.texData.get(r.dataId);return!u.isPacked||zW(r.shape,l)||null!==u.texture&&zW(u.shape,l)?(i.incRef(r.dataId),{dataId:r.dataId,shape:l,dtype:r.dtype}):function(e,t,n){const a=[FW(e.shape),...DW(e.shape)],r={dtype:e.dtype,shape:a,dataId:e.dataId},o=[FW(t),...DW(t)],i=new VH(o,a),s=[a],l=n.runWebGLProgram(i,[r],e.dtype,s,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(r,l,i)}const zq={kernelName:II,backendName:"webgl",kernelFunc:Lq};class jq{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:r,outSize:o}=e;this.outputShape=[a,o];const i=4*Math.floor(n/4),s=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l="sumValue += dot(values * ".concat(IC(e)?e.toPrecision(2):e,", ones);")}let c="";r%n>0&&(c="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(c,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(i,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(i,";\n        if (").concat(1===s,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===s,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===s,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")}}class Bq{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:r,outSize:o}=e;this.outputShape=[a,o];let i="0.0",s="";"prod"===t?i="1.0":"min"===t?(i="1.0 / 1e-20",s="min"):"max"===t&&(i="-1.0 / 1e-20",s="max");let l="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const c=4*Math.floor(n/4),u=n%4;let d="\n      if (".concat("sum"===t,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===t,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(s,"(values, minMaxValue);\n        if (").concat("min"===t," || ").concat("max"===t,") {\n          minMaxValue = ").concat(s,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),p="vec4";"all"===t?(i="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(i="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");let h="";r%n>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(i,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(h,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        vec4 minMaxValue = vec4(").concat(i,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(c,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(d,"\n        }\n\n        int inIdx = inOffset + ").concat(c,";\n        if (").concat(1===u,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(2===u,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(3===u,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(d,"\n        }\n        setOutput(").concat(l,");\n      }\n    ")}}function Wq(e,t,n,a){const r=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],a=jz(n);t.push({inSize:n,windowSize:a,outSize:Math.ceil(n/a)})}return t}(e.shape);let o=e;for(let i=0;i<r.length;i++){const{inSize:s,windowSize:l,outSize:c}=r[i];let u,d;u="mean"===n?0===i?new jq({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:c},s):new jq({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:c}):new Bq({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:c},n),d=o,o=a.runWebGLProgram(u,[o],t),d.dataId!==e.dataId&&a.disposeIntermediateTensorInfo(d)}return o}class Vq{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e[t[o]];this.outputShape=n,this.rank=n.length;const a=cV(this.rank),r=function(e){const t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],a=new Array(t);for(let r=0;r<e.length;r++)a[e[r]]=n[r];return a.join()}(t);this.userCode="\n    void main() {\n      ".concat(a," resRC = getOutputCoords();\n      setOutput(getA(").concat(r,"));\n    }\n    ")}}class Uq{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let c=0;c<n.length;c++)n[c]=e[t[c]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));const a=cV(this.rank),r=jH("rc",this.rank),o=new Array(this.rank);for(let c=0;c<t.length;c++)o[t[c]]=r[c];const i="vec2(".concat(o.slice(-2).join(),")"),s="++".concat(r[this.rank-1]," < ").concat(n[this.rank-1]),l="getChannel(getA(".concat(o.join(),"), ").concat(i,")");this.userCode="\n    void main() {\n      ".concat(a," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(l,";\n      if(").concat(s,") {\n        result[1] = ").concat(l,";\n      }\n      --").concat(r[this.rank-1],";\n      if(++").concat(r[this.rank-2]," < ").concat(n[this.rank-2],") {\n        result[2] = ").concat(l,";\n        if(").concat(s,") {\n          result[3] = ").concat(l,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}}function Gq(e,t,n){const a=cE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Uq(e.shape,t):new Vq(e.shape,t);return n.runWebGLProgram(a,[e],e.dtype)}function Hq(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a;return function(e,t,n,a){const r=t,o=e.shape.length,i=FC(r,e.shape);let s=i;const l=XF(s,o),c=null!=l;let u=e;c&&(u=Gq(e,l,a),s=YF(s.length,o)),qF("sum",s,o);const[d,p]=GF(u.shape,s);let h=d;n&&(h=HF(d,i));const f=CC(p),m=Lq({inputs:{x:u},attrs:{shape:[CC(e.shape)/f,f]},backend:a}),g=Wq(m,TT(e.dtype),"sum",a),y=Lq({inputs:{x:g},attrs:{shape:h},backend:a});return a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(g),c&&a.disposeIntermediateTensorInfo(u),y}(r,o,i,n)}const qq={kernelName:XI,backendName:"webgl",kernelFunc:Hq};function Xq(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{perm:o}=a,i=n,s=r.shape.length,l=new Array(s);for(let u=0;u<l.length;u++)l[u]=r.shape[o[u]];let c;if(i.shouldExecuteOnCPU([r])){const e=i.texData.get(r.dataId).values,t=LH(e,r.shape,r.dtype,o,l);c=i.makeTensorInfo(l,r.dtype);i.texData.get(c.dataId).values=t}else c=Gq(r,o,i);return c}const Kq={kernelName:fN,backendName:"webgl",kernelFunc:Xq},Yq=1e3;function Qq(e){let{a:t,b:n,transposeA:a,transposeB:r,backend:o,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:c=null}=e;const u=t.shape.length,d=n.shape.length,p=a?t.shape[u-2]:t.shape[u-1],h=r?n.shape[d-1]:n.shape[d-2],f=a?t.shape[u-1]:t.shape[u-2],m=r?n.shape[d-2]:n.shape[d-1],g=t.shape.slice(0,-2),y=n.shape.slice(0,-2),v=CC(g),b=CC(y),x=tA(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([f,m]);xC(p===h,(()=>"Error in matMul: inner shapes (".concat(p,") and (")+"".concat(h,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(a)+" and transposeB=".concat(r," must match.")));const w=a?[v,p,f]:[v,f,p],k=r?[b,m,h]:[b,h,m],S=Lq({inputs:{x:t},backend:o,attrs:{shape:w}}),C=Lq({inputs:{x:n},backend:o,attrs:{shape:k}}),E=[S,C],_=Math.max(v,b),I=a?S.shape[1]:S.shape[2],N=null!=i,T=null!=s,O="leakyrelu"===c,R=null!=c?Oq(c,!0):null;let A;if((1===f||1===m)&&I>Yq&&!1===(N||T||O||null!=R)){let e=S,t=C;a&&(e=Xq({inputs:{x:S},backend:o,attrs:{perm:[0,2,1]}}),E.push(e)),r&&(t=Xq({inputs:{x:C},backend:o,attrs:{perm:[0,2,1]}}),E.push(t));const n=1===m;let i=e;1!==m&&(i=Lq({inputs:{x:e},backend:o,attrs:{shape:[_,I,1]}}),E.push(i));const s=1===m?2:1;let l=t;n&&(l=Lq({inputs:{x:t},backend:o,attrs:{shape:[_,1,I]}}),E.push(l));const c=Dq({inputs:{a:i,b:l},backend:o});A=Hq({inputs:{x:c},backend:o,attrs:{axis:s,keepDims:!0}}),E.push(c)}else{const e=NT(t.dtype,n.dtype),c=new Rq(w,k,[_,f,m],a,r,N,R,T,O),u=[S,C];if(null!=i&&u.push(i),T&&u.push(s),O){const e=o.makeTensorInfo([],"float32",JN(l,"float32"));u.push(e),E.push(e)}A=o.runWebGLProgram(c,u,e)}const P=Lq({inputs:{x:A},backend:o,attrs:{shape:x}});E.push(A);for(const F of E)o.disposeIntermediateTensorInfo(F);return P}const $q={kernelName:SN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o,bias:i,preluActivationWeights:s}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=a;return Qq({a:r,b:o,transposeA:l,transposeB:c,backend:n,bias:i,preluActivationWeights:s,leakyreluAlpha:d,activation:u})}},Zq="return abs(x);";const Jq={kernelName:fE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;if(n.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){const e=n.texData.get(a.dataId),t=CH(e.values);return n.makeTensorInfo(a.shape,a.dtype,t)}let r;return r=cE().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new sq(a.shape,Zq):new XH(a.shape,Zq),n.runWebGLProgram(r,[a],a.dtype)}},eX=Nq({opSnippet:KH+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),tX={kernelName:mE,backendName:"webgl",kernelFunc:eX},nX=Nq({opSnippet:KH+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),aX={kernelName:gE,backendName:"webgl",kernelFunc:nX},rX="return a + b;",oX=Tq({opSnippet:rX,packedOpSnippet:rX,supportsComplex:!0,cpuKernelImpl:XG}),iX={kernelName:yE,backendName:"webgl",kernelFunc:oX};class sX{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));const a=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}}class lX{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));const a=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}}const cX={kernelName:vE,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a}=t,r=n;if(1===r.length)return yq({inputs:{x:r[0]},backend:a});if(r.length>cE().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(r.length/2),n=e({inputs:r.slice(0,t),backend:a}),o=e({inputs:r.slice(t),backend:a});return e({inputs:[n,o],backend:a})}const o=r.map((e=>e.dtype)).reduce(((e,t)=>NT(e,t))),i=r.map((e=>e.shape)),s=cE().getBool("WEBGL_PACK")?new lX(r[0].shape,i):new sX(r[0].shape,i);return a.runWebGLProgram(s,r,o)}};const uX={kernelName:bE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a,s=r.shape.length,l=FC(o,r.shape);let c=l;const u=XF(c,s);let d=r;null!=u&&(d=Xq({inputs:{x:r},backend:n,attrs:{perm:u}}),c=YF(c.length,s)),qF("all",c,s);const[p,h]=GF(d.shape,c),f=Lq({inputs:{x:d},backend:n,attrs:{shape:[-1,CC(h)]}}),m=Wq(f,f.dtype,"all",n);let g;if(i){g=Lq({inputs:{x:m},backend:n,attrs:{shape:HF(p,l)}})}else g=Lq({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};const dX={kernelName:xE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a,s=r.shape.length,l=FC(o,r.shape);let c=l;const u=XF(c,s);let d=r;null!=u&&(d=Xq({inputs:{x:r},backend:n,attrs:{perm:u}}),c=YF(c.length,s)),qF("any",c,s);const[p,h]=GF(d.shape,c),f=Lq({inputs:{x:d},backend:n,attrs:{shape:[-1,CC(h)]}}),m=Wq(f,f.dtype,"any",n);let g;if(i){g=Lq({inputs:{x:m},backend:n,attrs:{shape:HF(p,l)}})}else g=Lq({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};class pX{constructor(e,t,n){this.variableNames=["A"];const{windowSize:a,batchSize:r,outSize:o}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[r,o];const i="max"===t?">":"<",s=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(s,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(i," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")}}class hX{constructor(e,t,n,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,xC(e.length>2,(()=>"Packed arg".concat(n.charAt(0).toUpperCase()+n.slice(1)," supports only inputs with rank above 2.")));const r=e[e.length-1],o=Math.ceil(r/t);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),a||this.variableNames.push("bestIndicesA");const i=this.outputShape,s=i.length,l=cV(s),c=BH("coords",s);let u,d;if(1===o){d=s+1;const e=cV(d);u="\n        ".concat(e," sourceLocR = ").concat(e,"(").concat(c.join(),", 0);\n        ++").concat(c[s-1],";\n        ").concat(e," sourceLocG = ").concat(e,"(").concat(c.join(),", 0);\n        ++").concat(c[s-2],";\n        ").concat(e," sourceLocA = ").concat(e,"(").concat(c.join(),", 0);\n        --").concat(c[s-1],";\n        ").concat(e," sourceLocB = ").concat(e,"(").concat(c.join(),", 0);\n        --").concat(c[s-2],";")}else d=s,u="\n        ".concat(l," sourceLocR = coords;\n        ++").concat(c[s-1],";\n        ").concat(l," sourceLocG = coords;\n        ++").concat(c[s-2],";\n        ").concat(l," sourceLocA = coords;\n        --").concat(c[s-1],";\n        ").concat(l," sourceLocB = coords;\n        --").concat(c[s-2],";");const p=["x","y","z","w","u","v"].slice(0,d),h="."+p[d-1],f=p.map((e=>"int "+e)),m=BH("sourceLocR",d-1).concat("inIdx.r"),g=BH("sourceLocG",d-1).concat("inIdx.g"),y=BH("sourceLocB",d-1).concat("inIdx.b"),v=BH("sourceLocA",d-1).concat("inIdx.a"),b="max"===n?"greaterThan":"lessThan",x=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(m.join(),"),\n                             getBestIndicesAChannel(").concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(v.join(),")));"),w="vec4(\n            getAChannel(".concat(m.join(),"),\n            hasNextCol ? getAChannel(").concat(g.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(v.join(),") : 0.)"),k=a?"":"\n      float getBestIndicesAChannel(".concat(f.join(),") {\n        return getChannel(getBestIndicesA(").concat(p.join(),"),\n                                          vec2(").concat(p.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(f.join(),") {\n        return getChannel(getA(").concat(p.join(),"),\n                               vec2(").concat(p.slice(-2).join(),"));\n      }\n      ").concat(k,"\n      void main() {\n        ").concat(l," coords = getOutputCoords();\n        bool hasNextCol = ").concat(c[s-1]," < ").concat(i[s-1]-1,";\n        bool hasNextRow = ").concat(c[s-2]," < ").concat(i[s-2]-1,";\n        ").concat(u,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(h,", sourceLocG").concat(h,",\n          sourceLocB").concat(h,", sourceLocA").concat(h,") * ").concat(t,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(w,";\n\n        for (int i = 0; i < ").concat(t,"; i++) {\n          inIdx = srcIdx;\n          ").concat(x,"\n          vec4 candidate = ").concat(w,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(b,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}}function fX(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.shape[0],o=t.shape[1];null!=a&&(r=a.shape[0],o=a.shape[1]);const i=jz(o),s={windowSize:i,inSize:o,batchSize:r,outSize:Math.ceil(o/i)},l=new pX(s,n,null==a),c=[t];null!=a&&c.push(a);const u=e.runWebGLProgram(l,c,"int32");if(1===u.shape[1])return u;const d=fX(e,t,n,u);return e.disposeIntermediateTensorInfo(u),d}function mX(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=null!=a?a.shape:t.shape,o=jz(r[r.length-1]),i=new hX(r,o,n,null==a),s=null==a?[t]:[t,a],l=e.runWebGLProgram(i,s,"int32");if(l.shape.length===t.shape.length){const a=mX(e,t,n,l);return e.disposeIntermediateTensorInfo(l),a}return l}function gX(e,t,n,a){const r=[n];if(qF("arg"+a.charAt(0).toUpperCase()+a.slice(1),r,t.shape.length),!cE().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],o=e.texData.get(t.dataId);let i=t;null!==o&&o.isPacked&&(i=e.unpackTensor(t),n.push(i));const[s,l]=GF(i.shape,r),c=CC(l),u=Lq({inputs:{x:i},backend:e,attrs:{shape:[-1,c]}});n.push(u);const d=fX(e,u,a);n.push(d);const p=Lq({inputs:{x:d},backend:e,attrs:{shape:s}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),p}return mX(e,t,a)}const yX={kernelName:wE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;let i=FC(o,r.shape);const s=XF(i,r.shape.length);let l=r;const c=[];null!=s&&(l=Xq({inputs:{x:r},backend:n,attrs:{perm:s}}),c.push(l),i=YF(i.length,l.shape.length)),qF("argMax",[i[0]],l.shape.length);const u=gX(n,l,i[0],"max");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};const vX={kernelName:kE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;let i=FC(o,r.shape);const s=XF(i,r.shape.length);let l=r;const c=[];null!=s&&(l=Xq({inputs:{x:r},backend:n,attrs:{perm:s}}),c.push(l),i=YF(i.length,l.shape.length)),qF("argMin",[i[0]],l.shape.length);const u=gX(n,l,i[0],"min");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}},bX=Nq({opSnippet:KH+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),xX={kernelName:SE,backendName:"webgl",kernelFunc:bX},wX=Nq({opSnippet:KH+"return log(x + sqrt(x * x + 1.0));"}),kX={kernelName:CE,backendName:"webgl",kernelFunc:wX},SX=Nq({opSnippet:KH+"\n  return atan(x);\n"}),CX={kernelName:EE,backendName:"webgl",kernelFunc:SX},EX=Tq({opSnippet:hq+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+mq+"\n  return result;\n"}),_X={kernelName:IE,backendName:"webgl",kernelFunc:EX},IX=Nq({opSnippet:KH+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),NX={kernelName:_E,backendName:"webgl",kernelFunc:IX};class TX{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,i=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m="((batch  * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),g="(xR * ".concat(e.inWidth," + xC) * ").concat(e.inChannels," + d");let y="0.0";if(f||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec2 strides = ivec2(".concat(i,", ").concat(s,");\n        const ivec2 pads = ivec2(").concat(p,", ").concat(h,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(u,";\n              wR += ").concat(l,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(c,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(t," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?r?m:g:"wR * ".concat(d," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let v="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(v="avgValue / count");const b=4*Math.floor(o/4),x=o%4,w="\n      if (".concat(f,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(i,", ").concat(s,");\n      const ivec2 pads = ivec2(").concat(p,", ").concat(h,");\n      const float initializationValue = ").concat(y,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(y,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(l,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(b,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(c,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              getValue(batch, xR, xC + 3 * ").concat(c,", d)\n            );\n\n            ").concat(w,"\n          }\n\n          int xC = xCCorner + ").concat(b,";\n          if (").concat(1===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(2===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(3===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              initializationValue\n            );\n\n            ").concat(w,"\n          }\n        }\n        setOutput(").concat(v,");\n      }\n    ")}}class OX{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,i=e.strideDepth,s=e.strideHeight,l=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,p=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const v="avg"===t;let b="0.0";if(v||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(i,", ").concat(s,", ").concat(l,");\n        const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(p,";\n              wD += ").concat(c,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(h,";\n                wR += ").concat(u,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(f,";\n                  wC += ").concat(d,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(t," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?r?"(((batch * ".concat(e.inDepth," + xD) * ").concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"((xD * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"wD * ".concat(h," * ").concat(f," +\n                      wR * ").concat(f," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let x="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(x="avgValue / count");const w=4*Math.floor(o/4),k=o%4,S="\n      if (".concat(v,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(i,", ").concat(s,", ").concat(l,");\n      const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(p,";\n            wD += ").concat(c,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,";\n            wR += ").concat(u,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(d,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n              );\n\n              ").concat(S,"\n            }\n\n            int xC = xCCorner + ").concat(w,";\n            if (").concat(1===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(2===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(3===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                initializationValue\n              );\n\n              ").concat(S,"\n            }\n          }\n          setOutput(").concat(x,");\n        }\n      }\n    ")}}const RX={kernelName:NE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;HW(r,"avgPool");const{filterSize:o,strides:i,pad:s,dimRoundingMode:l}=a;xC(KP(i,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")));const c=zP(r.shape,o,i,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&_C(c.inShape,c.outShape))return yq({inputs:{x:r},backend:n});const u=new TX(c,"avg",!1);return n.runWebGLProgram(u,[r],"float32")}};const AX={kernelName:OE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:i,pad:s,dimRoundingMode:l,dataFormat:c}=a,u=jP(r.shape,o,i,[1,1,1],s,l,c),d=new OX(u,"avg",!1);return n.runWebGLProgram(d,[r],"float32")}};class PX{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,o=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.top,u=l-1-e.padInfo.left,d=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2(".concat(c,", ").concat(u,");\n      const float avgMultiplier = float(").concat(d,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(s,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(l,";\n            wC+= ").concat(i,") {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class FX{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,r=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=u-1-e.padInfo.front,f=d-1-e.padInfo.top,m=p-1-e.padInfo.left,g=1/(t*n*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(h,", ").concat(f,", ").concat(m,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n            wD += ").concat(s,") {\n          float dyD = float(dyDCorner + wD) / ").concat(r,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(l,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(c,") {\n              float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const DX={kernelName:RE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,i=o,{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=a,d=jP(i.shape,s,l,[1,1,1],c,u),p=new FX(d);return n.runWebGLProgram(p,[r],i.dtype)}};const MX={kernelName:TE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,i=o;HW([r,o],"avgPoolGrad");const{filterSize:s,strides:l,pad:c}=a,u=zP(i.shape,s,l,1,c),d=new PX(u);return n.runWebGLProgram(d,[r],i.dtype)}};const LX={kernelName:AE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o}=t,{transposeA:i,transposeB:s}=a;return Qq({a:r,b:o,transposeA:i,transposeB:s,backend:n})}};class zX{constructor(e,t,n,a,r,o){this.outputShape=[],this.variableNames=["x","mean","variance"],tA(e,t),tA(e,n);let i="0.0";null!=a&&(tA(e,a),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let s="1.0";null!=r&&(tA(e,r),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(i,";\n        float scale = ").concat(s,";\n        float inv = scale * inversesqrt(variance + float(").concat(o,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")}}class jX{constructor(e,t,n,a,r,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],tA(e,t),tA(e,n);let i="vec4(0.0)";null!=a&&(tA(e,a),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let s="vec4(1.0)";null!=r&&(tA(e,r),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = ".concat(i,";\n        vec4 scale = ").concat(s,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(o,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")}}const BX={kernelName:S_,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r,mean:o,variance:i,offset:s,scale:l}=t;xC(o.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),xC(null==s||o.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),xC(null==l||o.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:c}=a;null==c&&(c=.001);const u=[r,o,i];let d=null;null!=s&&(d=s.shape,u.push(s));let p=null;null!=l&&(p=l.shape,u.push(l));const h=cE().getBool("WEBGL_PACK_NORMALIZATION")?new jX(r.shape,o.shape,i.shape,d,p,c):new zX(r.shape,o.shape,i.shape,d,p,c);return n.runWebGLProgram(h,u,u[0].dtype)}};class WX{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=cV(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return VX.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank);let a;const r=e.map(((e,t)=>"sourceLoc.".concat(VX[t]," = start[").concat(t,"] + coords.").concat(VX[t],";")));a="\n        ".concat(t," sourceLoc;\n        ").concat(t," coords = getOutputCoords();\n        ").concat(r.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(a,"\n        setOutput(getSource(").concat(n,"));\n      }\n    ")}}const VX=["x","y","z","w","u","v"];class UX{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=cV(this.rank),n=BH("coords",this.rank),a=BH("sourceLoc",this.rank),r=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),o="getChannel(getSource(".concat(a.join(),"), ").concat(r,")"),i="\n      result.x = ".concat(o,";\n      if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(a[this.rank-1],";\n      }\n    "),s=1===this.rank?"":"\n      --".concat(n[this.rank-1],";\n      if (++").concat(n[this.rank-2]," < ").concat(e[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),l=this.rank<=4?"sourceLoc = coords +\n            ".concat(t,"(").concat(e.map(((e,t)=>"start[".concat(t,"]"))).join(),");"):e.map(((e,t)=>"".concat(a[t]," = ").concat(n[t]," + start[").concat(t,"];"))).join("\n");this.userCode="\n      void main() {\n        ".concat(t," coords = getOutputCoords();\n        ").concat(t," sourceLoc;\n        ").concat(l,"\n        vec4 result = vec4(0.);\n        ").concat(i,"\n        ").concat(s,"\n        setOutput(result);\n      }\n    ")}}function GX(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,size:i}=a,[s,l]=TA(r,o,i);if(mA(r,s,l),0===CC(l))return n.makeTensorInfo(l,r.dtype,[]);if(n.shouldExecuteOnCPU([r])||"string"===r.dtype){const e=n.texData.get(r.dataId),t=EH(e.values,s,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,t)}const{isPacked:c}=n.texData.get(r.dataId),u=IA(r.shape,s,l);if(c||!u){const e=cE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new UX(l):new WX(l),t=[s];return n.runWebGLProgram(e,[r],r.dtype,t)}return n.uploadToGPU(r.dataId),function(e,t,n,a){const r=a.texData.get(e.dataId),o=a.makeTensorInfo(n,e.dtype),i=a.texData.get(o.dataId);Object.assign(i,r),i.refCount=1,i.shape=n,i.dtype=e.dtype;let s=NA(t,QC(e.shape));r.slice&&(s+=r.slice.flatOffset),i.slice={flatOffset:s,origDataId:r.slice&&r.slice.origDataId||e.dataId};const l=a.dataRefCount.get(i.slice.origDataId)||1;return a.dataRefCount.set(i.slice.origDataId,l+1),o}(r,s,l,n)}const HX={kernelName:BI,backendName:"webgl",kernelFunc:GX},qX={kernelName:PE,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,crops:i}=a;xC(r.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const s=o.reduce(((e,t)=>e*t)),l=Wz(r.shape,o,s),c=Vz(l.length,o.length),u=Uz(r.shape,o,s),d=Gz(i,o.length),p=Hz(u,i,o.length),h=[],f=Lq({inputs:{x:r},backend:n,attrs:{shape:l}}),m=Xq({inputs:{x:f},backend:n,attrs:{perm:c}}),g=Lq({inputs:{x:m},backend:n,attrs:{shape:u}}),y=GX({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return h.push(f),h.push(m),h.push(g),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const XX={kernelName:FE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:i}=a,s=n.readSync(r.dataId),l=n.readSync(o.dataId),c=KG(s,l,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,c)}};const KX={kernelName:ME,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:a,s1:r}=t,o=n.readSync(a.dataId),i=n.readSync(r.dataId),s=tA(Array.from(o),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},YX=Tq({opSnippet:"return float(a != b);",cpuKernelImpl:gH,dtype:"bool"}),QX={kernelName:cI,backendName:"webgl",kernelFunc:YX};function $X(e){const{inputs:t,backend:n}=e,{input:a}=t;return yq({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.real},backend:n})}const ZX={kernelName:CI,backendName:"webgl",kernelFunc:$X},JX="return float(int(x));";const eK={kernelName:LE,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a,attrs:r}=t,{x:o}=n,{dtype:i}=r;if("complex64"===i){if("complex64"===o.dtype)return yq({inputs:{x:o},backend:a});const t=MD(o.shape),n=e({inputs:{x:o},backend:a,attrs:{dtype:"float32"}}),r=bq({inputs:{real:n,imag:t},backend:a});return t.dispose(),a.disposeIntermediateTensorInfo(n),r}if("complex64"===o.dtype){const t=$X({inputs:{input:o},backend:a}),n=e({inputs:{x:t},backend:a,attrs:{dtype:i}});return a.disposeIntermediateTensorInfo(t),n}if(!BC(o.dtype,i)){const e=yq({inputs:{x:o},backend:a});return{dataId:e.dataId,shape:e.shape,dtype:i}}if(a.shouldExecuteOnCPU([o])){const e=a.texData.get(o.dataId).values,[t,n,r]=QG(e,o.shape,o.dtype,i);return a.makeTensorInfo(t,n,r)}if("int32"===i)return function(e,t){const n=new XH(e.shape,JX),a=t.runWebGLProgram(n,[e],"int32");return{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}(o,a);if("bool"===i){const e=a.makeTensorInfo([],"bool",MC("bool",1)),t=YX({inputs:{a:o,b:e},backend:a});return a.disposeIntermediateTensorInfo(e),t}throw new Error("Error in Cast: failed to cast ".concat(o.dtype," to ").concat(i))}},tK="return ceil(x);",nK=Nq({opSnippet:tK,packedOpSnippet:tK,cpuKernelImpl:$G}),aK={kernelName:zE,backendName:"webgl",kernelFunc:nK};class rK{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class oK{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const iK={kernelName:jE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{clipValueMin:o,clipValueMax:i}=a;let s;s=cE().getBool("WEBGL_PACK_CLIP")?new oK(r.shape):new rK(r.shape);const l=[[o],[i]];return n.runWebGLProgram(s,[r],r.dtype,l)}};class sK{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function lK(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const cK={kernelName:WE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=n.texData.get(a.dataId),o=new sK(a.shape),i=[lK(a,r.complexTensorInfos.real),lK(a,r.complexTensorInfos.imag)];return n.runWebGLProgram(o,i,i[0].dtype)}};class uK{constructor(e){this.outputShape=[],this.outputShape=Az(e,1),this.variableNames=e.map(((e,t)=>"T".concat(t)));const t=new Array(e.length-1);t[0]=e[0][1];for(let o=1;o<t.length;o++)t[o]=t[o-1]+e[o][1];const n=["if (yC < ".concat(t[0],") setOutput(getT0(yR, yC));")];for(let o=1;o<t.length;o++){const e=t[o-1];n.push("else if (yC < ".concat(t[o],") ")+"setOutput(getT".concat(o,"(yR, yC-").concat(e,"));"))}const a=t.length,r=t[t.length-1];n.push("else setOutput(getT".concat(a,"(yR, yC-").concat(r,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(n.join("\n        "),"\n      }\n    ")}}class dK{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Az(e,t);const n=this.outputShape,a=n.length,r=cV(a),o=BH("coords",a),i=["x","y","z","w","u","v"].slice(0,a);this.variableNames=e.map(((e,t)=>"T".concat(t)));const s=new Array(e.length-1);s[0]=e[0][t];for(let f=1;f<s.length;f++)s[f]=s[f-1]+e[f][t];const l=i[t],c=i.slice(-2),u=i.join();let d="if (".concat(l," < ").concat(s[0],") {\n        return getChannel(\n            getT0(").concat(u,"), vec2(").concat(c.join(),"));\n        }");for(let f=1;f<s.length;f++){const e=s[f-1];d+="\n        if (".concat(l," < ").concat(s[f],"  && ").concat(l," >= ").concat(s[f-1],") {\n          return getChannel(\n            getT").concat(f,"(").concat(pK(i,l,e),"),\n            vec2(").concat(pK(c,l,e),"));\n        }")}const p=s.length,h=s[s.length-1];d+="\n        return getChannel(\n          getT".concat(p,"(").concat(pK(i,l,h),"),\n          vec2(").concat(pK(c,l,h),"));"),this.userCode="\n      float getValue(".concat(i.map((e=>"int "+e)),") {\n        ").concat(d,"\n      }\n\n      void main() {\n        ").concat(r," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(o,"), 0., 0., 0.);\n\n        ").concat(o[a-1]," = ").concat(o[a-1]," + 1;\n        if (").concat(o[a-1]," < ").concat(n[a-1],") {\n          result.g = getValue(").concat(o,");\n        }\n\n        ").concat(o[a-2]," = ").concat(o[a-2]," + 1;\n        if (").concat(o[a-2]," < ").concat(n[a-2],") {\n          result.a = getValue(").concat(o,");\n        }\n\n        ").concat(o[a-1]," = ").concat(o[a-1]," - 1;\n        if (").concat(o[a-2]," < ").concat(n[a-2]," &&\n            ").concat(o[a-1]," < ").concat(n[a-1],") {\n          result.b = getValue(").concat(o,");\n        }\n        setOutput(result);\n      }\n    ")}}function pK(e,t,n){const a=e.indexOf(t),r=e.map(((e,t)=>t===a?"".concat(e," - ").concat(n):e));return r.join()}function hK(e){const{inputs:t,backend:n}=e,{input:a}=t;return yq({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.imag},backend:n})}const fK={kernelName:O_,backendName:"webgl",kernelFunc:hK};function mK(e,t,n){const a=e[0].dtype;if("complex64"===a){const a=e.map((e=>$X({inputs:{input:e},backend:n}))),r=e.map((e=>hK({inputs:{input:e},backend:n}))),o=mK(a,t,n),i=mK(r,t,n),s=bq({inputs:{real:o,imag:i},backend:n});return a.forEach((e=>n.disposeIntermediateTensorInfo(e))),r.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),s}let r=n.shouldExecuteOnCPU(e);if("string"===a&&(r=!0),r){const r=e.map((e=>{const a=CC(e.shape.slice(t));return Lq({inputs:{x:e},backend:n,attrs:{shape:[-1,a]}})})),o=r.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),i=Az(r.map((e=>e.shape)),1),s=1===r[0].shape[0],l=ZG(o,i,a,s),c=Az(e.map((e=>e.shape)),t),u=n.makeTensorInfo(c,a,l);return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}const o=cE().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(e.length>o){const a=[];for(let i=0;i<e.length;i+=o){const r=e.slice(i,i+o);a.push(mK(r,t,n))}const r=mK(a,t,n);for(const e of a)n.disposeIntermediateTensorInfo(e);return r}if(cE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){const r=new dK(e.map((e=>e.shape)),t);return n.runWebGLProgram(r,e,a)}const{tensors2D:i,outShape:s}=function(e,t,n){const a=Az(e.map((e=>e.shape)),t),r=e.map((e=>Lq({inputs:{x:e},attrs:{shape:[-1,CC(e.shape.slice(t))]},backend:n})));return{tensors2D:r,outShape:a}}(e,t,n),l=new uK(i.map((e=>e.shape))),c=n.runWebGLProgram(l,i,a);i.forEach((e=>n.disposeIntermediateTensorInfo(e)));const u=Lq({inputs:{x:c},attrs:{shape:s},backend:n});return n.disposeIntermediateTensorInfo(c),u}function gK(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a,o=FC(r,t[0].shape)[0],i=t.map((e=>e.shape));Rz(i,o);const s=Az(t.map((e=>e.shape)),o);if(0===CC(s))return n.makeTensorInfo(s,t[0].dtype,[]);const l=t.filter((e=>CC(e.shape)>0));return 1===l.length?yq({inputs:{x:l[0]},backend:n}):mK(l,o,n)}const yK={kernelName:VE,backendName:"webgl",kernelFunc:gK};class vK{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.outputShape=e.outShape;const o=e.padInfo.top,i=e.padInfo.left,s=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,v=m?3:1;let b="",x="";n&&(b=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):r?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),x="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(b,"\n\n      const ivec2 strides = ivec2(").concat(s,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(i,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(v,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(y,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(c,";\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(p,"; wC++) {\n            int xC = xCCorner + wC * ").concat(u,";\n\n            if (xC < 0 || xC >= ").concat(e.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(m,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===f,") {\n\n              if (").concat(m,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(h,") *\n                    getW(wR, wC, ").concat(h,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(h,", xR, xC) *\n                    getW(wR, wC, ").concat(h,", d2);\n              }\n\n            } else if (").concat(2===f,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2)\n              );\n\n              if (").concat(m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===f,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2),\n                getW(wR, wC, ").concat(h," + 2, d2)\n              );\n\n              if (").concat(m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1),\n                  getX(batch, xR, xC, ").concat(h," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC),\n                  getX(batch, ").concat(h," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(w,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")}}class bK{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,a=e.padInfo.left,r=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterDepth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(r,", ").concat(o,", ").concat(i,");\n      const ivec3 pads = ivec3(").concat(t,", ").concat(n,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(u,"; wF++) {\n          int xF = xFCorner + wF * ").concat(s,";\n\n          if (xF < 0 || xF >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(d,"; wR++) {\n            int xR = xRCorner + wR * ").concat(l,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,"; wC++) {\n              int xC = xCCorner + wC * ").concat(c,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===f,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(h,") *\n                  getW(wF, wR, wC, ").concat(h,", d2);\n              } else if (").concat(2===f,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===f,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1),\n                  getX(batch, xF, xR, xC, ").concat(h," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2),\n                  getW(wF, wR, wC, ").concat(h," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class xK{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=gV(this.outputShape.length);const o=e.padInfo.left,i=e.strideWidth,s=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,u=c;let d="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<c;m++)d+="\n           vec4 xTexelC".concat(2*m,";\n           int xTexelC").concat(2*m,"Ready;\n           vec4 xTexelC").concat(2*m+1,";\n           int xTexelC").concat(2*m+1,"Ready;\n           vec4 xC").concat(m,";");d+="\n     for (int r = 0; r < ".concat(l,"; r++) {\n      for (int d1 = 0; d1 < ").concat(e.inChannels,"; d1 += 2) {\n       ");for(let m=0;m<c;m++)d+="\n           xTexelC".concat(2*m," = vec4(0.0);\n           xTexelC").concat(2*m,"Ready = 0;\n           xTexelC").concat(2*m+1," = vec4(0.0);\n           xTexelC").concat(2*m+1,"Ready = 0;\n           xC").concat(m," = vec4(0.0);");d+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(u+1)/2;m++){const t=2*m;if(d+="\n           xC = xCCorner + ".concat(t*s,";\n           "),1===i){if(t<c&&(o%2===1?(d+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n               "),d+=1===s&&t>0?"\n                 xC".concat(t," = vec4(xTexelC").concat(t-2,".zw, xTexelC").concat(t,".xy);\n                 "):"\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(t," = vec4(previous.zw, xTexelC").concat(t,".xy);\n                   } else {\n                     xC").concat(t," = vec4(0.0, 0.0, xTexelC").concat(t,".xy);\n                   }\n                   ")):d+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xC").concat(t," = xTexelC").concat(t,";\n                 "),t+1<c)){const e=o%2===0?mC(s):s;s%2===0&&o%2===1||s%2!==0&&o%2!==1?(d+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(e,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                     xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(t+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(t+1,"Ready = 1;\n                   }\n                   "),d+=s>1?"\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(t+1," = vec4(previous.zw, xTexelC").concat(t+1,".xy);\n                     } else {\n                      xC").concat(t+1," = vec4(0.0, 0.0, xTexelC").concat(t+1,".xy);\n                     }\n                     "):"\n                     xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".xy);\n                     ")):d+=1===e?"\n                     xC".concat(t+1," = xTexelC").concat(t,";\n                     "):"\n                     xCOffset = xC + ".concat(e,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                       xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(t+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(t+1,"Ready = 1;\n                     }\n\n                     xC").concat(t+1," = xTexelC").concat(t+1,";\n                     ")}}else t<c&&(o%2===1?(d+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n               "),t+1<c&&(d+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(t+1," = vec4(xTexelC").concat(t+1,".xy, final.xy);\n                 "))):(d+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(\n                   xTexelC").concat(t,".xy, xTexelC").concat(t+1,".xy);\n               "),t+1<c&&(d+="\n                   xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n                 "))));t<c&&(d+="\n             wTexel = getW(r, ".concat(t,", d1, d2);\n             dotProd += xC").concat(t,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(e.inChannels,") {\n               dotProd += xC").concat(t,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),t+1<c&&(d+="\n               wTexel = getW(r, ".concat(t+1,", d1, d2);\n               dotProd += xC").concat(t+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(e.inChannels,") {\n                 dotProd += xC").concat(t+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}d+="\n     }\n   ",d+="\n     }\n   ",d+="\n     }\n   ";let p="",h="";n&&(p=a?"vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(n,"\n         }"):r?"vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(n,"\n         }"):"vec4 activation(vec4 x) {\n           ".concat(n,"\n         }"),h="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(p,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(d,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(f,"\n         ").concat(h,"\n         setOutput(result);\n       }\n     ")}}class wK{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=gV(this.outputShape.length);const{dataFormat:n}=t,a=XW(),r="channelsLast"===n,o=r?1:2,i=r?2:3,s=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(e[2]," && pos < ").concat(e[1],") {");let l="";for(let c=0;c<=1;c++)for(let e=0;e<=1;e++)l+="\n          blockIndex = rc.z + ".concat(e,";\n          pos = rc.y + ").concat(c,";\n\n          ").concat(s,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(i,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(r,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*c+e,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*c+e,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(l,"\n\n        ").concat(a.output," = result;\n      }\n    ")}}function kK(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function SK(e){let{x:t,filter:n,convInfo:a,backend:r,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:l=null}=e;const c=t.shape,u=r.texData.get(t.dataId),d=a.inChannels,p=c[0]*c[1]*c[2],h=a.outChannels,f="channelsLast"===a.dataFormat;let m;const g=[];if(null!=i){const e=kK(i.shape,f);null!=e&&(i=Lq({inputs:{x:i},backend:r,attrs:{shape:e}}),g.push(i))}if(null!=o){const e=kK(o.shape,f);null!=e&&(o=Lq({inputs:{x:o},backend:r,attrs:{shape:e}}),g.push(o))}if(!((1===p||1===h)&&d>Yq)&&u.isPacked&&f&&null!=u.texture&&c[2]%2!==0&&_C(u.shape.slice(-3),c.slice(-3))){const e=c[0]*c[1]*(c[2]+1),d={dataId:t.dataId,shape:[1,e,a.inChannels],dtype:t.dtype},p=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,xC(zW(u.shape,d.shape),(()=>"packed reshape ".concat(u.shape," to ").concat(d.shape," isn't free")));const h=Lq({inputs:{x:n},backend:r,attrs:{shape:[1,a.inChannels,a.outChannels]}});g.push(h);const f=Qq({a:d,b:h,backend:r,transposeA:false,transposeB:false,bias:o,activation:l,preluActivationWeights:i,leakyreluAlpha:s}),y=r.texData.get(f.dataId);xC(y.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=p,y.shape=a.outShape,m=yq({inputs:{x:f},backend:r}),m.shape=a.outShape,g.push(f)}else{const e=a.outHeight*a.outWidth,c=Lq({inputs:{x:t},backend:r,attrs:{shape:f?[a.batchSize,e,a.inChannels]:[a.batchSize,a.inChannels,e]}}),u=Lq({inputs:{x:n},backend:r,attrs:{shape:[1,a.inChannels,a.outChannels]}}),d=Qq({a:f?c:u,b:f?u:c,transposeA:!f,transposeB:false,backend:r,bias:o,activation:l,preluActivationWeights:i,leakyreluAlpha:s});m=Lq({inputs:{x:d},backend:r,attrs:{shape:a.outShape}}),g.push(c),g.push(u),g.push(d)}for(const y of g)r.disposeIntermediateTensorInfo(y);return m}function CK(e){let{x:t,filter:n,convInfo:a,backend:r,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:l=null}=e;const{filterWidth:c,filterHeight:u,inChannels:d,outWidth:p,outHeight:h,dataFormat:f}=a,m="channelsLast"===f,g=c*u*d,y=h*p,v=[a.batchSize,g,y],b=[];if(null!=i){const e=kK(i.shape,m);null!=e&&(i=Lq({inputs:{x:i},backend:r,attrs:{shape:e}}),b.push(i))}if(null!=o){const e=kK(o.shape,m);null!=e&&(o=Lq({inputs:{x:o},backend:r,attrs:{shape:e}}),b.push(o))}const x=Lq({inputs:{x:n},backend:r,attrs:{shape:[1,g,CC(n.shape)/g]}});b.push(x);const w=new wK(v,a),k=[t.shape,[a.padInfo.top,a.padInfo.left],[a.strideHeight,a.strideWidth],[a.dilationHeight,a.dilationWidth],[a.inChannels],[a.filterWidth*a.inChannels],[a.outWidth]],S=r.runWebGLProgram(w,[t],"float32",k),C=Lq({inputs:{x:S},backend:r,attrs:{shape:v}});b.push(S),b.push(C);const E=null!=o,_=null!=i,I="leakyrelu"===l,N=l?Oq(l,!0):null,T=new Rq(m?C.shape:x.shape,m?x.shape:C.shape,m?[a.batchSize,y,a.outChannels]:[a.batchSize,a.outChannels,y],!0,!1,E,N,_,I),O=m?[C,x]:[x,C];if(o&&O.push(o),_&&O.push(i),I){const e=r.makeTensorInfo([],"float32",JN(s,"float32"));O.push(e),b.push(e)}const R=r.runWebGLProgram(T,O,"float32"),A=Lq({inputs:{x:R},backend:r,attrs:{shape:a.outShape}});b.push(R);for(const P of b)r.disposeIntermediateTensorInfo(P);return A}const EK={kernelName:UE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:i,pad:s,dataFormat:l,dilations:c,dimRoundingMode:u}=a,d=YP(l),p=BP(r.shape,o.shape,i,c,s,u,!1,d);let h;if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if(p.strideWidth<=2&&"channelsLast"===d&&cE().getBool("WEBGL_EXP_CONV")){const e=new xK(p),t=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];h=n.runWebGLProgram(e,[r,o],"float32",t)}else if(cE().getBool("WEBGL_CONV_IM2COL"))h=CK({x:r,filter:o,convInfo:p,backend:n});else{const e=new vK(p);h=n.runWebGLProgram(e,[r,o],"float32")}else h=SK({x:r,filter:o,convInfo:p,backend:n});const f=Lq({inputs:{x:h},backend:n,attrs:{shape:p.outShape}});return n.disposeIntermediateTensorInfo(h),f}};class _K{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,r=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(r,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class IK{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,o="channelsLast"===e.dataFormat,i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=o?1:2,c=o?2:3,u=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(i,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(u,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(l,"], coords[").concat(c,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class NK{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,r=e.padInfo.front,o=e.padInfo.top,i=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(e.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(t," - ").concat(r,";\n\n            if (xF < 0 || xF >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(n," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(i,";\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class TK{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,r=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,c=a-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(s,", ").concat(l,", ").concat(c,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(t,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(r,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(e.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(t," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(n,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(n," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const OK={kernelName:GE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:i,pad:s,dataFormat:l,dimRoundingMode:c,filterShape:u}=a,d=YP(l),p=BP(r.shape,u,i,1,s,c,!1,d),h=new _K(p);return n.runWebGLProgram(h,[r,o],"float32")}};const RK={kernelName:HE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{inputShape:i,strides:s,pad:l,dataFormat:c,dimRoundingMode:u}=a,d=YP(c),p=BP(i,o.shape,s,1,l,u,!1,d),h=new IK(p);return n.runWebGLProgram(h,[r,o],"float32")}};const AK={kernelName:qE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:i,pad:s,dilations:l}=a,c=WP(r.shape,o.shape,i,l,s),u=new bK(c);return n.runWebGLProgram(u,[r,o],"float32")}};const PK={kernelName:XE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:i,pad:s,filterShape:l}=a,c=WP(r.shape,l,i,1,s),u=new NK(c);return n.runWebGLProgram(u,[r,o],"float32")}};const FK={kernelName:KE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{pad:i,strides:s,inputShape:l}=a,c=WP(l,o.shape,s,1,i),u=new TK(c);return n.runWebGLProgram(u,[r,o],"float32")}},DK=Nq({opSnippet:Iq+"\n  return cos(x);\n"}),MK={kernelName:YE,backendName:"webgl",kernelFunc:DK},LK=Nq({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),zK={kernelName:QE,backendName:"webgl",kernelFunc:LK};class jK{constructor(e,t,n,a,r){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,i,s,l]=e,[c]=t,[u,d]=n;this.outputShape=[c,u,d,l];const p="bilinear"===a?1:0,[h,f]=["".concat(i-1,".0"),"".concat(s-1,".0")],[m,g,y]=u>1?["".concat((i-1)/(u-1)),"(y2-y1) * height_ratio","y1*".concat(h," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(h)],[v,b,x]=d>1?["".concat((s-1)/(d-1)),"(x2-x1) * width_ratio","x1*".concat(f," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(f)];this.userCode="\n      const float height_ratio = float(".concat(m,");\n      const float width_ratio = float(").concat(v,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(o,") {\n          return;\n        }\n\n        float height_scale = ").concat(g,";\n        float width_scale = ").concat(b,";\n\n        float in_y = ").concat(y,";\n        if( in_y < 0.0 || in_y > ").concat(h," ) {\n          setOutput(float(").concat(r,"));\n          return;\n        }\n        float in_x = ").concat(x,";\n        if( in_x < 0.0 || in_x > ").concat(f," ) {\n          setOutput(float(").concat(r,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(p," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")}}const BK={kernelName:JE,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{image:r,boxes:o,boxInd:i}=t,{cropSize:s,method:l,extrapolationValue:c}=a,u=new jK(r.shape,o.shape,s,l,c);return n.runWebGLProgram(u,[r,o,i],"float32")}};var WK;!function(e){e.Prod="*",e.Sum="+"}(WK||(WK={}));class VK{constructor(e,t,n,a){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const r=this.outputShape.length,o=this.op===WK.Prod?"1.0":"0.0",i=n?o:"getX(".concat(UK(r,"coords",this.op),")"),s=this.outputShape[this.outputShape.length-1];let l="",c="";n?(l=a?"end != ".concat(s-1):"end != 0",c=a?"end + 1":"end - 1"):(l=a?"end + pow2 < ".concat(s):"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(cV(r)," coords = getOutputCoords();\n        int end = ").concat(GK(r,"coords",this.op),";\n        float val = ").concat(i,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(l,") {\n          int idx = ").concat(c,";\n          ").concat(GK(r,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(UK(r,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}}function UK(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function GK(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function HK(e,t,n,a,r,o){const i=t.shape.length,s=XF([a],i);let l=t;null!=s&&(l=Xq({inputs:{x:t},backend:n,attrs:{perm:s}}));const c=YF(1,i)[0];if(c!==i-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(a));const u=l.shape[c];let d=yq({inputs:{x:l},backend:n});for(let p=0;p<=Math.ceil(Math.log2(u))-1;p++){const t=new VK(e,l.shape,!1,o),a=[[p]],r=d;d=n.runWebGLProgram(t,[d],d.dtype,a),n.disposeIntermediateTensorInfo(r)}if(r){const t=new VK(e,l.shape,r,o),a=d;d=n.runWebGLProgram(t,[d],d.dtype),n.disposeIntermediateTensorInfo(a)}if(null!=s){const e=Xq({inputs:{x:d},backend:n,attrs:{perm:KF(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),e}return d}const qK={kernelName:$E,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:i,reverse:s}=a;return HK(WK.Prod,r,n,o,i,s)}};const XK={kernelName:ZE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:i,reverse:s}=a;return HK(WK.Sum,r,n,o,i,s)}};const KK={kernelName:e_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:i,binaryOutput:s}=a;if(1===r.shape.length){const e=n.readSync(r.dataId),t=n.readSync(o.dataId),a=KG(e,t,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,a)}if(2===r.shape.length){const e=n.bufferSync(r),t=n.bufferSync(o),a=YG(e,t,i,s);return n.makeTensorInfo(a.shape,o.dtype,a.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(r.shape.length,"."))}};class YK{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(t,";\n      int offset_h = imod(h, ").concat(t,");\n      int in_w = w / ").concat(t,";\n      int offset_w = imod(w, ").concat(t,");\n      int offset_d = (offset_h * ").concat(t," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const QK={kernelName:t_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockSize:o,dataFormat:i}=a,s=r.shape[0],l=("NHWC"===i?r.shape[1]:r.shape[2])*o,c=("NHWC"===i?r.shape[2]:r.shape[3])*o,u=("NHWC"===i?r.shape[3]:r.shape[1])/(o*o),d=new YK("NHWC"===i?[s,l,c,u]:[s,u,l,c],o,i);return n.runWebGLProgram(d,[r],r.dtype)}};class $K{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=gV(this.outputShape.length);const o=e.filterHeight,i=e.filterWidth,s=e.outChannels/e.inChannels;let l="",c="";n&&(l=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):r?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),c="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(l,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(u,"\n        ").concat(c,"\n        setOutput(result);\n      }\n    ")}}class ZK{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=gV(this.outputShape.length);const o=e.outChannels/e.inChannels,i=e.padInfo.left,s=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,d=u;let p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<u;g++)p+="\n          vec4 xTexelC".concat(2*g,";\n          int xTexelC").concat(2*g,"Ready;\n          vec4 xTexelC").concat(2*g+1,";\n          int xTexelC").concat(2*g+1,"Ready;\n          vec4 xC").concat(g,";");p+="\n    for (int r = 0; r < ".concat(c,"; r++) {\n      ");for(let g=0;g<u;g++)p+="\n          xTexelC".concat(2*g," = vec4(0.0);\n          xTexelC").concat(2*g,"Ready = 0;\n          xTexelC").concat(2*g+1," = vec4(0.0);\n          xTexelC").concat(2*g+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(d+1)/2;g++){const e=2*g;if(p+="\n          xC = xCCorner + ".concat(e*l,";\n          "),1===s){if(e<u&&(i%2===1?(p+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n              "),p+=1===l&&e>0?"\n                xC".concat(e," = vec4(xTexelC").concat(e-2,".zw, xTexelC").concat(e,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(e," = vec4(previous.zw, xTexelC").concat(e,".xy);\n                  } else {\n                    xC").concat(e," = vec4(0.0, 0.0, xTexelC").concat(e,".xy);\n                  }\n                  ")):p+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xC").concat(e," = xTexelC").concat(e,";\n                "),e+1<u)){const t=i%2===0?mC(l):l;l%2===0&&i%2===1||l%2!==0&&i%2!==1?(p+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(t,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                    xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(e+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(e+1,"Ready = 1;\n                  }\n                  "),p+=l>1?"\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(e+1," = vec4(previous.zw, xTexelC").concat(e+1,".xy);\n                    } else {\n                     xC").concat(e+1," = vec4(0.0, 0.0, xTexelC").concat(e+1,".xy);\n                    }\n                    "):"\n                    xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".xy);\n                    ")):p+=1===t?"\n                    xC".concat(e+1," = xTexelC").concat(e,";\n                    "):"\n                    xCOffset = xC + ".concat(t,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                      xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(e+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(e+1,"Ready = 1;\n                    }\n\n                    xC").concat(e+1," = xTexelC").concat(e+1,";\n                    ")}}else e<u&&(i%2===1?(p+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n              "),e+1<u&&(p+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(e+1," = vec4(xTexelC").concat(e+1,".xy, final.xy);\n                "))):(p+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(\n                  xTexelC").concat(e,".xy, xTexelC").concat(e+1,".xy);\n              "),e+1<u&&(p+="\n                  xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n                "))));e<u&&(p+="\n            wTexel = getW(r, ".concat(e,", d1, q);\n            dotProd += xC").concat(e," * vec4(wTexel.xz, wTexel.xz);\n          "),e+1<u&&(p+="\n              wTexel = getW(r, ".concat(e+1,", d1, q);\n              dotProd += xC").concat(e+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}p+="\n    }\n  ",p+="\n      }\n    ";let h="",f="";n&&(h=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):r?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(n,"\n        }"),f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(h,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(o,";\n        int q = d2 - d1 * ").concat(o,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(p,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(m,"\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")}}const JK={kernelName:n_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:i,pad:s,dilations:l,dimRoundingMode:c}=a;let u=l;null==u&&(u=[1,1]),xC(KP(i,u),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(i," and dilations '").concat(u,"'")));const d=BP(r.shape,o.shape,i,u,s,c,!0);let p;p=cE().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?new ZK(d):new $K(d);const h=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(p,[r,o],"float32",h)}};class eY{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,r=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(r,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class tY{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,o=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(i,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(s,"; dm++) {\n              int d2 = d1 * ").concat(s," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const nY={kernelName:a_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:c,filterShape:u}=a,d=BP(r.shape,u,i,s,l,c,!0),p=new eY(d);return n.runWebGLProgram(p,[r,o],"float32")}};const aY={kernelName:r_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:c,inputShape:u}=a,d=BP(u,o.shape,i,s,l,c,!0),p=new tY(d);return n.runWebGLProgram(p,[r,o],"float32")}};class rY{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const oY={kernelName:o_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=[...a.shape,...a.shape],o=CC(a.shape),i=Lq({inputs:{x:a},backend:n,attrs:{shape:[o]}}),s=new rY(o),l=n.runWebGLProgram(s,[i],i.dtype),c=Lq({inputs:{x:l},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),c}};class iY{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:a,strideHeight:r,strideWidth:o,filterHeight:i,filterWidth:s,dilationHeight:l,dilationWidth:c}=e,{top:u,left:d}=a;this.userCode="\n      const ivec2 strides = ivec2(".concat(r,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(u,", ").concat(d,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(i,"; h++) {\n          int hIn = hBeg + h * ").concat(l,";\n\n          if (hIn >= 0 && hIn < ").concat(t,") {\n            for (int w = 0; w < ").concat(s,"; w++) {\n              int wIn = wBeg + w * ").concat(c,";\n\n              if (wIn >= 0 && wIn < ").concat(n,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}}const sY={kernelName:i_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:i,pad:s,dilations:l}=a,c=LP(r.shape,o.shape,i,s,"NHWC",l);let u;const d=new iY(c);u=n.runWebGLProgram(d,[r,o],"float32");const p=Lq({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),p}};const lY={kernelName:u_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{equation:r}=a,o=t,{allDims:i,summedDims:s,idDims:l}=pj(r,o.length);fj(i.length,l,o);const{path:c,steps:u}=mj(s,l),d=u.length;let p=null,h=i.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:a}=hj(h,l[e]);let r;gj(t)?r=o[e]:(r=Xq({inputs:{x:o[e]},backend:n,attrs:{perm:t}}),f.push(r));const i=r.shape.slice();for(let e=0;e<a.length;++e)i.splice(a[e],0,1);_C(r.shape,i)||(r=Lq({inputs:{x:r},backend:n,attrs:{shape:i}}),f.push(r)),null===p?p=r:(p=Dq({inputs:{a:r,b:p},backend:n}),f.push(p))}m<d-1&&(c[m]>=0&&(p=Hq({inputs:{x:p},backend:n,attrs:{axis:c[m]-(i.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}},cY=Nq({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),uY={kernelName:d_,backendName:"webgl",kernelFunc:cY},dY={kernelName:p_,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:a,y:r}=t,o=cE().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new gq("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",a.shape,r.shape):new fq("return (b >= 1.0) ? a : a * (b + 1.0);",a.shape,r.shape);return n.runWebGLProgram(o,[a,r],a.dtype)}},pY=Tq({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:JG}),hY={kernelName:f_,backendName:"webgl",kernelFunc:pY},fY=Nq({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(Kz,";\n  float a1 = ").concat(Yz,";\n  float a2 = ").concat(Qz,";\n  float a3 = ").concat($z,";\n  float a4 = ").concat(Zz,";\n  float a5 = ").concat(Jz,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),mY={kernelName:h_,backendName:"webgl",kernelFunc:fY},gY=Nq({opSnippet:Iq+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:eH,dtype:"float32"}),yY={kernelName:m_,backendName:"webgl",kernelFunc:gY};function vY(e){const{inputs:t,attrs:n,backend:a}=e,{dim:r}=n,{input:o}=t,i=o.shape.length,s=o.shape.slice();let l=r;return r<0&&(xC(-(i+1)<=r,(()=>"Axis must be in the interval [".concat(-(i+1),", ").concat(i,"]"))),l=i+r+1),s.splice(l,0,1),Lq({inputs:{x:o},backend:a,attrs:{shape:s}})}const bY={kernelName:g_,backendName:"webgl",kernelFunc:vY},xY="return exp(x) - 1.0;",wY=Nq({opSnippet:xY,packedOpSnippet:xY,cpuKernelImpl:tH}),kY={kernelName:y_,backendName:"webgl",kernelFunc:wY};class SY{constructor(e,t,n){this.variableNames=["real","imag"];const a=t[1];this.outputShape=t;const r=n?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),o=n?"".concat(a,".0"):"1.0";let i;if("real"===e)i="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error('FFT component must be either "real" or "imag", got '.concat(e,"."));i="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(r,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(i,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(o,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}}function CY(e,t,n){const a=n.texData.get(e.dataId),r=CC(e.shape),o=e.shape[e.shape.length-1],i=Lq({inputs:{x:e},backend:n,attrs:{shape:[r/o,o]}}),s=i.shape,l=new SY("real",s,t),c=new SY("imag",s,t),u=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:s},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(l,u,"float32"),p=n.runWebGLProgram(c,u,"float32"),h=bq({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);const f=Lq({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(h),f}const EY={kernelName:v_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return CY(a,!1,n)}};class _Y{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function IY(e){const{backend:t,attrs:n}=e,{shape:a,value:r}=n;let{dtype:o}=n;if(o=o||XC(r),"string"===o){const e=LC(o,CC(a));return e.fill(r),t.makeTensorInfo(a,o,e)}{const e=new _Y(a,r),n=[[r]];return t.runWebGLProgram(e,[],o,n)}}const NY={kernelName:b_,backendName:"webgl",kernelFunc:IY};class TY{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(t," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(t,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const OY={kernelName:x_,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:a}=t,r=n,o=new TY(a.shape);return r.runWebGLProgram(o,[a],a.dtype)}},RY="return floor(x);",AY=Nq({opSnippet:RY,packedOpSnippet:RY,cpuKernelImpl:nH}),PY={kernelName:w_,backendName:"webgl",kernelFunc:AY},FY=Tq({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),DY={kernelName:k_,backendName:"webgl",kernelFunc:FY};class MY{constructor(e){this.variableNames=["A"];const t=XW(),[n,a]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(a,".0, ").concat(n,".0);\n\n        vec4 values = ").concat(t.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")}}class LY{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=XW(),[n,a]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(a,".0, ").concat(n,".0);\n            vec4 values = ").concat(t.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}const zY={kernelName:wN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e;let{pixels:r}=t;const{numChannels:o}=a,i="undefined"!==typeof HTMLVideoElement&&r instanceof HTMLVideoElement,s="undefined"!==typeof HTMLImageElement&&r instanceof HTMLImageElement,[l,c]=i?[r.videoWidth,r.videoHeight]:[r.width,r.height],u=[c,l],d=[c,l,o];if(s||i){const e=cE().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=jY&&e===BY||(BY=e,jY=document.createElement("canvas").getContext("2d",{willReadFrequently:BY})),jY.canvas.width=l,jY.canvas.height=c,jY.drawImage(r,0,0,l,c),r=jY.canvas}const p=n.makeTensorInfo(u,"int32");n.texData.get(p.dataId).usage=mW.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),r);const h=cE().getBool("WEBGL_PACK")?new LY(d):new MY(d),f=n.runWebGLProgram(h,[p],"int32");return n.disposeData(p.dataId),f}};let jY,BY=cE().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const WY={kernelName:CN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:i,preluActivationWeights:s}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=a,m=YP(u),g=BP(r.shape,o.shape,l,d,c,p,!1,m);let y;const v=[],b=null!=i,x=null!=s,w="leakyrelu"===h,k=()=>{const e=[r,o],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=Lq({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return v.push(t),t}return e};if(b&&e.push(t(i,u)),x&&e.push(t(s,u)),w){const t=n.makeTensorInfo([],"float32",JN(f,"float32"));e.push(t),v.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&cE().getBool("WEBGL_EXP_CONV")){const e=h?Oq(h,!0):null,t=new xK(g,b,e,x,w),a=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],r=k();y=n.runWebGLProgram(t,r,"float32",a)}else if(cE().getBool("WEBGL_CONV_IM2COL"))y=CK({x:r,filter:o,convInfo:g,backend:n,bias:i,activation:h,preluActivationWeights:s,leakyreluAlpha:f});else{const e=h?Oq(h,!1):null,t=new vK(g,b,e,x,w),a=k();y=n.runWebGLProgram(t,a,"float32")}else y=SK({x:r,filter:o,convInfo:g,backend:n,bias:i,activation:h,preluActivationWeights:s,leakyreluAlpha:f});const S=Lq({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return v.push(y),v.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};const VY={kernelName:EN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:i,preluActivationWeights:s}=t,{strides:l,pad:c,dilations:u,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=a,f=[];let m=u;null==m&&(m=[1,1]),xC(KP(l,m),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(m,"'")));const g=BP(r.shape,o.shape,l,m,c,d,!0),y=cE().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,v=p?Oq(p,y):null,b=[r,o],x=null!=i,w=null!=s,k="leakyrelu"===p;if(x&&b.push(i),w&&b.push(s),k){const e=n.makeTensorInfo([],"float32",JN(h,"float32"));b.push(e),f.push(e)}let S;S=y?new ZK(g,x,v,w,k):new $K(g,x,v,w,k);const C=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],E=n.runWebGLProgram(S,b,"float32",C);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),E}};class UY{constructor(e,t,n,a){this.sliceDim=e,this.strides=t,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=n;const r=cV(n.length);let o="\n    int index;";for(let i=0;i<this.sliceDim;i++)o+="\n          index = round(getIndices(coords[0], ".concat(i,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[i],";\n          flattenIndex += index * ").concat(this.strides[i],";");this.userCode="\n         void main() {\n          ".concat(r," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(o,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}}const GY={kernelName:E_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:a,indices:r}=t,o=r.shape,i=o[o.length-1],s=CC(a.shape),[l,c,u,d]=cA(a,r),p=Lq({inputs:{x:r},backend:n,attrs:{shape:[c,i]}}),h=Lq({inputs:{x:a},backend:n,attrs:{shape:[CC(a.shape)/u,u]}});if(n.shouldExecuteOnCPU([a,r])||"string"===a.dtype){const e=n.readSync(r.dataId),t=n.bufferSync(a),o=aH(e,t,a.dtype,c,i,u,d,a.shape,s);return n.makeTensorInfo(l,a.dtype,o.values)}const f=new UY(i,d,[c,u],a.shape),m=n.runWebGLProgram(f,[h,p],h.dtype),g=Lq({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}};class HY{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=cV(this.rank),a=function(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[];for(let r=0;r<e.length;r++)2===r?a.push("index"):a.push("".concat(n[r]));return a.join()}(e);this.userCode="\n      void main() {\n        ".concat(n," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(e[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(a,"));\n      }\n    ")}}function qY(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,indices:o}=t,{axis:i,batchDims:s}=a,l=FC(i,r.shape)[0];if(cE().get("DEBUG")){const e=n.readSync(o.dataId),t=r.shape[l];for(let n=0;n<e.length;++n){const a=e[n];xC(a<=t-1&&a>=0,(()=>"GatherV2: the index value ".concat(a," is not in [0, ").concat(t-1,"]")))}}const c=Pj(r,o,l,s),u=CC(o.shape),d=[],p=Lq({inputs:{x:r},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),h=Lq({inputs:{x:o},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});d.push(p),d.push(h);const f=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=n.bufferSync(h),t=n.bufferSync(p),a=rH(t,e,f);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c.outputShape,a.dtype,a.values)}const m=new HY(p.shape,f),g=n.runWebGLProgram(m,[p,h],p.dtype);d.push(g);const y=Lq({inputs:{x:g},backend:n,attrs:{shape:c.outputShape}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const XY={kernelName:C_,backendName:"webgl",kernelFunc:qY},KY=Tq({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:oH,dtype:"bool"}),YY={kernelName:__,backendName:"webgl",kernelFunc:KY},QY=Tq({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:iH}),$Y={kernelName:I_,backendName:"webgl",kernelFunc:QY};const ZY={kernelName:T_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return CY(a,!0,n)}},JY=Nq({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),eQ={kernelName:R_,backendName:"webgl",kernelFunc:JY},tQ=Nq({opSnippet:"return float(isinf(x));",dtype:"bool"}),nQ={kernelName:A_,backendName:"webgl",kernelFunc:tQ},aQ=Nq({opSnippet:"return float(isnan(x));",dtype:"bool"}),rQ={kernelName:P_,backendName:"webgl",kernelFunc:aQ},oQ=Tq({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:sH,dtype:"bool"}),iQ={kernelName:D_,backendName:"webgl",kernelFunc:oQ},sQ=Tq({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:lH,dtype:"bool"}),lQ={kernelName:M_,backendName:"webgl",kernelFunc:sQ};const cQ={kernelName:L_,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:r,num:o}=n,i=cH(a,r,o);return t.makeTensorInfo([i.length],"float32",i)}},uQ=Nq({opSnippet:Iq+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:uH}),dQ={kernelName:z_,backendName:"webgl",kernelFunc:uQ},pQ=Nq({opSnippet:Iq+"\n  return log(1.0 + x);\n"}),hQ={kernelName:j_,backendName:"webgl",kernelFunc:pQ},fQ=Tq({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),mQ={kernelName:B_,backendName:"webgl",kernelFunc:fQ},gQ=Nq({opSnippet:"return float(!(x >= 1.0));"}),yQ={kernelName:W_,backendName:"webgl",kernelFunc:gQ},vQ=Tq({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),bQ={kernelName:V_,backendName:"webgl",kernelFunc:vQ};class xQ{constructor(e,t,n,a,r){this.variableNames=["x"],this.outputShape=[];const o=t,i=e[3]-1;let s;this.outputShape=e;const l="float(".concat(n,") + float(").concat(a,") * sum");s=.5===r?"inversesqrt(".concat(l,")"):1===r?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(r,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(o,"; j <= ").concat(o,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(i,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(s,";\n        setOutput(val);\n      }\n    ")}}class wQ{constructor(e,t,n,a,r){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=t,i=e[3]-1;let s;this.outputShape=e;const l="float(".concat(n,") + float(").concat(a,") * sum");s=.5===r?"inversesqrt(".concat(l,")"):1===r?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(r,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(o,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(o,"; j <= ").concat(o,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(i,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(s,";\n        setOutput(result);\n      }\n    ")}}const kQ={kernelName:q_,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{depthRadius:o,bias:i,alpha:s,beta:l}=a,c=cE().getBool("WEBGL_PACK_NORMALIZATION")?new wQ(r.shape,o,i,s,l):new xQ(r.shape,o,i,s,l);return n.runWebGLProgram(c,[r],r.dtype)}};class SQ{constructor(e,t,n,a,r){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=a,this.beta=r,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(t,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(t," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(n,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(r,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(r,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")}}const CQ={kernelName:X_,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r,y:o,dy:i}=t,{depthRadius:s,bias:l,alpha:c,beta:u}=a,d=new SQ(r.shape,s,l,c,u);return n.runWebGLProgram(d,[r,o,i],r.dtype)}};function EQ(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reductionIndices:o,keepDims:i}=a,s=r.shape.length,l=FC(o,r.shape);let c=l;const u=XF(c,s),d=null!=u,p=n.shouldExecuteOnCPU([r]);let h=r;if(d){if(p){const e=n.texData.get(h.dataId).values,t=new Array(s);for(let n=0;n<t.length;n++)t[n]=r.shape[u[n]];const a=LH(e,r.shape,r.dtype,u,t);h=n.makeTensorInfo(t,r.dtype);n.texData.get(h.dataId).values=a}else h=Gq(r,u,n);c=YF(c.length,s)}qF("max",c,s);const[f,m]=GF(h.shape,c);let g,y=f;if(i&&(y=HF(f,l)),p){const e=n.texData.get(h.dataId).values,t=dH(e,CC(m),y,r.dtype);g=n.makeTensorInfo(y,r.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,a){const r=CC(t),o=Lq({inputs:{x:e},attrs:{shape:[CC(e.shape)/r,r]},backend:a}),i=Wq(o,e.dtype,"max",a),s=Lq({inputs:{x:i},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(i),s}(h,m,y,n);return d&&n.disposeIntermediateTensorInfo(h),g}const _Q={kernelName:K_,backendName:"webgl",kernelFunc:EQ},IQ=Tq({opSnippet:hq+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+mq+"\n  return result;\n",cpuKernelImpl:pH}),NQ={kernelName:Y_,backendName:"webgl",kernelFunc:IQ};const TQ={kernelName:Q_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;HW(r,"maxPool");const{filterSize:o,strides:i,pad:s,dimRoundingMode:l}=a;xC(KP(i,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")));const c=zP(r.shape,o,i,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&_C(c.inShape,c.outShape))return yq({inputs:{x:r},backend:n});const u=new TX(c,"max",!1);return n.runWebGLProgram(u,[r],r.dtype)}};const OQ={kernelName:Z_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:i,pad:s,dataFormat:l,dimRoundingMode:c}=a,u=jP(r.shape,o,i,[1,1,1],s,c,l),d=new OX(u,"max",!1);return n.runWebGLProgram(d,[r],r.dtype)}};class RQ{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,a=e.dilationHeight,r=e.effectiveFilterHeight,o=e.effectiveFilterWidth,i=r-1-e.padInfo.top,s=o-1-e.padInfo.left,l=r*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(i,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(r,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(t,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(n,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(l," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class AQ{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,r=e.dilationDepth,o=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=s-1-e.padInfo.front,d=l-1-e.padInfo.top,p=c-1-e.padInfo.left,h=s*l*c-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(d,", ").concat(p,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(s,";\n           wD += ").concat(r,") {\n          float dyD = float(dyDCorner + wD) / ").concat(t,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(l,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(c,";\n                wC += ").concat(i,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(h," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(l," * ").concat(c," +\n                  wR * ").concat(c," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const PQ={kernelName:J_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,i=o,{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=a,d=jP(i.shape,s,l,[1,1,1],c,u),p=new OX(d,"max",!0),h=n.runWebGLProgram(p,[i],i.dtype),f=new AQ(d),m=n.runWebGLProgram(f,[r,h],i.dtype);return n.disposeIntermediateTensorInfo(h),m}};const FQ={kernelName:$_,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o,output:i}=t,s=o;HW([o,i],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=a,p=zP(s.shape,l,c,1,u,d),h=new TX(p,"max",!0),f=n.runWebGLProgram(h,[s],s.dtype),m=new RQ(p),g=n.runWebGLProgram(m,[r,f],s.dtype);return n.disposeIntermediateTensorInfo(f),g}};const DQ={kernelName:eI,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{x:r}=t,{filterSize:o,strides:i,pad:s,includeBatchInIndex:l}=n,c=a;xC(4===r.shape.length,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(r.shape.length,".")));const u=[1,1];xC(KP(i,u),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(u,"'")));const d=zP(r.shape,o,i,u,s),[p,h]=function(e,t,n,a){let r=new TX(n,"max",!1);const o=a.runWebGLProgram(r,[e],"float32");return r=new TX(n,"max",!0,!0,t),[o,a.runWebGLProgram(r,[e],"float32")]}(r,l,d,c);return[p,h]}};const MQ={kernelName:tI,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{x:r}=t,{keepDims:o,axis:i}=n,s=a,l=r.shape.length,c=FC(i,r.shape);let u=c;const d=XF(u,l),p=null!=d,h=s.shouldExecuteOnCPU([r]),f=[];let m=r;if(p){if(h){const e=s.texData.get(m.dataId).values,t=new Array(l);for(let a=0;a<t.length;a++)t[a]=r.shape[d[a]];const n=LH(e,r.shape,r.dtype,d,t);m=s.makeTensorInfo(t,r.dtype);s.texData.get(m.dataId).values=n}else m=Gq(r,d,s);f.push(m),u=YF(u.length,l)}qF("sum",u,l);const[g,y]=GF(m.shape,u);let v=g;o&&(v=HF(g,c));const b=function(e,t,n,a){const r=CC(t),o=Lq({inputs:{x:e},attrs:{shape:[CC(e.shape)/r,r]},backend:a}),i=Wq(o,"float32","mean",a),s=Lq({inputs:{x:i},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(i),s}(m,y,v,s);for(const x of f)s.disposeIntermediateTensorInfo(x);return b}};const LQ={kernelName:nI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a,s=r.shape.length,l=FC(o,r.shape);let c=l;const u=XF(c,s);let d=r;null!=u&&(d=Xq({inputs:{x:r},backend:n,attrs:{perm:u}}),c=YF(c.length,r.shape.length)),qF("min",c,s);const[p,h]=GF(d.shape,c),f=Lq({inputs:{x:d},backend:n,attrs:{shape:[-1,CC(h)]}}),m=Wq(f,f.dtype,"min",n);let g;if(i){g=Lq({inputs:{x:m},backend:n,attrs:{shape:HF(p,l)}})}else g=Lq({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}},zQ=Tq({opSnippet:hq+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+mq+"\n  return result;\n",cpuKernelImpl:hH}),jQ={kernelName:aI,backendName:"webgl",kernelFunc:zQ};class BQ{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=cV(a),o=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),l="reflect"===n?0:1;this.userCode=1!==a?"\n      ".concat(r," start = ").concat(r,"(").concat(o,");\n      ").concat(r," end = ").concat(r,"(").concat(i,");\n\n      void main() {\n        ").concat(r," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(l,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(l,";\n          }\n        }\n        ").concat(r," coords = outC - start;\n        setOutput(getX(").concat(s,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(i,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(l,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(l,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")}}class WQ{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=cV(a),o=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=BH("rc",a),l=BH("source",a),c="".concat(s[a-1]," < ").concat(this.outputShape[a-1]),u=1===a?"source":"vec2(".concat(l.slice(-2).join(),")"),d="reflect"===n?0:1;let p="";if(1===a){const e="\n        ".concat(r," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(d,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(d,";\n        }\n        source -= start;\n      ");p="\n        ".concat(r," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        ").concat(s[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        }\n      ")}else{const e="\n        ".concat(r," source = rc;\n        ").concat(r," lt = ").concat(r,"(lessThan(source, start));\n        ").concat(r," gte = ").concat(r,"(greaterThanEqual(source, end));\n        ").concat(r," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(d,") +\n                gte * ((end - 1) * 2 - source + ").concat(d,");\n        source -= start;\n      ");p="\n        ".concat(r," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        ").concat(s[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        }\n        rc = outputLoc;\n        ").concat(s[a-2]," += 1;\n        if(").concat(s[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(e,"\n          result[2] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n          ").concat(s[a-1]," += 1;\n          if(").concat(c,") {\n            ").concat(e,"\n            result[3] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(r," start = ").concat(r,"(").concat(o,");\n      const ").concat(r," end = ").concat(r,"(").concat(i,");\n\n      void main() {\n        ").concat(r," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")}}const VQ={kernelName:rI,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r}=t,{paddings:o,mode:i}=a,s=cE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new WQ(r.shape,o,i):new BQ(r.shape,o,i);return n.runWebGLProgram(s,[r],r.dtype)}},UQ=Tq({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+mq+"\n  return result;\n"}),GQ={kernelName:oI,backendName:"webgl",kernelFunc:UQ};class HQ{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(t-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(t-1,"));\n      }\n    ")}}const qQ=Tq({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),XQ={kernelName:c_,backendName:"webgl",kernelFunc:qQ},KQ="return a - b;",YQ=Tq({opSnippet:KQ,packedOpSnippet:KQ,supportsComplex:!0,cpuKernelImpl:FH}),QQ={kernelName:lN,backendName:"webgl",kernelFunc:YQ};function $Q(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{dim:o}=a,i=FC([o],r.shape),s=EQ({inputs:{x:r},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),l=HF(s.shape,i),c=Lq({inputs:{x:s},backend:n,attrs:{shape:l}}),u=YQ({inputs:{a:r,b:c},backend:n}),d=gY({inputs:{x:u},backend:n}),p=Hq({inputs:{x:d},backend:n,attrs:{axis:i,keepDims:!1}}),h=Lq({inputs:{x:p},backend:n,attrs:{shape:l}}),f=qQ({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),f}const ZQ={kernelName:QI,backendName:"webgl",kernelFunc:$Q};const JQ={kernelName:iI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{numSamples:o,seed:i,normalized:s}=a,l=s?r:$Q({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new HQ(c,u,o),p=[[i]],h=n.runWebGLProgram(d,[l],"int32",p);return s||n.disposeIntermediateTensorInfo(l),h}},e$=KH+"\n  return -x;\n";const t$={kernelName:lI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;if(n.shouldExecuteOnCPU([a])){const e=n.texData.get(a.dataId),[t,r]=mH(e.values,a.shape,a.dtype);return n.makeTensorInfo(r,a.dtype,t)}let r;return r=cE().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new sq(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new XH(a.shape,e$),n.runWebGLProgram(r,[a],a.dtype)}},n$=zL;const a$={kernelName:uI,backendName:"webgl",kernelFunc:function(e){_N("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=a,c=n.readSync(r.dataId),u=n.readSync(o.dataId),{selectedIndices:d}=n$(c,u,i,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},r$=jL;const o$={kernelName:dI,backendName:"webgl",kernelFunc:function(e){_N("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:c}=a,u=n.readSync(r.dataId),d=n.readSync(o.dataId),{selectedIndices:p,validOutputs:h}=r$(u,d,i,s,l,c);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},i$=BL;const s$={kernelName:pI,backendName:"webgl",kernelFunc:function(e){_N("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:c}=a,u=n.readSync(r.dataId),d=n.readSync(o.dataId),p=i,h=s,f=l,m=c,{selectedIndices:g,selectedScores:y}=i$(u,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class l${constructor(e,t,n,a){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(n,"),\n                      float(index == coords.y)));\n      }\n    ")}}const c$={kernelName:fI,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{indices:r}=t,{dtype:o,depth:i,onValue:s,offValue:l}=a,c=CC(r.shape),u=new l$(c,i,s,l),d=Lq({inputs:{x:r},backend:n,attrs:{shape:[c]}}),p=n.runWebGLProgram(u,[d],o);n.disposeIntermediateTensorInfo(d);const h=Lq({inputs:{x:p},backend:n,attrs:{shape:[...r.shape,i]}});return n.disposeIntermediateTensorInfo(p),h}};function u$(e){const{inputs:t,backend:n}=e,{x:a}=t;if("complex64"===a.dtype){const e=$X({inputs:{input:a},backend:n}),t=u$({inputs:{x:e},backend:n}),r=hK({inputs:{input:a},backend:n}),o=u$({inputs:{x:r},backend:n}),i=bq({inputs:{real:t,imag:o},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),i}return IY({attrs:{shape:a.shape,dtype:a.dtype,value:"string"===a.dtype?"":0},backend:n})}const d$={kernelName:bN,backendName:"webgl",kernelFunc:u$};const p$={kernelName:hI,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a}=t,{x:r}=n;if("string"===r.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===r.dtype){const t=$X({inputs:{input:r},backend:a}),n=e({inputs:{x:t},backend:a}),o=hK({inputs:{input:r},backend:a}),i=u$({inputs:{x:o},backend:a}),s=bq({inputs:{real:n,imag:i},backend:a});return a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(i),s}return IY({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:a})}};const h$={kernelName:mI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a;if(1===t.length)return vY({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const o=t[0].shape,i=t[0].dtype;t.forEach((e=>{wC(o,e.shape,"All tensors passed to stack must have matching shapes"),xC(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=t.map((e=>{const t=vY({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t})),c=gK({inputs:l,backend:n,attrs:{axis:r}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};class f${constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=cV(a),o=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(r," start = ").concat(r,"(").concat(o,");\n      ").concat(r," end = ").concat(r,"(").concat(i,");\n\n      void main() {\n        ").concat(r," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(r," coords = outC - start;\n          setOutput(getX(").concat(s,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(i,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")}}class m${constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=cV(a),o=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=BH("rc",a),l=BH("source",a),c="".concat(s[a-1]," < ").concat(this.outputShape[a-1]),u=1===a?"source":"vec2(".concat(l.slice(-2).join(),")"),d=["".concat(r," rc = outputLoc;"),"".concat(s[a-1]," += 1;\n       if(").concat(c,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(s[a-2]," += 1;\n       if(").concat(s[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(s[a-1]," += 1;\n         if(").concat(c,") {")],p=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let h="";for(let f=0,m=1===a?2:4;f<m;f++)h+="\n        ".concat(d[f],"\n        if (").concat(p,") {\n          result[").concat(f,"] = float(value);\n        } else {\n          ").concat(r," source = rc - start;\n          result[").concat(f,"] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        }\n      ");h+=1===a?"} ":"}}",this.userCode="\n      const ".concat(r," start = ").concat(r,"(").concat(o,");\n      const ").concat(r," end = ").concat(r,"(").concat(i,");\n\n      void main() {\n        ").concat(r," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")}}const g$=e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:o,constantValue:i}=a;if(0===CC(r.shape)){const e=o.map(((e,t)=>e[0]+r.shape[t]+e[1]));return IY({backend:n,attrs:{shape:e,value:i,dtype:r.dtype}})}const s=cE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new m$(r.shape,o,i):new f$(r.shape,o,i),l=[[i]];return n.runWebGLProgram(s,[r],r.dtype,l)},y$={kernelName:gI,backendName:"webgl",kernelFunc:g$},v$=Tq({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+mq+"\n  return result;\n"}),b$={kernelName:vI,backendName:"webgl",kernelFunc:v$};const x$={kernelName:xI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a,s=r.shape.length,l=[],c=FC(o,r.shape);let u=c;const d=XF(u,s);let p,h=r;if(null!=d&&(h=Xq({inputs:{x:r},backend:n,attrs:{perm:d}}),u=YF(u.length,s),l.push(h)),qF("prod",u,s),n.shouldExecuteOnCPU([h])){const e=n.texData.get(h.dataId).values,{outVals:t,outShape:a,outDtype:r}=yH(h.shape,h.dtype,e,u);p=n.makeTensorInfo(a,r,t)}else{const[e,t]=GF(h.shape,u),a=CC(t),o=Lq({inputs:{x:h},backend:n,attrs:{shape:[-1,a]}}),i=Wq(o,TT(r.dtype),"prod",n);p=Lq({inputs:{x:i},backend:n,attrs:{shape:e}}),l.push(o),l.push(i)}if(i){l.push(p);const e=HF(p.shape,c);p=Lq({inputs:{x:p},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const w$={kernelName:wI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{paramsNestedSplits:r,paramsDenseValues:o,indices:i}=t,{outputRaggedRank:s}=a,l=r.map((e=>n.readSync(e.dataId))),c=r.map((e=>e.shape)),u=n.readSync(o.dataId),d=n.readSync(i.dataId),[p,h,f]=vH(l,c,u,o.shape,o.dtype,d,i.shape,s),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,o.dtype,h);return m.concat([g])}};const k$={kernelName:kI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{shape:r,values:o,defaultValue:i,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=a,c=n.readSync(r.dataId),u=n.readSync(o.dataId),d=n.readSync(i.dataId),p=s.map((e=>n.readSync(e.dataId))),h=s.map((e=>e.shape)),[f,m]=bH(c,r.shape,u,o.shape,o.dtype,d,i.shape,p,h,l);return n.makeTensorInfo(f,o.dtype,m)}},S$=e=>{const{backend:t,attrs:n}=e,{start:a,stop:r,step:o,dtype:i}=n,s=xH(a,r,o,i);return t.makeTensorInfo([s.length],i,s)},C$={kernelName:SI,backendName:"webgl",kernelFunc:S$},E$=Nq({opSnippet:"return 1.0 / x;"}),_$={kernelName:EI,backendName:"webgl",kernelFunc:E$},I$=Nq({opSnippet:KH+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),N$={kernelName:_I,backendName:"webgl",kernelFunc:I$},T$=Nq({opSnippet:KH+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),O$={kernelName:AI,backendName:"webgl",kernelFunc:T$};class R${constructor(e,t,n,a,r){this.variableNames=["A"],this.outputShape=[];const[o,i,s,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?i-1:i,a&&n>1?s-1:s],u=[a&&t>1?t-1:t,a&&n>1?n-1:n];let d;d=r?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(i,".0, ").concat(s,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")}}class A${constructor(e,t,n,a,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,i,s,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?i-1:i,a&&n>1?s-1:s],u=[a&&t>1?t-1:t,a&&n>1?n-1:n];let d;d=r?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],",\n          ").concat(c[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(i,".0, ").concat(s,".0,\n                                     ").concat(s,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}}const P$={kernelName:OI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:i,size:s}=a,[l,c]=s,u=cE().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new A$(r.shape,l,c,o,i):new R$(r.shape,l,c,o,i);return n.runWebGLProgram(u,[r],"float32")}};class F${constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,a,r]=t,[,o,i]=e,s=[n&&o>1?a-1:a,n&&i>1?r-1:r],l=[n&&o>1?o-1:o,n&&i>1?i-1:i],c=s[0]/l[0],u=s[1]/l[1],d=1/c,p=1/u,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(c,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(p,");\n\n        const int winHeight = int(").concat(h,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(o,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(i,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(a-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(r-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const D$={kernelName:RI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:i}=a,s=new F$(o.shape,r.shape,i);return n.runWebGLProgram(s,[o],o.dtype)}};class M${constructor(e,t,n,a,r){this.variableNames=["A"],this.outputShape=[];const[o,i,s,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?i-1:i,a&&n>1?s-1:s],u=[a&&t>1?t-1:t,a&&n>1?n-1:n],d=a?"0.5":"0.0";let p;p=r?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(i,".0, ").concat(s,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")}}class L${constructor(e,t,n,a,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,i,s,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?i-1:i,a&&n>1?s-1:s],u=[a&&t>1?t-1:t,a&&n>1?n-1:n],d=a?"0.5":"0.0";let p;p=r?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],",\n          ").concat(c[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(i,".0, ").concat(s,".0,\n                                     ").concat(s,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}}const z$={kernelName:NI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:i,size:s}=a,[l,c]=s,u=cE().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new L$(r.shape,l,c,o,i):new M$(r.shape,l,c,o,i);return n.runWebGLProgram(u,[r],r.dtype)}};class j${constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,a,r]=t,[,o,i]=e,s=[n&&o>1?a-1:a,n&&i>1?r-1:r],l=[n&&o>1?o-1:o,n&&i>1?i-1:i],c=s[0]/l[0],u=s[1]/l[1],d=1/c,p=1/u,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(c,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(p,");\n\n        const int winHeight = int(").concat(h,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(o,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(i,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(s[0],") *\n                (float(dyR) / float(").concat(l[0],"));\n\n            float sourceFracCol =\n                float(").concat(s[1],") *\n                  (float(dyC) / float(").concat(l[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(a,") - 1),\n                ").concat(n," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(r,") - 1),\n                ").concat(n," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const B$={kernelName:TI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:i}=a,s=new j$(o.shape,r.shape,i);return n.runWebGLProgram(s,[o],o.dtype)}};class W${constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));if(this.outputShape=e,1===n)return void(this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(e[0]," - coord - 1));\n        }\n      "));const a=e.map(((n,a)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - coords[").concat(n,"] - 1"):"coords[".concat(n,"]"))(a))).join(","),r=cV(n);this.userCode="\n      void main() {\n        ".concat(r," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}}class V${constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));this.outputShape=e;const a=BH("rc",n),r="".concat(a[n-1]," + 1 < ").concat(this.outputShape[n-1]),o="".concat(a[n-2]," + 1 < ").concat(this.outputShape[n-2]),i=cV(n);function s(n){const a=e.map(((a,r)=>function(n,a){return-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - ").concat(a[n]," - 1"):"".concat(a[n])}(r,n))),r=a.join(","),o=a.slice(-2).join(",");return"getChannel(getX(".concat(r,"), vec2(").concat(o,"))")}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(e[0]," - rc - 1),\n            ").concat(e[0]," - rc - 1);\n          if(").concat(r,"){\n              result.g = getChannel(getX(").concat(e[0]," - (rc  + 1) - 1),\n                ").concat(e[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(i," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return s(e)}(a.slice()),";\n          if(").concat(r,"){\n            result.g = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(a.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(a.slice()),";\n            if(").concat(r,") {\n              result.a = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}}const U$={kernelName:PI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dims:o}=a,i=r.shape.length,s=FC(o,r.shape);if(0===i)return yq({inputs:{x:r},backend:n});const l=cE().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new V$(r.shape,s):new W$(r.shape,s);return n.runWebGLProgram(l,[r],r.dtype)}};class G${constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],a=e[2];this.outputShape=e;let r="";r="number"===typeof t?"float outputValue = ".concat(t.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(t.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(r,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(n,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const H$={kernelName:kN,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{image:r}=t,{radians:o,fillValue:i,center:s}=n,l=a,c=new G$(r.shape,i),[u,d]=Bz(s,r.shape[1],r.shape[2]),p=[[u,d,Math.sin(o),Math.cos(o)]];return l.runWebGLProgram(c,[r],r.dtype,p)}},q$=Nq({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),X$={kernelName:FI,backendName:"webgl",kernelFunc:q$},K$=Nq({opSnippet:"return inversesqrt(x);",cpuKernelImpl:wH}),Y$={kernelName:DI,backendName:"webgl",kernelFunc:K$};class Q${constructor(e,t,n,a,r,o){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const i=cV(r.length),s=cV(o.length);let l="";1===n?l="i":2===n&&(l="i, j");const c="getIndices(".concat(l,")");let u="";1===a?u="i":2===a&&(u="i, coords[1]");const d="getUpdates(".concat(u,")"),p=t>1?"strides[j]":"strides";this.userCode="\n        ".concat(i," strides = ").concat(i,"(").concat(r,");\n\n        void main() {\n          ").concat(s," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(e,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(t,"; j++) {\n              int index = round(").concat(c,");\n              flattenedIndex += index * ").concat(p,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(d,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}}const $$={kernelName:MI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r,updates:o}=t,{shape:i}=a,{sliceRank:s,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=pA(0,r,i),p=[d/c,c];if(0===d)return n.makeTensorInfo(i,r.dtype);const h=Lq({inputs:{x:r},backend:n,attrs:{shape:[l,s]}}),f=Lq({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0])),g=new Q$(l,s,h.shape.length,f.shape.length,u,p),y=n.runWebGLProgram(g,[f,h,m],f.dtype),v=Lq({inputs:{x:y},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),v}};class Z${constructor(e,t,n,a){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const r="for (int i = 0; i < ".concat(Math.ceil(Math.log2(t+1)),"; ++i) { if (left >= right) break;"),o=2===cE().getNumber("WEBGL_VERSION")?"while (left < right) {":r,i="left"===a?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(o,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(i," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}}const J$={kernelName:LI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sortedSequence:r,values:o}=t,{side:i}=a,s=new Z$(r.shape[0],r.shape[1],o.shape[1],i),l=[[r.shape[1]]];return n.runWebGLProgram(s,[r,o],"int32",l)}};class eZ{constructor(e,t,n){let a,r;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank ".concat(n," is not yet supported"));if(1===n)r="resRC",a="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],i=[];for(let a=0;a<t.length;a++)i.push("".concat(n[a])),a<e&&o.push("".concat(n[a]));a=o.join(),r=i.join()}const o=cV(n);this.userCode="\n      void main() {\n        ".concat(o," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(r,"));\n        } else {\n          setOutput(getB(").concat(r,"));\n        }\n      }\n    ")}}const tZ={kernelName:zI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:a,t:r,e:o}=t,i=new eZ(a.shape.length,r.shape,r.shape.length);return n.runWebGLProgram(i,[a,r,o],NT(r.dtype,o.dtype))}},nZ=Nq({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(qz,";\n  float scale = ").concat(Xz,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),aZ={kernelName:jI,backendName:"webgl",kernelFunc:nZ},rZ=Nq({opSnippet:Iq+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:SH}),oZ={kernelName:GI,backendName:"webgl",kernelFunc:rZ},iZ=Nq({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),sZ={kernelName:UI,backendName:"webgl",kernelFunc:iZ},lZ=Nq({opSnippet:Iq+"\n  return sin(x);\n"}),cZ={kernelName:WI,backendName:"webgl",kernelFunc:lZ},uZ=Nq({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),dZ={kernelName:VI,backendName:"webgl",kernelFunc:uZ},pZ=Nq({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),hZ={kernelName:HI,backendName:"webgl",kernelFunc:pZ},fZ={kernelName:KI,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,paddings:i}=a;xC(r.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const s=o.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...i);for(let y=1+o.length;y<r.shape.length;++y)l.push([0,0]);const c=[],u=g$({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),d=Wz(u.shape,o,s,!1),p=Vz(d.length,o.length,!1),h=Uz(u.shape,o,s,!1),f=Lq({inputs:{x:u},backend:n,attrs:{shape:d}}),m=Xq({inputs:{x:f},backend:n,attrs:{perm:p}}),g=Lq({inputs:{x:m},backend:n,attrs:{shape:h}});return c.push(u),c.push(f),c.push(m),c.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const mZ={kernelName:$I,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:a,values:r,denseShape:o,defaultValue:i}=t;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(o.shape));if(2!==a.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(a.shape));if(1!==r.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(r.shape));if(0!==i.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(i.shape));const s=n.readSync(a.dataId),l=n.readSync(r.dataId),c=n.readSync(o.dataId),u=n.readSync(i.dataId)[0],[d,p,h,f,m]=_H(s,a.shape,a.dtype,l,r.dtype,c,u);return[n.makeTensorInfo(p,a.dtype,d),n.makeTensorInfo([p[0]],r.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],a.dtype,new Int32Array(m))]}};const gZ={kernelName:ZI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:a,inputShape:r,newShape:o}=t;if(2!==a.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(a.shape));if(1!==r.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(r.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const i=Array.from(n.readSync(r.dataId)),s=n.readSync(a.dataId),l=Array.from(n.readSync(o.dataId)),[c,u,d]=IH(s,a.shape,a.dtype,i,l);return[n.makeTensorInfo(u,a.dtype,c),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}};const yZ={kernelName:JI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(r.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(o.shape));const i=n.readSync(a.dataId),s=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=NH(i,a.shape,a.dtype,s,l,!0);return n.makeTensorInfo(u,a.dtype,c)}};const vZ={kernelName:eN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(r.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(o.shape));const i=n.readSync(a.dataId),s=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=NH(i,a.shape,a.dtype,s,l);return n.makeTensorInfo(u,a.dtype,c)}};const bZ={kernelName:tN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sparseIndices:r,sparseValues:o,defaultValue:i}=t,{outputShape:s}=a,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:p}=pA(0,r,s);if("string"===o.dtype){const e=n.bufferSync(r),t=n.bufferSync(o),a=rT(n.readSync(i.dataId)[0]),h=kH(e,t,s,p,u,c,l,d,a,false);return n.makeTensorInfo(s,h.dtype,h.values)}const h=new Q$(c,l,r.shape.length,o.shape.length,d,[p,1],false),f=n.runWebGLProgram(h,[o,r,i],o.dtype),m=Lq({inputs:{x:f},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(f),m}};const xZ={kernelName:YI,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{numOrSizeSplits:o,axis:i}=a,s=FC(i,r.shape)[0],l=vj(r,o,s),c=r.shape.length,u=new Array(c).fill(0),d=r.shape.slice();return l.map((e=>{const t=[...d];t[s]=e;const a=GX({inputs:{x:r},backend:n,attrs:{begin:u,size:t}});return u[s]+=e,a}))}},wZ="return sqrt(x);",kZ=Nq({opSnippet:wZ,packedOpSnippet:wZ,cpuKernelImpl:TH}),SZ={kernelName:qI,backendName:"webgl",kernelFunc:kZ},CZ=Nq({opSnippet:"return x * x;"}),EZ={kernelName:aN,backendName:"webgl",kernelFunc:CZ},_Z="return (a - b) * (a - b);",IZ=Tq({opSnippet:_Z,packedOpSnippet:_Z}),NZ={kernelName:nN,backendName:"webgl",kernelFunc:IZ};const TZ={kernelName:xN,backendName:"webgl",kernelFunc:function(e){let{inputs:t,attrs:n,backend:a}=e;const{x:r}=t,o=KH+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),i=new XH(r.shape,o);return a.runWebGLProgram(i,[r],r.dtype)}};class OZ{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const a=n.length,r=cV(n.length),o=cV(n.length);let i="";if(1===a)i="coords * strides + begin";else{let e=0;i=n.map(((t,a)=>(e++,1===n.length?"coords * strides[".concat(a,"] + begin[").concat(a,"]"):"coords[".concat(e-1,"] * strides[").concat(a,"] + begin[").concat(a,"]")))).join(",")}this.userCode="\n      ".concat(r," begin = ").concat(r,"(").concat(e,");\n      ").concat(r," strides = ").concat(r,"(").concat(t,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(i,"));\n      }\n    ")}}const RZ={kernelName:rN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,end:i,strides:s,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:p}=a,{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=OA(r.shape,o,i,s,l,c,u,d,p);let w;if(m)w=Lq({inputs:{x:r},backend:n,attrs:{shape:f}});else if(g||y){xC(r.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(r.shape.length)));const e=yA(v,b,x),t=GX({inputs:{x:r},backend:n,attrs:{begin:v,size:e}});w=Lq({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([r])){const e=n.readSync(r.dataId),t=tR(r.shape,r.dtype,e),a=OH(h,t,x,v);w=n.makeTensorInfo(f,r.dtype,a.values)}else{const e=new OZ(v,x,h);w=n.runWebGLProgram(e,[r],r.dtype)}}const k=Lq({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),k}};const AZ={kernelName:oN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{separator:r,nGramWidths:o,leftPad:i,rightPad:s,padWidth:l,preserveShortSequences:c}=a,{data:u,dataSplits:d}=t,p=n.readSync(u.dataId),h=n.readSync(d.dataId),[f,m]=RH(p,h,r,o,i,s,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const PZ={kernelName:iN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{skipEmpty:r}=a,{input:o,delimiter:i}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));const s=n.readSync(o.dataId),l=n.readSync(i.dataId)[0],[c,u,d]=AH(s,l,r),p=u.length;return[n.makeTensorInfo([p,2],"int32",c),n.makeTensorInfo([p],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const FZ={kernelName:sN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{numBuckets:r}=a,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const i=n.readSync(o.dataId),s=PH(i,r);return n.makeTensorInfo(o.shape,"int32",s)}},DZ=Nq({opSnippet:"return tan(x);"}),MZ={kernelName:cN,backendName:"webgl",kernelFunc:DZ},LZ=Nq({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),zZ={kernelName:uN,backendName:"webgl",kernelFunc:LZ};class jZ{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e[o]*t[o];this.outputShape=n,this.rank=n.length;const a=cV(this.rank),r=function(e){const t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],a=[];for(let r=0;r<e.length;r++)a.push("imod(".concat(n[r],", ").concat(e[r],")"));return a.join()}(e);this.userCode="\n      void main() {\n        ".concat(a," resRC = getOutputCoords();\n        setOutput(getA(").concat(r,"));\n      }\n    ")}}function BZ(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reps:o}=a;if("string"===r.dtype||r.shape.length>5){const e=n.readSync(r.dataId),t="string"===r.dtype?e.map((e=>rT(e))):e,a=tR(r.shape,r.dtype,t),i=DH(a,o);return n.makeTensorInfo(i.shape,i.dtype,i.values)}const i=new jZ(r.shape,o);return n.runWebGLProgram(i,[r],r.dtype)}const WZ={kernelName:dN,backendName:"webgl",kernelFunc:BZ};class VZ{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class UZ{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function GZ(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function HZ(e){let t=1;for(;t<e;)t*=2;return t}const qZ={kernelName:pN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{k:o,sorted:i}=a,s=cE().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=cE().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=r.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([r])||u<s||o>l){const e=n.readSync(r.dataId),[t,a]=MH(e,c,r.dtype,o,i);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(a.shape,a.dtype,a.values)]}if(0===o)return c[c.length-1]=0,[n.makeTensorInfo(c,r.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===u)return[r,IY({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const d=n.texData.get(r.dataId),p=null!==d&&d.isPacked,h=p?n.unpackTensor(r):r,f=CC(c)/u,m=Lq({inputs:{x:h},attrs:{shape:[f,u]},backend:n});p&&GZ(n,h);const g=HZ(o),y=HZ(u);let v=null;const b=()=>null===v?[m,m]:[m,v],x=(e,t,a)=>{const r=b(),o=new VZ(a),i=[[u],[null===v?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=v;v=n.runWebGLProgram(o,r,"int32",i),GZ(n,s)};for(let E=1;E<g;E*=2){const e=2*E;for(let t=E;t>=1;t/=2)x(e,t,[f,y])}for(let E=y;E>g;E/=2){const e=b(),t=new UZ([f,E/2]),a=[[u],[null===v?1:0],[g]],r=v;v=n.runWebGLProgram(t,e,"int32",a),GZ(n,r);const o=g/2,i=2*o;for(let n=o;n>=1;n/=2)x(i,n,v.shape)}let w=v;v=GX({inputs:{x:v},backend:n,attrs:{begin:0,size:[f,o]}}),GZ(n,w);let k=qY({inputs:{x:m,indices:v},backend:n,attrs:{axis:1,batchDims:1}});GZ(n,m);const S=c.slice(0,-1);S.push(o),w=v,v=Lq({inputs:{x:v},attrs:{shape:S},backend:n}),GZ(n,w);const C=k;return k=Lq({inputs:{x:k},attrs:{shape:S},backend:n}),GZ(n,C),[k,v]}};class XZ{constructor(e,t,n,a,r,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const i="nearest"===n?1:2;let s;switch(a){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(e," && 0 <= coordX && coordX < ").concat(t,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(r,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(r,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(t,"));\n                float mapY = mapCoord(inY, float(").concat(e,"));\n\n                if (").concat(i," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}}const KZ={kernelName:hN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:r,transforms:o}=t,{interpolation:i,fillMode:s,fillValue:l,outputShape:c}=a,[u,d,p,h]=r.shape,[f,m]=null!=c?c:[d,p],g=new XZ(d,p,i,s,l,[u,f,m,h]);return n.runWebGLProgram(g,[r,o],"float32")}};const YZ={kernelName:mN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:r}=n,{x:o}=t;HW(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const i=a.readSync(o.dataId),{outputValues:s,outputShape:l,indices:c}=zH(i,r,o.shape,o.dtype);return[a.makeTensorInfo(l,o.dtype,s),a.makeTensorInfo([c.length],"int32",c)]}};const QZ={kernelName:gN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{value:r}=t;let{axis:o}=a;o<0&&(o+=r.shape.length);const i=r,s=i.shape.length,l=r.shape[o],c=new Array(s-1);let u=0;for(let m=0;m<s;m++)m!==o&&(c[u++]=i.shape[m]);const d=[],p=new Array(s).fill(0),h=i.shape.slice();h[o]=1;const f=new Array(l);for(let m=0;m<f.length;m++){p[o]=m;const e=GX({inputs:{x:i},backend:n,attrs:{begin:p,size:h}}),t=Lq({inputs:{x:e},backend:n,attrs:{shape:c}});f[m]=t,d.push(e)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class $Z{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,a=e.batchSize,r=e.inSize,o=e.numSegments,i=o*Math.ceil(r/n);this.outputShape=[a,i];const s=4*Math.floor(n/4),l=n%4,c="\n        sumValue += dot(values, segFilter);\n    ";let u="";r%n>0&&(u="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return initializationValue;\n        }\n      "));let d="";r%n>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(u,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(d,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(n,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(c,"\n        } else if (").concat(2===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(c,"\n        } else if (").concat(3===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(c,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}}const ZZ={kernelName:yN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,segmentIds:o}=t,{numSegments:i}=a,s=r.shape.length,l=[];let c=0;const u=XF([c],s);let d=r;null!=u&&(d=Xq({inputs:{x:r},backend:n,attrs:{perm:u}}),l.push(d),c=YF(1,s)[0]);const p=Aj(d.shape,c,i),h=CC([d.shape[c]]),f=Lq({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});l.push(f);const m=TT(r.dtype),g=(e,t,a,r,o)=>{const i=e.shape[0],s=e.shape[1],c=Rj(s,o),u=new $Z({windowSize:c,inSize:s,batchSize:i,numSegments:o},t),d=n.compileAndRun(u,[e,a],r);if(l.push(d),d.shape[1]===o)return d;const p=S$({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),h=BZ({inputs:{x:p},backend:n,attrs:{reps:[s/c]}});l.push(p),l.push(h);return g(d,t,h,r,o)},y=Lq({inputs:{x:g(f,"unsortedSegmentSum",o,m,i)},backend:n,attrs:{shape:p}});let v=y;if(null!=u){l.push(y);const e=KF(u);v=Xq({inputs:{x:v},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}},JZ=[$q,Jq,tX,aX,iX,cX,uX,dX,yX,vX,xX,kX,CX,_X,NX,RX,AX,DX,MX,LX,BX,qX,XX,KX,eK,aK,iK,xq,cK,yK,EK,OK,RK,AK,PK,FK,MK,zK,BK,qK,XK,KK,QK,JK,nY,aY,oY,sY,lY,uY,dY,hY,mY,yY,bY,kY,EY,NY,OY,PY,DY,zY,WY,VY,GY,XY,YY,$Y,vq,ZY,fK,eQ,nQ,rQ,Sq,iQ,lQ,cQ,dQ,hQ,mQ,yQ,bQ,kQ,CQ,_Q,NQ,TQ,OQ,PQ,FQ,DQ,MQ,LQ,jQ,VQ,GQ,JQ,Mq,t$,a$,o$,s$,QX,c$,p$,h$,y$,b$,_q,x$,w$,k$,C$,ZX,XQ,_$,N$,O$,zq,P$,D$,z$,B$,U$,H$,X$,Y$,$$,J$,tZ,aZ,oZ,sZ,cZ,dZ,HX,ZQ,hZ,fZ,mZ,gZ,yZ,vZ,bZ,xZ,SZ,EZ,NZ,TZ,RZ,AZ,PZ,FZ,QQ,qq,MZ,zZ,WZ,qZ,KZ,Kq,YZ,QZ,ZZ,d$];for(const n of JZ)PN(n);const eJ=oL;class tJ extends uC{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new cC(this,AR())}nextDataId(){return tJ.nextDataId++}write(e,t,n){this.firstUse&&(this.firstUse=!1,cE().get("IS_NODE")&&_N("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:n,refCount:1}),a}makeTensorInfo(e,t,n){let a;if("string"===t&&null!=n&&n.length>0&&GC(n[0])){const r=n.map((e=>aT(e)));a=this.write(r,e,t)}else a=this.write(n,e,t);return{dataId:a,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,a,r){this.data.set(e,{values:t,dtype:a,refCount:r})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return ej(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return this.data.get(e).values}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>rT(e)));return tR(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return tR(e.shape,e.dtype,t)}makeOutput(e,t,n){return AR().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=tT();e();return{kernelMs:tT()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){FV([e],"where");const t=this.readSync(e.dataId);return eJ(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}tJ.nextDataId=0,HR("cpu",(()=>new tJ),1);const nJ=aU(d_,(e=>e>=0?e:Math.exp(e)-1)),aJ={kernelName:d_,backendName:"cpu",kernelFunc:nJ};function rJ(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{alpha:o}=a;FV([r],"leakyRelu");const i=CC(r.shape),s=n.data.get(r.dataId).values,l=MC("float32",i);for(let c=0;c<s.length;c++)l[c]=s[c]<0?o*s[c]:s[c];return n.makeTensorInfo(r.shape,"float32",l)}const oJ={kernelName:F_,backendName:"cpu",kernelFunc:rJ},iJ=LV(((e,t)=>e<0?t*e:e));function sJ(e){const{inputs:t,backend:n}=e,{x:a,alpha:r}=t;FV([a,r],"prelu");const o=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,[s,l]=iJ(a.shape,r.shape,o,i,"float32");return n.makeTensorInfo(l,"float32",s)}const lJ={kernelName:bI,backendName:"cpu",kernelFunc:sJ},cJ=aU(_I,(e=>Math.max(0,e))),uJ={kernelName:_I,backendName:"cpu",kernelFunc:cJ},dJ=aU(AI,(e=>Math.min(Math.max(0,e),6))),pJ={kernelName:AI,backendName:"cpu",kernelFunc:dJ};function hJ(e,t,n,a,r){if("linear"===n)return WV({inputs:{x:t},backend:e});if("relu"===n)return cJ({inputs:{x:t},backend:e});if("elu"===n)return nJ({inputs:{x:t},backend:e});if("relu6"===n)return dJ({inputs:{x:t},backend:e});if("prelu"===n)return sJ({inputs:{x:t,alpha:a},backend:e});if("leakyrelu"===n)return rJ({inputs:{x:t},backend:e,attrs:{alpha:r}});if("sigmoid"===n)return wG({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function fJ(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{shape:o}=a,i=CC(r.shape),s=PC(o,i),l=CC(s);xC(i===l,(()=>"The new shape (".concat(s,") has ").concat(l," elements and the old ")+"shape (".concat(r.shape,") has ").concat(i," elements. The new shape and old ")+"shape must have the same number of elements.")),n.incRef(r.dataId);const c=n.data.get(r.dataId);if(null!=c.complexTensorInfos){const e=c.complexTensorInfos.real,t=c.complexTensorInfos.imag;e.shape=s,t.shape=s}return{dataId:r.dataId,shape:s,dtype:r.dtype}}const mJ={kernelName:II,backendName:"cpu",kernelFunc:fJ};function gJ(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o}=t,{transposeA:i,transposeB:s}=a;FV([r,o],"matMul");const l=r.shape.length,c=o.shape.length,u=i?r.shape[l-2]:r.shape[l-1],d=s?o.shape[c-1]:o.shape[c-2],p=i?r.shape[l-1]:r.shape[l-2],h=s?o.shape[c-2]:o.shape[c-1],f=r.shape.slice(0,-2),m=o.shape.slice(0,-2),g=CC(f),y=CC(m),v=tA(r.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,h]);xC(u===d,(()=>"Error in matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(r.shape," and ")+"".concat(o.shape," and transposeA=").concat(i)+" and transposeB=".concat(s," must match.")));const b=s?[y,h,d]:[y,d,h],x=fJ({inputs:{x:r},backend:n,attrs:{shape:i?[g,u,p]:[g,p,u]}}),w=fJ({inputs:{x:o},backend:n,attrs:{shape:b}}),k=i?x.shape[1]:x.shape[2],S=i?x.shape[2]:x.shape[1],C=s?w.shape[1]:w.shape[2],E=Math.max(g,y),_=n.data.get(x.dataId).values,I=n.data.get(w.dataId).values,N=QC(x.shape),T=QC(w.shape),[O,R,A]=i?[N[0],1,N[1]]:[N[0],N[1],1],[P,F,D]=s?[1,T[1],T[0]]:[T[1],1,T[0]],M=S*C,L=tR([E,S,C],x.dtype),z=L.values,j=n.blockSize;for(let B=0;B<E;B++)for(let e=0;e<S;e+=j)for(let t=0;t<C;t+=j)for(let n=0;n<k;n+=j){const a=Math.min(e+j,S),r=Math.min(t+j,C),o=Math.min(n+j,k);for(let i=e;i<a;i++)for(let e=t;e<r;e++){let t=0;for(let a=n;a<o;a++){const n=Math.min(B,g-1)*O,r=Math.min(B,y-1)*D;t+=_[n+i*R+a*A]*I[a*P+e*F+r]}z[B*M+(i*C+e)]+=t}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(v,L.dtype,L.values)}const yJ={kernelName:AE,backendName:"cpu",kernelFunc:gJ};const vJ={kernelName:SN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o,bias:i,preluActivationWeights:s}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=a;let p,h,f;const m=[];p=gJ({inputs:{a:r,b:o},attrs:{transposeA:l,transposeB:c},backend:n}),i&&(h=ZV({inputs:{a:p,b:i},backend:n}),m.push(p),p=h),u&&(f=hJ(n,p,u,s,d),m.push(p),p=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return p}},bJ=aU(mE,(e=>Math.acos(e))),xJ={kernelName:mE,backendName:"cpu",kernelFunc:bJ},wJ=aU(gE,(e=>Math.acosh(e))),kJ={kernelName:gE,backendName:"cpu",kernelFunc:wJ};const SJ={kernelName:vE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,a=t;FV(t,"addN");const r=a.map((e=>n.data.get(e.dataId).values)),o=tR(a[0].shape,a[0].dtype),i=o.values;for(let s=0;s<a.length;s++){const e=r[s];for(let t=0;t<i.length;t++)i[t]+=e[t]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}};const CJ={kernelName:bE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a;FV(r,"all");const s=FC(o,r.shape);let l=s;const c=XF(l,r.shape.length);let u=r;null!=c&&(u=nG({inputs:{x:r},backend:n,attrs:{perm:c}}),l=YF(l.length,r.shape.length)),qF("all",l,u.shape.length);const[d,p]=GF(u.shape,l),h=CC(p),f=eE(CC(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const a=m[e+n];t=t&&a}f[y]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(i){const e=fJ({inputs:{x:g},backend:n,attrs:{shape:HF(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const EJ={kernelName:xE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a;FV(r,"any");const s=FC(o,r.shape);let l=s;const c=XF(l,r.shape.length);let u=r;null!=c&&(u=nG({inputs:{x:r},backend:n,attrs:{perm:c}}),l=YF(l.length,r.shape.length)),qF("any",l,u.shape.length);const[d,p]=GF(u.shape,l),h=CC(p),f=eE(CC(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const a=m[e+n];t=t||a}f[y]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(i){const e=fJ({inputs:{x:g},backend:n,attrs:{shape:HF(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const _J={kernelName:wE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;FV(r,"argMax");let i=FC(o,r.shape);const s=XF(i,r.shape.length);let l=r;const c=[];null!=s&&(l=nG({inputs:{x:r},backend:n,attrs:{perm:s}}),c.push(l),i=YF(i.length,l.shape.length)),i=[i[0]],qF("argMax",i,l.shape.length);const[u,d]=GF(l.shape,i),p=eE(CC(u),"int32"),h=CC(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let a=0;a<h;++a){const r=f[e+a];r>t&&(t=r,n=a)}p[m]=n}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",p)}};const IJ={kernelName:kE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;FV(r,"argMin");let i=FC(o,r.shape);const s=XF(i,r.shape.length);let l=r;const c=[];null!=s&&(l=nG({inputs:{x:r},backend:n,attrs:{perm:s}}),c.push(l),i=YF(i.length,l.shape.length)),i=[i[0]],qF("argMin",i,l.shape.length);const[u,d]=GF(l.shape,i),p=eE(CC(u),"int32"),h=CC(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let a=0;a<h;++a){const r=f[e+a];r<t&&(t=r,n=a)}p[m]=n}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",p)}},NJ=aU(SE,(e=>Math.asin(e))),TJ={kernelName:SE,backendName:"cpu",kernelFunc:NJ},OJ=aU(CE,(e=>Math.asinh(e))),RJ={kernelName:CE,backendName:"cpu",kernelFunc:OJ},AJ=aU(EE,(e=>Math.atan(e))),PJ={kernelName:EE,backendName:"cpu",kernelFunc:AJ},FJ=LV(((e,t)=>Math.atan2(e,t))),DJ=KV(IE,FJ),MJ={kernelName:IE,backendName:"cpu",kernelFunc:DJ},LJ=aU(_E,(e=>Math.atanh(e))),zJ={kernelName:_E,backendName:"cpu",kernelFunc:LJ};function jJ(e,t,n,a,r,o){const i=r.strideHeight,s=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,u=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=r.padInfo.top,h=r.padInfo.left,f="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=tR(r.outShape,n),g=m.values,y=r.outShape[1]*r.outShape[2]*r.outShape[3],v=r.outShape[2]*r.outShape[3],b=r.outShape[3];for(let x=0;x<r.batchSize;++x){const t=x*y,n=x*a[0];for(let m=0;m<r.inChannels;++m)for(let y=0;y<r.outHeight;++y){const x=y*i-p,w=Math.max(0,x),k=Math.min(r.inHeight,u+x),S=t+y*v;for(let t=0;t<r.outWidth;++t){const i=t*s-h,u=Math.max(0,i),p=Math.min(r.inWidth,d+i);let y=f,v=0,x=0;for(let t=w;t<k;t+=l){const r=n+t*a[1];for(let t=u;t<p;t+=c){const n=e[r+t*a[2]+m];"max"===o&&n>y?y=n:"avg"===o&&(v+=n,x++)}if(isNaN(y))break}g[S+t*b+m]="avg"===o?v/x:y}}}return m}function BJ(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=tR(a.outShape,"int32"),s=a.strideHeight,l=a.strideWidth,c=a.dilationHeight,u=a.dilationWidth,d=a.effectiveFilterHeight,p=a.effectiveFilterWidth,h=a.padInfo.top,f=a.padInfo.left,m=tR(t,n,e);for(let g=0;g<a.batchSize;++g)for(let e=0;e<a.inChannels;++e)for(let t=0;t<a.outHeight;++t){const n=t*s-h;let y=n;for(;y<0;)y+=c;const v=Math.min(a.inHeight,d+n);for(let s=0;s<a.outWidth;++s){const d=s*l-f;let h=d;for(;h<0;)h+=u;const b=Math.min(a.inWidth,p+d);let x=Number.NEGATIVE_INFINITY,w=-1;for(let t=y;t<v;t+=c){const i=t-n;for(let n=h;n<b;n+=u){const s=n-d,l=m.get(g,t,n,e);l>x&&(x=l,w=r?o?((g*a.inHeight+t)*a.inWidth+n)*a.inChannels+e:(t*a.inWidth+n)*a.inChannels+e:i*p+s)}}i.set(w,g,t,s,e)}}return i}function WJ(e,t,n,a,r,o){const i=r.strideDepth,s=r.strideHeight,l=r.strideWidth,c=r.dilationDepth,u=r.dilationHeight,d=r.dilationWidth,p=r.effectiveFilterDepth,h=r.effectiveFilterHeight,f=r.effectiveFilterWidth,m=r.padInfo.front,g=r.padInfo.top,y=r.padInfo.left,v="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=tR(r.outShape,n),x=b.values,w=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],k=r.outShape[2]*r.outShape[3]*r.outShape[4],S=r.outShape[3]*r.outShape[4],C=r.outShape[4];for(let E=0;E<r.batchSize;++E){const t=E*w,n=E*a[0];for(let b=0;b<r.inChannels;++b)for(let w=0;w<r.outDepth;++w){const E=w*i-m;let _=E;for(;_<0;)_+=c;const I=Math.min(r.inDepth,p+E),N=t+w*k;for(let t=0;t<r.outHeight;++t){const i=t*s-g;let p=i;for(;p<0;)p+=u;const m=Math.min(r.inHeight,h+i),w=N+t*S;for(let t=0;t<r.outWidth;++t){const i=t*l-y;let s=i;for(;s<0;)s+=d;const h=Math.min(r.inWidth,f+i),g=w+t*C;let k=v,S=0,E=0;for(let t=_;t<I;t+=c){const r=n+t*a[1];for(let t=p;t<m;t+=u){const n=r+t*a[2];for(let t=s;t<h;t+=d){const r=e[n+t*a[3]+b];if("max"===o&&r>k?k=r:"avg"===o&&(S+=r,E++),isNaN(k))break}if(isNaN(k))break}if(isNaN(k))break}x[g+b]="avg"===o?S/E:k}}}}return b}const VJ={kernelName:NE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;FV(r,"avgPool");const{filterSize:o,strides:i,pad:s,dimRoundingMode:l}=a;xC(KP(i,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")));const c=zP(r.shape,o,i,1,s,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&_C(c.inShape,c.outShape))u=WV({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=QC(r.shape),a=jJ(e,r.shape,r.dtype,t,c,"avg");u=n.makeTensorInfo(c.outShape,r.dtype,a.values)}return u}};const UJ={kernelName:OE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:i,pad:s,dimRoundingMode:l,dataFormat:c}=a;FV(r,"avgPool3d");const u=jP(r.shape,o,i,1,s,l,c),d=WJ(n.data.get(r.dataId).values,r.shape,r.dtype,QC(r.shape),u,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};const GJ={kernelName:RE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=a;FV([r,o],"avgPool3DGrad");const u=jP(o.shape,i,s,1,l,c),d=u.strideDepth,p=u.strideHeight,h=u.strideWidth,f=u.filterDepth,m=u.filterHeight,g=u.filterWidth,y=u.dilationDepth,v=u.dilationHeight,b=u.dilationWidth,x=u.effectiveFilterDepth,w=u.effectiveFilterHeight,k=u.effectiveFilterWidth,S=x-1-u.padInfo.front,C=k-1-u.padInfo.left,E=w-1-u.padInfo.top,_=tR(o.shape,"float32"),I=1/(f*m*g),N=n.bufferSync(r);for(let T=0;T<u.batchSize;++T)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let a=0;a<u.inWidth;++a){const r=t-S,o=n-E,i=a-C;let s=0;for(let t=0;t<x;t+=y){const n=(r+t)/d;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let t=0;t<w;t+=v){const a=(o+t)/p;if(!(a<0||a>=u.outHeight||Math.floor(a)!==a))for(let t=0;t<k;t+=b){const r=(i+t)/h;if(r<0||r>=u.outWidth||Math.floor(r)!==r)continue;s+=N.get(T,n,a,r,e)}}}_.set(s*I,T,t,n,a,e)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};const HJ={kernelName:TE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,i=o;FV([r,o],"avgPoolGrad");const{filterSize:s,strides:l,pad:c}=a,u=zP(i.shape,s,l,1,c),d=u.strideHeight,p=u.strideWidth,h=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,g=u.dilationWidth,y=u.effectiveFilterHeight,v=u.effectiveFilterWidth,b=v-1-u.padInfo.left,x=y-1-u.padInfo.top,w=tR(i.shape,"float32"),k=1/(h*f),S=n.data.get(r.dataId).values,C=tR(r.shape,"float32",S);for(let E=0;E<u.batchSize;++E)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inHeight;++t)for(let n=0;n<u.inWidth;++n){const a=t-x,r=n-b;let o=0;for(let t=0;t<y;t+=m){const n=(a+t)/d;if(!(n<0||n>=u.outHeight||Math.floor(n)!==n))for(let t=0;t<v;t+=g){const a=(r+t)/p;if(a<0||a>=u.outWidth||Math.floor(a)!==a)continue;o+=C.get(E,n,a,e)}}w.set(o*k,E,t,n,e)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const qJ={kernelName:S_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,scale:o,offset:i,mean:s,variance:l}=t;xC(s.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),xC(null==i||s.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),xC(null==o||s.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),FV([r,s,l,o,i],"batchNorm");let{varianceEpsilon:c}=a;null==c&&(c=.001);const u=n.data.get(r.dataId).values,d=n.data.get(s.dataId).values,p=n.data.get(l.dataId).values,h=o?n.data.get(o.dataId).values:new Float32Array([1]),f=i?n.data.get(i.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),g=f.length,y=h.length,v=p.length,b=d.length;let x=0,w=0,k=0,S=0;for(let C=0;C<u.length;++C)m[C]=f[x++]+(u[C]-d[w++])*h[k++]/Math.sqrt(p[S++]+c),x>=g&&(x=0),w>=b&&(w=0),k>=y&&(k=0),S>=v&&(S=0);return n.makeTensorInfo(r.shape,r.dtype,m)}};const XJ={kernelName:PE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,crops:i}=a;FV([r],"batchToSpaceND");const s=o.reduce(((e,t)=>e*t)),l=Wz(r.shape,o,s),c=Vz(l.length,o.length),u=Uz(r.shape,o,s),d=Gz(i,o.length),p=Hz(u,i,o.length),h=fJ({inputs:{x:r},backend:n,attrs:{shape:l}}),f=nG({inputs:{x:h},backend:n,attrs:{perm:c}}),m=fJ({inputs:{x:f},backend:n,attrs:{shape:u}}),g=CG({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};const KJ={kernelName:FE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:i}=a,s=eU(n.data.get(r.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,s)}};const YJ={kernelName:ME,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:a,s1:r}=t,o=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,s=tA(Array.from(o),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},QJ=aU(jE,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),$J={kernelName:jE,backendName:"cpu",kernelFunc:QJ},ZJ={kernelName:WE,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,a=new Float32Array(CC(t.shape)),r=n.data.get(t.dataId),o=r.complexTensorInfos.real,i=r.complexTensorInfos.imag,s=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values;for(let c=0;c<s.length;c++){const e=s[c],t=l[c];a[c]=Math.hypot(e,t)}return n.makeOutput(a,t.shape,"float32")}};function JJ(e){const{inputs:t,backend:n}=e,{input:a}=t,r=n.data.get(a.dataId).complexTensorInfos.imag,o=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,o)}const e0={kernelName:O_,backendName:"cpu",kernelFunc:JJ};function t0(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a,o=FC(r,t[0].shape)[0],i=t.map((e=>e.shape));Rz(i,o);let s=Az(t.map((e=>e.shape)),o);if(0===CC(s))return n.makeTensorInfo(s,t[0].dtype,[]);const l=t.filter((e=>CC(e.shape)>0));if(1===l.length)return WV({inputs:{x:l[0]},backend:n});if("complex64"===l[0].dtype){const e=l.map((e=>UV({inputs:{input:e},backend:n}))),t=l.map((e=>JJ({inputs:{input:e},backend:n}))),a=t0({inputs:e,backend:n,attrs:{axis:o}}),r=t0({inputs:t,backend:n,attrs:{axis:o}}),i=zV({inputs:{real:a,imag:r},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r),i}const c=l.map((e=>{const t=CC(e.shape.slice(o));return fJ({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),u=c.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));s=Az(c.map((e=>e.shape)),1);const d=1===c[0].shape[0],p=lU(u,s,t[0].dtype,d),h=Az(l.map((e=>e.shape)),o),f=n.makeTensorInfo(h,t[0].dtype,p);return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}const n0={kernelName:VE,backendName:"cpu",kernelFunc:t0};function a0(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:i,pad:s,dataFormat:l,dilations:c,dimRoundingMode:u}=a;FV([r,o],"conv2d");const d=YP(l),p=BP(r.shape,o.shape,i,c,s,u,!1,d),h=p.filterHeight,f=p.filterWidth,m=p.dilationHeight,g=p.dilationWidth,y=p.padInfo.left,v=p.padInfo.top,b="channelsLast"===p.dataFormat,x=new gT(p.outShape,r.dtype),w=QC(r.shape),k=QC(o.shape),S=w[0],C=b?w[1]:w[2],E=b?w[2]:1,_=b?1:w[1],I=x.strides[0],N=b?x.strides[1]:x.strides[2],T=b?x.strides[2]:1,O=b?1:x.strides[1],R=n.data.get(r.dataId).values,A=n.data.get(o.dataId).values,P=x.values;for(let F=0;F<p.batchSize;++F){const e=F*S,t=F*I;for(let n=0;n<p.outHeight;++n){const a=t+n*N,r=n*p.strideHeight-v;for(let t=0;t<h;++t){const n=r+t*m;if(n<0||n>=p.inHeight)continue;const o=t*k[0],i=e+n*C;for(let e=0;e<p.outWidth;++e){const t=a+e*T,n=e*p.strideWidth-y;for(let e=0;e<f;++e){const a=n+e*g;if(a<0||a>=p.inWidth)continue;const r=i+a*E;let s=o+e*k[1];for(let e=0;e<p.inChannels;++e){const n=R[r+e*_];for(let e=0;e<p.outChannels;++e)P[t+e*O]+=n*A[s+e];s+=p.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,P)}const r0={kernelName:UE,backendName:"cpu",kernelFunc:a0};const o0={kernelName:GE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:i,pad:s,dataFormat:l,dimRoundingMode:c,filterShape:u}=a;FV([r,o],"conv2dBackpropFilter");const d=YP(l),p=BP(r.shape,u,i,1,s,c,!1,d),{strideHeight:h,strideWidth:f,filterHeight:m,filterWidth:g}=p,y="channelsLast"===p.dataFormat,v=new gT(p.filterShape,"float32"),b=p.padInfo.left,x=p.padInfo.top,w=n.data.get(r.dataId).values,k=n.data.get(o.dataId).values,S=new gT(r.shape,r.dtype,w),C=new gT(o.shape,o.dtype,k);for(let E=0;E<m;++E){const e=Math.max(0,Math.ceil((x-E)/h)),t=Math.min(p.outHeight,(p.inHeight+x-E)/h);for(let n=0;n<g;++n){const a=Math.max(0,Math.ceil((b-n)/f)),r=Math.min(p.outWidth,(p.inWidth+b-n)/f);for(let o=0;o<p.inChannels;++o)for(let i=0;i<p.outChannels;++i){let s=0;for(let l=0;l<p.batchSize;++l)for(let c=e;c<t;++c){const e=E+c*h-x;for(let t=a;t<r;++t){const a=n+t*f-b;s+=y?S.get(l,e,a,o)*C.get(l,c,t,i):S.get(l,o,e,a)*C.get(l,i,c,t)}}v.set(s,E,n,o,i)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const i0={kernelName:HE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{inputShape:i,strides:s,pad:l,dataFormat:c,dimRoundingMode:u}=a;FV([r,o],"conv2dBackpropInput");const d=QC(o.shape),p=QC(r.shape);let h=YP(c);const f=BP(i,o.shape,s,1,l,u,!1,h),m=new gT(f.inShape,"float32"),g=m.values,y=n.data.get(r.dataId).values,v=n.data.get(o.dataId).values,[b,x,w]=d,{batchSize:k,filterHeight:S,filterWidth:C,inChannels:E,inHeight:_,inWidth:I,outChannels:N,outHeight:T,outWidth:O,strideHeight:R,strideWidth:A}=f;h=f.dataFormat;const P=S-1-f.padInfo.top,F=C-1-f.padInfo.left,D="channelsLast"===h,M=m.strides[0],L=D?m.strides[1]:m.strides[2],z=D?m.strides[2]:1,j=D?1:m.strides[1],B=p[0],W=D?p[1]:p[2],V=D?p[2]:1,U=D?1:p[1];for(let G=0;G<k;++G)for(let e=0;e<E;++e)for(let t=0;t<_;++t){const n=t-P,a=Math.max(0,Math.ceil(n/R)),r=Math.min(T,(S+n)/R);for(let o=0;o<I;++o){const i=o-F,s=Math.max(0,Math.ceil(i/A)),l=Math.min(O,(C+i)/A);let c=0;for(let t=a;t<r;++t){const a=t*R-n;for(let n=s;n<l;++n){const r=B*G+W*t+V*n,o=b*(S-1-a)+x*(C-1-(n*A-i))+w*e;for(let e=0;e<N;++e){c+=y[r+U*e]*v[o+e]}}}g[M*G+L*t+z*o+j*e]=c}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const s0={kernelName:qE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:i,pad:s,dilations:l}=a;FV([r,o],"conv3d");const c=WP(r.shape,o.shape,i,l,s),{filterDepth:u,filterHeight:d,filterWidth:p,dilationDepth:h,dilationHeight:f,dilationWidth:m,padInfo:g}=c,y=g.front,v=g.left,b=g.top,x=new gT(c.outShape,r.dtype),w=n.data.get(r.dataId).values,k=n.data.get(o.dataId).values,S=x.values,C=QC(r.shape),E=QC(o.shape);for(let _=0;_<c.batchSize;++_){const e=_*C[0],t=_*x.strides[0];for(let n=0;n<c.outDepth;++n){const a=t+n*x.strides[1],r=n*c.strideDepth-y;for(let t=0;t<u;++t){const n=r+t*h;if(n<0||n>=c.inDepth)continue;const o=t*E[0],i=e+n*C[1];for(let e=0;e<c.outHeight;++e){const t=a+e*x.strides[2],n=e*c.strideHeight-b;for(let e=0;e<d;++e){const a=n+e*f;if(a<0||a>=c.inHeight)continue;const r=o+e*E[1],s=i+a*C[2];for(let e=0;e<c.outWidth;++e){const n=t+e*c.outChannels,a=e*c.strideWidth-v;for(let e=0;e<p;++e){const t=a+e*m;if(t<0||t>=c.inWidth)continue;const o=r+e*E[2],i=s+t*c.inChannels;let l=o;for(let e=0;e<c.inChannels;++e){const t=w[i+e];for(let e=0;e<c.outChannels;++e)S[n+e]+=t*k[l+e];l+=c.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const l0={kernelName:XE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:i,pad:s,filterShape:l}=a;FV([r,o],"conv3dBackpropFilterV2");const c=QC(r.shape),u=QC(o.shape),d=WP(r.shape,l,i,1,s),p=d.strideDepth,h=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,y=d.filterWidth,v=new gT(d.filterShape,"float32"),b=v.values,[x,w,k,S]=v.strides,C=n.data.get(o.dataId).values,[E,_,I,N]=u,T=n.data.get(r.dataId).values,[O,R,A,P]=c,F=d.padInfo.front,D=d.padInfo.left,M=d.padInfo.top;for(let L=0;L<m;++L){const e=Math.max(0,Math.ceil((F-L)/p)),t=Math.min(d.outDepth,(d.inDepth+F-L)/p),n=L*x;for(let a=0;a<g;++a){const r=Math.max(0,Math.ceil((M-a)/h)),o=Math.min(d.outHeight,(d.inHeight+M-a)/h),i=a*w+n;for(let n=0;n<y;++n){const s=Math.max(0,Math.ceil((D-n)/f)),l=Math.min(d.outWidth,(d.inWidth+D-n)/f),c=n*k+i;for(let i=0;i<d.inChannels;++i){const u=i*S+c;for(let c=0;c<d.outChannels;++c){let m=0;for(let u=0;u<d.batchSize;++u){const d=u*O,g=u*E;for(let u=e;u<t;++u){const e=(L+u*p-F)*R+d,t=u*_+g;for(let u=r;u<o;++u){const r=(a+u*h-M)*A+e,o=u*I+t;for(let e=s;e<l;++e){const t=e*N+o;m+=T[(n+e*f-D)*P+r+i]*C[t+c]}}}}b[u+c]=m}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const c0={kernelName:KE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{pad:i,strides:s,inputShape:l}=a;FV([r],"conv3dBackpropInputV2");const c=QC(r.shape),u=QC(o.shape),d=WP(l,o.shape,s,1,i),p=new gT(d.inShape,"float32"),h=p.values,[f,m,g,y]=p.strides,v=n.data.get(r.dataId).values,[b,x,w,k]=c,S=n.data.get(o.dataId).values,[C,E,_,I]=u,{batchSize:N,filterDepth:T,filterHeight:O,filterWidth:R,inChannels:A,inDepth:P,inHeight:F,inWidth:D,outChannels:M,outDepth:L,outHeight:z,outWidth:j,strideDepth:B,strideHeight:W,strideWidth:V}=d,U=T-1-d.padInfo.front,G=O-1-d.padInfo.top,H=R-1-d.padInfo.left;for(let q=0;q<N;++q)for(let e=0;e<A;++e)for(let t=0;t<P;++t){const n=t-U,a=Math.max(0,Math.ceil(n/B)),r=Math.min(L,(T+n)/B);for(let o=0;o<F;++o){const i=o-G,s=Math.max(0,Math.ceil(i/W)),l=Math.min(z,(O+i)/W);for(let c=0;c<D;++c){const u=c-H,d=Math.max(0,Math.ceil(u/V)),p=Math.min(j,(R+u)/V);let N=0;for(let t=a;t<r;++t){const a=t*B-n;for(let n=s;n<l;++n){const r=n*W-i;for(let o=d;o<p;++o){const i=b*q+x*t+w*n+k*o,s=C*(T-1-a)+E*(O-1-r)+_*(R-1-(o*V-u))+I*e;for(let e=0;e<M;++e){N+=v[i+e]*S[s+e]}}}}h[f*q+m*t+g*o+y*c+e]=N}}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},u0=aU(YE,(e=>Math.cos(e))),d0={kernelName:YE,backendName:"cpu",kernelFunc:u0},p0=aU(QE,(e=>Math.cosh(e))),h0={kernelName:QE,backendName:"cpu",kernelFunc:p0};const f0={kernelName:JE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:r,boxes:o,boxInd:i}=t,{cropSize:s,method:l,extrapolationValue:c}=a,[u,d,p,h]=r.shape,f=o.shape[0],[m,g]=s,y=tR([f,m,g,h],"float32"),v=n.data.get(o.dataId).values,b=n.data.get(i.dataId).values,x=n.data.get(r.dataId).values,w=QC(r.shape),k=QC(y.shape);for(let S=0;S<f;S++){const e=4*S,t=v[e],n=v[e+1],a=v[e+2],r=v[e+3],o=b[S];if(o>=u)continue;const i=m>1?(a-t)*(d-1)/(m-1):0,s=g>1?(r-n)*(p-1)/(g-1):0;for(let u=0;u<m;u++){const e=m>1?t*(d-1)+u*i:.5*(t+a)*(d-1);if(e<0||e>d-1)for(let t=0;t<g;t++)for(let e=0;e<h;e++){const n=e+t*k[2]+u*k[1]+S*k[0];y.values[n]=c}else if("bilinear"===l){const t=Math.floor(e),a=Math.ceil(e),i=e-t;for(let e=0;e<g;e++){const l=g>1?n*(p-1)+e*s:.5*(n+r)*(p-1);if(l<0||l>p-1){for(let t=0;t<h;t++){const n=t+e*k[2]+u*k[1]+S*k[0];y.values[n]=c}continue}const d=Math.floor(l),f=Math.ceil(l),m=l-d;for(let n=0;n<h;n++){let r=n+d*w[2]+t*w[1]+o*w[0];const s=x[r];r=n+f*w[2]+t*w[1]+o*w[0];const l=x[r];r=n+d*w[2]+a*w[1]+o*w[0];const c=x[r];r=n+f*w[2]+a*w[1]+o*w[0];const p=s+(l-s)*m,h=c+(x[r]-c)*m;r=n+e*k[2]+u*k[1]+S*k[0],y.values[r]=p+(h-p)*i}}}else for(let t=0;t<g;++t){const a=g>1?n*(p-1)+t*s:.5*(n+r)*(p-1);if(a<0||a>p-1){for(let e=0;e<h;e++){const n=e+t*k[2]+u*k[1]+S*k[0];y.values[n]=c}continue}const i=Math.round(a),l=Math.round(e);for(let e=0;e<h;e++){const n=e+i*w[2]+l*w[1]+o*w[0],a=e+t*k[2]+u*k[1]+S*k[0];y.values[a]=x[n]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const m0={kernelName:$E,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:i,reverse:s}=a;FV(r,"cumprod");const l=XF([o],r.shape.length);let c=r;null!=l&&(c=nG({inputs:{x:r},backend:n,attrs:{perm:l}}));const u=YF(1,r.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=NT(c.dtype,"int32"),p=JC(CC(c.shape),d),h=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)p[t]=i?1:h[t];else{const n=m(y,e-1);p[t]=i?h[n]*p[n]:h[t]*p[n]}}const g=n.makeTensorInfo(c.shape,d,p);if(null!=l){const e=nG({inputs:{x:g},backend:n,attrs:{perm:KF(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const g0={kernelName:ZE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:i,reverse:s}=a;FV(r,"cumsum");const l=XF([o],r.shape.length);let c=r;null!=l&&(c=nG({inputs:{x:r},backend:n,attrs:{perm:l}}));const u=YF(1,r.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=NT(c.dtype,"int32"),p=eE(CC(c.shape),d),h=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)p[t]=i?0:h[t];else{const n=m(y,e-1);p[t]=i?h[n]+p[n]:h[t]+p[n]}}const g=n.makeTensorInfo(c.shape,d,p);if(null!=l){const e=nG({inputs:{x:g},backend:n,attrs:{perm:KF(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const y0={kernelName:e_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:i,binaryOutput:s}=a;if(1===r.shape.length){const e=eU(n.data.get(r.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,e)}if(2===r.shape.length){const e=tU(n.bufferSync(r),n.bufferSync(o),i,s);return n.makeTensorInfo(e.shape,o.dtype,e.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(r.shape.length,"."))}};const v0={kernelName:t_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockSize:o,dataFormat:i}=a;xC("NHWC"===i,(()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(i)));const s=r.shape[0],l=r.shape[1],c=r.shape[2],u=r.shape[3],d=l*o,p=c*o,h=u/(o*o),f=n.data.get(r.dataId).values,m=new Float32Array(s*d*p*h);let g=0;for(let y=0;y<s;++y)for(let e=0;e<d;++e){const t=Math.floor(e/o),n=e%o;for(let e=0;e<p;++e){const a=Math.floor(e/o),r=(n*o+e%o)*h;for(let e=0;e<h;++e){const n=e+r+u*(a+c*(t+l*y));m[g++]=f[n]}}}return n.makeTensorInfo([s,d,p,h],r.dtype,m)}};function b0(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:i,pad:s,dilations:l,dimRoundingMode:c}=a;FV([r,o],"depthwiseConv2DNative");const u=QC(r.shape),d=QC(o.shape);let p=l;null==p&&(p=[1,1]),xC(KP(i,p),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(i," and dilations '").concat(p,"'")));const h=BP(r.shape,o.shape,i,p,s,c,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:v}=h,b=v.left,x=v.top,w=h.outChannels/h.inChannels,k=new gT(h.outShape,r.dtype),S=n.data.get(r.dataId).values,C=n.data.get(o.dataId).values,E=k.values;for(let _=0;_<h.batchSize;++_){const e=_*u[0],t=_*k.strides[0];for(let n=0;n<h.outHeight;++n){const a=t+n*k.strides[1],r=n*h.strideHeight-x;for(let t=0;t<f;++t){const n=r+t*g;if(n<0||n>=h.inHeight)continue;const o=t*d[0],i=e+n*u[1];for(let e=0;e<h.outWidth;++e){const t=a+e*k.strides[2],n=e*h.strideWidth-b;for(let e=0;e<m;++e){const a=n+e*y;if(a<0||a>=h.inWidth)continue;const r=o+e*d[1],s=i+a*h.inChannels;let l=t,c=r;for(let e=0;e<h.inChannels;++e){const t=S[s+e];for(let e=0;e<w;++e)E[l+e]+=t*C[c+e];l+=w,c+=w}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const x0={kernelName:n_,backendName:"cpu",kernelFunc:b0};const w0={kernelName:a_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:c,filterShape:u}=a;FV([r,o],"depthwiseConv2dNativeBackpropFilter");const d=BP(r.shape,u,i,s,l,c,!0),{strideHeight:p,strideWidth:h,filterHeight:f,filterWidth:m}=d,g=new gT(d.filterShape,"float32"),y=d.padInfo.left,v=d.padInfo.top,b=d.outChannels/d.inChannels,x=n.data.get(r.dataId).values,w=new gT(r.shape,r.dtype,x),k=n.data.get(o.dataId).values,S=new gT(o.shape,o.dtype,k);for(let C=0;C<f;++C){const e=Math.max(0,Math.ceil((v-C)/p)),t=Math.min(d.outHeight,(d.inHeight+v-C)/p);for(let n=0;n<m;++n){const a=Math.max(0,Math.ceil((y-n)/h)),r=Math.min(d.outWidth,(d.inWidth+y-n)/h);for(let o=0;o<d.outChannels;++o){const i=Math.trunc(o/b),s=o%b;let l=0;for(let c=0;c<d.batchSize;++c)for(let s=e;s<t;++s){const e=C+s*p-v;for(let t=a;t<r;++t){const a=n+t*h-y;l+=w.get(c,e,a,i)*S.get(c,s,t,o)}}g.set(l,C,n,i,s)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const k0={kernelName:r_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:c,inputShape:u}=a;FV([r,o],"depthwiseConv2DNativeBackpropInput");const d=QC(r.shape),p=QC(o.shape),h=BP(u,o.shape,i,s,l,c,!0),f=new gT(h.inShape,"float32"),m=f.values,[g,y,v]=f.strides,b=n.data.get(r.dataId).values,[x,w,k]=d,S=n.data.get(o.dataId).values,[C,E,_]=p,{batchSize:I,filterHeight:N,filterWidth:T,inChannels:O,inHeight:R,inWidth:A,outChannels:P,outHeight:F,outWidth:D,strideHeight:M,strideWidth:L}=h,z=N-1-h.padInfo.top,j=T-1-h.padInfo.left,B=P/O;for(let W=0;W<I;++W)for(let e=0;e<O;++e)for(let t=0;t<R;++t){const n=t-z,a=Math.max(0,Math.ceil(n/M)),r=Math.min(F,(N+n)/M);for(let o=0;o<A;++o){const i=o-j,s=Math.max(0,Math.ceil(i/L)),l=Math.min(D,(T+i)/L);let c=0;for(let t=a;t<r;++t){const a=t*M-n;for(let n=s;n<l;++n){const r=x*W+w*t+k*n,o=C*(N-1-a)+E*(T-1-(n*L-i))+_*e;for(let t=0;t<B;++t){c+=b[r+(e*B+t)]*S[o+t]}}}m[g*W+y*t+v*o+e]=c}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const S0={kernelName:o_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=CC(a.shape),o=n.data.get(a.dataId).values,i=tR([r,r],a.dtype),s=i.values;for(let c=0;c<o.length;c++)s[c*r+c]=o[c];const l=[...a.shape,...a.shape];return n.makeTensorInfo(l,i.dtype,i.values)}},C0={kernelName:i_,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r,filter:o}=t,{strides:i,pad:s,dilations:l}=a,c=n,u=c.data.get(r.dataId).values,d=r.shape.length,p=c.data.get(o.dataId).values,h=o.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:y,outHeight:v,outWidth:b,padInfo:x,strideHeight:w,strideWidth:k,filterHeight:S,filterWidth:C,dilationHeight:E,dilationWidth:_,outShape:I}=LP(r.shape,o.shape,i,s,"NHWC",l),N=CC(I),T=I.length,O=LC(r.dtype,N);for(let R=0;R<f;++R)for(let e=0;e<v;++e){const t=e*w-x.top;for(let n=0;n<b;++n){const a=n*k-x.left;for(let i=0;i<y;++i){let s=Number.MIN_SAFE_INTEGER;for(let e=0;e<S;++e){const n=t+e*E;if(n>=0&&n<m)for(let t=0;t<C;++t){const l=a+t*_;if(l>=0&&l<g){const a=aE([R,n,l,i],d,QC(r.shape)),c=aE([e,t,i],h,QC(o.shape)),f=u[a]+p[c];f>s&&(s=f)}}}O[aE([R,e,n,i],T,QC(I))]=s}}}return{dataId:c.write(eT(O,r.dtype),I,r.dtype),shape:I,dtype:r.dtype}}},E0={kernelName:l_,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r,filter:o,dy:i}=t,{strides:s,pad:l,dilations:c}=a,u=n,d=ZC(r.shape,u.data.get(r.dataId).values),p=ZC(o.shape,u.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:v,padInfo:b,strideHeight:x,strideWidth:w,filterHeight:k,filterWidth:S,dilationHeight:C,dilationWidth:E,outShape:_}=LP(r.shape,o.shape,s,l,"NHWC",c);xC(i.rank===_.length,(()=>"Error in ".concat(l_,", dy ")+"must have the same rank as output ".concat(_.length,", but got ")+"".concat(i.rank)));const I=ZC(_,u.data.get(i.dataId).values),N=tE(o.shape,o.dtype);for(let T=0;T<h;++T)for(let e=0;e<y;++e){const t=e*x-b.top;for(let n=0;n<v;++n){const a=n*w-b.left;for(let r=0;r<g;++r){let o=Number.MIN_SAFE_INTEGER,i=0,s=0;for(let e=0;e<k;++e){const n=t+e*C;if(n>=0&&n<f)for(let t=0;t<S;++t){const l=a+t*E;if(l>=0&&l<m){const a=d[T][n][l][r]+p[e][t][r];a>o&&(o=a,i=e,s=t)}}}N[i][s][r]+=I[T][e][n][r]}}}return{dataId:u.write(eT(N,r.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},_0={kernelName:s_,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r,filter:o,dy:i}=t,{strides:s,pad:l,dilations:c}=a,u=n,d=ZC(r.shape,u.data.get(r.dataId).values),p=ZC(o.shape,u.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:v,padInfo:b,strideHeight:x,strideWidth:w,filterHeight:k,filterWidth:S,dilationHeight:C,dilationWidth:E,outShape:_}=LP(r.shape,o.shape,s,l,"NHWC",c);xC(i.rank===_.length,(()=>"Error in ".concat(s_,", dy ")+"must have the same rank as output ".concat(_.length,", but got ")+"".concat(i.rank)));const I=ZC(_,u.data.get(i.dataId).values),N=tE(r.shape,r.dtype);for(let T=0;T<h;++T)for(let e=0;e<y;++e){const t=e*x-b.top;for(let n=0;n<v;++n){const a=n*w-b.left;for(let r=0;r<g;++r){let o=Number.MIN_SAFE_INTEGER,i=t<0?0:t,s=a<0?0:a;for(let e=0;e<k;++e){const n=t+e*C;if(n>=0&&n<f)for(let t=0;t<S;++t){const l=a+t*E;if(l>=0&&l<m){const a=d[T][n][l][r]+p[e][t][r];a>o&&(o=a,i=n,s=l)}}}N[T][i][s][r]+=I[T][e][n][r]}}}return{dataId:u.write(eT(N,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};function I0(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a;let s;FV(r,"sum"),s="bool"===r.dtype?qV({inputs:{x:r},backend:n,attrs:{dtype:"int32"}}):WV({inputs:{x:r},backend:n});const l=s.shape.length,c=FC(o,s.shape),u=XF(c,l);let d=c,p=s;null!=u&&(p=nG({inputs:{x:s},backend:n,attrs:{perm:u}}),d=YF(d.length,l)),qF("sum",d,p.shape.length);const[h,f]=GF(p.shape,d);let m=BV(n,h,NT(p.dtype,"int32"));const g=CC(f),y=n.data.get(m.dataId).values,v=n.data.get(p.dataId).values;for(let b=0;b<y.length;++b){const e=b*g;let t=0;for(let n=0;n<g;++n)t+=v[e+n];y[b]=t}if(i){const e=m;m=fJ({inputs:{x:m},backend:n,attrs:{shape:HF(m.shape,c)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(s),null!=u&&n.disposeIntermediateTensorInfo(p),m}const N0={kernelName:XI,backendName:"cpu",kernelFunc:I0};const T0={kernelName:u_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{equation:r}=a,o=t,{allDims:i,summedDims:s,idDims:l}=pj(r,o.length);fj(i.length,l,o);const{path:c,steps:u}=mj(s,l),d=u.length;let p=null,h=i.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:a}=hj(h,l[e]);let r;gj(t)?r=o[e]:(r=nG({inputs:{x:o[e]},backend:n,attrs:{perm:t}}),f.push(r));const i=r.shape.slice();for(let e=0;e<a.length;++e)i.splice(a[e],0,1);_C(r.shape,i)||(r=fJ({inputs:{x:r},backend:n,attrs:{shape:i}}),f.push(r)),null===p?p=r:(p=KU({inputs:{a:r,b:p},backend:n}),f.push(p))}m<d-1&&(c[m]>=0&&(p=I0({inputs:{x:p},backend:n,attrs:{axis:c[m]-(i.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}};const O0={kernelName:p_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:a,y:r}=t;FV([a,r],"eluGrad");const o=new Float32Array(CC(r.shape)),i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values;for(let l=0;l<i.length;++l){const e=i[l];o[l]=e>=1?s[l]:s[l]*(e+1)}return n.makeTensorInfo(r.shape,"float32",o)}},R0=Kz,A0=Yz,P0=Qz,F0=$z,D0=Zz,M0=Jz,L0=aU(h_,(e=>{const t=Math.sign(e),n=Math.abs(e),a=1/(1+R0*n);return t*(1-((((M0*a+D0)*a+F0)*a+P0)*a+A0)*a*Math.exp(-n*n))})),z0={kernelName:h_,backendName:"cpu",kernelFunc:L0};function j0(e){const{inputs:t,backend:n,attrs:a}=e,{input:r}=t,{dim:o}=a,i=r.shape.length,s=r.shape.slice();let l=o;return o<0&&(xC(-(i+1)<=o,(()=>"Axis must be in the interval [".concat(-(i+1),", ").concat(i,"]"))),l=i+o+1),s.splice(l,0,1),fJ({inputs:{x:r},backend:n,attrs:{shape:s}})}const B0={kernelName:g_,backendName:"cpu",kernelFunc:j0},W0=LV(((e,t)=>e/t)),V0=KV(c_,W0),U0={kernelName:c_,backendName:"cpu",kernelFunc:V0};function G0(e,t,n){const a=e.shape,r=a[0],o=a[1],i=n.data.get(e.dataId),s=i.complexTensorInfos.real,l=i.complexTensorInfos.imag,c=[r,o],u=CC(c),d=MC("float32",u),p=MC("float32",u);for(let g=0;g<r;g++){const e=CG({inputs:{x:s},backend:n,attrs:{begin:[g,0],size:[1,o]}}),a=CG({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,o]}}),r=zV({inputs:{real:e,imag:a},backend:n}),{real:i,imag:c}=H0(r,t,n),u=ej(i,c);for(let t=0;t<o;t++){const e=rj(u,t);d[g*o+t]=e.real,p[g*o+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r)}const h=n.makeTensorInfo(c,"float32",d),f=n.makeTensorInfo(c,"float32",p),m=zV({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}function H0(e,t,n){const a=CC(e.shape),r=n.data.get(e.dataId),o=n.data.get(r.complexTensorInfos.real.dataId).values,i=n.data.get(r.complexTensorInfos.imag.dataId).values;if(function(e){return 0===(e&e-1)}(a)){const r=q0(o,i,a,t,n),s=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(s,"float32",r.real),t=n.makeTensorInfo(s,"float32",r.imag),o=n.makeTensorInfo([],"float32",JN(a,"float32")),i=WV({inputs:{x:o},backend:n}),l=U0.kernelFunc({inputs:{a:e,b:o},backend:n}),c=U0.kernelFunc({inputs:{a:t,b:i},backend:n}),u=n.data.get(l.dataId).values,d=n.data.get(c.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),{real:u,imag:d}}return r}{const e=function(e,t,n){const a=new Float32Array(2*t);for(let r=0;r<t;r++){let o=0,i=0;for(let a=0;a<t;a++){const s=sj(r*a,t,n),l=rj(e,a);o+=l.real*s.real-l.imag*s.imag,i+=l.real*s.imag+l.imag*s.real}n&&(o/=t,i/=t),oj(a,o,i,r)}return a}(ej(o,i),a,t);return tj(e)}}function q0(e,t,n,a,r){if(1===n)return{real:e,imag:t};const o=ej(e,t),i=n/2,s=nj(o),l=s.real,c=s.imag,u=[l.length],d=r.makeTensorInfo(u,"float32",l),p=r.makeTensorInfo(u,"float32",c),h=zV({inputs:{real:d,imag:p},backend:r}),f=aj(o),m=f.real,g=f.imag,y=[m.length],v=r.makeTensorInfo(y,"float32",m),b=r.makeTensorInfo(y,"float32",g),x=zV({inputs:{real:v,imag:b},backend:r}),w=q0(l,c,i,a,r),k=w.real,S=w.imag,C=[k.length],E=r.makeTensorInfo(C,"float32",k),_=r.makeTensorInfo(C,"float32",S),I=zV({inputs:{real:E,imag:_},backend:r}),N=q0(m,g,i,a,r),T=N.real,O=N.imag,R=[T.length],A=r.makeTensorInfo(R,"float32",T),P=r.makeTensorInfo(R,"float32",O),F=zV({inputs:{real:A,imag:P},backend:r}),D=ij(n,a),M=[D.real.length],L=r.makeTensorInfo(M,"float32",D.real),z=r.makeTensorInfo(M,"float32",D.imag),j=zV({inputs:{real:L,imag:z},backend:r}),B=KU({inputs:{a:j,b:F},backend:r}),W=ZV({inputs:{a:I,b:B},backend:r}),V=BG({inputs:{a:I,b:B},backend:r}),U=UV({inputs:{input:W},backend:r}),G=UV({inputs:{input:V},backend:r}),H=JJ({inputs:{input:W},backend:r}),q=JJ({inputs:{input:V},backend:r}),X=t0({inputs:[U,G],backend:r,attrs:{axis:0}}),K=t0({inputs:[H,q],backend:r,attrs:{axis:0}}),Y=r.data.get(X.dataId).values,Q=r.data.get(K.dataId).values;return r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(E),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(I),r.disposeIntermediateTensorInfo(A),r.disposeIntermediateTensorInfo(P),r.disposeIntermediateTensorInfo(F),r.disposeIntermediateTensorInfo(L),r.disposeIntermediateTensorInfo(z),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(B),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(V),r.disposeIntermediateTensorInfo(U),r.disposeIntermediateTensorInfo(H),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(q),r.disposeIntermediateTensorInfo(X),r.disposeIntermediateTensorInfo(K),{real:Y,imag:Q}}const X0={kernelName:v_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t,r=CC(a.shape),o=a.shape[a.shape.length-1],i=fJ({inputs:{x:a},backend:n,attrs:{shape:[r/o,o]}}),s=G0(i,!1,n),l=fJ({inputs:{x:s},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),l}};function K0(e){const{backend:t,attrs:n}=e,{shape:a,value:r,dtype:o}=n,i=o||XC(r),s=LC(i,CC(a));return function(e,t,n){e.fill(t)}(s,r),t.makeTensorInfo(a,i,s)}const Y0={kernelName:b_,backendName:"cpu",kernelFunc:K0};const Q0={kernelName:x_,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{image:r}=t,o=a,i=MC(r.dtype,CC(r.shape)),[s,l,c,u]=r.shape,d=o.data.get(r.dataId).values;for(let p=0;p<s;p++){const e=p*c*l*u;for(let t=0;t<l;t++){const n=t*(c*u);for(let t=0;t<c;t++){const a=t*u;for(let r=0;r<u;r++){const o=Math.round(c-t-1),s=e+n+a+r;let l=d[s];if(o>=0&&o<c){l=d[e+n+o*u+r]}i[s]=l}}}}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},$0=LV(((e,t)=>Math.floor(e/t))),Z0=KV(k_,$0,null,"int32"),J0={kernelName:k_,backendName:"cpu",kernelFunc:Z0};const e1={kernelName:CN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:i,preluActivationWeights:s}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=a;let m=a0({inputs:{x:r,filter:o},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p}});if(i){const e=m;if("NCHW"===u&&1===i.shape.length&&1!==i.shape[0]){const e=fJ({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=ZV({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=ZV({inputs:{a:m,b:i},backend:n});n.disposeIntermediateTensorInfo(e)}if(h){const e=m;if("NCHW"===u&&"prelu"===h&&1===s.shape.length&&1!==s.shape[0]){const e=fJ({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=hJ(n,m,h,e,f),n.disposeIntermediateTensorInfo(e)}else m=hJ(n,m,h,s,f);n.disposeIntermediateTensorInfo(e)}return m}};const t1={kernelName:EN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:i,preluActivationWeights:s}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=a;let m=b0({inputs:{x:r,filter:o},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p}});if(i){const e=m;m=ZV({inputs:{a:m,b:i},backend:n}),n.disposeIntermediateTensorInfo(e)}if(h){const e=m;m=hJ(n,m,h,s,f),n.disposeIntermediateTensorInfo(e)}return m}};const n1={kernelName:E_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:a,indices:r}=t,o=CC(a.shape),i=r.shape,s=i[i.length-1],[l,c,u,d]=cA(a,r);if(0===c)return n.makeTensorInfo(l,a.dtype,[]);const p=wU(n.data.get(r.dataId).values,n.bufferSync(a),a.dtype,c,s,u,d,a.shape,o);return n.makeTensorInfo(l,a.dtype,p.values)}};const a1={kernelName:C_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,indices:o}=t,{axis:i,batchDims:s}=a;FV([r,o],"gatherV2");const l=FC(i,r.shape)[0],c=n.data.get(o.dataId).values,u=r.shape[l];for(let b=0;b<c.length;++b){const e=c[b];xC(e<=u-1&&e>=0,(()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(u-1,"]")))}let d=s;null==s&&(d=0);const p=CC(o.shape),h=Pj(r,o,l,d),f=fJ({inputs:{x:r},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=fJ({inputs:{x:o},backend:n,attrs:{shape:[h.batchSize,p/h.batchSize]}}),g=[h.batchSize,h.outerSize,p/h.batchSize,h.sliceSize],y=n.bufferSync(m),v=kU(n.bufferSync(f),y,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,v.dtype,v.values)}};const r1={kernelName:T_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t,r=CC(a.shape),o=a.shape[a.shape.length-1],i=fJ({inputs:{x:a},backend:n,attrs:{shape:[r/o,o]}}),s=G0(i,!0,n),l=fJ({inputs:{x:s},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),l}},o1=aU(R_,(e=>Number.isFinite(e)?1:0),"bool"),i1={kernelName:R_,backendName:"cpu",kernelFunc:o1},s1=aU(A_,(e=>Math.abs(e)===1/0?1:0),"bool"),l1={kernelName:A_,backendName:"cpu",kernelFunc:s1},c1=aU(P_,(e=>Number.isNaN(e)?1:0),"bool"),u1={kernelName:P_,backendName:"cpu",kernelFunc:c1};const d1={kernelName:L_,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:r,num:o}=n,i=DU(a,r,o);return t.makeTensorInfo([i.length],"float32",i)}},p1=aU(j_,(e=>Math.log1p(e))),h1={kernelName:j_,backendName:"cpu",kernelFunc:p1},f1=LV(((e,t)=>e&&t)),m1=KV(B_,f1,null,"bool"),g1={kernelName:B_,backendName:"cpu",kernelFunc:m1},y1=aU(W_,(e=>e?0:1),"bool"),v1={kernelName:W_,backendName:"cpu",kernelFunc:y1},b1=LV(((e,t)=>e||t)),x1=KV(V_,b1,null,"bool"),w1={kernelName:V_,backendName:"cpu",kernelFunc:x1};const k1={kernelName:q_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{depthRadius:o,bias:i,alpha:s,beta:l}=a;FV(r,"LRN");const c=r.shape[3],u=c-1,d=n.data.get(r.dataId).values,p=CC(r.shape),h=new Float32Array(p);function f(e){const t=e%c;let n=e-t+Math.max(0,t-o);const a=e-t+Math.min(t+o,u);let r=0;for(;n<=a;n++){const e=d[n];r+=e*e}return r}for(let m=0;m<p;m++){const e=f(m),t=d[m]*Math.pow(i+s*e,-l);h[m]=t}return n.makeTensorInfo(r.shape,r.dtype,h)}};const S1={kernelName:X_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,y:o,dy:i}=t,{depthRadius:s,bias:l,alpha:c,beta:u}=a;FV(i,"LRNGrad");const d=CC(i.shape),p=i.shape[3],h=n.data.get(i.dataId).values,f=n.data.get(r.dataId).values,m=n.data.get(o.dataId).values,g=new Float32Array(d),y=d;for(let v=0;v<y;v++){const e=v%p,t=v-e+Math.max(0,e-s),n=v-e+Math.min(p,e+s+1);let a=0;for(let r=t;r<n;r++)a+=Math.pow(f[r],2);a=c*a+l;for(let r=t;r<n;r++){let e=-2*c*u*f[r]*m[v]/a;v===r&&(e+=Math.pow(a,-u)),e*=h[v],g[r]+=e}}return n.makeTensorInfo(i.shape,r.dtype,g)}};function C1(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reductionIndices:o,keepDims:i}=a,s=n;let l=r.shape;const c=l.length,u=FC(o,l);let d=u;const p=XF(d,c);let h=s.data.get(r.dataId).values;if(null!=p){const e=new Array(c);for(let t=0;t<e.length;t++)e[t]=l[p[t]];h=tG(h,l,r.dtype,p,e),d=YF(d.length,c),l=e}FV(r,"max"),qF("max",d,c);const[f,m]=GF(l,d),g=jU(h,CC(m),f,r.dtype),y=s.write(g,f,r.dtype);let v=f;if(i){v=HF(f,u)}return{dataId:y,shape:v,dtype:r.dtype}}const E1={kernelName:K_,backendName:"cpu",kernelFunc:C1};const _1={kernelName:Q_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;FV(r,"maxPool");const{filterSize:o,strides:i,pad:s,dimRoundingMode:l}=a;xC(KP(i,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")));const c=zP(r.shape,o,i,1,s,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&_C(c.inShape,c.outShape))u=WV({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=QC(r.shape),a=jJ(e,r.shape,r.dtype,t,c,"max");u=n.makeTensorInfo(c.outShape,r.dtype,a.values)}return u}};const I1={kernelName:Z_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:i,pad:s,dimRoundingMode:l,dataFormat:c}=a;FV(r,"maxPool3d");const u=jP(r.shape,o,i,1,s,l,c),d=WJ(n.data.get(r.dataId).values,r.shape,r.dtype,QC(r.shape),u,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};const N1={kernelName:J_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=a;FV([r,o],"maxPool3DGrad");const u=jP(o.shape,i,s,1,l,c),d=function(e,t){const n=tR(t.outShape,"int32"),a=t.strideDepth,r=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const v=y*a-p;let b=v;for(;b<0;)b+=i;const x=Math.min(t.inDepth,c+v);for(let a=0;a<t.outHeight;++a){const c=a*r-h;let p=c;for(;p<0;)p+=s;const w=Math.min(t.inHeight,u+c);for(let r=0;r<t.outWidth;++r){const h=r*o-f;let k=h;for(;k<0;)k+=l;const S=Math.min(t.inWidth,d+h);let C=Number.NEGATIVE_INFINITY,E=-1;for(let t=b;t<x;t+=i){const n=t-v;for(let a=p;a<w;a+=s){const r=a-c;for(let o=k;o<S;o+=l){const i=o-h,s=e.get(m,t,a,o,g);s>=C&&(C=s,E=n*u*d+r*u+i)}}}n.set(E,m,y,a,r,g)}}}return n}(n.bufferSync(o),u),p=u.strideDepth,h=u.strideHeight,f=u.strideWidth,m=u.dilationDepth,g=u.dilationHeight,y=u.dilationWidth,v=u.effectiveFilterDepth,b=u.effectiveFilterHeight,x=u.effectiveFilterWidth,w=v-1-u.padInfo.front,k=x-1-u.padInfo.left,S=b-1-u.padInfo.top,C=tR(o.shape,"float32"),E=n.bufferSync(r);for(let _=0;_<u.batchSize;++_)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let a=0;a<u.inWidth;++a){const r=t-w,o=n-S,i=a-k;let s=0;for(let t=0;t<v;t+=m){const n=(r+t)/p;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let a=0;a<b;a+=g){const r=(o+a)/h;if(!(r<0||r>=u.outHeight||Math.floor(r)!==r))for(let o=0;o<x;o+=y){const l=(i+o)/f;if(l<0||l>=u.outWidth||Math.floor(l)!==l)continue;const c=v*b*x-1-d.get(_,n,r,l,e)===t*b*x+a*x+o?1:0;if(0===c)continue;s+=E.get(_,n,r,l,e)*c}}}C.set(s,_,t,n,a,e)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};const T1={kernelName:$_,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o,output:i}=t,s=o;FV([o,i],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=a,p=zP(s.shape,l,c,1,u,d),h=n.data.get(s.dataId).values,f=tR(p.outShape,s.dtype,BJ(h,s.shape,s.dtype,p).values),m=p.strideHeight,g=p.strideWidth,y=p.dilationHeight,v=p.dilationWidth,b=p.effectiveFilterHeight,x=p.effectiveFilterWidth,w=x-1-p.padInfo.left,k=b-1-p.padInfo.top,S=tR(s.shape,"float32"),C=n.data.get(r.dataId).values,E=tR(r.shape,"float32",C);for(let _=0;_<p.batchSize;++_)for(let e=0;e<p.inChannels;++e)for(let t=0;t<p.inHeight;++t)for(let n=0;n<p.inWidth;++n){const a=t-k,r=n-w;let o=0;for(let t=0;t<b;t+=y){const n=(a+t)/m;if(!(n<0||n>=p.outHeight||Math.floor(n)!==n))for(let a=0;a<x;a+=v){const i=(r+a)/g;if(i<0||i>=p.outWidth||Math.floor(i)!==i)continue;const s=b*x-1-f.get(_,n,i,e)===t*x+a?1:0;if(0===s)continue;o+=E.get(_,n,i,e)*s}}S.set(o,_,t,n,e)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const O1={kernelName:eI,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{x:r}=t,{filterSize:o,strides:i,pad:s,includeBatchInIndex:l}=n,c=a;FV(r,"MaxPoolWithArgmax");const u=c.data.get(r.dataId).values,d=zP(r.shape,o,i,[1,1],s),[p,h]=function(e,t,n,a,r){const o=jJ(e,0,n,QC(t),r,"max"),i=BJ(e,t,n,r,!0,a);return[o.values,i.values]}(u,r.shape,r.dtype,l,d),f=c.write(p,d.outShape,r.dtype),m=c.write(h,d.outShape,r.dtype);return[{dataId:f,shape:d.outShape,dtype:r.dtype},{dataId:m,shape:d.outShape,dtype:"int32"}]}};const R1={kernelName:tI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a,s=FC(o,r.shape),l=CC(GF(r.shape,s)[1]),c=[],u=n.makeTensorInfo([],"float32",new Float32Array([l]));c.push(u);const d=qV({inputs:{x:r},backend:n,attrs:{dtype:"float32"}});c.push(d);const p=V0({inputs:{a:d,b:u},backend:n});c.push(p);const h=I0({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:i}});return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};const A1={kernelName:nI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:i}=a;FV(r,"min");const s=FC(o,r.shape);let l=s;const c=XF(l,r.shape.length);let u=r;null!=c&&(u=nG({inputs:{x:r},backend:n,attrs:{perm:c}}),l=YF(l.length,r.shape.length)),qF("min",l,u.shape.length);const[d,p]=GF(u.shape,l),h=CC(p),f=eE(CC(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const a=m[e+n];(Number.isNaN(a)||a<t)&&(t=a)}f[y]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(i){const e=fJ({inputs:{x:g},backend:n,attrs:{shape:HF(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const P1={kernelName:rI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:o,mode:i}=a;FV(r,"mirrorPad");const s=o.map(((e,t)=>e[0]+r.shape[t]+e[1])),l=o.map((e=>e[0])),c=o.map(((e,t)=>e[0]+r.shape[t])),u="reflect"===i?0:1,d=n.data.get(r.dataId).values,p=r.shape.length,h=QC(r.shape),f=CC(s),m=s.length,g=QC(s),y=MC(r.dtype,f);for(let v=0;v<f;v++){let e=rE(v,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-u:e[n]>=c[n]&&(e[n]=2*(c[n]-1)-e[n]+u);e=e.map(((e,t)=>e-l[t]));const t=aE(e,p,h);y[v]=d[t]}return{dataId:n.write(y,s,r.dtype),shape:s,dtype:r.dtype}}},F1=LV(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),D1=KV(oI,F1),M1={kernelName:oI,backendName:"cpu",kernelFunc:D1};function L1(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{dim:o}=a,i=r.shape.length;let s=o;if(-1===s&&(s=i-1),s!==i-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(i," and dim was ").concat(s));const l=FC([s],r.shape),c=C1({inputs:{x:r},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=HF(c.shape,l),d=fJ({inputs:{x:c},backend:n,attrs:{shape:u}}),p=BG({inputs:{a:r,b:d},backend:n}),h=hU({inputs:{x:p},backend:n}),f=I0({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=fJ({inputs:{x:f},backend:n,attrs:{shape:u}}),g=V0({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const z1={kernelName:QI,backendName:"cpu",kernelFunc:L1};const j1={kernelName:iI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{numSamples:o,seed:i,normalized:s}=a;FV(r,"multinomial");const l=s?r:L1({inputs:{logits:r},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],d=n.data.get(l.dataId).values,p=[c,o],h=eE(CC(p),"int32");for(let f=0;f<c;++f){const e=f*u,t=new Float32Array(u-1);t[0]=d[e];for(let r=1;r<t.length;++r)t[r]=t[r-1]+d[e+r];const n=iM.alea(i.toString()),a=f*o;for(let r=0;r<o;++r){const e=n();h[a+r]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){h[a+r]=n;break}}}return s||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(p,"int32",h)}},B1=zL;const W1={kernelName:uI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=a;FV(r,"NonMaxSuppression");const c=n.data.get(r.dataId).values,u=n.data.get(o.dataId).values,{selectedIndices:d}=B1(c,u,i,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},V1=jL;const U1={kernelName:dI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:c}=a;FV(r,"NonMaxSuppressionPadded");const u=n.data.get(r.dataId).values,d=n.data.get(o.dataId).values,{selectedIndices:p,validOutputs:h}=V1(u,d,i,s,l,c);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},G1=BL;const H1={kernelName:pI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:c}=a;FV(r,"NonMaxSuppressionWithScore");const u=n.data.get(r.dataId).values,d=n.data.get(o.dataId).values,p=i,h=s,f=l,m=c,{selectedIndices:g,selectedScores:y}=G1(u,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};const q1={kernelName:fI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r}=t,{dtype:o,depth:i,onValue:s,offValue:l}=a;FV(r,"oneHot");const c=CC(r.shape),u=new Float32Array(c*i);u.fill(l);const d=n.data.get(r.dataId).values;for(let p=0;p<c;++p)d[p]>=0&&d[p]<i&&(u[p*i+d[p]]=s);return n.makeTensorInfo([...r.shape,i],o,u)}};function X1(e){const{inputs:t,backend:n}=e,{x:a}=t;if("string"===a.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===a.dtype){const e=UV({inputs:{input:a},backend:n}),t=X1({inputs:{x:e},backend:n}),r=JJ({inputs:{input:a},backend:n}),o=X1({inputs:{x:r},backend:n}),i=zV({inputs:{real:t,imag:o},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),i}return K0({backend:n,attrs:{shape:a.shape,value:0,dtype:a.dtype}})}const K1={kernelName:bN,backendName:"cpu",kernelFunc:X1};const Y1={kernelName:hI,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:a}=t,{x:r}=n;if("string"===r.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===r.dtype){const t=UV({inputs:{input:r},backend:a}),n=e({inputs:{x:t},backend:a}),o=JJ({inputs:{input:r},backend:a}),i=X1({inputs:{x:o},backend:a}),s=zV({inputs:{real:n,imag:i},backend:a});return a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(i),s}return K0({backend:a,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}};function Q1(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a;if(1===t.length)return j0({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const o=t[0].shape,i=t[0].dtype;t.forEach((e=>{wC(o,e.shape,"All tensors passed to stack must have matching shapes"),xC(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=t.map((e=>{const t=j0({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t})),c=t0({inputs:l,backend:n,attrs:{axis:r}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const $1={kernelName:mI,backendName:"cpu",kernelFunc:Q1};const Z1={kernelName:gI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:o,constantValue:i}=a;FV(r,"pad");const s=o.map(((e,t)=>e[0]+r.shape[t]+e[1])),l=o.map((e=>e[0])),c=n.data.get(r.dataId).values,u=CC(r.shape),d=r.shape.length,p=QC(r.shape),h=CC(s),f=s.length,m=QC(s),g=MC(r.dtype,h);0!==i&&g.fill(i);for(let y=0;y<u;y++){const e=rE(y,d,p).map(((e,t)=>e+l[t]));g[aE(e,f,m)]=c[y]}return{dataId:n.write(g,s,r.dtype),shape:s,dtype:r.dtype}}},J1=LV(((e,t)=>Math.pow(e,t))),e2=KV(vI,J1),t2={kernelName:vI,backendName:"cpu",kernelFunc:e2};const n2={kernelName:wI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{paramsNestedSplits:r,paramsDenseValues:o,indices:i}=t,{outputRaggedRank:s}=a,l=r.map((e=>n.data.get(e.dataId).values)),c=r.map((e=>e.shape)),u=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values,[p,h,f]=cG(l,c,u,o.shape,o.dtype,d,i.shape),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,o.dtype,h);return m.concat([g])}};const a2={kernelName:kI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{shape:r,values:o,defaultValue:i,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=a,c=n.data.get(r.dataId).values,u=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values,p=s.map((e=>n.data.get(e.dataId).values)),h=s.map((e=>e.shape)),[f,m]=fG(c,r.shape,u,o.shape,o.dtype,d,i.shape,p,h,l);return n.makeTensorInfo(f,o.dtype,m)}};const r2={kernelName:SI,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:r,dtype:o,step:i}=n,s=mG(a,r,i,o);return t.makeTensorInfo([s.length],o,s)}},o2=aU(EI,(e=>1/e)),i2={kernelName:EI,backendName:"cpu",kernelFunc:o2};const s2={kernelName:OI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:i,size:s}=a;FV(r,"resizeBilinear");const l=QC(r.shape),[c,u]=s,[d,p,h,f]=r.shape,m=n.data.get(r.dataId).values,g=new Float32Array(CC([d,c,u,f])),y=[o&&c>1?p-1:p,o&&u>1?h-1:h],v=[o&&c>1?c-1:c,o&&u>1?u-1:u];let b=0;const x=y[0]/v[0],w=y[1]/v[1];for(let k=0;k<d;k++)for(let e=0;e<c;e++){let t;t=i?x*(e+.5)-.5:x*e;const n=Math.max(0,Math.floor(t)),a=t-n,r=Math.min(p-1,Math.ceil(t)),o=k*l[0]+n*l[1],s=k*l[0]+r*l[1];for(let e=0;e<u;e++){let t;t=i?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),r=t-n,c=Math.min(h-1,Math.ceil(t)),u=o+n*l[2],d=s+n*l[2],p=o+c*l[2],y=s+c*l[2];for(let e=0;e<f;e++){const t=m[u+e],n=m[d+e],o=t+(m[p+e]-t)*r,i=o+(n+(m[y+e]-n)*r-o)*a;g[b++]=i}}}return n.makeTensorInfo([d,c,u,f],"float32",g)}};const l2={kernelName:RI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:i}=a;FV([o,r],"resizeBilinearGrad");const s=QC(r.shape),[l,c,u,d]=r.shape,[,p,h]=o.shape,f=new Float32Array(l*c*u*d),m=[i&&p>1?c-1:c,i&&h>1?u-1:u],g=[i&&p>1?p-1:p,i&&h>1?h-1:h],y=m[0]/g[0],v=m[1]/g[1],b=n.data.get(o.dataId).values;let x=0;for(let w=0;w<l;w++){const e=w*s[0];for(let t=0;t<p;t++){const n=t*y,a=Math.floor(n),r=Math.min(Math.ceil(n),c-1),o=e+a*s[1],i=e+r*s[1],l=n-a,p=1-l;for(let e=0;e<h;e++){const t=e*v,n=Math.floor(t),a=Math.min(Math.ceil(t),u-1),r=t-n,c=1-r,h=o+n*s[2],m=o+a*s[2],g=i+n*s[2],y=i+a*s[2],w=p*c,k=p*r,S=l*c,C=l*r;for(let e=0;e<d;e++){const t=b[x++];f[h+e]+=t*w,f[m+e]+=t*k,f[g+e]+=t*S,f[y+e]+=t*C}}}}return n.makeTensorInfo([l,u,c,d],"float32",f)}};const c2={kernelName:NI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:i,size:s}=a;FV(r,"resizeNearestNeighbor");const l=QC(r.shape),[c,u]=s,[d,p,h,f]=r.shape,m=n.data.get(r.dataId).values,g=new Float32Array(d*c*u*f),y=[o&&c>1?p-1:p,o&&u>1?h-1:h],v=[o&&c>1?c-1:c,o&&u>1?u-1:u],b=y[0]/v[0],x=y[1]/v[1];let w=0;for(let k=0;k<d;k++){const e=k*l[0];for(let t=0;t<c;t++){const n=i?b*(t+.5):b*t;let a=Math.min(p-1,o?Math.round(n):Math.floor(n));i&&(a=Math.max(0,a));const r=e+a*l[1];for(let e=0;e<u;e++){const t=i?x*(e+.5):x*e;let n=Math.min(h-1,o?Math.round(t):Math.floor(t));i&&(n=Math.max(0,n));const a=r+n*l[2];for(let e=0;e<f;e++){const t=m[a+e];g[w++]=t}}}}return n.makeTensorInfo([d,c,u,f],r.dtype,g)}};const u2={kernelName:TI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:i}=a;FV([o,r],"resizeNearestNeighborGrad");const s=QC(r.shape),l=QC(o.shape),[c,u,d,p]=r.shape,[,h,f]=o.shape,m=new Float32Array(c*u*d*p),g=n.data.get(o.dataId).values,y=[i&&h>1?u-1:u,i&&f>1?d-1:d],v=[i&&h>1?h-1:h,i&&f>1?f-1:f],b=y[0]/v[0],x=y[1]/v[1],w=1/b,k=1/x,S=2*Math.ceil(w)+2,C=2*Math.ceil(k)+2;for(let E=0;E<c;E++){const e=E*s[0];for(let t=0;t<u;t++){const n=e+t*s[1],a=Math.floor(t*w),r=Math.floor(a-S/2);for(let o=0;o<d;o++){const a=n+o*s[2],c=Math.floor(o*k),y=Math.floor(c-C/2);for(let n=0;n<p;n++){let s=0;for(let a=0;a<S;a++){const c=a+r;if(c<0||c>=h)continue;const p=e+c*l[1],m=c*b;if(t===Math.min(u-1,i?Math.round(m):Math.floor(m)))for(let e=0;e<C;e++){const t=e+y;if(t<0||t>=f)continue;const a=p+t*l[2],r=t*x;o===Math.min(d-1,i?Math.round(r):Math.floor(r))&&(s+=g[a+n])}}m[a+n]=s}}}}return n.makeTensorInfo(r.shape,r.dtype,m)}};const d2={kernelName:PI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dims:o}=a;FV(r,"reverse");const i=r.shape.length,s=FC(o,r.shape);if(0===i)return WV({inputs:{x:r},backend:n});const l=new gT(r.shape,r.dtype),c=n.bufferSync(r);for(let u=0;u<l.size;u++){const e=l.indexToLoc(u),t=e.slice();s.forEach((e=>t[e]=r.shape[e]-1-t[e])),l.set(c.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},p2={kernelName:kN,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{image:r}=t,{radians:o,fillValue:i,center:s}=n,l=a,c=MC(r.dtype,CC(r.shape)),[u,d,p,h]=r.shape,[f,m]=Bz(s,d,p),g=Math.sin(o),y=Math.cos(o),v=l.data.get(r.dataId).values;for(let b=0;b<u;b++){const e=b*p*d*h;for(let t=0;t<d;t++){const n=t*(p*h);for(let a=0;a<p;a++){const r=a*h;for(let o=0;o<h;o++){const s=[u,t,a,o],l=s[2],b=s[1];let x=(l-f)*y-(b-m)*g,w=(l-f)*g+(b-m)*y;x=Math.round(x+f),w=Math.round(w+m);let k=i;if("number"!==typeof i&&(k=3===o?255:i[o]),x>=0&&x<p&&w>=0&&w<d){k=v[e+w*(p*h)+x*h+o]}c[e+n+r+o]=k}}}}return{dataId:l.write(c,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},h2=aU(FI,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),f2={kernelName:FI,backendName:"cpu",kernelFunc:h2};const m2={kernelName:MI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r,updates:o}=t,{shape:i}=a,{sliceRank:s,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=pA(0,r,i),p=bG(n.bufferSync(r),n.bufferSync(o),i,d,c,l,s,u,0,!0);return n.makeTensorInfo(i,p.dtype,p.values)}};function g2(e,t){let n=0,a=e.length,r=0;for(;n<a;)r=Math.floor((n+a)/2),e[r]<t?n=r+1:a=r;return a}function y2(e,t){let n=0,a=e.length,r=0;for(;n<a;)r=Math.floor((n+a)/2),e[r]<=t?n=r+1:a=r;return a}const v2={kernelName:LI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sortedSequence:r,values:o}=t,{side:i}=a,s=function(e,t,n,a,r,o){const i=LC("int32",n*r);for(let s=0;s<n;++s){const n=e.slice(s*a,(s+1)*a),l=s*r;for(let e=0;e<r;++e)i[l+e]="left"===o?g2(n,t[e+l]):y2(n,t[e+l])}return i}(n.data.get(r.dataId).values,n.data.get(o.dataId).values,r.shape[0],r.shape[1],o.shape[1],i);return n.makeTensorInfo(o.shape,"int32",s)}};const b2={kernelName:zI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:a,t:r,e:o}=t;FV([a,r,o],"select");const i=a.shape.length,s=n.data.get(a.dataId).values,l=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,u=NT(r.dtype,o.dtype),d=eE(CC(r.shape),u);let p=0;const h=0===i||i>1||1===r.shape.length?1:CC(r.shape.slice(1));for(let f=0;f<s.length;f++)for(let e=0;e<h;e++)1===s[f]?d[p++]=l[f]:d[p++]=c[f];return n.makeTensorInfo(r.shape,u,d)}},x2=qz,w2=Xz,k2=aU(jI,(e=>e>=0?w2*e:x2*(Math.exp(e)-1))),S2={kernelName:jI,backendName:"cpu",kernelFunc:k2},C2=aU(UI,(e=>e<0?-1:e>0?1:0)),E2={kernelName:UI,backendName:"cpu",kernelFunc:C2},_2=aU(WI,(e=>Math.sin(e))),I2={kernelName:WI,backendName:"cpu",kernelFunc:_2},N2=aU(VI,(e=>Math.sinh(e))),T2={kernelName:VI,backendName:"cpu",kernelFunc:N2},O2=Math.log(1.1920928955078125e-7)+2,R2=aU(HI,(e=>{const t=e>-O2,n=e<O2,a=Math.exp(e);let r;return r=n?a:t?e:Math.log(1+a),r})),A2={kernelName:HI,backendName:"cpu",kernelFunc:R2};const P2={kernelName:KI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,paddings:i}=a;FV([r],"spaceToBatchND");const s=CC(o),l=[[0,0]];l.push(...i);for(let g=1+o.length;g<r.shape.length;++g)l.push([0,0]);const c=Z1.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),u=Wz(c.shape,o,s,!1),d=Vz(u.length,o.length,!1),p=Uz(c.shape,o,s,!1),h=fJ({inputs:{x:c},backend:n,attrs:{shape:u}}),f=nG({inputs:{x:h},backend:n,attrs:{perm:d}}),m=fJ({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}};const F2={kernelName:$I,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:a,values:r,denseShape:o,defaultValue:i}=t;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(o.shape));if(2!==a.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(a.shape));if(1!==r.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(r.shape));if(0!==i.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(i.shape));const s=n.data.get(a.dataId).values,l=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,u=n.data.get(i.dataId).values[0],[d,p,h,f,m]=_G(s,a.shape,a.dtype,l,r.dtype,c,u);return[n.makeTensorInfo(p,a.dtype,d),n.makeTensorInfo([p[0]],r.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],a.dtype,new Int32Array(m))]}};const D2={kernelName:ZI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:a,inputShape:r,newShape:o}=t;if(2!==a.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(a.shape));if(1!==r.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(r.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const i=Array.from(n.data.get(r.dataId).values),s=n.data.get(a.dataId).values,l=Array.from(n.data.get(o.dataId).values),[c,u,d]=IG(s,a.shape,a.dtype,i,l);return[n.makeTensorInfo(u,a.dtype,c),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}};const M2={kernelName:JI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(r.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(o.shape));if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[c,u]=NG(i,a.shape,a.dtype,s,l,!0);return n.makeTensorInfo(u,a.dtype,c)}};const L2={kernelName:eN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(r.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(o.shape));if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[c,u]=NG(i,a.shape,a.dtype,s,l);return n.makeTensorInfo(u,a.dtype,c)}};const z2={kernelName:tN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sparseIndices:r,sparseValues:o,defaultValue:i}=t,{outputShape:s}=a,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:p}=pA(0,r,s),h=!1,f=n.bufferSync(r);let m;switch(o.dtype){case"bool":m=bG(f,n.bufferSync(o),s,p,u,c,l,d,Boolean(n.data.get(i.dataId).values[0]),h);break;case"float32":m=bG(f,n.bufferSync(o),s,p,u,c,l,d,n.data.get(i.dataId).values[0],h);break;case"int32":m=bG(f,n.bufferSync(o),s,p,u,c,l,d,n.data.get(i.dataId).values[0],h);break;case"string":m=bG(f,n.bufferSync(o),s,p,u,c,l,d,rT(n.data.get(i.dataId).values[0]),h);break;default:throw new Error("Unsupported type ".concat(o.dtype))}return n.makeTensorInfo(s,m.dtype,m.values)}};const j2={kernelName:YI,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{numOrSizeSplits:o,axis:i}=a,s=FC(i,r.shape)[0],l=vj(r,o,s),c=new Array(r.shape.length).fill(0),u=r.shape.slice();return l.map((e=>{const t=[...u];t[s]=e;const a=CG({inputs:{x:r},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,a}))}},B2={kernelName:aN,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:a}=t,r=n;FV(a,"square");const o=r.data.get(a.dataId).values,i=new Float32Array(o.length);for(let s=0;s<o.length;++s){const e=o[s];i[s]=e*e}return{dataId:r.write(i,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},W2=LV(((e,t)=>{const n=e-t;return n*n})),V2=KV(nN,W2),U2={kernelName:nN,backendName:"cpu",kernelFunc:V2},G2=aU(xN,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),H2={kernelName:xN,backendName:"cpu",kernelFunc:G2};const q2={kernelName:rN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,end:i,strides:s,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:p}=a;FV(r,"stridedSlice");const{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=OA(r.shape,o,i,s,l,c,u,d,p);let w;if(m)w=fJ({inputs:{x:r},backend:n,attrs:{shape:f}});else if(g||y){xC(r.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(r.shape.length)));const e=yA(v,b,x),t=CG({inputs:{x:r},backend:n,attrs:{begin:v,size:e}});w=fJ({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=AG(h,n.bufferSync(r),x,v);w=n.makeTensorInfo(f,e.dtype,e.values)}return w}};const X2={kernelName:oN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{separator:r,nGramWidths:o,leftPad:i,rightPad:s,padWidth:l,preserveShortSequences:c}=a,{data:u,dataSplits:d}=t,p=n.data.get(u.dataId).values,h=n.data.get(d.dataId).values,[f,m]=FG(p,h,r,o,i,s,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const K2={kernelName:iN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{skipEmpty:r}=a,{input:o,delimiter:i}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));const s=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values[0],[c,u,d]=MG(s,l,r),p=u.length;return[n.makeTensorInfo([p,2],"int32",c),n.makeTensorInfo([p],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const Y2={kernelName:sN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{numBuckets:r}=a,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const i=LG(n.data.get(o.dataId).values,r);return n.makeTensorInfo(o.shape,"int32",i)}},Q2=aU(cN,(e=>Math.tan(e))),$2={kernelName:cN,backendName:"cpu",kernelFunc:Q2},Z2=aU(uN,(e=>Math.tanh(e)));const J2={kernelName:dN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reps:o}=a;FV(r,"tile");const i=VG(n.bufferSync(r),o);return n.makeTensorInfo(i.shape,i.dtype,i.values)}};const e3={kernelName:pN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{k:o,sorted:i}=a;FV(r,"topk");const s=n.data.get(r.dataId).values,[l,c]=HG(s,r.shape,r.dtype,o,i);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}};const t3={kernelName:hN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{image:r,transforms:o}=t,{interpolation:i,fillMode:s,fillValue:l,outputShape:c}=n,[u,d,p,h]=r.shape,[f,m]=null!=c?c:[d,p],g=[u,f,m,h],y=QC(r.shape),v=y[0],b=y[1],x=y[2],w=QC(g),k=w[0],S=w[1],C=w[2],E=MC(r.dtype,CC(g));E.fill(l);const _=a.data.get(r.dataId).values,I=a.data.get(o.dataId).values;for(let N=0;N<u;++N){const e=1===o.shape[0]?I:I.subarray(8*N,8*N+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let a=0;a<h;++a){let r;const o=e[6]*n+e[7]*t+1;if(0===o)continue;const c=(e[0]*n+e[1]*t+e[2])/o,u=(e[3]*n+e[4]*t+e[5])/o,h=n3(c,p,s),f=n3(u,d,s);switch(i){case"nearest":r=r3(_,d,p,v,b,x,N,f,h,a,l);break;case"bilinear":r=o3(_,d,p,v,b,x,N,f,h,a,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(i))}E[N*k+t*S+n*C+a]=r}return a.makeTensorInfo(g,r.dtype,E)}return{dataId:a.write(E,g,r.dtype),shape:r.shape,dtype:r.dtype}}};function n3(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return fC(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return fC(0,n,t-1)}(e,t);case"nearest":return function(e,t){return fC(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function a3(e,t,n,a,r,o,i,s,l,c,u){return 0<=s&&s<t&&0<=l&&l<n?e[i*a+s*r+l*o+c]:u}function r3(e,t,n,a,r,o,i,s,l,c,u){return a3(e,t,n,a,r,o,i,Math.round(s),Math.round(l),c,u)}function o3(e,t,n,a,r,o,i,s,l,c,u){const d=Math.floor(s),p=Math.floor(l),h=d+1,f=p+1;return(h-s)*((f-l)*a3(e,t,n,a,r,o,i,d,p,c,u)+(l-p)*a3(e,t,n,a,r,o,i,d,f,c,u))+(s-d)*((f-l)*a3(e,t,n,a,r,o,i,h,p,c,u)+(l-p)*a3(e,t,n,a,r,o,i,h,f,c,u))}const i3={kernelName:mN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:r}=n,{x:o}=t;FV(o,"unique");const i=a.data.get(o.dataId).values,{outputValues:s,outputShape:l,indices:c}=qG(i,r,o.shape,o.dtype);return[a.makeTensorInfo(l,o.dtype,s),a.makeTensorInfo([c.length],"int32",c)]}};const s3={kernelName:gN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{value:r}=t;let{axis:o}=a;o<0&&(o+=r.shape.length);const i=r.shape.length,s=r.shape[o],l=new Array(i-1);let c=0;for(let h=0;h<i;h++)h!==o&&(l[c++]=r.shape[h]);const u=new Array(i).fill(0),d=r.shape.slice();d[o]=1;const p=new Array(s);for(let h=0;h<p.length;h++){u[o]=h;const e=CG({inputs:{x:r},backend:n,attrs:{begin:u,size:d}});p[h]=fJ({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return p}};const l3={kernelName:yN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,segmentIds:o}=t,{numSegments:i}=a;FV(r,"unsortedSegmentSum");const s=[],l=[],c=r.shape.length-o.shape.length;let u=o;for(let p=0;p<c;++p){const e=j0({inputs:{input:u},backend:n,attrs:{dim:p+1}});u=e,l.push(e)}for(let p=0;p<i;++p){const e=JN(p,"int32"),t=n.makeTensorInfo([],"int32",e),a=uU({inputs:{a:t,b:u},backend:n}),o=qV({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),i=KU({inputs:{a:o,b:r},backend:n}),c=I0({inputs:{x:i},backend:n,attrs:{axis:0,keepDims:!1}});s.push(c),l.push(t),l.push(a),l.push(o),l.push(i),l.push(c)}const d=Q1({inputs:s,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},c3=[vJ,MV,xJ,kJ,JV,SJ,CJ,EJ,_J,IJ,TJ,RJ,PJ,MJ,zJ,VJ,UJ,GJ,HJ,yJ,qJ,XJ,KJ,YJ,XV,sU,$J,jV,ZJ,n0,r0,o0,i0,s0,l0,c0,d0,h0,f0,m0,g0,y0,v0,x0,w0,k0,S0,C0,E0,_0,T0,aJ,O0,dU,z0,fU,B0,yU,X0,Y0,Q0,xU,J0,e1,t1,n1,a1,EU,NU,VV,r1,e0,i1,l1,u1,oJ,RU,FU,d1,zU,h1,g1,v1,w1,k1,S1,E1,VU,_1,I1,N1,T1,O1,R1,A1,HU,P1,M1,j1,YU,$U,W1,U1,H1,eG,q1,Y1,$1,Z1,t2,lJ,oG,n2,a2,r2,GV,U0,i2,uJ,pJ,mJ,s2,l2,c2,u2,d2,p2,f2,vG,m2,v2,b2,S2,kG,E2,I2,T2,EG,z1,A2,P2,F2,D2,M2,L2,z2,j2,RG,B2,U2,H2,q2,X2,K2,Y2,WG,N0,$2,{kernelName:uN,backendName:"cpu",kernelFunc:Z2},J2,e3,t3,aG,i3,s3,l3,K1];for(const n of c3)PN(n);async function u3(){return await function(e){return void 0===e&&(e={base:"pascal",quantizationBytes:2}),JB(this,void 0,void 0,(function(){var t;return eW(this,(function(n){switch(n.label){case 0:if(null==v)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");if(e.base){if(-1===["pascal","cityscapes","ade20k"].indexOf(e.base))throw new Error("SemanticSegmentation cannot be constructed with an invalid base model "+e.base+". Try one of 'pascal', 'cityscapes' and 'ade20k'.");if(-1===[1,2,4].indexOf(e.quantizationBytes))throw new Error("Only quantization to 1, 2 or 4 bytes is supported.")}else if(!e.modelUrl)throw new Error("SemanticSegmentation can be constructed either by passing the weights URL or one of the supported base model names from 'pascal', 'cityscapes' and 'ade20k',together with the degree of quantization (either 1, 2 or 4).Aborting, since neither has been provided.");return[4,ZB(e.modelUrl||lW(e.base,e.quantizationBytes))];case 1:return t=n.sent(),[2,new uW(t,e.base)]}}))}))}({base:"pascal",quantizationBytes:2})}async function d3(e,t){const n=function(e,t){const{height:n,width:a,segmentationMap:r}=t,o=new ImageData(r,a,n),i=function(e,t,n,a,r){const o=document.createElement("canvas"),i=document.createElement("canvas"),s=o.getContext("2d"),l=i.getContext("2d");o.width=a,o.height=r,i.width=a,i.height=r,s.drawImage(t,0,0,a,r),l.putImageData(n,0,0);const c=s.getImageData(0,0,a,r),u=c.data,d=l.getImageData(0,0,a,r),p=d.data;for(let h=0,f=p.length;h<f;h+=4)p[h]===e[0]&&p[h+1]===e[1]&&p[h+2]===e[2]&&(u[h+3]=0);return s.putImageData(c,0,0),o.toDataURL()}([0,0,0],e,o,a,n);return i}(t,await e.segment(t));return n}const p3=()=>{const e=(0,B.useRef)();return(0,B.useEffect)((()=>{u3().then((t=>{e.current=t}))})),{autoRemoveBackground:async t=>await d3(e.current,t)}},h3=(e,t,n,a,r,o,i)=>{const{updateItem:s}=xk(),l=lC(),{autoRemoveBackground:c}=p3(),u=()=>{t.openModal()};return{onClickHotkeyButton:u,getClickCallback:t=>()=>{switch(console.log(t),t){case"select-all":return l.selectAll(e,i);case"flip-horizontally":return l.flipHorizontally(n);case"flip-vertically":return l.flipVertically(n);case"layer-up":return l.layerUp(n);case"layer-down":return l.layerDown(n);case"zoom-in":return l.zoom(e,1);case"zoom-out":return l.zoom(e,-1);case"reset-zoom":return l.resetZoom(e);case"remove-background":return(e=>{if(1===e.length&&"image"===e[0].attrs["data-item-type"]){console.log("in");const t=new Image;t.onload=()=>{console.log("load"),t.width=n.width,t.height=n.height,c(t).then((t=>{s(e[0].id(),(e=>({...e,src:t})))}))};const{attrs:n}=e[0],a=n.image.src;t.src=a}})(n);case"hotkey":return u();default:return null}}}},f3=e=>{var t,n,a,r,o,i;let{data:s,e:l,transformer:c,onSelect:u}=e;const{attrs:d}=s,p=(0,B.useRef)(),{updateItem:h}=xk(),f=()=>{if(null===p.current)return void console.error("textRef is null");p.current.hide(),c.transformerRef.current.hide();const e=p.current.getAbsolutePosition(),t=p.current.getStage(),n=t.container().getBoundingClientRect(),a={x:n.x+e.x,y:n.y+e.y},r=document.createElement("textarea");document.body.appendChild(r),r.id="current_text_editor",r.innerHTML=p.current.text(),r.style.zIndex="100",r.style.position="absolute",r.style.top="".concat(a.y,"px"),r.style.left="".concat(a.x,"px"),r.style.fontSize="".concat(p.current.fontSize()*t.scaleY()*p.current.scaleY(),"px"),r.style.width="".concat(r.value.split("\n").sort(((e,t)=>t.length-e.length))[0].split("").reduce(((e,n)=>n.charCodeAt(0)>=32&&n.charCodeAt(0)<=126?e+p.current.fontSize()*t.scaleY()*p.current.scaleY()*.6:e+p.current.fontSize()*t.scaleY()*p.current.scaleY()),0),"px"),r.style.height="".concat(p.current.height()+2*p.current.padding()+5,"px"),r.style.border="none",r.style.padding="0px",r.style.margin="0px",r.style.overflow="hidden",r.style.background="none",r.style.outline="none",r.style.resize="none",r.style.lineHeight=p.current.lineHeight().toString(),r.style.fontFamily=p.current.fontFamily(),r.style.transformOrigin="left top",r.style.textAlign=p.current.align(),r.style.color=p.current.fill();const o=p.current.rotation();let i="";o&&(i+="rotateZ(".concat(o,"deg)"));let s=0;function l(){window.removeEventListener("click",u),p.current.show(),c.transformerRef.current.show(),h(p.current.id(),(()=>({...p.current.attrs,width:r.getBoundingClientRect().width/t.scaleY()/p.current.scaleY(),height:r.value.split("\n").length*p.current.fontSize()*1.2,updatedAt:Date.now()}))),r.parentNode.removeChild(r)}function u(e){e.target!==r&&(p.current.text(r.value),l())}navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(s+=2+Math.round(p.current.fontSize()/20)),i+="translateY(-".concat(s,"px)"),r.style.transform=i,r.style.height="auto",r.style.height="".concat(r.scrollHeight+3,"px"),r.focus(),r.addEventListener("input",(e=>{r.style.width="".concat(r.value.split("\n").sort(((e,t)=>t.length-e.length))[0].split("").reduce(((e,n)=>n.charCodeAt(0)>=32&&n.charCodeAt(0)<=126?e+p.current.fontSize()*t.scaleY()*p.current.scaleY()*.6:e+p.current.fontSize()*t.scaleY()*p.current.scaleY()),0),"px")})),r.addEventListener("keydown",(e=>{13!==e.keyCode||e.shiftKey||(p.current.text(r.value),l()),27===e.keyCode&&l()})),r.addEventListener("keydown",(e=>{!function(){let e=r.value.split("\n").sort(((e,t)=>t.length-e.length))[0].split("").reduce(((e,n)=>n.charCodeAt(0)>=32&&n.charCodeAt(0)<=126?e+p.current.fontSize()*t.scaleY()*p.current.scaleY()*.6:e+p.current.fontSize()*t.scaleY()*p.current.scaleY()),0);const n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;(n||a)&&(e=Math.ceil(e)),r.style.width="".concat(e,"px")}(),r.style.height="auto",r.style.height="".concat(r.scrollHeight+p.current.fontSize(),"px")})),setTimeout((()=>{window.addEventListener("click",u)}))},m=(0,B.useCallback)((e=>{var t;null===(t=e.target.getLayer())||void 0===t||t.batchDraw()}),[]),g=(0,B.useCallback)((e=>{var t;e.evt.preventDefault(),e.evt.stopPropagation(),h(e.target.id(),(()=>({...e.target.attrs}))),null===(t=e.target.getLayer())||void 0===t||t.batchDraw()}),[s]);return(0,ni.jsx)(zr,{ref:p,text:d.text,fontFamily:d.fontFamily,fontSize:d.fontSize,onClick:e=>{1!==e.evt.detail?f():setTimeout((()=>{document.getElementById("current_text_editor")||u(e)}),200)},name:"label-target","data-item-type":"text","data-frame-type":"text",id:s.id,x:d.x,y:d.y,align:null!==(t=d.align)&&void 0!==t?t:"center",verticalAlign:null!==(n=d.verticalAlign)&&void 0!==n?n:"middel",width:d.width,height:d.height,scaleX:d.scaleX,scaleY:d.scaleY,fill:null!==(a=d.fill)&&void 0!==a?a:"#000000",stroke:null!==(r=d.stroke)&&void 0!==r?r:null,strokeWidth:d.stroke?1:void 0,opacity:null!==(o=d.opacity)&&void 0!==o?o:1,rotation:null!==(i=d.rotation)&&void 0!==i?i:0,draggable:!0,onDragMove:m,onDragEnd:g})},m3=e=>{var t,n,a,r;let{data:o,e:i,transformer:s,onSelect:l}=e;const{attrs:c}=o,u=(0,B.useRef)(),d=jS(),{onDragMoveFrame:p,onDragEndFrame:h,checkIsInFrame:f}=VS(d.stageRef,d.dragBackgroundOrigin);var m,g,y,v;return(0,B.useEffect)((()=>{u.current&&(d.setStageRef(u.current.getStage()),f(u.current))}),[o]),4===c.sides?(0,ni.jsx)(Mr,{ref:u,onClick:l,name:"label-target","data-item-type":"shape",id:o.id,x:c.x,y:c.y,width:Math.sqrt(2*c.radius),height:Math.sqrt(2*c.radius),sides:c.sides,radius:c.radius,scaleX:c.scaleX,scaleY:c.scaleY,fill:null!==(m=c.fill)&&void 0!==m?m:"#000000",stroke:null!==(g=c.stroke)&&void 0!==g?g:null,strokeWidth:c.stroke?5:void 0,opacity:null!==(y=c.opacity)&&void 0!==y?y:1,rotation:null!==(v=c.rotation)&&void 0!==v?v:0,draggable:!0,onDragMove:p,onDragEnd:h}):(0,ni.jsx)("RegularPolygon",{ref:u,onClick:l,name:"label-target","data-item-type":"shape",id:o.id,x:c.x,y:c.y,sides:c.sides,radius:c.radius,scaleX:c.scaleX,scaleY:c.scaleY,fill:null!==(t=c.fill)&&void 0!==t?t:"#000000",stroke:null!==(n=c.stroke)&&void 0!==n?n:null,strokeWidth:c.stroke?5:void 0,opacity:null!==(a=c.opacity)&&void 0!==a?a:1,rotation:null!==(r=c.rotation)&&void 0!==r?r:0,draggable:!0,onDragMove:p,onDragEnd:h})},g3=e=>{var t,n;let{data:a,e:r,onSelect:o}=e;const{attrs:i}=a,s=(0,B.useRef)(),[l,c]=(0,B.useState)(new Image),{updateItem:u}=xk(),d=(0,B.useCallback)((e=>{var t;null===(t=e.target.getLayer())||void 0===t||t.batchDraw()}),[]),p=(0,B.useCallback)((e=>{var t;e.evt.preventDefault(),e.evt.stopPropagation(),u(e.target.id(),(()=>({...e.target.attrs}))),null===(t=e.target.getLayer())||void 0===t||t.batchDraw()}),[a]);return(0,B.useEffect)((()=>{va.Image.fromURL("".concat("/react-image-editor","/assets/icon/bootstrap/").concat(i.icon),(e=>{c(e.image())}))}),[]),(0,ni.jsx)(Lr,{ref:s,image:l,onClick:o,name:"label-target","data-item-type":"icon","data-frame-type":"icon",id:a.id,x:i.x,y:i.y,width:i.width,height:i.height,scaleX:i.scaleX,scaleY:i.scaleY,fill:"transparent",opacity:null!==(t=i.opacity)&&void 0!==t?t:1,rotation:null!==(n=i.rotation)&&void 0!==n?n:0,draggable:!0,onDragMove:d,onDragEnd:p})},y3=e=>{let{data:t,e:n,transformer:a,onSelect:r}=e;const{attrs:{updatedAt:o,zIndex:i,points:s,...l}}=t,c=(0,B.useRef)(),{updateItem:u}=xk(),d=(0,B.useCallback)((e=>{var t;null===(t=e.target.getLayer())||void 0===t||t.batchDraw()}),[]),p=(0,B.useCallback)((e=>{var t;e.evt.preventDefault(),e.evt.stopPropagation(),u(e.target.id(),(()=>({...e.target.attrs}))),null===(t=e.target.getLayer())||void 0===t||t.batchDraw()}),[t]);return(0,ni.jsx)(Dr,{children:(0,ni.jsx)("Shape",{ref:c,onClick:r,sceneFunc:(e,t)=>{e.beginPath(),e.moveTo(s[0],s[1]),4===s.length?e.lineTo(s[2],s[3]):6===s.length?e.quadraticCurveTo(s[2],s[3],s[4],s[5]):e.bezierCurveTo(s[2],s[3],s[4],s[5],s[6],s[7]),t.strokeWidth(4),e.fillStrokeShape(t)},name:"label-target","data-item-type":"line",id:t.id,...l,draggable:!0,onDragMove:d,onDragEnd:p})})},v3=()=>{const[e,t]=(0,B.useState)(!1);return{displayModal:e,openModal:()=>{t(!0)},closeModal:()=>{t(!1)}}},b3=JSON.parse('[{"id":"moveBackground","name":"Move Backgroud","keys":["spacebar","click & move"],"desc":""},{"id":"resetZoom","name":"Reset Zoom","keys":["ctrl","0"],"desc":""},{"id":"zoomIn","name":"Zoom In","keys":["mouse wheel"],"desc":""},{"id":"zoomOut","name":"Zoom Out","keys":["mouse wheel"],"desc":""},{"id":"layerUp","name":"Layer Up","keys":["shift","up"],"desc":""},{"id":"layerDown","name":"Layer Down","keys":["shift","down"],"desc":""},{"id":"undo","name":"Undo","keys":["ctrl","z"],"desc":""},{"id":"redo","name":"Redo","keys":["ctrl","y"],"desc":""},{"id":"deleteItems","name":"Delete","keys":["backspace"],"desc":""},{"id":"duplicateItems","name":"Duplicate","keys":["ctrl","d"],"desc":""},{"id":"copyItems","name":"Copy Selected Items","keys":["ctrl","c"],"desc":""},{"id":"pasteItems","name":"Paste Selected Items","keys":["ctrl","v"],"desc":""},{"id":"selectAllItems","name":"Select All Items","keys":["ctrl","a"],"desc":""},{"id":"flipHorizontally","name":"Flip Horizontally","keys":["shift","h"],"desc":""},{"id":"flipVertically","name":"Flip Vertically","keys":["shift","v"],"desc":""}]'),x3=(e,t,n,a)=>{const{alterItems:r}=xk(),[o,i]=(0,B.useState)(null);return{goToPast:(0,B.useCallback)((()=>{if(e.length>0&&o){const t=[...o],s=[...e[e.length-1]];n((t=>[...t.slice(0,e.length-1)])),a((e=>[...e,t])),i(s),r(s)}}),[e,o,n,a,r]),goToFuture:(0,B.useCallback)((()=>{if(t.length>0&&o){const e=[...o],s=t[t.length-1];a((e=>[...e.slice(0,t.length-1)])),n((t=>[...t,e])),i(s),r(s)}}),[t,o,a,n,r]),recordPast:(0,B.useCallback)((e=>{0!==e.length&&null!==o&&JSON.stringify(e)!==JSON.stringify(o)&&(n((e=>[...e,o])),a([])),0!==e.length&&i(e)}),[e,o,n,a,i]),clearHistory:()=>{n([]),a([])},setCurrent:i,current:o}},w3=[{id:"file-1",data:[{id:"QxiYE-HAI311pw98Nqtx9",attrs:{name:"label-target","data-item-type":"text",width:120,height:36,fill:"#00000",x:544.1693780910495,y:158.73013128325812,fontSize:30,fontFamily:"'Jua', sans-serif",text:"\uc774\uc6a9\ubc29\ubc95",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648466614233,"data-frame-type":"text",id:"QxiYE-HAI311pw98Nqtx9",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.7511177030169971,scaleY:.7511177030169944,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"WjbyaSNYUOU5aSfzaGBcf",attrs:{name:"label-target","data-item-type":"text",width:594,height:72,fill:"#00000",x:427.74526621221116,y:426.4156259522361,fontSize:30,fontFamily:"'Jua', sans-serif",text:"3. Also, use Functions left side,\nto edit them",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648466733377,"data-frame-type":"text",id:"WjbyaSNYUOU5aSfzaGBcf",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.5437413268008741,scaleY:.5437413268008727,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"UdkfLoFpAO_HlSZ_Ew_N6",attrs:{name:"label-target","data-item-type":"text",width:864,height:72,fill:"#00000",x:354.34018709409236,y:516.5653002689967,fontSize:30,fontFamily:"'Jua', sans-serif",text:"4. Open Export Widget,\nclick to export all frames or just selected one.",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648466772214,"data-frame-type":"text",id:"UdkfLoFpAO_HlSZ_Ew_N6",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.5437413268008741,scaleY:.5437413268008727,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"5ifXoF6yZVQWPGJsey7Z3",attrs:{name:"label-target","data-item-type":"text",width:534,height:72,fill:"#00000",x:444.05750601623674,y:476.5109155329664,fontSize:30,fontFamily:"'Jua', sans-serif",text:"3. \ub610\ud55c \uc67c\ucabd \uae30\ub2a5 \ubc84\ud2bc\uc744 \uc774\uc6a9\ud558\uc5ec \n\uc6d0\ud558\ub294\ub300\ub85c \uc774\ubbf8\uc9c0 \ud3b8\uc9d1\ud558\uae30",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648466850323,"data-frame-type":"text",id:"5ifXoF6yZVQWPGJsey7Z3",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.5437413268008741,scaleY:.5437413268008727,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"xjkWyhZaC6TdXA0RGkBaj",attrs:{name:"label-target","data-item-type":"text",width:804,height:72,fill:"#00000",x:370.6524268981184,y:380.6691913412044,fontSize:30,fontFamily:"'Jua', sans-serif",text:"2. \uc774\ubbf8\uc9c0, \ub3c4\ud615, \uae00\uc790, \uc544\uc774\ucf58 \uc704\uc82f\uc744 \uac19\uc740 \ubc29\ubc95\uc73c\ub85c \n\uc0ac\uc6a9\ud558\uc5ec \ub098\ub9cc\uc758 \uc774\ubbf8\uc9c0 \ub9cc\ub4e4\uae30",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648466884810,"data-frame-type":"text",id:"xjkWyhZaC6TdXA0RGkBaj",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.5437413268008741,scaleY:.5437413268008727,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"4OXbG5FY10agQMWoS2q9i",attrs:{name:"label-target","data-item-type":"text",width:720,height:72,fill:"#00000",x:393.4895626237562,y:338.51834068115784,fontSize:30,fontFamily:"'Jua', sans-serif",text:"2. Use Image, Shape, Text, Icon Widgets \nthe same way to make your image",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648466891361,"data-frame-type":"text",id:"4OXbG5FY10agQMWoS2q9i",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.5437413268008741,scaleY:.5437413268008727,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"jx8py6llylT5GTbz6hU0Y",attrs:{name:"label-target","data-item-type":"text",width:582,height:72,fill:"#00000",x:431.00771417301564,y:285.1928151247437,fontSize:30,fontFamily:"'Jua', sans-serif",text:"1. \uba3c\uc800 \uc67c\ucabd \uc704\uc82f\uc5d0\uc11c \ud504\ub808\uc784 \ud074\ub9ad \ud6c4,\n\uc6d0\ud558\ub294 \ud504\ub808\uc784\uc744 \ud654\uba74\uc5d0 \ub04c\uc5b4\ub2e4 \ub193\uae30",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648466922628,"data-frame-type":"text",id:"jx8py6llylT5GTbz6hU0Y",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.5437413268008741,scaleY:.5437413268008727,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"cDPmKp-BOILIYeNxbm32A",attrs:{name:"label-target","data-item-type":"text",width:1056,height:72,fill:"#00000",x:302.14101972120807,y:574.219202065887,fontSize:30,fontFamily:"'Jua', sans-serif",text:"4. \ub0b4\ubcf4\ub0b4\uae30 \uc704\uc82f\uc744 \ud074\ub9ad \ud6c4 \ubaa8\ub4e0 \ud504\ub808\uc784 \ub610\ub294 \uc120\ud0dd\ud55c \ud504\ub808\uc784 \ub0b4\ubcf4\ub0b4\uae30\ub85c\n\uc774\ubbf8\uc9c0 \ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648466957473,"data-frame-type":"text",id:"cDPmKp-BOILIYeNxbm32A",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.5437413268008741,scaleY:.5437413268008727,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"ovskJFZssNcMufxWgRIvh",attrs:{name:"label-target","data-item-type":"text",width:594,height:72,fill:"#00000",x:427.74526621221116,y:234.29393654424274,fontSize:30,fontFamily:"'Jua', sans-serif",text:"1. Make a Frame by \nclick Frame widget -> drag & drop",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648466988675,"data-frame-type":"text",id:"ovskJFZssNcMufxWgRIvh",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.5437413268008741,scaleY:.5437413268008727,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"z1judTJ6niO5bo2PjQtC2",attrs:{name:"label-target","data-item-type":"icon",width:100,height:100,fill:"transparent",x:127.2658310703614,y:230.57428631575027,icon:"arrow-left.svg",brightness:0,zIndex:0,updatedAt:1648467131743,image:{},"data-frame-type":"icon",id:"z1judTJ6niO5bo2PjQtC2",opacity:1,rotation:0,draggable:!0,scaleX:.7511177030169971,scaleY:.7511177030169944,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"MkLAX9k3hPENsc7FNuyrn",attrs:{name:"label-target","data-item-type":"icon",width:100,height:100,fill:"transparent",x:161.55662996924025,y:64.76852186076843,icon:"arrow-left.svg",brightness:0,zIndex:0,updatedAt:1648467151238,image:{},"data-frame-type":"icon",id:"MkLAX9k3hPENsc7FNuyrn",opacity:1,rotation:42.28698762703954,draggable:!0,scaleX:.7511177030169931,scaleY:.7511177030169943,offsetX:0,offsetY:0,skewX:-34437552843405098e-31,skewY:0},className:"Shape",children:[]},{id:"zGqLYpi7OBgxkqfkZLQdh",attrs:{name:"label-target","data-item-type":"icon",width:100,height:100,fill:"transparent",x:1044.3805464541115,y:133.64629163023977,icon:"arrow-left.svg",brightness:0,zIndex:0,updatedAt:1648467160766,image:{},"data-frame-type":"icon",id:"zGqLYpi7OBgxkqfkZLQdh",opacity:1,rotation:-180,draggable:!0,scaleX:.7511177030169971,scaleY:-.7511177030169944,offsetX:0,offsetY:0,skewX:-9394483745001298e-46,skewY:0},className:"sample-icon",children:[]},{id:"SZH04pHF7eR2_CrhiV5ER",attrs:{name:"label-target","data-item-type":"text",width:126,height:72,fill:"#00000",x:879.8857694933922,y:150.5421600368657,fontSize:30,fontFamily:"'Gamja Flower', cursive",text:"Widgets\n\uc704\uc82f",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648467186978,"data-frame-type":"text",id:"SZH04pHF7eR2_CrhiV5ER",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.7511177030169971,scaleY:.7511177030169944,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"sample-text",children:[]},{id:"rjeuFJyXiu1VAAyZvdtqK",attrs:{name:"label-target","data-item-type":"text",width:162,height:72,fill:"#00000",x:202.37760137206192,y:130.98057272399075,fontSize:30,fontFamily:"'Gamja Flower', cursive",text:"File Tabs\n\ud504\ub85c\uc81d\ud2b8 \uad6c\ubd84",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648467220105,"data-frame-type":"text",id:"rjeuFJyXiu1VAAyZvdtqK",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.7511177030169971,scaleY:.7511177030169944,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"-92dlXYLS5y8CWhO9UqiW",attrs:{name:"label-target","data-item-type":"text",width:162,height:72,fill:"#00000",x:208.38654299619634,y:248.95184673824173,fontSize:30,fontFamily:"'Gamja Flower', cursive",text:"Functions\n\uac01\uc885 \uae30\ub2a5\ubc84\ud2bc",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648467238137,"data-frame-type":"text",id:"-92dlXYLS5y8CWhO9UqiW",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.7511177030169971,scaleY:.7511177030169944,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"Shape",children:[]},{id:"vlJ-HWh6GwLBrgjfTiOP2",attrs:{name:"label-target","data-item-type":"text",width:270,height:36,fill:"#00000",x:487.83555036477446,y:121.1742461324082,fontSize:30,fontFamily:"'Jua', sans-serif",text:"How to use this",textAlign:"left",verticalAlign:"top",zIndex:0,brightness:0,updatedAt:1648467790505,"data-frame-type":"text",id:"vlJ-HWh6GwLBrgjfTiOP2",align:"center",opacity:1,rotation:0,draggable:!0,visible:!0,scaleX:.7511177030169971,scaleY:.7511177030169944,offsetX:0,offsetY:0,skewX:0,skewY:0},className:"sample-text",children:[]}]}];const k3=function(){const[e,t]=(0,B.useState)([]),[n,a]=(0,B.useState)([]),{goToFuture:r,goToPast:o,recordPast:i,clearHistory:s}=x3(e,n,t,a),l=sC(),{selectedItems:c,onSelectItem:u,setSelectedItems:d,clearSelection:p}=aC(l),{tabList:h,onClickTab:f,onCreateTab:m,onDeleteTab:g}=oC(l,s),{stageData:y}=xk(),{initializeFileDataList:v,updateFileData:b}=eC(),x=jS(),w=v3(),{deleteItems:k,copyItems:S,selectAll:C,pasteItems:E,duplicateItems:_,layerDown:I,layerUp:N,flipHorizontally:T,flipVertically:O}=lC(),{getTranslation:R}=Xl(),[A,P]=(0,B.useState)([]),F=e=>{var t,n;const{id:a}=e.attrs,r="frame"===e.attrs["data-item-type"]?e.getParent():e;return{id:mo(),attrs:{...null!==(t=null===(n=y.find((e=>e.attrs.id===a)))||void 0===n?void 0:n.attrs)&&void 0!==t?t:{}},className:r.getType(),children:[]}},{getClickCallback:D}=h3(x,w,c,d,l,F,u),M=(0,B.useMemo)((()=>{var e,t;return null!==(e=null===(t=h.find((e=>e.active)))||void 0===t?void 0:t.id)&&void 0!==e?e:null}),[h]),L=(0,B.useMemo)((()=>y.sort(((e,t)=>e.attrs.zIndex===t.attrs.zIndex?e.attrs.zIndex<0?t.attrs.updatedAt-e.attrs.updatedAt:e.attrs.updatedAt-t.attrs.updatedAt:e.attrs.zIndex-t.attrs.zIndex))),[y]),z=(0,ni.jsx)(Fs,{children:(0,ni.jsx)(NS,{onClickTab:f,tabList:h,onCreateTab:m,onDeleteTab:g})}),j=(0,ni.jsx)(FS,{children:TS.map((e=>(0,ni.jsx)(DS,{data:e,stage:x,onClick:D(e.id)},"navbar-".concat(e.id))))}),W=(0,ni.jsxs)(bs,{show:w.displayModal,onHide:w.closeModal,children:[(0,ni.jsx)(bs.Header,{closeButton:!0,children:(0,ni.jsx)(bs.Title,{children:"Keyboard Shortcut"})}),(0,ni.jsx)(bs.Body,{children:b3.map((e=>(0,ni.jsxs)(ws,{children:[(0,ni.jsx)("h6",{children:R("hotkey",e.id,"name")}),(0,ni.jsx)(Ss,{className:"justify-content-end",xs:4,children:e.keys.map(((t,n)=>(0,ni.jsxs)(B.Fragment,{children:[0!==n&&"+",(0,ni.jsx)(ws,{xs:"auto",className:"align-items-center",children:(0,ni.jsx)(Ts,{disabled:!0,children:t})})]},e.name+t)))})]},e.name)))})]}),V=(0,ni.jsx)(Jk,{selectedItems:c,clearSelection:p,stageRef:x.stageRef});return fo("shift+up",(e=>{e.preventDefault(),N(c)}),{},[c]),fo("shift+down",(e=>{e.preventDefault(),I(c)}),{},[c]),fo("ctrl+d",(e=>{e.preventDefault(),_(c,F)}),{},[c,y]),fo("ctrl+c",(e=>{e.preventDefault(),S(c,P,F)}),{},[c,y,A]),fo("ctrl+a",(e=>{e.preventDefault(),C(x,u)}),{},[c]),fo("ctrl+v",(e=>{e.preventDefault(),E(A)}),{},[A]),fo("ctrl+z",(e=>{e.preventDefault(),o()}),{},[o]),fo("ctrl+y",(e=>{e.preventDefault(),r()}),{},[r]),fo("shift+h",(e=>{e.preventDefault(),T(c)}),{},[c]),fo("shift+v",(e=>{e.preventDefault(),O(c)}),{},[c]),fo("backspace",(e=>{e.preventDefault(),k(c,d,l.transformerRef)}),{enabled:Boolean(c.length)},[c,l.transformerRef.current]),(0,B.useEffect)((()=>{window.addEventListener("beforeunload",(e=>{e.preventDefault(),e.returnValue=""})),m(void 0,w3[0]),v(w3),x.stageRef.current.setPosition({x:Math.max(Math.ceil(x.stageRef.current.width()-1280)/2,0),y:Math.max(Math.ceil(x.stageRef.current.height()-760)/2,0)}),x.stageRef.current.batchDraw()}),[]),(0,B.useEffect)((()=>{M&&b({id:M,data:y}),i(y)}),[y]),(0,ni.jsxs)(Bs,{header:z,navBar:j,settingBar:V,children:[W,(0,ni.jsxs)(GS,{onSelect:u,stage:x,children:[y.length?L.map((e=>(e=>{switch(e.attrs["data-item-type"]){case"frame":return(0,ni.jsx)(BS,{data:e,onSelect:u},"frame-".concat(e.id));case"image":return(0,ni.jsx)(nC,{data:e,onSelect:u},"image-".concat(e.id));case"text":return(0,ni.jsx)(f3,{data:e,transformer:l,onSelect:u},"image-".concat(e.id));case"shape":return(0,ni.jsx)(m3,{data:e,transformer:l,onSelect:u},"shape-".concat(e.id));case"icon":return(0,ni.jsx)(g3,{data:e,transformer:l,onSelect:u},"icon-".concat(e.id));case"line":return(0,ni.jsx)(y3,{data:e,transformer:l,onSelect:u},"line-".concat(e.id));default:return null}})(e))):null,(0,ni.jsx)("Transformer",{ref:l.transformerRef,keepRatio:!0,shouldOverdrawWholeArea:!0,boundBoxFunc:(e,t)=>t,onTransformEnd:l.onTransformEnd})]})]})};var S3=function(e){function t(t,n){return e.call(this)||this}return _w(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(zw),C3={setInterval:function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var r=C3.delegate;return(null===r||void 0===r?void 0:r.setInterval)?r.setInterval.apply(r,Rw([e,t],Ow(n))):setInterval.apply(void 0,Rw([e,t],Ow(n)))},clearInterval:function(e){var t=C3.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},E3=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.scheduler=t,a.work=n,a.pending=!1,a}return _w(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var a=this.id,r=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(r,a,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),C3.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&C3.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,a=!1;try{this.work(e)}catch(k5){a=!0,n=k5||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,a=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Lw(a,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(S3),_3=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.scheduler=t,a.work=n,a}return _w(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,a){return void 0===a&&(a=0),null!=a&&a>0||null==a&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,a):(t.flush(this),0)},t}(E3),I3={now:function(){return(I3.delegate||Date).now()},delegate:void 0},N3=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=I3.now,e}(),T3=function(e){function t(t,n){void 0===n&&(n=N3.now);var a=e.call(this,t,n)||this;return a.actions=[],a._active=!1,a}return _w(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(N3),O3=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _w(t,e),t}(T3))(_3),R3=Dw((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),A3=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _w(t,e),t.prototype.lift=function(e){var t=new P3(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new R3},t.prototype.next=function(e){var t=this;Yw((function(){var n,a;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var r=Tw(t.currentObservers),o=r.next();!o.done;o=r.next()){o.value.next(e)}}catch(i){n={error:i}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Yw((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Yw((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,a=n.hasError,r=n.isStopped,o=n.observers;return a||r?jw:(this.currentObservers=null,o.push(e),new zw((function(){t.currentObservers=null,Lw(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,a=t.thrownError,r=t.isStopped;n?e.error(a):r&&e.complete()},t.prototype.asObservable=function(){var e=new dk;return e.source=this,e},t.create=function(e,t){return new P3(e,t)},t}(dk),P3=function(e){function t(t,n){var a=e.call(this)||this;return a.destination=t,a.source=n,a}return _w(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:jw},t}(A3),F3=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function D3(e){return Sw(null===e||void 0===e?void 0:e.then)}function M3(e){return Sw(e[lk])}function L3(e){return Symbol.asyncIterator&&Sw(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function z3(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var j3="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function B3(e){return Sw(null===e||void 0===e?void 0:e[j3])}function W3(e){return Pw(this,arguments,(function(){var t,n,a;return Nw(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,Aw(t.read())];case 3:return n=r.sent(),a=n.value,n.done?[4,Aw(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,Aw(a)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function V3(e){return Sw(null===e||void 0===e?void 0:e.getReader)}function U3(e){if(e instanceof dk)return e;if(null!=e){if(M3(e))return a=e,new dk((function(e){var t=a[lk]();if(Sw(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(F3(e))return n=e,new dk((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(D3(e))return function(e){return new dk((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Gw)}))}(e);if(L3(e))return G3(e);if(B3(e))return t=e,new dk((function(e){var n,a;try{for(var r=Tw(t),o=r.next();!o.done;o=r.next()){var i=o.value;if(e.next(i),e.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}e.complete()}));if(V3(e))return G3(W3(e))}var t,n,a;throw z3(e)}function G3(e){return new dk((function(t){(function(e,t){var n,a,r,o;return Iw(this,void 0,void 0,(function(){var i,s;return Nw(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Fw(e),l.label=1;case 1:return[4,n.next()];case 2:if((a=l.sent()).done)return[3,4];if(i=a.value,t.next(i),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),r={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),a&&!a.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function H3(e,t,n,a,r){void 0===a&&(a=0),void 0===r&&(r=!1);var o=t.schedule((function(){n(),r?e.add(this.schedule(null,a)):this.unsubscribe()}),a);if(e.add(o),!r)return o}function q3(e,t){return void 0===t&&(t=0),Cw((function(n,a){n.subscribe(rk(a,(function(n){return H3(a,e,(function(){return a.next(n)}),t)}),(function(){return H3(a,e,(function(){return a.complete()}),t)}),(function(n){return H3(a,e,(function(){return a.error(n)}),t)})))}))}function X3(e,t){return void 0===t&&(t=0),Cw((function(n,a){a.add(e.schedule((function(){return n.subscribe(a)}),t))}))}function K3(e,t){if(!e)throw new Error("Iterable cannot be null");return new dk((function(n){H3(n,t,(function(){var a=e[Symbol.asyncIterator]();H3(n,t,(function(){a.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Y3(e,t){if(null!=e){if(M3(e))return function(e,t){return U3(e).pipe(X3(t),q3(t))}(e,t);if(F3(e))return function(e,t){return new dk((function(n){var a=0;return t.schedule((function(){a===e.length?n.complete():(n.next(e[a++]),n.closed||this.schedule())}))}))}(e,t);if(D3(e))return function(e,t){return U3(e).pipe(X3(t),q3(t))}(e,t);if(L3(e))return K3(e,t);if(B3(e))return function(e,t){return new dk((function(n){var a;return H3(n,t,(function(){a=e[j3](),H3(n,t,(function(){var e,t,r;try{t=(e=a.next()).value,r=e.done}catch(S5){return void n.error(S5)}r?n.complete():n.next(t)}),0,!0)})),function(){return Sw(null===a||void 0===a?void 0:a.return)&&a.return()}}))}(e,t);if(V3(e))return function(e,t){return K3(W3(e),t)}(e,t)}throw z3(e)}function Q3(e,t){return t?Y3(e,t):U3(e)}function $3(e,t){return Cw((function(n,a){var r=0;n.subscribe(rk(a,(function(n){a.next(e.call(t,n,r++))})))}))}function Z3(e,t,n){return void 0===n&&(n=1/0),Sw(t)?Z3((function(n,a){return $3((function(e,r){return t(n,e,a,r)}))(U3(e(n,a)))}),n):("number"===typeof t&&(n=t),Cw((function(t,a){return function(e,t,n,a,r,o,i,s){var l=[],c=0,u=0,d=!1,p=function(){!d||l.length||c||t.complete()},h=function(e){return c<a?f(e):l.push(e)},f=function(e){o&&t.next(e),c++;var s=!1;U3(n(e,u++)).subscribe(rk(t,(function(e){null===r||void 0===r||r(e),o?h(e):t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{c--;for(var e=function(){var e=l.shift();i?H3(t,i,(function(){return f(e)})):f(e)};l.length&&c<a;)e();p()}catch(S5){t.error(S5)}})))};return e.subscribe(rk(t,h,(function(){d=!0,p()}))),function(){null===s||void 0===s||s()}}(t,a,e,n)})))}var J3=function(e,t){return J3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},J3(e,t)};Object.create;Object.create;var e4=function(e){function t(t,n){var a=e.call(this,(function(e){var t=a.__notifier.subscribe(e);return t&&!t.closed&&e.next(a.value),t}))||this;return a.__notifier=new A3,a.value=n,t.subscribe((function(e){e!==a.value&&(a.value=e,a.__notifier.next(e))})),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}J3(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(dk);function t4(e){return e[e.length-1]}function n4(e){return(t=t4(e))&&Sw(t.schedule)?e.pop():void 0;var t}function a4(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=n4(e),a=function(e,t){return"number"===typeof t4(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?U3(r[0]):function(e){return void 0===e&&(e=1/0),Z3(ck,e)}(a)(Q3(r,n)):hk}const r4=sd({name:"FILE_META",initialState:{scale:{x:1,y:1},position:{x:0,y:0}},reducers:{setFileMeta(e,t){const{scale:n,position:a}=t.payload;e.scale=n,e.position=a}}}),o4=r4.reducer,i4=e=>e.fileMeta,s4=(wu(i4,(e=>e.scale)),wu(i4,(e=>e.position)),r4.actions,o4),l4=function(e){void 0===e&&(e={});var t,n=new(0,O3.constructor)(O3.schedulerActionCtor),a=new A3,r=function(r){t=r;var o=new A3,i=new A3,s=o.asObservable().pipe(q3(n)),l=new e4(i.pipe(q3(n)),t.getState());return a.pipe($3((function(t){var n=t(s,l,e.dependencies);if(!n)throw new TypeError('Your root Epic "'+(t.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return n})),Z3((function(e){return Q3(e).pipe(X3(n),q3(n))}))).subscribe(t.dispatch),function(e){return function(n){var a=e(n);return i.next(t.getState()),o.next(n),a}}};return r.run=function(e){a.next(e)},r}(),c4=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return a4.apply(void 0,e.map((function(e){var n=e.apply(void 0,t);if(!n)throw new TypeError('combineEpics: one of the provided Epics "'+(e.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return n})))};try{Object.defineProperty(n,"name",{value:"combineEpics("+e.map((function(e){return e.name||"<anonymous>"})).join(", ")+")"})}catch(k5){}return n}(((e,t)=>{return e.pipe(sk(vk.addItem.type),(n=1)<=0?function(){return hk}:Cw((function(e,t){var a=0;e.subscribe(rk(t,(function(e){++a<=n&&(t.next(e),n<=a&&t.complete())})))})),function(e,t,n){var a=Sw(e)||t||n?{next:e,error:t,complete:n}:e;return a?Cw((function(e,t){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;e.subscribe(rk(t,(function(e){var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)}),(function(){var e;r=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()}),(function(e){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)}),(function(){var e,t;r&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)})))})):ck}((e=>console.log(""))));var n})),u4=e=>{const t=od({reducer:{fileMeta:s4,currentStageData:bk,stageDataList:JS,imageAssetList:Td},middleware:rd({serializableCheck:!1}).concat(l4),preloadedState:e});return l4.run(c4),t};function d4(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p4(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}function h4(e,t){if(t&&("object"===Sl(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d4(e)}function f4(e){return f4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f4(e)}function m4(e){return vl(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xl(e)||wl()}function g4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g4(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v4={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},b4=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_l(this,e),this.init(t,n)}return Nl(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||v4,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,a){return a&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,y4(y4({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),x4=new b4,w4=function(){function e(){_l(this,e),this.observers={}}return Nl(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function k4(){var e,t,n=new Promise((function(n,a){e=n,t=a}));return n.resolve=e,n.reject=t,n}function S4(e){return null==e?"":""+e}function C4(e,t,n){function a(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"===typeof e}for(var o="string"!==typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var i=a(o.shift());!e[i]&&n&&(e[i]=new n),e=Object.prototype.hasOwnProperty.call(e,i)?e[i]:{}}return r()?{}:{obj:e,k:a(o.shift())}}function E4(e,t,n){var a=C4(e,t,Object);a.obj[a.k]=n}function _4(e,t){var n=C4(e,t),a=n.obj,r=n.k;if(a)return a[r]}function I4(e,t,n){var a=_4(e,n);return void 0!==a?a:_4(t,n)}function N4(e,t,n){for(var a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?"string"===typeof e[a]||e[a]instanceof String||"string"===typeof t[a]||t[a]instanceof String?n&&(e[a]=t[a]):N4(e[a],t[a],n):e[a]=t[a]);return e}function T4(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var O4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function R4(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return O4[e]})):e}var A4="undefined"!==typeof window&&window.navigator&&"undefined"===typeof window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,P4=[" ",",","?","!",";"];function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F4(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M4(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(k5){return!1}}();return function(){var n,a=f4(e);if(t){var r=f4(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h4(this,n)}}function L4(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var a=t.split(n),r=e,o=0;o<a.length;++o){if(!r)return;if("string"===typeof r[a[o]]&&o+1<a.length)return;if(void 0===r[a[o]]){for(var i=2,s=a.slice(o,o+i).join(n),l=r[s];void 0===l&&a.length>o+i;)i++,l=r[s=a.slice(o,o+i).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"===typeof l)return l;if(s&&"string"===typeof l[s])return l[s]}var c=a.slice(o+i).join(n);return c?L4(l,c,n):void 0}r=r[a[o]]}return r}}var z4=function(e){p4(n,e);var t=M4(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _l(this,n),a=t.call(this),A4&&w4.call(d4(a)),a.data=e||{},a.options=r,void 0===a.options.keySeparator&&(a.options.keySeparator="."),void 0===a.options.ignoreJSONStructure&&(a.options.ignoreJSONStructure=!0),a}return Nl(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,o=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure,i=[e,t];n&&"string"!==typeof n&&(i=i.concat(n)),n&&"string"===typeof n&&(i=i.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=e.split("."));var s=_4(this.data,i);return s||!o||"string"!==typeof n?s:L4(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var i=[e,t];n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=t,t=(i=e.split("."))[1]),this.addNamespaces(t),E4(this.data,i,a),r.silent||this.emit("added",e,t,n,a)}},{key:"addResources",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!==typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});a.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(a=n,n=t,t=(i=e.split("."))[1]),this.addNamespaces(t);var s=_4(this.data,i)||{};a?N4(s,n,r):s=D4(D4({},s),n),E4(this.data,i,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?D4(D4({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(w4),j4={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,a,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,a,r))})),t}};function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B4(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V4(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(k5){return!1}}();return function(){var n,a=f4(e);if(t){var r=f4(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h4(this,n)}}var U4={},G4=function(e){p4(n,e);var t=V4(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _l(this,n),a=t.call(this),A4&&w4.call(d4(a)),function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,d4(a)),a.options=r,void 0===a.options.keySeparator&&(a.options.keySeparator="."),a.logger=x4.create("translator"),a}return Nl(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,i=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var a=P4.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===a.length)return!0;var r=new RegExp("(".concat(a.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!r.test(e);if(!o){var i=e.indexOf(n);i>0&&!r.test(e.substring(0,i))&&(o=!0)}return o}(e,n,a);if(o&&!i){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:r};var l=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(a)}return"string"===typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,t,a){var r=this;if("object"!==Sl(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,c=s.namespaces,u=c[c.length-1],d=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var h=t.nsSeparator||this.options.nsSeparator;return o?(f.res="".concat(u).concat(h).concat(l),f):"".concat(u).concat(h).concat(l)}return o?(f.res=l,f):l}var f=this.resolve(e,t),m=f&&f.res,g=f&&f.usedKey||l,y=f&&f.exactUsedKey||l,v=Object.prototype.toString.apply(m),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject;if(x&&m&&("string"!==typeof m&&"boolean"!==typeof m&&"number"!==typeof m)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0&&("string"!==typeof b||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,W4(W4({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return o?(f.res=w,f):w}if(i){var k="[object Array]"===v,S=k?[]:{},C=k?y:g;for(var E in m)if(Object.prototype.hasOwnProperty.call(m,E)){var _="".concat(C).concat(i).concat(E);S[E]=this.translate(_,W4(W4({},t),{joinArrays:!1,ns:c})),S[E]===_&&(S[E]=m[E])}m=S}}else if(x&&"string"===typeof b&&"[object Array]"===v)(m=m.join(b))&&(m=this.extendTranslation(m,e,t,a));else{var I=!1,N=!1,T=void 0!==t.count&&"string"!==typeof t.count,O=n.hasDefaultValue(t),R=T?this.pluralResolver.getSuffix(d,t.count,t):"",A=t["defaultValue".concat(R)]||t.defaultValue;!this.isValidLookup(m)&&O&&(I=!0,m=A),this.isValidLookup(m)||(N=!0,m=l);var P=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:m,F=O&&A!==m&&this.options.updateMissing;if(N||I||F){if(this.logger.log(F?"updateKey":"missingKey",d,u,l,F?A:m),i){var D=this.resolve(l,W4(W4({},t),{},{keySeparator:!1}));D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var M=[],L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&L&&L[0])for(var z=0;z<L.length;z++)M.push(L[z]);else"all"===this.options.saveMissingTo?M=this.languageUtils.toResolveHierarchy(t.lng||this.language):M.push(t.lng||this.language);var j=function(e,n,a){var o=O&&a!==m?a:P;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,n,o,F,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,n,o,F,t),r.emit("missingKey",e,u,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?M.forEach((function(e){r.pluralResolver.getSuffixes(e,t).forEach((function(n){j([e],l+n,t["defaultValue".concat(n)]||A)}))})):j(M,l,A))}m=this.extendTranslation(m,e,t,f,a),N&&m===l&&this.options.appendNamespaceToMissingKey&&(m="".concat(u,":").concat(l)),(N||I)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(l):l,I?m:void 0):this.options.parseMissingKeyHandler(m))}return o?(f.res=m,f):m}},{key:"extendTranslation",value:function(e,t,n,a,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,W4(W4({},this.options.interpolation.defaultVariables),n),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(W4(W4({},n),{interpolation:W4(W4({},this.options.interpolation),n.interpolation)}));var i,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);i=l&&l.length}var c=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=W4(W4({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);i<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return r&&r[0]===a[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(a[0]," in key: ").concat(t[0])),null):o.translate.apply(o,a.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"===typeof d?[d]:d;return void 0!==e&&null!==e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=j4.handle(p,e,t,this.options&&this.options.postProcessPassResolved?W4({i18nResolved:a},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,a,r,o,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!i.isValidLookup(t)){var l=i.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;i.options.fallbackNS&&(u=u.concat(i.options.fallbackNS));var d=void 0!==s.count&&"string"!==typeof s.count,p=d&&!s.ordinal&&0===s.count&&i.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:i.languageUtils.toResolveHierarchy(s.lng||i.language,s.fallbackLng);u.forEach((function(e){i.isValidLookup(t)||(o=e,!U4["".concat(f[0],"-").concat(e)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(o)&&(U4["".concat(f[0],"-").concat(e)]=!0,i.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!i.isValidLookup(t)){r=n;var o,l=[c];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(l,c,n,e,s);else{var u;d&&(u=i.pluralResolver.getSuffix(n,s.count,s));var f="".concat(i.options.pluralSeparator,"zero");if(d&&(l.push(c+u),p&&l.push(c+f)),h){var m="".concat(c).concat(i.options.contextSeparator).concat(s.context);l.push(m),d&&(l.push(m+u),p&&l.push(m+f))}}for(;o=l.pop();)i.isValidLookup(t)||(a=o,t=i.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:a,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,a):this.resourceStore.getResource(e,t,n,a)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(w4);function H4(e){return e.charAt(0).toUpperCase()+e.slice(1)}var q4=function(){function e(t){_l(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=x4.create("languageUtils")}return Nl(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=H4(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=H4(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=H4(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var a=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(a)||(t=a)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var a=n.getLanguagePartFromCode(e);if(n.isSupportedCode(a))return t=a;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(a))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,a=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"===typeof e&&o(this.formatLanguageCode(e)),a.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),X4=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],K4={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Y4=["v1","v2","v3"],Q4={zero:0,one:1,two:2,few:3,many:4,other:5};var $4=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_l(this,e),this.languageUtils=t,this.options=n,this.logger=x4.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){var e={};return X4.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:K4[t.fc]}}))})),e}()}return Nl(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getRule(e,n);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort((function(e,t){return Q4[e]-Q4[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):a.numbers.map((function(a){return t.getSuffix(e,a,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.getRule(e,n);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(t)):this.getSuffixRetroCompatible(a,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,a=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[a];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"===typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!Y4.includes(this.options.compatibilityJSON)}}]),e}();function Z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z4(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var e5=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_l(this,e),this.logger=x4.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Nl(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:R4,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?T4(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?T4(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?T4(t.nestingPrefix):t.nestingPrefixEscaped||T4("$t("),this.nestingSuffix=t.nestingSuffix?T4(t.nestingSuffix):t.nestingSuffixEscaped||T4(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,a){var r,o,i,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var r=I4(t,l,e);return s.alwaysFormat?s.format(r,void 0,n,J4(J4(J4({},a),t),{},{interpolationkey:e})):r}var o=e.split(s.formatSeparator),i=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(I4(t,l,i),c,n,J4(J4(J4({},a),t),{},{interpolationkey:i}))};this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&void 0!==a.interpolation.skipOnVariables?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(i=0;r=t.regex.exec(e);){var n=r[1].trim();if(void 0===(o=u(n)))if("function"===typeof d){var l=d(e,r,a);o="string"===typeof l?l:""}else if(a&&a.hasOwnProperty(n))o="";else{if(p){o=r[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"===typeof o||s.useRawValueToEscape||(o=S4(o));var c=t.safeValue(o);if(e=e.replace(r[0],c),p?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++i>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,a,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=J4({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var a=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(a[1]);e=a[0];var o=(r=this.interpolate(r,i)).match(/'/g),s=r.match(/"/g);(o&&o.length%2===0&&!s||s.length%2!==0)&&(r=r.replace(/'/g,'"'));try{i=JSON.parse(r),t&&(i=J4(J4({},t),i))}catch(k5){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),k5),"".concat(e).concat(n).concat(r)}return delete i.defaultValue,e}for(i.applyPostProcessor=!1,delete i.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((a=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!==typeof a)return a;"string"!==typeof a&&(a=S4(a)),a||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),a=""),c&&(a=l.reduce((function(e,t){return r.format(e,t,o.lng,J4(J4({},o),{},{interpolationkey:n[1].trim()}))}),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}]),e}();function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function n5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t5(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a5(e){var t={};return function(n,a,r){var o=a+JSON.stringify(r),i=t[o];return i||(i=e(a,r),t[o]=i),i(n)}}var r5=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_l(this,e),this.logger=x4.create("formatter"),this.options=t,this.formats={number:a5((function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}})),currency:a5((function(e,t){var n=new Intl.NumberFormat(e,n5(n5({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:a5((function(e,t){var n=new Intl.DateTimeFormat(e,n5({},t));return function(e){return n.format(e)}})),relativetime:a5((function(e,t){var n=new Intl.RelativeTimeFormat(e,n5({},t));return function(e){return n.format(e,t.range||"day")}})),list:a5((function(e,t){var n=new Intl.ListFormat(e,n5({},t));return function(e){return n.format(e)}}))},this.init(t)}return Nl(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=a5(t)}},{key:"format",value:function(e,t,n,a){var r=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var a=e.split("(");t=a[0].toLowerCase().trim();var r=a[1].substring(0,a[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((function(e){if(e){var t=m4(e.split(":")),a=t[0],r=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=r),"false"===r&&(n[a.trim()]=!1),"true"===r&&(n[a.trim()]=!0),isNaN(r)||(n[a.trim()]=parseInt(r,10))}}))}return{formatName:t,formatOptions:n}}(t),i=o.formatName,s=o.formatOptions;if(r.formats[i]){var l=e;try{var c=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},u=c.locale||c.lng||a.locale||a.lng||n;l=r.formats[i](e,u,n5(n5(n5({},s),a),c))}catch(d){r.logger.warn(d)}return l}return r.logger.warn("there was no format function for ".concat(i)),e}),e);return o}}]),e}();function o5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o5(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s5(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(k5){return!1}}();return function(){var n,a=f4(e);if(t){var r=f4(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h4(this,n)}}var l5=function(e){p4(n,e);var t=s5(n);function n(e,a,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _l(this,n),o=t.call(this),A4&&w4.call(d4(o)),o.backend=e,o.store=a,o.services=r,o.languageUtils=r.languageUtils,o.options=i,o.logger=x4.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=i.maxParallelReads||10,o.readingCalls=0,o.maxRetries=i.maxRetries>=0?i.maxRetries:5,o.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(r,i.backend,i),o}return Nl(n,[{key:"queueLoad",value:function(e,t,n,a){var r=this,o={},i={},s={},l={};return e.forEach((function(e){var a=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?void 0===i[s]&&(i[s]=!0):(r.state[s]=1,a=!1,void 0===i[s]&&(i[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===l[t]&&(l[t]=!0)))})),a||(s[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var a=e.split("|"),r=a[0],o=a[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var i={};this.queue.forEach((function(n){!function(e,t,n,a){var r=C4(e,t,Object),o=r.obj,i=r.k;o[i]=o[i]||[],a&&(o[i]=o[i].concat(n)),a||o[i].push(n)}(n.loaded,[r],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){i[e]||(i[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===i[e][t]&&(i[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:o,callback:i}):(this.readingCalls++,this.backend[n](e,t,(function(s,l){if(a.readingCalls--,a.waitingReads.length>0){var c=a.waitingReads.shift();a.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&l&&r<a.maxRetries?setTimeout((function(){a.read.call(a,e,t,n,r+1,2*o,i)}),o):i(s,l)}))):i(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var o=this.queueLoad(e,t,a,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.split("|"),r=a[0],o=a[1];this.read(r,o,"read",void 0,void 0,(function(a,i){a&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),a),!a&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),i),t.loaded(e,a,i)}))}},{key:"saveMissing",value:function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,a,null,i5(i5({},o),{},{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,a))}}]),n}(w4);function c5(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function u5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u5(Object(n),!0).forEach((function(t){El(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p5(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(k5){return!1}}();return function(){var n,a=f4(e);if(t){var r=f4(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h4(this,n)}}function h5(){}var f5=function(e){p4(n,e);var t=p5(n);function n(){var e,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(_l(this,n),e=t.call(this),A4&&w4.call(d4(e)),e.options=c5(r),e.services={},e.logger=x4,e.modules={external:[]},a=d4(e),Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach((function(e){"function"===typeof a[e]&&(a[e]=a[e].bind(a))})),o&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,o),h4(e,d4(e));setTimeout((function(){e.init(r,o)}),0)}return e}return Nl(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var a={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Sl(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===Sl(e[2])||"object"===Sl(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,a){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function r(e){return e?"function"===typeof e?new e:e:null}if(this.options=d5(d5(d5({},a),this.options),c5(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=d5(d5({},a.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?x4.init(r(this.modules.logger),this.options):x4.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!==typeof Intl&&(o=r5);var i=new q4(this.options);this.store=new z4(this.options.resources,this.options);var s=this.services;s.logger=x4,s.resourceStore=this.store,s.languageUtils=i,s.pluralResolver=new $4(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format||(s.formatter=r(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new e5(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new l5(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit.apply(e,[t].concat(a))})),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new G4(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit.apply(e,[t].concat(a))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=h5),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=k4(),u=function(){var t=function(t,a){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(a),n(t,a)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h5,a="string"===typeof e?e:this.language;if("function"===typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(a&&"cimode"===a.toLowerCase())return n();var r=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){r.indexOf(e)<0&&r.push(e)}))};if(a)o(a);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)}));this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(r,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var a=k4();return e||(e=this.languages),t||(t=this.options.ns),n||(n=h5),this.services.backendConnector.reload(e,t,(function(e){a.resolve(),n(e)})),a}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&j4.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var a=k4();this.emit("languageChanging",e);var r=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var i="string"===typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);i&&(n.language||r(i),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,(function(e){!function(e,o){o?(r(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,a.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),a}},{key:"getFixedT",value:function(e,t,n){var a=this,r=function e(t,r){var o;if("object"!==Sl(r)){for(var i=arguments.length,s=new Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];o=a.options.overloadTranslationOptionHandler([t,r].concat(s))}else o=d5({},r);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||n||e.keyPrefix;var c=a.options.keySeparator||".",u=o.keyPrefix?"".concat(o.keyPrefix).concat(c).concat(t):t;return a.t(u,o)};return"string"===typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===a.toLowerCase())return!0;var i=function(e,n){var a=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===a||2===a};if(n.precheck){var s=n.precheck(this,i);if(void 0!==s)return s}return!!this.hasResourceBundle(a,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(a,e)||r&&!i(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,a=k4();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){a.resolve(),t&&t(e)})),a):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=k4();"string"===typeof e&&(e=[e]);var a=this.options.preload||[],r=e.filter((function(e){return a.indexOf(e)<0}));return r.length?(this.options.preload=a.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h5,r=d5(d5(d5({},this.options),t),{isClone:!0}),o=new n(r);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));return["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=d5({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new G4(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];o.emit.apply(o,[e].concat(n))})),o.init(r,a),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(w4);El(f5,"createInstance",(function(){return new f5(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var m5=f5.createInstance();m5.createInstance=f5.createInstance;m5.createInstance,m5.init,m5.loadResources,m5.reloadResources,m5.use,m5.changeLanguage,m5.getFixedT,m5.t,m5.exists,m5.setDefaultNamespace,m5.hasLoadedNamespace,m5.loadNamespaces,m5.loadLanguages;const g5=m5,y5={widget:JSON.parse('{"image":{"id":"image","name":"Image"},"colorPalette":{"id":"colorPalette","name":"Color Palette","opacity":{"name":"Opacity"},"brightness":{"name":"Brightness"},"grayScale":{"name":"Gray Scale"},"addColor":{"name":"Add color"},"clearColor":{"name":"Remove color\\n(Press shift to change outline color)"}},"align":{"id":"align","name":"Align","left":{"name":"left"},"center":{"name":"center"},"right":{"name":"right"},"top":{"name":"top"},"middle":{"name":"middle"},"bottom":{"name":"bottom"}},"frame":{"id":"frame","name":"Frame","youtubeVideoThumbnail":{"name":"Youtube Video Thumbnail","id":"youtubeVideoThumbnail","width":1280,"height":760},"youtubeChannelIcon":{"name":"Youtube Channel Icon","id":"youtubeChannelIcon","width":800,"height":800},"youtubeChannelCover":{"name":"Youtube Channel Cover","id":"youtubeChannelCover","width":2560,"height":1440},"instagramSquarePhoto":{"name":"Instagram Square Photo","id":"instagramSquarePhoto","width":1080,"height":1080},"instagramProfile":{"name":"Instagram Profile","id":"instagramProfile","width":110,"height":110},"instagramStory":{"name":"Instagram Story","id":"instagramStory","width":1080,"height":1920},"A4":{"name":"A4","id":"A4","width":2480,"height":3508},"sample_100X100":{"name":"sample_100X100","id":"sample_100X100","width":100,"height":100},"sample_512X512":{"name":"sample_512X512","id":"sample_512X512","width":512,"height":512},"facebookProfile":{"name":"Facebook Profile","id":"facebookProfile","width":180,"height":180},"facebookCoverPhoto":{"name":"Facebook Cover Photo","id":"facebookCoverPhoto","width":820,"height":312},"twitterProfile":{"name":"Twitter Profile","id":"twitterProfile","width":400,"height":400},"twitterHeader":{"name":"Twitter Header","id":"twitterHeader","width":1500,"height":500},"twitterPost":{"name":"Twitter Post","id":"twitterPost","width":900,"height":450},"linkedInProfil":{"name":"LinkedIn Profile","id":"linkedInProfil","width":400,"height":400},"linkedInCover":{"name":"LinkedIn Cover","id":"linkedInCover","width":1584,"height":396},"pinterestBoardImage":{"name":"Pinterest Board Image","id":"pinterestBoardImage","width":222,"height":150},"pinterestPinImage":{"name":"Pinterest Pin Image","id":"pinterestPinImage","width":236,"height":280},"pinterestProfile":{"name":"Pinterest Profile","id":"pinterestProfile","width":165,"height":165},"tumblrProfile":{"name":"Tumblr Profile","id":"tumblrProfile","width":128,"height":128},"tumblrPostImage":{"name":"Tumblr Post Image","id":"tumblrPostImage","width":500,"height":750},"androidAppIcon":{"name":"Android App Icon","id":"androidAppIcon","width":512,"height":512},"androidFeatureGraphic":{"name":"Android Feature Graphic","id":"androidFeatureGraphic","width":1024,"height":500},"androidHorizontal":{"name":"Android Horizontal","id":"androidHorizontal","width":1920,"height":1080},"androidVertical":{"name":"Android Vertical","id":"androidVertical","width":1080,"height":1920},"iosIPhoneVertical6_7":{"name":"iOS iPhone Vertical (6.7 inch)","id":"iosIPhoneVertical6_7","width":1284,"height":2778},"iosIPhoneVertical6_5":{"name":"iOS iPhone Vertical (6.5 inch)","id":"iosIPhoneVertical6_5","width":1284,"height":2778},"iosIPhoneVertical5_8":{"name":"iOS iPhone Vertical (5.8 inch)","id":"iosIPhoneVertical5_8","width":1170,"height":2532},"iosIPhoneVertical5_5":{"name":"iOS iPhone Vertical (5.5 inch)","id":"iosIPhoneVertical5_5","width":1242,"height":2208},"iosIPhoneVertical4_7":{"name":"iOS iPhone Vertical (4.7 inch)","id":"iosIPhoneVertical4_7","width":750,"height":1334},"iosIPhoneVertical4":{"name":"iOS iPhone Vertical (4 inch)","id":"iosIPhoneVertical4","width":640,"height":1136},"iosIPhoneVertical3_5":{"name":"iOS iPhone Vertical (3.5 inch)","id":"iosIPhoneVertical3_5","width":640,"height":960},"iosIPadVertical12_9":{"name":"iOS iPad Vertical (12.9 inch)","id":"iosIPadVertical12_9","width":2048,"height":2732},"iosIPadVertical11":{"name":"iOS iPad Vertical (11 inch)","id":"iosIPadVertical11","width":1640,"height":2360},"iosIPadVertical10_5":{"name":"iOS iPad Vertical (10.5 inch)","id":"iosIPadVertical10_5","width":1668,"height":2224},"iosIPadVertical9_7":{"name":"iOS iPad Vertical (9.7 inch)","id":"iosIPadVertical9_7","width":1536,"height":2048}},"shape":{"id":"shape","name":"Shape"},"text":{"id":"text","name":"Text"},"icon":{"id":"icon","name":"Icon","search":{"title":"Search Icon","placeholder":"Enter keyword","desc":"Type a keyword to find icon"}},"export":{"id":"export","name":"Export","export-all-frame":{"type":"export","id":"export-all-frame","name":"Export All Frame","icon":"download"},"export-selected":{"type":"export","id":"export-selected","name":"Export Selected Frame","icon":"box-arrow-down"}}}'),hotkey:JSON.parse('{"moveBackground":{"name":"Move Backgroud","keys":["spacebar","click & move"],"desc":""},"resetZoom":{"name":"Reset Zoom","keys":["ctrl","0"],"desc":""},"zoomIn":{"name":"Zoom In","keys":["mouse wheel"],"desc":""},"zoomOut":{"name":"Zoom Out","keys":["mouse wheel"],"desc":""},"layerUp":{"name":"Layer Up","keys":["shift","up"],"desc":""},"layerDown":{"name":"Layer Down","keys":["shift","down"],"desc":""},"deleteItems":{"name":"Delete","keys":["backspace"],"desc":""},"duplicateItems":{"name":"Duplicate","keys":["ctrl","d"],"desc":""},"copyItems":{"name":"Copy Selected Items","keys":["ctrl","c"],"desc":""},"pasteItems":{"name":"Paste Selected Items","keys":["ctrl","v"],"desc":""},"selectAllItems":{"name":"Select All Items","keys":["ctrl","a"],"desc":""},"flipHorizontally":{"name":"Flip Horizontally","keys":["shift","h"],"desc":""},"flipVertically":{"name":"Flip Vertically","keys":["shift","v"],"desc":""},"undo":{"id":"undo","name":"Undo","keys":["ctrl","z"],"desc":""},"redo":{"id":"redo","name":"Redo","keys":["ctrl","y"],"desc":""},"remove-background":{"name":"Remove Background of Selected Image","keys":["ctrl","x","b"],"desc":"Remove Background of Selected Image"}}'),workMode:TS.reduce(((e,t)=>({...e,[t.id]:t})),{})},v5={widget:JSON.parse('{"image":{"id":"image","name":"\uc774\ubbf8\uc9c0"},"colorPalette":{"id":"colorPalette","name":"\uc0c9","opacity":{"name":"\ud22c\uba85\ub3c4"},"brightness":{"name":"\ubc1d\uae30"},"grayScale":{"name":"\ud751\ubc31"},"addColor":{"name":"\uc0c9 \ucd94\uac00"},"clearColor":{"name":"\uc0c9 \uc81c\uac70\\n(shift\uc640 \ud568\uaed8 \ud074\ub9ad\uc2dc \uc544\uc6c3\ub77c\uc778 \ubcc0\uacbd)"}},"align":{"id":"align","name":"\uc815\ub82c","left":{"name":"\uc67c\ucabd"},"center":{"name":"\uc218\ud3c9 \uc911\uc559"},"right":{"name":"\uc624\ub978\ucabd"},"top":{"name":"\uc704"},"middle":{"name":"\uc218\uc9c1 \uc911\uc559"},"bottom":{"name":"\uc544\ub798"}},"frame":{"id":"frame","name":"\ud504\ub808\uc784","youtubeVideoThumbnail":{"name":"\uc720\ud29c\ube0c \ube44\ub514\uc624 \uc378\ub124\uc77c","id":"youtubeVideoThumbnail","width":1280,"height":760},"youtubeChannelIcon":{"name":"\uc720\ud29c\ube0c \ucc44\ub110 \uc544\uc774\ucf58","id":"youtubeChannelIcon","width":800,"height":800},"youtubeChannelCover":{"name":"\uc720\ud29c\ube0c \ucc44\ub110 \ucee4\ubc84","id":"youtubeChannelCover","width":2560,"height":1440},"instagramSquarePhoto":{"name":"\uc778\uc2a4\ud0c0\uadf8\ub7a8 \ud3ec\uc2a4\ud2b8","id":"instagramSquarePhoto","width":1080,"height":1080},"instagramProfile":{"name":"\uc778\uc2a4\ud0c0\uadf8\ub7a8 \ud504\ub85c\ud544","id":"instagramProfile","width":110,"height":110},"instagramStory":{"name":"\uc778\uc2a4\ud0c0\uadf8\ub7a8 \uc2a4\ud1a0\ub9ac","id":"instagramStory","width":1080,"height":1920},"A4":{"name":"A4","id":"A4","width":2480,"height":3508},"sample_100X100":{"name":"100\ud53d\uc140 \uc815\uc0ac\uac01\ud615","id":"sample_100X100","width":100,"height":100},"sample_512X512":{"name":"512\ud53d\uc140 \uc815\uc0ac\uac01\ud615","id":"sample_512X512","width":512,"height":512},"facebookProfile":{"name":"\ud398\uc774\uc2a4\ubd81 \ud504\ub85c\ud544","id":"facebookProfile","width":180,"height":180},"facebookCoverPhoto":{"name":"\ud398\uc774\uc2a4\ubd81 \ucee4\ubc84","id":"facebookCoverPhoto","width":820,"height":312},"twitterProfile":{"name":"\ud2b8\uc704\ud130 \ud504\ub85c\ud544","id":"twitterProfile","width":400,"height":400},"twitterHeader":{"name":"\ud2b8\uc704\ud130 \ud5e4\ub354","id":"twitterHeader","width":1500,"height":500},"twitterPost":{"name":"\ud2b8\uc704\ud130 \ud3ec\uc2a4\ud2b8","id":"twitterPost","width":900,"height":450},"linkedInProfil":{"name":"\ub9c1\ud06c\ub4dc\uc778 \ud504\ub85c\ud544","id":"linkedInProfil","width":400,"height":400},"linkedInCover":{"name":"\ub9c1\ud06c\ub4dc\uc778 \ucee4\ubc84","id":"linkedInCover","width":1584,"height":396},"pinterestBoardImage":{"name":"\ud540\ud130\ub808\uc2a4\ud2b8 \ubcf4\ub4dc","id":"pinterestBoardImage","width":222,"height":150},"pinterestPinImage":{"name":"\ud540\ud130\ub808\uc2a4\ud2b8 \ud540","id":"pinterestPinImage","width":236,"height":280},"pinterestProfile":{"name":"\ud540\ud130\ub808\uc2a4\ud2b8 \ud504\ub85c\ud544","id":"pinterestProfile","width":165,"height":165},"tumblrProfile":{"name":"\ud140\ube14\ub7ec \ud504\ub85c\ud544","id":"tumblrProfile","width":128,"height":128},"tumblrPostImage":{"name":"\ud140\ube14\ub7ec \ud3ec\uc2a4\ud2b8","id":"tumblrPostImage","width":500,"height":750},"androidAppIcon":{"name":"\uc548\ub4dc\ub85c\uc774\ub4dc \uc571 \uc544\uc774\ucf58","id":"androidAppIcon","width":512,"height":512},"androidFeatureGraphic":{"name":"\uc548\ub4dc\ub85c\uc774\ub4dc \uadf8\ub798\ud53d","id":"androidFeatureGraphic","width":1024,"height":500},"androidHorizontal":{"name":"\uc548\ub4dc\ub85c\uc774\ub4dc \uac00\ub85c \uc2a4\ud06c\ub9b0\uc0f7","id":"androidHorizontal","width":1920,"height":1080},"androidVertical":{"name":"\uc548\ub4dc\ub85c\uc774\ub4dc \uc138\ub85c \uc2a4\ud06c\ub9b0\uc0f7","id":"androidVertical","width":1080,"height":1920},"iosIPhoneVertical6_7":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 6.7\uc778\uce58","id":"iosIPhoneVertical6_7","width":1284,"height":2778},"iosIPhoneVertical6_5":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 6.5\uc778\uce58","id":"iosIPhoneVertical6_5","width":1284,"height":2778},"iosIPhoneVertical5_8":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 5.8\uc778\uce58","id":"iosIPhoneVertical5_8","width":1170,"height":2532},"iosIPhoneVertical5_5":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 5.5\uc778\uce58","id":"iosIPhoneVertical5_5","width":1242,"height":2208},"iosIPhoneVertical4_7":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 4.7\uc778\uce58","id":"iosIPhoneVertical4_7","width":750,"height":1334},"iosIPhoneVertical4":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 4\uc778\uce58","id":"iosIPhoneVertical4","width":640,"height":1136},"iosIPhoneVertical3_5":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 3.5\uc778\uce58","id":"iosIPhoneVertical3_5","width":640,"height":960},"iosIPadVertical12_9":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 12.9\uc778\uce58","id":"iosIPadVertical12_9","width":2048,"height":2732},"iosIPadVertical11":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 11\uc778\uce58","id":"iosIPadVertical11","width":1640,"height":2360},"iosIPadVertical10_5":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 10.5\uc778\uce58","id":"iosIPadVertical10_5","width":1668,"height":2224},"iosIPadVertical9_7":{"name":"\uc544\uc774\ud3f0 \uc138\ub85c 9.7\uc778\uce58","id":"iosIPadVertical9_7","width":1536,"height":2048}},"shape":{"id":"shape","name":"\ub3c4\ud615"},"text":{"id":"text","name":"\uae00\uc790"},"icon":{"id":"icon","name":"\uc544\uc774\ucf58","search":{"title":"\uc544\uc774\ucf58 \uac80\uc0c9","placeholder":"\ud0a4\uc6cc\ub4dc(\uc601\uc5b4)","desc":"\ud0a4\uc6cc\ub4dc\ub85c \uc544\uc774\ucf58\uc744 \uac80\uc0c9\ud558\uc138\uc694"}},"export":{"id":"export","name":"\ub0b4\ubcf4\ub0b4\uae30","export-all-frame":{"type":"export","id":"export-all-frame","name":"\ubaa8\ub4e0 \ud504\ub808\uc784 \ub0b4\ubcf4\ub0b4\uae30","icon":"download"},"export-selected":{"type":"export","id":"export-selected","name":"\uc120\ud0dd\ud55c \ud504\ub808\uc784 \ub0b4\ubcf4\ub0b4\uae30","icon":"box-arrow-down"}}}'),hotkey:JSON.parse('{"moveBackground":{"name":"\ubc30\uacbd \uc6c0\uc9c1\uc774\uae30","keys":["spacebar","click & move"],"desc":""},"resetZoom":{"name":"\uc90c \ucd08\uae30\ud654","keys":["ctrl","0"],"desc":""},"zoomIn":{"name":"\ud654\uba74 \ud655\ub300","keys":["mouse wheel"],"desc":""},"zoomOut":{"name":"\ud654\uba74 \ucd95\uc18c","keys":["mouse wheel"],"desc":""},"layerUp":{"name":"\ub808\uc774\uc5b4 \uc62c\ub9ac\uae30","keys":["shift","up"],"desc":""},"layerDown":{"name":"\ub808\uc774\uc5b4 \ub0b4\ub9ac\uae30","keys":["shift","down"],"desc":""},"deleteItems":{"name":"\uc120\ud0dd\ud55c \uc544\uc774\ud15c \uc0ad\uc81c","keys":["backspace"],"desc":""},"duplicateItems":{"name":"\uc120\ud0dd\ud55c \uc544\uc774\ud15c \ubcf5\uc81c","keys":["ctrl","d"],"desc":""},"copyItems":{"name":"\uc120\ud0dd\ud55c \uc544\uc774\ud15c \ubcf5\uc0ac","keys":["ctrl","c"],"desc":""},"pasteItems":{"name":"\ubcf5\uc0ac\ud55c \uc544\uc774\ud15c \ubd99\uc774\uae30","keys":["ctrl","v"],"desc":""},"selectAllItems":{"name":"\ubaa8\ub4e0 \uc544\uc774\ud15c \uc120\ud0dd\ud558\uae30","keys":["ctrl","a"],"desc":""},"flipHorizontally":{"name":"\uc120\ud0dd\ud55c \uc544\uc774\ud15c \uc218\ud3c9 \ubc18\uc804","keys":["shift","h"],"desc":""},"flipVertically":{"name":"\uc120\ud0dd\ud55c \uc544\uc774\ud15c \uc218\uc9c1 \ubc18\uc804","keys":["shift","v"],"desc":""},"undo":{"id":"undo","name":"\uc774\uc804\uc73c\ub85c \ub418\uac10\uae30","keys":["ctrl","z"],"desc":""},"redo":{"id":"redo","name":"\ub2e4\uc2dc \uc55e\uc73c\ub85c \uac10\uae30","keys":["ctrl","y"],"desc":""},"remove-background":{"name":"\uc120\ud0dd\ud55c \uc774\ubbf8\uc9c0 \ubc30\uacbd\uc81c\uac70","keys":["[\uc67c\ucabd \ubc84\ud2bc \uc911 \uc0ac\uc9c4 \ubc84\ud2bc \uc120\ud0dd]"],"desc":"\uc120\ud0dd\ud55c \uc774\ubbf8\uc9c0 \ubc30\uacbd\uc81c\uac70"}}'),workMode:JSON.parse('{"select-all":{"id":"select-all","name":"\ubaa8\ub4e0 \uc544\uc774\ud15c \uc120\ud0dd\ud558\uae30","desc":"\ubaa8\ub4e0 \uc544\uc774\ud15c \uc120\ud0dd\ud558\uae30","icon":"bounding-box"},"flip-horizontally":{"id":"flip-horizontally","name":"\uc120\ud0dd\ud55c \uc544\uc774\ud15c \uc218\ud3c9 \ubc18\uc804","desc":"\uc120\ud0dd\ud55c \uc544\uc774\ud15c \uc218\ud3c9 \ubc18\uc804","icon":"arrow-left-right"},"flip-vertically":{"id":"flip-vertically","name":"\uc120\ud0dd\ud55c \uc544\uc774\ud15c \uc218\uc9c1 \ubc18\uc804","desc":"\uc120\ud0dd\ud55c \uc544\uc774\ud15c \uc218\ud3c9 \ubc18\uc804","icon":"arrow-down-up"},"reset-zoom":{"id":"reset-zoom","name":"\ud654\uba74 \ud655\ub300","desc":"\ud654\uba74 \ud655\ub300","icon":"arrows-fullscreen"},"zoom-in":{"id":"zoom-in","name":"\ud654\uba74 \ud655\ub300","desc":"\ud654\uba74 \ud655\ub300","icon":"arrows-angle-expand"},"zoom-out":{"id":"zoom-out","name":"\ud654\uba74 \ucd95\uc18c","desc":"\ud654\uba74 \ucd95\uc18c","icon":"arrows-angle-contract"},"layer-up":{"id":"layer-up","name":"\ub808\uc774\uc5b4 \uc62c\ub9ac\uae30","desc":"\ub808\uc774\uc5b4 \uc62c\ub9ac\uae30","icon":"front"},"layer-down":{"id":"layer-down","name":"\ub808\uc774\uc5b4 \ub0b4\ub9ac\uae30","desc":"\ub808\uc774\uc5b4 \ub0b4\ub9ac\uae30","icon":"back"},"hotkey":{"id":"hotkey","name":"\ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4","desc":"\ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4","icon":"keyboard-fill"}}')};var b5;g5.use(jl).init({resources:{en:y5,ko:v5},lng:null!==(b5=window.navigator.language)&&void 0!==b5?b5:"en",fallbackLng:"en",ns:["widget","hotkey","workMode"],interpolation:{escapeValue:!1}});const x5=u4(),w5=document.getElementById("root");if(null===w5)throw Error("rootElement is null");W.createRoot(w5).render((0,ni.jsx)(se,{store:x5,children:(0,ni.jsx)(k3,{})}))})()})();